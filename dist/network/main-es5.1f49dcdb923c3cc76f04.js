!function(){function t(e,n,r,i){return(t="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,n,r){var i,o=G(t,e);if(o){if((i=Object.getOwnPropertyDescriptor(o,e)).set)return i.set.call(r,n),!0;if(!i.writable)return!1}if(i=Object.getOwnPropertyDescriptor(r,e)){if(!i.writable)return!1;i.value=n,Object.defineProperty(r,e,i)}else U(r,e,n);return!0})(e,n,r,i)}function e(e,n,r,i,o){if(!t(e,n,r,i||e)&&o)throw new Error("failed to set property");return r}function n(){var t=L([":@@ngb.toast.close-aria\u241ff4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c8\u241f7819314041543176992:Close"]);return n=function(){return t},t}function r(){var t=L([":@@ngb.timepicker.AM\u241f69a1f176a93998876952adac57c3bc3863b6105e\u241f4592818992509942761:",":INTERPOLATION:"]);return r=function(){return t},t}function i(){var t=L([":@@ngb.timepicker.PM\u241f8d6e691e10306c1b34c6b26805151aaea320ef7f\u241f3564199131264287502:",":INTERPOLATION:"]);return i=function(){return t},t}function o(){var t=L([":@@ngb.timepicker.decrement-seconds\u241f5db47ac104294243a70eb9124fbea9d0004ddf69\u241f753633511487974857:Decrement seconds"]);return o=function(){return t},t}function s(){var t=L([":@@ngb.timepicker.increment-seconds\u241f912322ecee7d659d04dcf494a70e22e49d334b26\u241f5364772110539092174:Increment seconds"]);return s=function(){return t},t}function a(){var t=L([":@@ngb.timepicker.seconds\u241f4f2ed9e71a7c981db3e50ae2fedb28aff2ec4e6c\u241f8874012390997067175:Seconds"]);return a=function(){return t},t}function u(){var t=L([":@@ngb.timepicker.SS\u241febe38d36a40a2383c5fefa9b4608ffbda08bd4a3\u241f3628127143071124194:SS"]);return u=function(){return t},t}function c(){var t=L([":@@ngb.timepicker.decrement-minutes\u241fc1a6899e529c096da5b660385d4e77fe1f7ad271\u241f7447789825403243588:Decrement minutes"]);return c=function(){return t},t}function l(){var t=L([":@@ngb.timepicker.increment-minutes\u241ff5a4a3bc05e053f6732475d0e74875ec01c3a348\u241f180147720391025024:Increment minutes"]);return l=function(){return t},t}function h(){var t=L([":@@ngb.timepicker.decrement-hours\u241f147c7a19429da7d999e247d22e33fee370b1691b\u241f3651829882940481818:Decrement hours"]);return h=function(){return t},t}function f(){var t=L([":@@ngb.timepicker.increment-hours\u241fcb74bc1d625a6c1742f0d7d47306cf495780c218\u241f5939278348542933629:Increment hours"]);return f=function(){return t},t}function d(){var t=L([":@@ngb.timepicker.minutes\u241f41e62daa962947c0d23ded0981975d1bddf0bf38\u241f5531237363767747080:Minutes"]);return d=function(){return t},t}function p(){var t=L([":@@ngb.timepicker.MM\u241f72c8edf6a50068a05bde70991e36b1e881f4ca54\u241f1647282246509919852:MM"]);return p=function(){return t},t}function v(){var t=L([":@@ngb.timepicker.hours\u241f3bbce5fef7e1151da052a4e529453edb340e3912\u241f8070396816726827304:Hours"]);return v=function(){return t},t}function g(){var t=L([":@@ngb.timepicker.HH\u241fce676ab1d6d98f85c836381cf100a4a91ef95a1f\u241f4043638465245303811:HH"]);return g=function(){return t},t}function m(){var t=L([":@@ngb.progressbar.value\u241ff8e9a947b9db4252c0e9905765338712f2fd032f\u241f3720830768741091151:",":INTERPOLATION:"]);return m=function(){return t},t}function y(){var t=L([":@@ngb.pagination.last-aria\u241f5c729788ba138508aca1bec050b610f7bf81db3e\u241f4882268002141858767:Last"]);return y=function(){return t},t}function b(){var t=L([":@@ngb.pagination.next-aria\u241ff732c304c7433e5a83ffcd862c3dce709a0f4982\u241f3885497195825665706:Next"]);return b=function(){return t},t}function _(){var t=L([":@@ngb.pagination.previous-aria\u241f680d5c75b7fd8d37961083608b9fcdc4167b4c43\u241f4452427314943113135:Previous"]);return _=function(){return t},t}function w(){var t=L([":@@ngb.pagination.first-aria\u241ff2f852318759c6396b5d3d17031d53817d7b38cc\u241f2241508602425256033:First"]);return w=function(){return t},t}function k(){var t=L([":@@ngb.pagination.last\u241f49f27a460bc97e7e00be5b37098bfa79884fc7d9\u241f5277020320267646988:\xbb\xbb"]);return k=function(){return t},t}function C(){var t=L([":@@ngb.pagination.next\u241fba9cbb4ff311464308a3627e4f1c3345d9fe6d7d\u241f5458177150283468089:\xbb"]);return C=function(){return t},t}function E(){var t=L([":@@ngb.pagination.previous\u241f6e52b6ee77a4848d899dd21b591c6fd499e3aef3\u241f6479320895410098858:\xab"]);return E=function(){return t},t}function S(){var t=L([":@@ngb.pagination.first\u241f656506dfd46380956a655f919f1498d018f75ca0\u241f6867721956102594380:\xab\xab"]);return S=function(){return t},t}function I(){var t=L([":@@ngb.datepicker.select-year\u241f8ceb09d002bf0c5d1cac171dfbffe1805d2b3962\u241f8852264961585484321:Select year"]);return I=function(){return t},t}function T(){var t=L([":@@ngb.datepicker.select-year\u241f8ceb09d002bf0c5d1cac171dfbffe1805d2b3962\u241f8852264961585484321:Select year"]);return T=function(){return t},t}function A(){var t=L([":@@ngb.datepicker.select-month\u241f1dbc84807f35518112f62e5775d1daebd3d8462b\u241f2253869508135064750:Select month"]);return A=function(){return t},t}function D(){var t=L([":@@ngb.datepicker.select-month\u241f1dbc84807f35518112f62e5775d1daebd3d8462b\u241f2253869508135064750:Select month"]);return D=function(){return t},t}function O(){var t=L([":@@ngb.datepicker.next-month\u241f4bd046985cfe13040d5ef0cd881edce0968a111a\u241f3628374603023447227:Next month"]);return O=function(){return t},t}function P(){var t=L([":@@ngb.datepicker.next-month\u241f4bd046985cfe13040d5ef0cd881edce0968a111a\u241f3628374603023447227:Next month"]);return P=function(){return t},t}function x(){var t=L([":@@ngb.datepicker.previous-month\u241fc3b08b07b5ab98e7cdcf18df39355690ab7d3884\u241f8586908745456864217:Previous month"]);return x=function(){return t},t}function N(){var t=L([":@@ngb.datepicker.previous-month\u241fc3b08b07b5ab98e7cdcf18df39355690ab7d3884\u241f8586908745456864217:Previous month"]);return N=function(){return t},t}function R(){var t=L([":@@ngb.carousel.next\u241ff732c304c7433e5a83ffcd862c3dce709a0f4982\u241f3885497195825665706:Next"]);return R=function(){return t},t}function F(){var t=L([":@@ngb.carousel.previous\u241f680d5c75b7fd8d37961083608b9fcdc4167b4c43\u241f4452427314943113135:Previous"]);return F=function(){return t},t}function M(){var t=L([":@@ngb.alert.close\u241ff4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c8\u241f7819314041543176992:Close"]);return M=function(){return t},t}function L(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function U(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||q(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(t){return function(t){if(Array.isArray(t))return W(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||q(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=q(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function q(t,e){if(t){if("string"==typeof t)return W(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(t,e):void 0}}function W(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function H(t,e,n){return(H=X()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&Q(i,n.prototype),i}).apply(null,arguments)}function z(t,e,n){return(z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=G(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function G(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Z(t)););return t}function K(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Q(t,e)}function Q(t,e){return(Q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $(t){var e=X();return function(){var n,r=Z(t);if(e){var i=Z(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Y(this,n)}}function Y(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?J(t):e}function J(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Z(t){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nt(t,e,n){return e&&et(t.prototype,e),n&&et(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"3Kre":function(t,e,n){"use strict";n.r(e),n.d(e,"factory",(function(){return R})),n.d(e,"getGlobalVars",(function(){return x})),n.d(e,"registerAnalytics",(function(){return F})),n.d(e,"resetGlobalVars",(function(){return P})),n.d(e,"settings",(function(){return N}));var r,i=n("mrSG"),o=n("wj3C"),s=n.n(o),a=(n("fSjL"),n("q/0M")),u=n("zVF4"),c=n("S+S0"),l="https://www.googletagmanager.com/gtag/js",h=function(t){return t.EVENT="event",t.SET="set",t.CONFIG="config",t}({}),f=function(t){return t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results",t}({}),d=new a.Logger("@firebase/analytics");function p(t,e,n,r,o,s){return Object(i.__awaiter)(this,void 0,void 0,(function(){var a,u,c,l;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:a=r[o],i.label=1;case 1:return i.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return i.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return u=i.sent(),(c=u.find((function(t){return t.measurementId===o})))?[4,e[c.appId]]:[3,6];case 5:i.sent(),i.label=6;case 6:return[3,8];case 7:return l=i.sent(),d.error(l),[3,8];case 8:return t(h.CONFIG,o,s),[2]}}))}))}function v(t,e,n,r,o){return Object(i.__awaiter)(this,void 0,void 0,(function(){var s,a,u,c,l,f,p;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),s=[],o&&o.send_to?(a=o.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(u=i.sent(),c=function(t){var n=u.find((function(e){return e.measurementId===t})),r=n&&e[n.appId];if(!r)return s=[],"break";s.push(r)},l=0,f=a;l<f.length&&"break"!==c(f[l]);l++);i.label=2;case 2:return 0===s.length&&(s=Object.values(e)),[4,Promise.all(s)];case 3:return i.sent(),t(h.EVENT,r,o||{}),[3,5];case 4:return p=i.sent(),d.error(p),[3,5];case 5:return[2]}}))}))}var g=((r={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",r["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",r["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",r["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",r["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",r["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",r["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",r["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',r["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',r),m=new u.ErrorFactory("analytics","Analytics",g),y=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function b(t){var e;return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,s,a,u;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return n=t.appId,r={method:"GET",headers:(c=t.apiKey,new Headers({Accept:"application/json","x-goog-api-key":c}))},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,r)];case 1:if(200===(s=i.sent()).status||304===s.status)return[3,6];a="",i.label=2;case 2:return i.trys.push([2,4,,5]),[4,s.json()];case 3:return u=i.sent(),(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message),[3,5];case 4:return i.sent(),[3,5];case 5:throw m.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a});case 6:return[2,s.json()]}var c}))}))}function _(t,e,n,r){var o=e.throttleEndTimeMillis,s=e.backoffCount;return void 0===r&&(r=y),Object(i.__awaiter)(this,void 0,void 0,(function(){var e,a,c,l,h,f,p;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:e=t.appId,a=t.measurementId,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,w(n,o)];case 2:return i.sent(),[3,4];case 3:if(c=i.sent(),a)return d.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:e,measurementId:a}];throw c;case 4:return i.trys.push([4,6,,7]),[4,b(t)];case 5:return l=i.sent(),r.deleteThrottleMetadata(e),[2,l];case 6:if(!function(t){if(!(t instanceof u.FirebaseError))return!1;var e=Number(t.httpStatus);return 429===e||500===e||503===e||504===e}(h=i.sent())){if(r.deleteThrottleMetadata(e),a)return d.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+h.message+"]"),[2,{appId:e,measurementId:a}];throw h}return f=503===Number(h.httpStatus)?Object(u.calculateBackoffMillis)(s,r.intervalMillis,30):Object(u.calculateBackoffMillis)(s,r.intervalMillis),p={throttleEndTimeMillis:Date.now()+f,backoffCount:s+1},r.setThrottleMetadata(e,p),d.debug("Calling attemptFetch again in "+f+" millis"),[2,_(t,p,n,r)];case 7:return[2]}}))}))}function w(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(m.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var k,C,E=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),S={},I=[],T={},A="dataLayer",D="gtag",O=!1;function P(t,e,n){void 0===t&&(t=!1),void 0===e&&(e={}),void 0===n&&(n=[]),O=t,S=e,I=n,A="dataLayer",D="gtag"}function x(){return{initializationPromisesMap:S,dynamicConfigPromisesList:I}}function N(t){if(O)throw m.create("already-initialized");t.dataLayerName&&(A=t.dataLayerName),t.gtagName&&(D=t.gtagName)}function R(t,e){!function(){var t=[];if(Object(u.isBrowserExtension)()&&t.push("This is a browser extension environment."),Object(u.areCookiesEnabled)()||t.push("Cookies are not available."),t.length>0){var e=t.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=m.create("invalid-analytics-context",{errorInfo:e});d.warn(n.message)}}();var n=t.options.appId;if(!n)throw m.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw m.create("no-api-key");d.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=S[n])throw m.create("already-exists",{id:n});if(!O){(function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(l))return r}return null})()||function(t){var e=document.createElement("script");e.src=l+"?l="+t,e.async=!0,document.head.appendChild(e)}(A),function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(A);var r=function(t,e,n,r,o){var s=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[o]&&"function"==typeof window[o]&&(s=window[o]),window[o]=function(t,e,n,r){return function(o,s,a){return Object(i.__awaiter)(this,void 0,void 0,(function(){var u;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,6,,7]),o!==h.EVENT?[3,2]:[4,v(t,e,n,s,a)];case 1:return i.sent(),[3,5];case 2:return o!==h.CONFIG?[3,4]:[4,p(t,e,n,r,s,a)];case 3:return i.sent(),[3,5];case 4:t(h.SET,s),i.label=5;case 5:return[3,7];case 6:return u=i.sent(),d.error(u),[3,7];case 7:return[2]}}))}))}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[o]}}(S,I,T,A,D);C=r.wrappedGtag,k=r.gtagCore,O=!0}return S[n]=function(t,e,n,r,o){return Object(i.__awaiter)(this,void 0,void 0,(function(){var s,a,c,l,f,p,v;return Object(i.__generator)(this,(function(g){switch(g.label){case 0:return(s=function(t,e,n){return void 0===e&&(e=y),Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,s,a,u,c=this;return Object(i.__generator)(this,(function(l){if(o=(n=t.options).apiKey,s=n.measurementId,!(r=n.appId))throw m.create("no-app-id");if(!o){if(s)return[2,{measurementId:s,appId:r}];throw m.create("no-api-key")}return a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new E,setTimeout((function(){return Object(i.__awaiter)(c,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return u.abort(),[2]}))}))}),6e4),[2,_({appId:r,apiKey:o,measurementId:s},a,u,e)]}))}))}(t)).then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&d.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return d.error(t)})),e.push(s),a=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return Object(u.isIndexedDBAvailable)()?[3,1]:(d.warn(m.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Object(u.validateIndexedDBOpenable)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),d.warn(m.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?r.getId():void 0})),[4,Promise.all([s,a])];case 1:return c=g.sent(),l=c[0],f=c[1],o("js",new Date),(v={}).origin="firebase",v.update=!0,p=v,null!=f&&(p.firebase_id=f),o(h.CONFIG,l.measurementId,p),[2,l.measurementId]}}))}))}(t,I,T,e,k),{app:t,logEvent:function(t,e,r){(function(t,e,n,r,o){return Object(i.__awaiter)(this,void 0,void 0,(function(){var s,a;return Object(i.__generator)(this,(function(u){switch(u.label){case 0:return o&&o.global?(t(h.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:s=u.sent(),a=Object(i.__assign)(Object(i.__assign)({},r),{send_to:s}),t(h.EVENT,n,a),u.label=3;case 3:return[2]}}))}))})(C,S[n],t,e,r).catch((function(t){return d.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return Object(i.__awaiter)(this,void 0,void 0,(function(){var o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return r&&r.global?(t(h.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:o=i.sent(),t(h.CONFIG,o,{update:!0,screen_name:n}),i.label=3;case 3:return[2]}}))}))})(C,S[n],t,e).catch((function(t){return d.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return Object(i.__awaiter)(this,void 0,void 0,(function(){var o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return r&&r.global?(t(h.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:o=i.sent(),t(h.CONFIG,o,{update:!0,user_id:n}),i.label=3;case 3:return[2]}}))}))})(C,S[n],t,e).catch((function(t){return d.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return Object(i.__awaiter)(this,void 0,void 0,(function(){var o,s,a,u,c;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(!r||!r.global)return[3,1];for(o={},s=0,a=Object.keys(n);s<a.length;s++)o["user_properties."+(u=a[s])]=n[u];return t(h.SET,o),[2,Promise.resolve()];case 1:return[4,e];case 2:c=i.sent(),t(h.CONFIG,c,{update:!0,user_properties:n}),i.label=3;case 3:return[2]}}))}))})(C,S[n],t,e).catch((function(t){return d.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n;return Object(i.__generator)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})(S[n],t).catch((function(t){return d.error(t)}))},INTERNAL:{delete:function(){return delete S[n],Promise.resolve()}}}}function F(t){t.INTERNAL.registerComponent(new c.Component("analytics",(function(t){return R(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:N,EventName:f,isSupported:M})),t.INTERNAL.registerComponent(new c.Component("analytics-internal",(function(t){try{return{logEvent:t.getProvider("analytics").getImmediate().logEvent}}catch(e){throw m.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.0")}function M(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){switch(t.label){case 0:if(Object(u.isBrowserExtension)())return[2,!1];if(!Object(u.areCookiesEnabled)())return[2,!1];if(!Object(u.isIndexedDBAvailable)())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Object(u.validateIndexedDBOpenable)()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}F(s.a)},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("wj3C"),o=n("q/0M"),s=n("zVF4"),a=n("x7I3"),u=n("S+S0"),c=function(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}(i),l={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},h=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return r.__extends(e,t),e}(Error),f=new o.Logger("@firebase/firestore");function d(){return f.logLevel}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(f.logLevel<=o.LogLevel.DEBUG){var i=e.map(m);f.debug.apply(f,r.__spreadArrays(["Firestore (7.24.0): "+t],i))}}function v(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(f.logLevel<=o.LogLevel.ERROR){var i=e.map(m);f.error.apply(f,r.__spreadArrays(["Firestore (7.24.0): "+t],i))}}function g(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(f.logLevel<=o.LogLevel.WARN){var i=e.map(m);f.warn.apply(f,r.__spreadArrays(["Firestore (7.24.0): "+t],i))}}function m(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(i){return t}}function y(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+t;throw v(e),new Error(e)}function b(t,e){t||y()}function _(t,e){return t}function w(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function k(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function C(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var E=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&y(),void 0===n?n=t.length-e:n>t.length-e&&y(),this.segments=t,this.offset=e,this.t=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.i(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.o(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.u=function(t){return this.o(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},t.prototype.l=function(){return this.segments[this.offset]},t.prototype._=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.m=function(){return 0===this.length},t.prototype.T=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.I=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},t.i=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.o=function(t,n,r){return new e(t,n,r)},e.prototype.R=function(){return this.A().join("/")},e.prototype.toString=function(){return this.R()},e.g=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new h(l.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.P=function(){return new e([])},e}(E),I=/^[_a-zA-Z][_a-zA-Z0-9]*$/,T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.o=function(t,n,r){return new e(t,n,r)},e.V=function(t){return I.test(t)},e.prototype.R=function(){return this.A().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.V(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.R()},e.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},e.v=function(){return new e(["__name__"])},e.S=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new h(l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new h(l.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new h(l.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new h(l.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.P=function(){return new e([])},e}(E),A=function(){function t(t){this.path=t}return t.D=function(e){return new t(S.g(e))},t.C=function(e){return new t(S.g(e).u(5))},t.prototype.N=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===S.i(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.i=function(t,e){return S.i(t.path,e.path)},t.F=function(t){return t.length%2==0},t.$=function(e){return new t(new S(e.slice()))},t}();function D(t,e){if(0!==e.length)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+K(e.length,"argument")+".")}function O(t,e,n){if(e.length!==n)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires "+K(n,"argument")+", but was called with "+K(e.length,"argument")+".")}function P(t,e,n){if(e.length<n)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires at least "+K(n,"argument")+", but was called with "+K(e.length,"argument")+".")}function x(t,e,n,r){if(e.length<n||e.length>r)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+K(e.length,"argument")+".")}function N(t,e,n,r){V(t,e,G(n)+" argument",r)}function R(t,e,n,r){void 0!==r&&N(t,e,n,r)}function F(t,e,n,r){V(t,e,n+" option",r)}function M(t,e,n,r){void 0!==r&&F(t,e,n,r)}function L(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],s=0,a=i;s<a.length;s++){var u=a[s];if(u===r)return;o.push(B(u))}var c=B(r);throw new h(l.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function U(t,e,n,r){if(!e.some((function(t){return t===r})))throw new h(l.INVALID_ARGUMENT,"Invalid value "+B(r)+" provided to function "+t+"() for its "+G(n)+" argument. Acceptable values: "+e.join(", "));return r}function V(t,e,n,r){if(!("object"===e?j(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=B(r);throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function j(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function B(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":y()}function q(t,e,n){if(void 0===n)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+G(e)+" argument, but it was undefined.")}function W(t,e,n){k(e,(function(e,r){if(n.indexOf(e)<0)throw new h(l.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function H(t,e,n,r){var i=B(r);return new h(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+G(n)+" argument to be a "+e+", but it was: "+i)}function z(t,e,n){if(n<=0)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+G(e)+" argument to be a positive number, but it was: "+n+".")}function G(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function K(t,e){return t+" "+e+(1===t?"":"s")}function Q(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var $=function(){function t(){}return t.k=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Q(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Y(t,e){return t<e?-1:t>e?1:0}function J(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function X(t){return t+"\0"}var Z=function(){function t(t){this.M=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.M)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.M)},t.prototype.O=function(){return 2*this.M.length},t.prototype.L=function(t){return Y(this.M,t.M)},t.prototype.isEqual=function(t){return this.M===t.M},t}();Z.B=new Z("");var tt=function(){function t(t){this.q=t}return t.fromBase64String=function(e){try{return new t(Z.fromBase64String(e))}catch(e){throw new h(l.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Z.fromUint8Array(e))},t.prototype.toBase64=function(){return this.q.toBase64()},t.prototype.toUint8Array=function(){return this.q.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.q.isEqual(t.q)},t}();function et(){if("undefined"==typeof Uint8Array)throw new h(l.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function nt(){if("undefined"==typeof atob)throw new h(l.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.fromBase64String=function(t){O("Blob.fromBase64String",arguments,1),N("Blob.fromBase64String","string",1,t),nt();try{return new e(Z.fromBase64String(t))}catch(t){throw new h(l.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){if(O("Blob.fromUint8Array",arguments,1),et(),!(t instanceof Uint8Array))throw H("Blob.fromUint8Array","Uint8Array",1,t);return new e(Z.fromUint8Array(t))},e.prototype.toBase64=function(){return O("Blob.toBase64",arguments,0),nt(),t.prototype.toBase64.call(this)},e.prototype.toUint8Array=function(){return O("Blob.toUint8Array",arguments,0),et(),t.prototype.toUint8Array.call(this)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(tt),it=function(t,e,n,r,i,o){this.U=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.W=o},ot=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"j",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.L=function(t){return Y(this.projectId,t.projectId)||Y(this.database,t.database)},t}(),st=function(){function t(t,e){this.K=t,this.G=e,this.H={}}return t.prototype.get=function(t){var e=this.K(t),n=this.H[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.G(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.K(t),r=this.H[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.G(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.H[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.K(t),n=this.H[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.G(n[r][0],t))return 1===n.length?delete this.H[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){k(this.H,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.m=function(){return C(this.H)},t}(),at=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new h(l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new h(l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new h(l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new h(l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.Y=function(t){return this.seconds===t.seconds?Y(this.nanoseconds,t.nanoseconds):Y(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ut=function(){function t(t){this.timestamp=t}return t.J=function(e){return new t(e)},t.min=function(){return new t(new at(0,0))},t.prototype.L=function(t){return this.timestamp.Y(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.Z=function(){return this.timestamp},t}();function ct(t){return null==t}function lt(t){return 0===t&&1/t==-1/0}function ht(t){return"number"==typeof t&&Number.isInteger(t)&&!lt(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ft=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.tt=null};function dt(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new ft(t,e,n,r,i,o,s)}function pt(t){var e=_(t);if(null===e.tt){var n=e.path.R();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.R()+t.op.toString()+ie(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.R()+e.dir;var e})).join(","),ct(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=sr(e.startAt)),e.endAt&&(n+="|ub:",n+=sr(e.endAt)),e.tt=n}return e.tt}function vt(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!hr(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!te(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ur(t.startAt,e.startAt)&&ur(t.endAt,e.endAt)}function gt(t){return A.F(t.path)&&null===t.collectionGroup&&0===t.filters.length}var mt,yt,bt=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=ut.min()),void 0===o&&(o=ut.min()),void 0===s&&(s=Z.B),this.target=t,this.targetId=e,this.et=n,this.sequenceNumber=r,this.nt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.st=function(e){return new t(this.target,this.targetId,this.et,e,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.it=function(e,n){return new t(this.target,this.targetId,this.et,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.rt=function(e){return new t(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,e,this.resumeToken)},t}(),_t=function(t){this.count=t};function wt(t){switch(t){case l.OK:return y();case l.CANCELLED:case l.UNKNOWN:case l.DEADLINE_EXCEEDED:case l.RESOURCE_EXHAUSTED:case l.INTERNAL:case l.UNAVAILABLE:case l.UNAUTHENTICATED:return!1;case l.INVALID_ARGUMENT:case l.NOT_FOUND:case l.ALREADY_EXISTS:case l.PERMISSION_DENIED:case l.FAILED_PRECONDITION:case l.ABORTED:case l.OUT_OF_RANGE:case l.UNIMPLEMENTED:case l.DATA_LOSS:return!0;default:return y()}}function kt(t){if(void 0===t)return v("GRPC error has no .code"),l.UNKNOWN;switch(t){case mt.OK:return l.OK;case mt.CANCELLED:return l.CANCELLED;case mt.UNKNOWN:return l.UNKNOWN;case mt.DEADLINE_EXCEEDED:return l.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return l.RESOURCE_EXHAUSTED;case mt.INTERNAL:return l.INTERNAL;case mt.UNAVAILABLE:return l.UNAVAILABLE;case mt.UNAUTHENTICATED:return l.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return l.INVALID_ARGUMENT;case mt.NOT_FOUND:return l.NOT_FOUND;case mt.ALREADY_EXISTS:return l.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return l.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return l.FAILED_PRECONDITION;case mt.ABORTED:return l.ABORTED;case mt.OUT_OF_RANGE:return l.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return l.UNIMPLEMENTED;case mt.DATA_LOSS:return l.DATA_LOSS;default:return y()}}(yt=mt||(mt={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";var Ct=function(){function t(t,e){this.i=t,this.root=e||St.EMPTY}return t.prototype.ot=function(e,n){return new t(this.i,this.root.ot(e,n,this.i).copy(null,null,St.at,null,null))},t.prototype.remove=function(e){return new t(this.i,this.root.remove(e,this.i).copy(null,null,St.at,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.m();){var n=this.i(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.m();){var r=this.i(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.m=function(){return this.root.m()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.ct=function(){return this.root.ct()},t.prototype.ut=function(){return this.root.ut()},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.forEach=function(t){this.ht((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ht((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.lt=function(t){return this.root.lt(t)},t.prototype._t=function(){return new Et(this.root,null,this.i,!1)},t.prototype.ft=function(t){return new Et(this.root,t,this.i,!1)},t.prototype.dt=function(){return new Et(this.root,null,this.i,!0)},t.prototype.wt=function(t){return new Et(this.root,t,this.i,!0)},t}(),Et=function(){function t(t,e,n,r){this.Tt=r,this.Et=[];for(var i=1;!t.m();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Tt?t.left:t.right;else{if(0===i){this.Et.push(t);break}this.Et.push(t),t=this.Tt?t.right:t.left}}return t.prototype.It=function(){var t=this.Et.pop(),e={key:t.key,value:t.value};if(this.Tt)for(t=t.left;!t.m();)this.Et.push(t),t=t.right;else for(t=t.right;!t.m();)this.Et.push(t),t=t.left;return e},t.prototype.At=function(){return this.Et.length>0},t.prototype.Rt=function(){if(0===this.Et.length)return null;var t=this.Et[this.Et.length-1];return{key:t.key,value:t.value}},t}(),St=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.m=function(){return!1},t.prototype.ht=function(t){return this.left.ht(t)||t(this.key,this.value)||this.right.ht(t)},t.prototype.lt=function(t){return this.right.lt(t)||t(this.key,this.value)||this.left.lt(t)},t.prototype.min=function(){return this.left.m()?this:this.left.min()},t.prototype.ct=function(){return this.min().key},t.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},t.prototype.ot=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.ot(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.ot(t,e,n))).gt()},t.prototype.Pt=function(){if(this.left.m())return t.EMPTY;var e=this;return e.left.yt()||e.left.left.yt()||(e=e.Vt()),(e=e.copy(null,null,null,e.left.Pt(),null)).gt()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.m()||i.left.yt()||i.left.left.yt()||(i=i.Vt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.yt()&&(i=i.bt()),i.right.m()||i.right.yt()||i.right.left.yt()||(i=i.vt()),0===n(e,i.key)){if(i.right.m())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Pt())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.gt()},t.prototype.yt=function(){return this.color},t.prototype.gt=function(){var t=this;return t.right.yt()&&!t.left.yt()&&(t=t.St()),t.left.yt()&&t.left.left.yt()&&(t=t.bt()),t.left.yt()&&t.right.yt()&&(t=t.Dt()),t},t.prototype.Vt=function(){var t=this.Dt();return t.right.left.yt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.bt())).St()).Dt()),t},t.prototype.vt=function(){var t=this.Dt();return t.left.left.yt()&&(t=(t=t.bt()).Dt()),t},t.prototype.St=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.bt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Dt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ct=function(){var t=this.Nt();return Math.pow(2,t)<=this.size+1},t.prototype.Nt=function(){if(this.yt()&&this.left.yt())throw y();if(this.right.yt())throw y();var t=this.left.Nt();if(t!==this.right.Nt())throw y();return t+(this.yt()?0:1)},t}();St.EMPTY=null,St.RED=!0,St.at=!1,St.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw y()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.ot=function(t,e,n){return new St(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.m=function(){return!0},t.prototype.ht=function(t){return!1},t.prototype.lt=function(t){return!1},t.prototype.ct=function(){return null},t.prototype.ut=function(){return null},t.prototype.yt=function(){return!1},t.prototype.Ct=function(){return!0},t.prototype.Nt=function(){return 0},t}());var It=function(){function t(t){this.i=t,this.data=new Ct(this.i)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.ct()},t.prototype.last=function(){return this.data.ut()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ht((function(e,n){return t(e),!1}))},t.prototype.Ft=function(t,e){for(var n=this.data.ft(t[0]);n.At();){var r=n.It();if(this.i(r.key,t[1])>=0)return;e(r.key)}},t.prototype.xt=function(t,e){var n;for(n=void 0!==e?this.data.ft(e):this.data._t();n.At();)if(!t(n.It().key))return},t.prototype.$t=function(t){var e=this.data.ft(t);return e.At()?e.It().key:null},t.prototype._t=function(){return new Tt(this.data._t())},t.prototype.ft=function(t){return new Tt(this.data.ft(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).ot(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.m=function(){return this.data.m()},t.prototype.kt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data._t(),r=e.data._t();n.At();){var i=n.It().key,o=r.It().key;if(0!==this.i(i,o))return!1}return!0},t.prototype.A=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.i);return n.data=e,n},t}(),Tt=function(){function t(t){this.Mt=t}return t.prototype.It=function(){return this.Mt.It().key},t.prototype.At=function(){return this.Mt.At()},t}(),At=new Ct(A.i);function Dt(){return At}function Ot(){return Dt()}var Pt=new Ct(A.i);function xt(){return Pt}var Nt=new Ct(A.i),Rt=new It(A.i);function Ft(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Rt,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Mt=new It(Y);function Lt(){return Mt}var Ut=function(){function t(t){this.i=t?function(e,n){return t(e,n)||A.i(e.key,n.key)}:function(t,e){return A.i(t.key,e.key)},this.Ot=xt(),this.Lt=new Ct(this.i)}return t.Bt=function(e){return new t(e.i)},t.prototype.has=function(t){return null!=this.Ot.get(t)},t.prototype.get=function(t){return this.Ot.get(t)},t.prototype.first=function(){return this.Lt.ct()},t.prototype.last=function(){return this.Lt.ut()},t.prototype.m=function(){return this.Lt.m()},t.prototype.indexOf=function(t){var e=this.Ot.get(t);return e?this.Lt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Lt.ht((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ot.ot(t.key,t),e.Lt.ot(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ot.remove(t),this.Lt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Lt._t(),r=e.Lt._t();n.At();){var i=n.It().key,o=r.It().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.i=this.i,r.Ot=e,r.Lt=n,r},t}(),Vt=function(){function t(){this.qt=new Ct(A.i)}return t.prototype.track=function(t){var e=t.doc.key,n=this.qt.get(e);n?0!==t.type&&3===n.type?this.qt=this.qt.ot(e,t):3===t.type&&1!==n.type?this.qt=this.qt.ot(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.qt=this.qt.ot(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.qt=this.qt.remove(e):1===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):y():this.qt=this.qt.ot(e,t)},t.prototype.Ut=function(){var t=[];return this.qt.ht((function(e,n){t.push(n)})),t},t}(),jt=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Qt=n,this.docChanges=r,this.Wt=i,this.fromCache=o,this.jt=s,this.Kt=a}return t.Gt=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Ut.Bt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.jt===t.jt&&this.Wt.isEqual(t.Wt)&&zn(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Qt.isEqual(t.Qt)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Bt=function(){function t(t,e,n,r,i){this.nt=t,this.zt=e,this.Ht=n,this.Yt=r,this.Jt=i}return t.Xt=function(e,n){var r=new Map;return r.set(e,qt.Zt(e,n)),new t(ut.min(),r,Lt(),Dt(),Ft())},t}(),qt=function(){function t(t,e,n,r,i){this.resumeToken=t,this.te=e,this.ee=n,this.ne=r,this.se=i}return t.Zt=function(e,n){return new t(Z.B,n,Ft(),Ft(),Ft())},t}(),Wt=function(t,e,n,r){this.ie=t,this.removedTargetIds=e,this.key=n,this.re=r},Ht=function(t,e){this.targetId=t,this.oe=e},zt=function(t,e,n,r){void 0===n&&(n=Z.B),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Gt=function(){function t(){this.ae=0,this.ce=$t(),this.ue=Z.B,this.he=!1,this.le=!0}return Object.defineProperty(t.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),t.prototype.de=function(t){t.O()>0&&(this.le=!0,this.ue=t)},t.prototype.we=function(){var t=Ft(),e=Ft(),n=Ft();return this.ce.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:y()}})),new qt(this.ue,this.he,t,e,n)},t.prototype.me=function(){this.le=!1,this.ce=$t()},t.prototype.Te=function(t,e){this.le=!0,this.ce=this.ce.ot(t,e)},t.prototype.Ee=function(t){this.le=!0,this.ce=this.ce.remove(t)},t.prototype.Ie=function(){this.ae+=1},t.prototype.Ae=function(){this.ae-=1},t.prototype.Re=function(){this.le=!0,this.he=!0},t}(),Kt=function(){function t(t){this.ge=t,this.Pe=new Map,this.ye=Dt(),this.Ve=Qt(),this.pe=new It(Y)}return t.prototype.be=function(t){for(var e=0,n=t.ie;e<n.length;e++){var r=n[e];t.re instanceof Dn?this.ve(r,t.re):t.re instanceof On&&this.Se(r,t.key,t.re)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Se(o[i],t.key,t.re)},t.prototype.De=function(t){var e=this;this.Ce(t,(function(n){var r=e.Ne(n);switch(t.state){case 0:e.Fe(n)&&r.de(t.resumeToken);break;case 1:r.Ae(),r._e||r.me(),r.de(t.resumeToken);break;case 2:r.Ae(),r._e||e.removeTarget(n);break;case 3:e.Fe(n)&&(r.Re(),r.de(t.resumeToken));break;case 4:e.Fe(n)&&(e.xe(n),r.de(t.resumeToken));break;default:y()}}))},t.prototype.Ce=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Pe.forEach((function(t,r){n.Fe(r)&&e(r)}))},t.prototype.$e=function(t){var e=t.targetId,n=t.oe.count,r=this.ke(e);if(r){var i=r.target;if(gt(i))if(0===n){var o=new A(i.path);this.Se(e,o,new On(o,ut.min()))}else b(1===n);else this.Me(e)!==n&&(this.xe(e),this.pe=this.pe.add(e))}},t.prototype.Oe=function(t){var e=this,n=new Map;this.Pe.forEach((function(r,i){var o=e.ke(i);if(o){if(r.te&&gt(o.target)){var s=new A(o.target.path);null!==e.ye.get(s)||e.Le(i,s)||e.Se(i,s,new On(s,t))}r.fe&&(n.set(i,r.we()),r.me())}}));var r=Ft();this.Ve.forEach((function(t,n){var i=!0;n.xt((function(t){var n=e.ke(t);return!n||2===n.et||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Bt(t,n,this.pe,this.ye,r);return this.ye=Dt(),this.Ve=Qt(),this.pe=new It(Y),i},t.prototype.ve=function(t,e){if(this.Fe(t)){var n=this.Le(t,e.key)?2:0;this.Ne(t).Te(e.key,n),this.ye=this.ye.ot(e.key,e),this.Ve=this.Ve.ot(e.key,this.Be(e.key).add(t))}},t.prototype.Se=function(t,e,n){if(this.Fe(t)){var r=this.Ne(t);this.Le(t,e)?r.Te(e,1):r.Ee(e),this.Ve=this.Ve.ot(e,this.Be(e).delete(t)),n&&(this.ye=this.ye.ot(e,n))}},t.prototype.removeTarget=function(t){this.Pe.delete(t)},t.prototype.Me=function(t){var e=this.Ne(t).we();return this.ge.qe(t).size+e.ee.size-e.se.size},t.prototype.Ie=function(t){this.Ne(t).Ie()},t.prototype.Ne=function(t){var e=this.Pe.get(t);return e||(e=new Gt,this.Pe.set(t,e)),e},t.prototype.Be=function(t){var e=this.Ve.get(t);return e||(e=new It(Y),this.Ve=this.Ve.ot(t,e)),e},t.prototype.Fe=function(t){var e=null!==this.ke(t);return e||p("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ke=function(t){var e=this.Pe.get(t);return e&&e._e?null:this.ge.Ue(t)},t.prototype.xe=function(t){var e=this;this.Pe.set(t,new Gt),this.ge.qe(t).forEach((function(n){e.Se(t,n,null)}))},t.prototype.Le=function(t,e){return this.ge.qe(t).has(e)},t}();function Qt(){return new Ct(A.i)}function $t(){return new Ct(A.i)}function Yt(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Jt(t){var e=oe(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}var Xt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zt(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yt(t)?4:10:y()}function te(t,e){var n=Zt(t);if(n!==Zt(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jt(t).isEqual(Jt(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=oe(t.timestampValue),r=oe(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ae(t.bytesValue).isEqual(ae(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return se(t.geoPointValue.latitude)===se(e.geoPointValue.latitude)&&se(t.geoPointValue.longitude)===se(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return se(t.integerValue)===se(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=se(t.doubleValue),r=se(e.doubleValue);return n===r?lt(n)===lt(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return J(t.arrayValue.values||[],e.arrayValue.values||[],te);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(w(n)!==w(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!te(n[i],r[i])))return!1;return!0}(t,e);default:return y()}}function ee(t,e){return void 0!==(t.values||[]).find((function(t){return te(t,e)}))}function ne(t,e){var n=Zt(t),r=Zt(e);if(n!==r)return Y(n,r);switch(n){case 0:return 0;case 1:return Y(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=se(t.integerValue||t.doubleValue),r=se(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return re(t.timestampValue,e.timestampValue);case 4:return re(Jt(t),Jt(e));case 5:return Y(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ae(t),r=ae(e);return n.L(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Y(n[i],r[i]);if(0!==o)return o}return Y(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Y(se(t.latitude),se(e.latitude));return 0!==n?n:Y(se(t.longitude),se(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=ne(n[i],r[i]);if(o)return o}return Y(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Y(r[s],o[s]);if(0!==a)return a;var u=ne(n[r[s]],i[o[s]]);if(0!==u)return u}return Y(r.length,o.length)}(t.mapValue,e.mapValue);default:throw y()}}function re(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Y(t,e);var n=oe(t),r=oe(e),i=Y(n.seconds,r.seconds);return 0!==i?i:Y(n.nanos,r.nanos)}function ie(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=oe(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ae(e.bytesValue).toBase64():"referenceValue"in e?A.C(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):y();var n}(t)}function oe(t){if(b(!!t),"string"==typeof t){var e=0,n=Xt.exec(t);if(b(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:se(t.seconds),nanos:se(t.nanos)}}function se(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ae(t){return"string"==typeof t?Z.fromBase64String(t):Z.fromUint8Array(t)}function ue(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.R()}}function ce(t){return!!t&&"integerValue"in t}function le(t){return!!t&&"arrayValue"in t}function he(t){return!!t&&"nullValue"in t}function fe(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function de(t){return!!t&&"mapValue"in t}var pe={asc:"ASCENDING",desc:"DESCENDING"},ve={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ge=function(t,e){this.U=t,this.Qe=e};function me(t){return{integerValue:""+t}}function ye(t,e){if(t.Qe){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lt(e)?"-0":e}}function be(t,e){return ht(e)?me(e):ye(t,e)}function _e(t,e){return t.Qe?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function we(t,e){return t.Qe?e.toBase64():e.toUint8Array()}function ke(t,e){return _e(t,e.Z())}function Ce(t){return b(!!t),ut.J(function(t){var e=oe(t);return new at(e.seconds,e.nanos)}(t))}function Ee(t,e){return function(t){return new S(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).R()}function Se(t){var e=S.g(t);return b(Ge(e)),e}function Ie(t,e){return Ee(t.U,e.path)}function Te(t,e){var n=Se(e);return b(n.get(1)===t.U.projectId),b(!n.get(3)&&!t.U.database||n.get(3)===t.U.database),new A(Pe(n))}function Ae(t,e){return Ee(t.U,e)}function De(t){var e=Se(t);return 4===e.length?S.P():Pe(e)}function Oe(t){return new S(["projects",t.U.projectId,"databases",t.U.database]).R()}function Pe(t){return b(t.length>4&&"documents"===t.get(4)),t.u(5)}function xe(t,e,n){return{name:Ie(t,e),fields:n.proto.mapValue.fields}}function Ne(t,e){var n;if(e instanceof mn)n={update:xe(t,e.key,e.value)};else if(e instanceof Cn)n={delete:Ie(t,e.key)};else if(e instanceof yn)n={update:xe(t,e.key,e.data),updateMask:ze(e.We)};else if(e instanceof _n)n={transform:{document:Ie(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Je)return{fieldPath:e.field.R(),setToServerValue:"REQUEST_TIME"};if(n instanceof Xe)return{fieldPath:e.field.R(),appendMissingElements:{values:n.elements}};if(n instanceof tn)return{fieldPath:e.field.R(),removeAllFromArray:{values:n.elements}};if(n instanceof nn)return{fieldPath:e.field.R(),increment:n.je};throw y()}(0,t)}))}};else{if(!(e instanceof En))return y();n={verify:Ie(t,e.key)}}return e.Ge.Ke||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:ke(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:y()}(t,e.Ge)),n}function Re(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?cn.updateTime(Ce(t.updateTime)):void 0!==t.exists?cn.exists(t.exists):cn.ze()}(e.currentDocument):cn.ze();if(e.update){var r=Te(t,e.update.name),i=new Sn({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new sn((t.fieldPaths||[]).map((function(t){return T.S(t)})))}(e.updateMask);return new yn(r,i,o,n)}return new mn(r,i,n)}if(e.delete){var s=Te(t,e.delete);return new Cn(s,n)}if(e.transform){var a=Te(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(b("REQUEST_TIME"===e.setToServerValue),n=new Je):"appendMissingElements"in e?n=new Xe(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new tn(e.removeAllFromArray.values||[]):"increment"in e?n=new nn(t,e.increment):y();var r=T.S(e.fieldPath);return new an(r,n)}(t,e)}));return b(!0===n.exists),new _n(a,u)}if(e.verify){var c=Te(t,e.verify);return new En(c,n)}return y()}function Fe(t,e){return{documents:[Ae(t,e.path)]}}function Me(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Ae(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ae(t,r.h()),n.structuredQuery.from=[{collectionId:r._()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(fe(t.value))return{unaryFilter:{field:Be(t.field),op:"IS_NAN"}};if(he(t.value))return{unaryFilter:{field:Be(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(fe(t.value))return{unaryFilter:{field:Be(t.field),op:"IS_NOT_NAN"}};if(he(t.value))return{unaryFilter:{field:Be(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Be(t.field),op:je(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Be(t.field),direction:Ve(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Qe||ct(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Le(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Le(e.endAt)),n}function Le(t){return{before:t.before,values:t.position}}function Ue(t){return new or(t.values||[],!!t.before)}function Ve(t){return pe[t]}function je(t){return ve[t]}function Be(t){return{fieldPath:t.R()}}function qe(t){return T.S(t.fieldPath)}function We(t){return Yn.create(qe(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return y()}}(t.fieldFilter.op),t.fieldFilter.value)}function He(t){switch(t.unaryFilter.op){case"IS_NAN":var e=qe(t.unaryFilter.field);return Yn.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=qe(t.unaryFilter.field);return Yn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=qe(t.unaryFilter.field);return Yn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=qe(t.unaryFilter.field);return Yn.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return y()}}function ze(t){var e=[];return t.fields.forEach((function(t){return e.push(t.R())})),{fieldPaths:e}}function Ge(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Ke=function(){this.He=void 0};function Qe(t,e,n){return t instanceof Je?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Xe?Ze(t,e):t instanceof tn?en(t,e):function(t,e){var n=Ye(t,e),r=rn(n)+rn(t.je);return ce(n)&&ce(t.je)?me(r):ye(t.serializer,r)}(t,e)}function $e(t,e,n){return t instanceof Xe?Ze(t,e):t instanceof tn?en(t,e):n}function Ye(t,e){return t instanceof nn?ce(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Je=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e}(Ke),Xe=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return r.__extends(e,t),e}(Ke);function Ze(t,e){for(var n=on(e),r=function(t){n.some((function(e){return te(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var tn=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return r.__extends(e,t),e}(Ke);function en(t,e){for(var n=on(e),r=function(t){n=n.filter((function(e){return!te(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var nn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.je=n,r}return r.__extends(e,t),e}(Ke);function rn(t){return se(t.integerValue||t.doubleValue)}function on(t){return le(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var sn=function(){function t(t){this.fields=t,t.sort(T.i)}return t.prototype.Ye=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].T(t))return!0;return!1},t.prototype.isEqual=function(t){return J(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),an=function(t,e){this.field=t,this.transform=e},un=function(t,e){this.version=t,this.transformResults=e},cn=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.ze=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Ke",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function ln(t,e){return void 0!==t.updateTime?e instanceof Dn&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Dn}var hn=function(){};function fn(t,e,n){return t instanceof mn?function(t,e,n){return new Dn(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof yn?function(t,e,n){if(!ln(t.Ge,e))return new Pn(t.key,n.version);var r=bn(t,e);return new Dn(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof _n?function(t,e,n){if(b(null!=n.transformResults),!ln(t.Ge,e))return new Pn(t.key,n.version);var r=wn(0,e),i=function(t,e,n){var r=[];b(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof Dn&&(a=e.field(o.field)),r.push($e(s,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,s=kn(t,r.data(),i);return new Dn(t.key,o,s,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new On(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function dn(t,e,n,r){return t instanceof mn?function(t,e){if(!ln(t.Ge,e))return e;var n=gn(e);return new Dn(t.key,n,t.value,{Je:!0})}(t,e):t instanceof yn?function(t,e){if(!ln(t.Ge,e))return e;var n=gn(e),r=bn(t,e);return new Dn(t.key,n,r,{Je:!0})}(t,e):t instanceof _n?function(t,e,n,r){if(!ln(t.Ge,e))return e;var i=wn(0,e),o=function(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof Dn&&(c=n.field(a.field)),null===c&&r instanceof Dn&&(c=r.field(a.field)),i.push(Qe(u,c,e))}return i}(t.fieldTransforms,n,e,r),s=kn(t,i.data(),o);return new Dn(t.key,i.version,s,{Je:!0})}(t,e,r,n):function(t,e){return ln(t.Ge,e)?new On(t.key,ut.min()):e}(t,e)}function pn(t,e){return t instanceof _n?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e instanceof Dn?e.field(o.field):void 0,a=Ye(o.transform,s||null);null!=a&&(n=null==n?(new In).set(o.field,a):n.set(o.field,a))}return n?n.Xe():null}(t,e):null}function vn(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ge.isEqual(e.Ge)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.We.isEqual(e.We):2!==t.type||J(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Xe&&e instanceof Xe||t instanceof tn&&e instanceof tn?J(t.elements,e.elements,te):t instanceof nn&&e instanceof nn?te(t.je,e.je):t instanceof Je&&e instanceof Je}(t.transform,e.transform)}(t,e)})))}function gn(t){return t instanceof Dn?t.version:ut.min()}var mn=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Ge=r,i.type=0,i}return r.__extends(e,t),e}(hn),yn=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.We=r,o.Ge=i,o.type=1,o}return r.__extends(e,t),e}(hn);function bn(t,e){return function(t,e){var n=new In(e);return t.We.fields.forEach((function(e){if(!e.m()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Xe()}(t,e instanceof Dn?e.data():Sn.empty())}var _n=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Ge=cn.exists(!0),r}return r.__extends(e,t),e}(hn);function wn(t,e){return e}function kn(t,e,n){for(var r=new In(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.Xe()}var Cn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=3,r}return r.__extends(e,t),e}(hn),En=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=4,r}return r.__extends(e,t),e}(hn),Sn=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.m())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!de(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t._()])||null},t.prototype.isEqual=function(t){return te(this.proto,t.proto)},t}(),In=function(){function t(t){void 0===t&&(t=Sn.empty()),this.Ze=t,this.tn=new Map}return t.prototype.set=function(t,e){return this.en(t,e),this},t.prototype.delete=function(t){return this.en(t,null),this},t.prototype.en=function(t,e){for(var n=this.tn,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Zt(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t._(),e)},t.prototype.Xe=function(){var t=this.nn(T.P(),this.tn);return null!=t?new Sn(t):this.Ze},t.prototype.nn=function(t,e){var n=this,r=!1,i=this.Ze.field(t),o=de(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.nn(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function Tn(t){var e=[];return k(t.fields||{},(function(t,n){var r=new T([t]);if(de(n)){var i=Tn(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new sn(e)}var An=function(t,e){this.key=t,this.version=e},Dn=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).sn=r,o.Je=!!i.Je,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return r.__extends(e,t),e.prototype.field=function(t){return this.sn.field(t)},e.prototype.data=function(){return this.sn},e.prototype.rn=function(){return this.sn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Je===t.Je&&this.hasCommittedMutations===t.hasCommittedMutations&&this.sn.isEqual(t.sn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(An),On=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return r.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(An),Pn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(An),xn=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.on=n,this.filters=r,this.limit=i,this.an=o,this.startAt=s,this.endAt=a,this.cn=null,this.un=null};function Nn(t,e,n,r,i,o,s,a){return new xn(t,e,n,r,i,o,s,a)}function Rn(t){return new xn(t)}function Fn(t){return!ct(t.limit)&&"F"===t.an}function Mn(t){return!ct(t.limit)&&"L"===t.an}function Ln(t){return t.on.length>0?t.on[0].field:null}function Un(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.hn())return r.field}return null}function Vn(t){return null!==t.collectionGroup}function jn(t){var e=_(t);if(null===e.cn){e.cn=[];var n=Un(e),r=Ln(e);if(null!==n&&null===r)n.p()||e.cn.push(new cr(n)),e.cn.push(new cr(T.v(),"asc"));else{for(var i=!1,o=0,s=e.on;o<s.length;o++){var a=s[o];e.cn.push(a),a.field.p()&&(i=!0)}if(!i){var u=e.on.length>0?e.on[e.on.length-1].dir:"asc";e.cn.push(new cr(T.v(),u))}}}return e.cn}function Bn(t){var e=_(t);if(!e.un)if("F"===e.an)e.un=dt(e.path,e.collectionGroup,jn(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=jn(e);r<i.length;r++){var o=i[r];n.push(new cr(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new or(e.endAt.position,!e.endAt.before):null,a=e.startAt?new or(e.startAt.position,!e.startAt.before):null;e.un=dt(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.un}function qn(t,e,n){return new xn(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wn(t,e){return new xn(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,e,t.endAt)}function Hn(t,e){return new xn(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,e)}function zn(t,e){return vt(Bn(t),Bn(e))&&t.an===e.an}function Gn(t){return pt(Bn(t))+"|lt:"+t.an}function Kn(t){return"Query(target="+function(t){var e=t.path.R();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.R()+" "+e.op+" "+ie(e.value);var e})).join(", ")+"]"),ct(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.R()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+sr(t.startAt)),t.endAt&&(e+=", endAt: "+sr(t.endAt)),"Target("+e+")"}(Bn(t))+"; limitType="+t.an+")"}function Qn(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.N(t.collectionGroup)&&t.path.T(n):A.F(t.path)?t.path.isEqual(n):t.path.I(n)}(t,e)&&function(t,e){for(var n=0,r=t.on;n<r.length;n++){var i=r[n];if(!i.field.p()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!ar(t.startAt,jn(t),e)||t.endAt&&ar(t.endAt,jn(t),e))}(t,e)}function $n(t){return function(e,n){for(var r=!1,i=0,o=jn(t);i<o.length;i++){var s=o[i],a=lr(s,e,n);if(0!==a)return a;r=r||s.field.p()}return 0}}var Yn=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return r.__extends(e,t),e.create=function(t,n,r){if(t.p())return"in"===n||"not-in"===n?this.ln(t,n,r):new Jn(t,n,r);if(he(r)){if("=="!==n&&"!="!==n)throw new h(l.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new e(t,n,r)}if(fe(r)){if("=="!==n&&"!="!==n)throw new h(l.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new e(t,n,r)}return"array-contains"===n?new er(t,r):"in"===n?new nr(t,r):"not-in"===n?new rr(t,r):"array-contains-any"===n?new ir(t,r):new e(t,n,r)},e.ln=function(t,e,n){return"in"===e?new Xn(t,n):new Zn(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this._n(ne(e,this.value)):null!==e&&Zt(this.value)===Zt(e)&&this._n(ne(e,this.value))},e.prototype._n=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return y()}},e.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Jn=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=A.C(r.referenceValue),i}return r.__extends(e,t),e.prototype.matches=function(t){var e=A.i(t.key,this.key);return this._n(e)},e}(Yn),Xn=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=tr(0,n),r}return r.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Yn),Zn=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=tr(0,n),r}return r.__extends(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Yn);function tr(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return A.C(t.referenceValue)}))}var er=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return le(e)&&ee(e.arrayValue,this.value)},e}(Yn),nr=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&ee(this.value.arrayValue,e)},e}(Yn),rr=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){if(ee(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!ee(this.value.arrayValue,e)},e}(Yn),ir=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!le(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return ee(e.value.arrayValue,t)}))},e}(Yn),or=function(t,e){this.position=t,this.before=e};function sr(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return ie(t)})).join(",")}function ar(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.p()?A.i(A.C(s.referenceValue),n.key):ne(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function ur(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!te(t.position[n],e.position[n]))return!1;return!0}var cr=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function lr(t,e,n){var r=t.field.p()?A.i(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?ne(r,i):y()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return y()}}function hr(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var fr=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},dr=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.fn=t,this.dn=e,this.wn=n,this.mn=r,this.Tn=i,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return t.prototype.reset=function(){this.En=0},t.prototype.Rn=function(){this.En=this.Tn},t.prototype.gn=function(t){var e=this;this.cancel();var n=Math.floor(this.En+this.Pn()),r=Math.max(0,Date.now()-this.An),i=Math.max(0,n-r);i>0&&p("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.En+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.In=this.fn.yn(this.dn,i,(function(){return e.An=Date.now(),t()})),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},t.prototype.Vn=function(){null!==this.In&&(this.In.pn(),this.In=null)},t.prototype.cancel=function(){null!==this.In&&(this.In.cancel(),this.In=null)},t.prototype.Pn=function(){return(Math.random()-.5)*this.En},t}(),pr=function(){function t(t){var e=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,t((function(t){e.Sn=!0,e.result=t,e.bn&&e.bn(t)}),(function(t){e.Sn=!0,e.error=t,e.vn&&e.vn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Dn&&y(),this.Dn=!0,this.Sn?this.error?this.Cn(n,this.error):this.Nn(e,this.result):new t((function(t,i){r.bn=function(n){r.Nn(e,n).next(t,i)},r.vn=function(e){r.Cn(n,e).next(t,i)}}))},t.prototype.Fn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.xn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Nn=function(e,n){return e?this.xn((function(){return e(n)})):t.resolve(n)},t.prototype.Cn=function(e,n){return e?this.xn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.kn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),vr=function(){function t(e,n,r){this.name=e,this.version=n,this.Mn=r,12.2===t.On(s.getUA())&&v("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return p("SimpleDb","Removing database:",t),wr(window.indexedDB.deleteDatabase(t)).Fn()},t.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(t.Bn())return!0;var e=s.getUA(),n=t.On(e),r=0<n&&n<10,i=t.qn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Bn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Un)},t.Qn=function(t,e){return t.store(e)},t.On=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.qn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Wn=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(p("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new mr(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new h(l.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new mr(t,n))},i.onupgradeneeded=function(t){p("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Mn.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){p("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(t){return n.jn(t)}),this.db)]}}))}))},t.prototype.Kn=function(t){this.jn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,s,a,u,c;return r.__generator(this,(function(l){switch(l.label){case 0:o="readonly"===e,s=0,a=function(){var e,a,c,l,h;return r.__generator(this,(function(r){switch(r.label){case 0:++s,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.Wn(t)];case 2:return u.db=r.sent(),e=br.open(u.db,t,o?"readonly":"readwrite",n),a=i(e).catch((function(t){return e.abort(t),pr.reject(t)})).Fn(),c={},a.catch((function(){})),[4,e.Gn];case 3:return[2,(c.value=(r.sent(),a),c)];case 4:return p("SimpleDb","Transaction failed with error:",(l=r.sent()).message,"Retrying:",h="FirebaseError"!==l.name&&s<3),u.close(),h?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},u=this,l.label=1;case 1:return[5,a()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),gr=function(){function t(t){this.zn=t,this.Hn=!1,this.Yn=null}return Object.defineProperty(t.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Hn=!0},t.prototype.Xn=function(t){this.Yn=t},t.prototype.delete=function(){return wr(this.zn.delete())},t}(),mr=function(t){function e(e,n){var r=this;return(r=t.call(this,l.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return r.__extends(e,t),e}(h);function yr(t){return"IndexedDbTransactionError"===t.name}var br=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Zn=new fr,this.transaction.oncomplete=function(){n.Zn.resolve()},this.transaction.onabort=function(){e.error?n.Zn.reject(new mr(t,e.error)):n.Zn.resolve()},this.transaction.onerror=function(e){var r=Cr(e.target.error);n.Zn.reject(new mr(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new mr(n,e)}},Object.defineProperty(t.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Zn.reject(t),this.aborted||(p("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new _r(e)},t}(),_r=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(p("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(p("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),wr(n)},t.prototype.add=function(t){return p("SimpleDb","ADD",this.store.name,t,t),wr(this.store.add(t))},t.prototype.get=function(t){var e=this;return wr(this.store.get(t)).next((function(n){return void 0===n&&(n=null),p("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return p("SimpleDb","DELETE",this.store.name,t),wr(this.store.delete(t))},t.prototype.count=function(){return p("SimpleDb","COUNT",this.store.name),wr(this.store.count())},t.prototype.ts=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.es(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.ns=function(t,e){p("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.ss=!1;var r=this.cursor(n);return this.es(r,(function(t,e,n){return n.delete()}))},t.prototype.rs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.es(r,e)},t.prototype.os=function(t){var e=this.cursor({});return new pr((function(n,r){e.onerror=function(t){var e=Cr(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.es=function(t,e){var n=[];return new pr((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new gr(i),s=e(i.primaryKey,i.value,o);if(s instanceof pr){var a=s.catch((function(t){return o.done(),pr.reject(t)}));n.push(a)}o.Sn?r():null===o.Jn?i.continue():i.continue(o.Jn)}else r()}})).next((function(){return pr.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.ss?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function wr(t){return new pr((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Cr(t.target.error);n(e)}}))}var kr=!1;function Cr(t){var e=vr.On(s.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new h("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return kr||(kr=!0,setTimeout((function(){throw r}),0)),r}}return t}function Er(){return"undefined"!=typeof window?window:null}function Sr(){return"undefined"!=typeof document?document:null}var Ir=function(){function t(t,e,n,r,i){this.cs=t,this.dn=e,this.us=n,this.op=r,this.hs=i,this.ls=new fr,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch((function(t){}))}return t._s=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.fs=setTimeout((function(){return e.ds()}),t)},t.prototype.pn=function(){return this.ds()},t.prototype.cancel=function(t){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new h(l.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.ds=function(){var t=this;this.cs.ws((function(){return null!==t.fs?(t.clearTimeout(),t.op().then((function(e){return t.ls.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},t}(),Tr=function(){function t(){var t=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new dr(this,"async_queue_retry"),this.Vs=function(){var e=Sr();e&&p("AsyncQueue","Visibility state changed to  ",e.visibilityState),t.ys.Vn()};var e=Sr();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(t.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),t.prototype.ws=function(t){this.enqueue(t)},t.prototype.bs=function(t){this.vs(),this.Ss(t)},t.prototype.Ds=function(){if(!this.Is){this.Is=!0;var t=Sr();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vs)}},t.prototype.enqueue=function(t){return this.vs(),this.Is?new Promise((function(t){})):this.Ss(t)},t.prototype.Cs=function(t){var e=this;this.ws((function(){return e.Es.push(t),e.Ns()}))},t.prototype.Ns=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(0===this.Es.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return n.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!yr(t=n.sent()))throw t;return p("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Es.length>0&&this.ys.gn((function(){return e.Ns()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ss=function(t){var e=this,n=this.Ts.then((function(){return e.gs=!0,t().catch((function(t){throw e.Rs=t,e.gs=!1,v("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.gs=!1,t}))}));return this.Ts=n,n},t.prototype.yn=function(t,e,n){var r=this;this.vs(),this.Ps.indexOf(t)>-1&&(e=0);var i=Ir._s(this,t,e,n,(function(t){return r.Fs(t)}));return this.As.push(i),i},t.prototype.vs=function(){this.Rs&&y()},t.prototype.xs=function(){},t.prototype.$s=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.Ts];case 1:e.sent(),e.label=2;case 2:if(t!==this.Ts)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.ks=function(t){for(var e=0,n=this.As;e<n.length;e++)if(n[e].dn===t)return!0;return!1},t.prototype.Ms=function(t){var e=this;return this.$s().then((function(){e.As.sort((function(t,e){return t.us-e.us}));for(var n=0,r=e.As;n<r.length;n++){var i=r[n];if(i.pn(),"all"!==t&&i.dn===t)break}return e.$s()}))},t.prototype.Os=function(t){this.Ps.push(t)},t.prototype.Fs=function(t){var e=this.As.indexOf(t);this.As.splice(e,1)},t}();function Ar(t,e){if(v("AsyncQueue",e+": "+t),yr(t))return new h(l.UNAVAILABLE,e+": "+t);throw t}var Dr=function(){this.Ls=void 0,this.listeners=[]},Or=function(){this.Bs=new st((function(t){return Gn(t)}),zn),this.onlineState="Unknown",this.qs=new Set};function Pr(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:if(n=_(t),o=!1,(s=n.Bs.get(i=e.query))||(o=!0,s=new Dr),!o)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),a=s,[4,n.Us(i)];case 2:return a.Ls=r.sent(),[3,4];case 3:return u=r.sent(),c=Ar(u,"Initialization of query '"+Kn(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.Bs.set(i,s),s.listeners.push(e),e.Qs(n.onlineState),s.Ls&&e.Ws(s.Ls)&&Fr(n),[2]}}))}))}function xr(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a;return r.__generator(this,(function(r){return n=_(t),o=!1,(s=n.Bs.get(i=e.query))&&(a=s.listeners.indexOf(e))>=0&&(s.listeners.splice(a,1),o=0===s.listeners.length),o?[2,(n.Bs.delete(i),n.js(i))]:[2]}))}))}function Nr(t,e){for(var n=_(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.Bs.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Ws(s)&&(r=!0);a.Ls=s}}r&&Fr(n)}function Rr(t,e,n){var r=_(t),i=r.Bs.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.Bs.delete(e)}function Fr(t){t.qs.forEach((function(t){t.next()}))}var Mr=function(){function t(t,e,n){this.query=t,this.Ks=e,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Ws=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new jt(t.query,t.docs,t.Qt,e,t.Wt,t.fromCache,t.jt,!0)}var o=!1;return this.Gs?this.Hs(t)&&(this.Ks.next(t),o=!0):this.Ys(t,this.onlineState)&&(this.Js(t),o=!0),this.zs=t,o},t.prototype.onError=function(t){this.Ks.error(t)},t.prototype.Qs=function(t){this.onlineState=t;var e=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,t)&&(this.Js(this.zs),e=!0),e},t.prototype.Ys=function(t,e){return!t.fromCache||!(this.options.Xs&&"Offline"!==e||t.docs.m()&&"Offline"!==e)},t.prototype.Hs=function(t){return t.docChanges.length>0||!!(t.jt||this.zs&&this.zs.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.Js=function(t){t=jt.Gt(t.query,t.docs,t.Wt,t.fromCache),this.Gs=!0,this.Ks.next(t)},t}(),Lr=function(){function t(t){this.uid=t}return t.prototype.Zs=function(){return null!=this.uid},t.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Lr.UNAUTHENTICATED=new Lr(null),Lr.ei=new Lr("google-credentials-uid"),Lr.ni=new Lr("first-party-uid");var Ur=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.si=function(t){return n.ii(t)},this.ri=function(t){return e.oi(t)})}return t.prototype.ii=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.ri&&this.ri(t),t},t}();function Vr(t,e){return"firestore_clients_"+t+"_"+e}function jr(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Zs()&&(r+="_"+e.uid),r}function Br(t,e){return"firestore_targets_"+t+"_"+e}Ur.ai=-1;var qr=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ci=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new h(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(v("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ui=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Wr=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ci=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new h(r.error.code,r.error.message)),i?new t(e,r.state,o):(v("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ui=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Hr=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ci=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Lt(),s=0;i&&s<r.activeTargetIds.length;++s)i=ht(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(v("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),zr=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ci=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(v("SharedClientState","Failed to parse online state: "+e),null)},t}(),Gr=function(){function t(){this.activeTargetIds=Lt()}return t.prototype.hi=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.li=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ui=function(){var t={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Kr=function(){function t(t,e,n,r,i){this.window=t,this.fn=e,this.persistenceKey=n,this._i=r,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new Ct(Y),this.Ei=!1,this.Ii=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ai=Vr(this.persistenceKey,this._i),this.Ri=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ti=this.Ti.ot(this._i,new Gr),this.gi=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Vi=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wi)}return t.Ln=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e,n,i,o,s,a,u,c,l,h=this;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this.fi.pi()];case 1:for(t=r.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this._i&&(o=this.getItem(Vr(this.persistenceKey,i)))&&(s=Hr.ci(i,o))&&(this.Ti=this.Ti.ot(s.clientId,s));for(this.bi(),(a=this.storage.getItem(this.Vi))&&(u=this.vi(a))&&this.Si(u),c=0,l=this.Ii;c<l.length;c++)this.mi(l[c]);return this.Ii=[],this.window.addEventListener("unload",(function(){return h.Di()})),this.Ei=!0,[2]}}))}))},t.prototype.oi=function(t){this.setItem(this.Ri,JSON.stringify(t))},t.prototype.Ci=function(){return this.Ni(this.Ti)},t.prototype.Fi=function(t){var e=!1;return this.Ti.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.xi=function(t){this.$i(t,"pending")},t.prototype.ki=function(t,e,n){this.$i(t,e,n),this.Mi(t)},t.prototype.Oi=function(t){var e="not-current";if(this.Fi(t)){var n=this.storage.getItem(Br(this.persistenceKey,t));if(n){var r=Wr.ci(t,n);r&&(e=r.state)}}return this.Li.hi(t),this.bi(),e},t.prototype.Bi=function(t){this.Li.li(t),this.bi()},t.prototype.qi=function(t){return this.Li.activeTargetIds.has(t)},t.prototype.Ui=function(t){this.removeItem(Br(this.persistenceKey,t))},t.prototype.Qi=function(t,e,n){this.Wi(t,e,n)},t.prototype.ji=function(t,e,n){var r=this;e.forEach((function(t){r.Mi(t)})),this.currentUser=t,n.forEach((function(t){r.xi(t)}))},t.prototype.Ki=function(t){this.Gi(t)},t.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return p("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){p("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){p("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.mi=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(p("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ai)return void v("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs((function(){return r.__awaiter(e,void 0,void 0,(function(){var t,e,i,o,s,a;return r.__generator(this,(function(r){if(this.Ei){if(null!==n.key)if(this.gi.test(n.key)){if(null==n.newValue)return t=this.zi(n.key),[2,this.Hi(t,null)];if(e=this.Yi(n.key,n.newValue))return[2,this.Hi(e.clientId,e)]}else if(this.Pi.test(n.key)){if(null!==n.newValue&&(i=this.Ji(n.key,n.newValue)))return[2,this.Xi(i)]}else if(this.yi.test(n.key)){if(null!==n.newValue&&(o=this.Zi(n.key,n.newValue)))return[2,this.tr(o)]}else if(n.key===this.Vi){if(null!==n.newValue&&(s=this.vi(n.newValue)))return[2,this.Si(s)]}else n.key===this.Ri&&(a=function(t){var e=Ur.ai;if(null!=t)try{var n=JSON.parse(t);b("number"==typeof n),e=n}catch(t){v("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ur.ai&&this.si(a)}else this.Ii.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),t.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},t.prototype.$i=function(t,e,n){var r=new qr(this.currentUser,t,e,n),i=jr(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ui())},t.prototype.Mi=function(t){var e=jr(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Gi=function(t){this.storage.setItem(this.Vi,JSON.stringify({clientId:this._i,onlineState:t}))},t.prototype.Wi=function(t,e,n){var r=Br(this.persistenceKey,t),i=new Wr(t,e,n);this.setItem(r,i.ui())},t.prototype.zi=function(t){var e=this.gi.exec(t);return e?e[1]:null},t.prototype.Yi=function(t,e){var n=this.zi(t);return Hr.ci(n,e)},t.prototype.Ji=function(t,e){var n=this.Pi.exec(t),r=Number(n[1]);return qr.ci(new Lr(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Zi=function(t,e){var n=this.yi.exec(t),r=Number(n[1]);return Wr.ci(r,e)},t.prototype.vi=function(t){return zr.ci(t)},t.prototype.Xi=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fi.er(t.batchId,t.state,t.error)]:(p("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.tr=function(t){return this.fi.nr(t.targetId,t.state,t.error)},t.prototype.Hi=function(t,e){var n=this,r=e?this.Ti.ot(t,e):this.Ti.remove(t),i=this.Ni(this.Ti),o=this.Ni(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.fi.sr(s,a).then((function(){n.Ti=r}))},t.prototype.Si=function(t){this.Ti.get(t.clientId)&&this.di(t.onlineState)},t.prototype.Ni=function(t){var e=Lt();return t.forEach((function(t,n){e=e.kt(n.activeTargetIds)})),e},t}(),Qr=function(){function t(){this.ir=new Gr,this.rr={},this.di=null,this.si=null}return t.prototype.xi=function(t){},t.prototype.ki=function(t,e,n){},t.prototype.Oi=function(t){return this.ir.hi(t),this.rr[t]||"not-current"},t.prototype.Qi=function(t,e,n){this.rr[t]=e},t.prototype.Bi=function(t){this.ir.li(t)},t.prototype.qi=function(t){return this.ir.activeTargetIds.has(t)},t.prototype.Ui=function(t){delete this.rr[t]},t.prototype.Ci=function(){return this.ir.activeTargetIds},t.prototype.Fi=function(t){return this.ir.activeTargetIds.has(t)},t.prototype.start=function(){return this.ir=new Gr,Promise.resolve()},t.prototype.ji=function(t,e,n){},t.prototype.Ki=function(t){},t.prototype.Di=function(){},t.prototype.oi=function(t){},t}(),$r=function(){function t(t,e,n,r){this.batchId=t,this.ar=e,this.baseMutations=n,this.mutations=r}return t.prototype.cr=function(t,e,n){for(var r=n.ur,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=fn(o,e,r[i]))}return e},t.prototype.hr=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=dn(i,e,e,this.ar))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=dn(u,e,o,this.ar))}return e},t.prototype.lr=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.hr(r.key,t.get(r.key));i&&(n=n.ot(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Ft())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&J(this.mutations,t.mutations,(function(t,e){return vn(t,e)}))&&J(this.baseMutations,t.baseMutations,(function(t,e){return vn(t,e)}))},t}(),Yr=function(){function t(t,e,n,r){this.batch=t,this._r=e,this.ur=n,this.dr=r}return t.from=function(e,n,r){b(e.mutations.length===r.length);for(var i=Nt,o=e.mutations,s=0;s<o.length;s++)i=i.ot(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Jr=function(){function t(){this.wr=new st((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.mr=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.Tr},set:function(t){this.Tr=t},enumerable:!1,configurable:!0}),t.prototype.Er=function(t,e){this.Ir(),this.readTime=e,this.wr.set(t.key,t)},t.prototype.Ar=function(t,e){this.Ir(),e&&(this.readTime=e),this.wr.set(t,null)},t.prototype.Rr=function(t,e){this.Ir();var n=this.wr.get(e);return void 0!==n?pr.resolve(n):this.gr(t,e)},t.prototype.getEntries=function(t,e){return this.Pr(t,e)},t.prototype.apply=function(t){return this.Ir(),this.mr=!0,this.yr(t)},t.prototype.Ir=function(){},t}(),Xr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Zr=function(){function t(){this.Vr=[]}return t.prototype.pr=function(t){this.Vr.push(t)},t.prototype.br=function(){this.Vr.forEach((function(t){return t()}))},t}(),ti=function(){function t(t,e,n){this.vr=t,this.Sr=e,this.Dr=n}return t.prototype.Cr=function(t,e){var n=this;return this.Sr.Nr(t,e).next((function(r){return n.Fr(t,e,r)}))},t.prototype.Fr=function(t,e,n){return this.vr.Rr(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].hr(e,t);return t}))},t.prototype.$r=function(t,e,n){var r=Ot();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].hr(t,e);r=r.ot(t,e)})),r},t.prototype.kr=function(t,e){var n=this;return this.vr.getEntries(t,e).next((function(e){return n.Mr(t,e)}))},t.prototype.Mr=function(t,e){var n=this;return this.Sr.Or(t,e).next((function(r){var i=n.$r(t,e,r),o=Dt();return i.forEach((function(t,e){e||(e=new On(t,ut.min())),o=o.ot(t,e)})),o}))},t.prototype.Lr=function(t,e,n){return function(t){return A.F(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Br(t,e.path):Vn(e)?this.qr(t,e,n):this.Ur(t,e,n)},t.prototype.Br=function(t,e){return this.Cr(t,new A(e)).next((function(t){var e=xt();return t instanceof Dn&&(e=e.ot(t.key,t)),e}))},t.prototype.qr=function(t,e,n){var r=this,i=e.collectionGroup,o=xt();return this.Dr.Qr(t,i).next((function(s){return pr.forEach(s,(function(s){var a=function(t,e){return new xn(e,null,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(e,s.child(i));return r.Ur(t,a,n).next((function(t){t.forEach((function(t,e){o=o.ot(t,e)}))}))})).next((function(){return o}))}))},t.prototype.Ur=function(t,e,n){var r,i,o=this;return this.vr.Lr(t,e,n).next((function(n){return r=n,o.Sr.Wr(t,e)})).next((function(e){return o.jr(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c),h=dn(u,l,l,o.ar);r=h instanceof Dn?r.ot(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){Qn(e,n)||(r=r.remove(t))})),r}))},t.prototype.jr=function(t,e,n){for(var r=Ft(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof yn&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.vr.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Dn&&(c=c.ot(t,e))})),c}))},t}(),ei=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Kr=n,this.Gr=r}return t.zr=function(e,n){for(var r=Ft(),i=Ft(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}();function ni(t,e){var n=t[1],r=e[1],i=Y(t[0],e[0]);return 0===i?Y(n,r):i}var ri=function(){function t(t){this.Hr=t,this.buffer=new It(ni),this.Yr=0}return t.prototype.Jr=function(){return++this.Yr},t.prototype.Xr=function(t){var e=[t,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();ni(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),ii={Zr:!1,eo:0,no:0,so:0},oi=function(){function t(t,e,n){this.io=t,this.ro=e,this.oo=n}return t.ao=function(e){return new t(e,t.co,t.uo)},t}();oi.ho=-1,oi.lo=1048576,oi._o=41943040,oi.co=10,oi.uo=1e3,oi.fo=new oi(oi._o,oi.co,oi.uo),oi.do=new oi(oi.ho,0,0);var si=function(){function t(t,e){this.wo=t,this.cs=e,this.mo=!1,this.To=null}return t.prototype.start=function(t){this.wo.params.io!==oi.ho&&this.Eo(t)},t.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(t.prototype,"Ei",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),t.prototype.Eo=function(t){var e=this,n=this.mo?3e5:6e4;p("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.To=this.cs.yn("lru_garbage_collection",n,(function(){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:this.To=null,this.mo=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Io(this.wo)];case 2:return n.sent(),[3,7];case 3:return yr(e=n.sent())?(p("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Io(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Eo(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),ai=function(){function t(t,e){this.Ao=t,this.params=e}return t.prototype.Ro=function(t,e){return this.Ao.Po(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.yo=function(t,e){var n=this;if(0===e)return pr.resolve(Ur.ai);var r=new ri(e);return this.Ao.Ce(t,(function(t){return r.Xr(t.sequenceNumber)})).next((function(){return n.Ao.Vo(t,(function(t){return r.Xr(t)}))})).next((function(){return r.maxValue}))},t.prototype.po=function(t,e,n){return this.Ao.po(t,e,n)},t.prototype.bo=function(t,e){return this.Ao.bo(t,e)},t.prototype.vo=function(t,e){var n=this;return this.params.io===oi.ho?(p("LruGarbageCollector","Garbage collection skipped; disabled"),pr.resolve(ii)):this.So(t).next((function(r){return r<n.params.io?(p("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.io),ii):n.Do(t,e)}))},t.prototype.So=function(t){return this.Ao.So(t)},t.prototype.Do=function(t,e){var n,r,i,s,a,u,c,l=this,h=Date.now();return this.Ro(t,this.params.ro).next((function(e){return e>l.params.oo?(p("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.oo+" from "+e),r=l.params.oo):r=e,s=Date.now(),l.yo(t,r)})).next((function(r){return n=r,a=Date.now(),l.po(t,n,e)})).next((function(e){return i=e,u=Date.now(),l.bo(t,n)})).next((function(t){return c=Date.now(),d()<=o.LogLevel.DEBUG&&p("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-s)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-h)+"ms"),pr.resolve({Zr:!0,eo:r,no:i,so:t})}))},t}();function ui(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=li(e)),e=ci(t.get(n),e);return li(e)}function ci(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function li(t){return t+"\x01\x01"}function hi(t){var e=t.length;if(b(e>=2),2===e)return b("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),S.P();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&y(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:y()}o=s+2}return new S(r)}var fi=function(t){this.Co=t};function di(t,e){if(e.document)return function(t,e,n){var r=Te(t,e.name),i=Ce(e.updateTime),o=new Sn({mapValue:{fields:e.fields}});return new Dn(r,i,o,{hasCommittedMutations:!!n})}(t.Co,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=A.$(e.noDocument.path),r=yi(e.noDocument.readTime);return new On(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=A.$(e.unknownDocument.path),o=yi(e.unknownDocument.version);return new Pn(i,o)}return y()}function pi(t,e,n){var r=vi(n),i=e.key.path.h().A();if(e instanceof Dn){var o=function(t,e){return{name:Ie(t,e.key),fields:e.rn().mapValue.fields,updateTime:_e(t,e.version.Z())}}(t.Co,e);return new Hi(null,null,o,e.hasCommittedMutations,r,i)}if(e instanceof On){var s=e.key.path.A(),a=mi(e.version),u=e.hasCommittedMutations;return new Hi(null,new qi(s,a),null,u,r,i)}if(e instanceof Pn){var c=e.key.path.A(),l=mi(e.version);return new Hi(new Wi(c,l),null,null,!0,r,i)}return y()}function vi(t){var e=t.Z();return[e.seconds,e.nanoseconds]}function gi(t){var e=new at(t[0],t[1]);return ut.J(e)}function mi(t){var e=t.Z();return new Li(e.seconds,e.nanoseconds)}function yi(t){var e=new at(t.seconds,t.nanoseconds);return ut.J(e)}function bi(t,e){var n=(e.baseMutations||[]).map((function(e){return Re(t.Co,e)})),r=e.mutations.map((function(e){return Re(t.Co,e)})),i=at.fromMillis(e.localWriteTimeMs);return new $r(e.batchId,i,n,r)}function _i(t){var e,n,r=yi(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?yi(t.lastLimboFreeSnapshotVersion):ut.min();return void 0!==t.query.documents?(b(1===(n=t.query).documents.length),e=Bn(Rn(De(n.documents[0])))):e=function(t){var e=De(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){b(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[He(e)]:void 0!==e.fieldFilter?[We(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):y():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new cr(qe(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return ct(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Ue(n.startAt));var l=null;return n.endAt&&(l=Ue(n.endAt)),Bn(Nn(e,i,a,s,u,"F",c,l))}(t.query),new bt(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Z.fromBase64String(t.resumeToken))}function wi(t,e){var n,r=mi(e.nt),i=mi(e.lastLimboFreeSnapshotVersion);n=gt(e.target)?Fe(t.Co,e.target):Me(t.Co,e.target);var o=e.resumeToken.toBase64();return new Gi(e.targetId,pt(e.target),r,o,e.sequenceNumber,i,n)}var ki=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.Dr=n,this.No=r,this.Fo={}}return t.xo=function(e,n,r,i){return b(""!==e.uid),new t(e.Zs()?e.uid:"",n,r,i)},t.prototype.$o=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Si(t).rs({index:ji.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.ko=function(t,e,n,r){var i=this,o=Ii(t),s=Si(t);return s.add({}).next((function(a){b("number"==typeof a);for(var u=new $r(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Ne(t.Co,e)})),i=n.mutations.map((function(e){return Ne(t.Co,e)}));return new ji(e,n.batchId,n.ar.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new It((function(t,e){return Y(t.R(),e.R())})),f=0,d=r;f<d.length;f++){var p=d[f],v=Bi.key(i.userId,p.key.path,a);h=h.add(p.key.path.h()),l.push(s.put(c)),l.push(o.put(v,Bi.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Dr.Mo(t,e))})),t.pr((function(){i.Fo[a]=u.keys()})),pr.$n(l).next((function(){return u}))}))},t.prototype.Oo=function(t,e){var n=this;return Si(t).get(e).next((function(t){return t?(b(t.userId===n.userId),bi(n.serializer,t)):null}))},t.prototype.Lo=function(t,e){var n=this;return this.Fo[e]?pr.resolve(this.Fo[e]):this.Oo(t,e).next((function(t){if(t){var r=t.keys();return n.Fo[e]=r,r}return null}))},t.prototype.Bo=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Si(t).rs({index:ji.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(b(e.batchId>=r),o=bi(n.serializer,e)),i.done()})).next((function(){return o}))},t.prototype.qo=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Si(t).rs({index:ji.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.Uo=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Si(t).ts(ji.userMutationsIndex,n).next((function(t){return t.map((function(t){return bi(e.serializer,t)}))}))},t.prototype.Nr=function(t,e){var n=this,r=Bi.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Ii(t).rs({range:i},(function(r,i,s){var a=r[0],u=r[2],c=hi(r[1]);if(a===n.userId&&e.path.isEqual(c))return Si(t).get(u).next((function(t){if(!t)throw y();b(t.userId===n.userId),o.push(bi(n.serializer,t))}));s.done()})).next((function(){return o}))},t.prototype.Or=function(t,e){var n=this,r=new It(Y),i=[];return e.forEach((function(e){var o=Bi.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Ii(t).rs({range:s},(function(t,i,o){var s=t[0],a=t[2],u=hi(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()}));i.push(a)})),pr.$n(i).next((function(){return n.Qo(t,r)}))},t.prototype.Wr=function(t,e){var n=this,r=e.path,i=r.length+1,o=Bi.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new It(Y);return Ii(t).rs({range:s},(function(t,e,o){var s=t[0],u=t[2],c=hi(t[1]);s===n.userId&&r.T(c)?c.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.Qo(t,a)}))},t.prototype.Qo=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Si(t).get(e).next((function(t){if(null===t)throw y();b(t.userId===n.userId),r.push(bi(n.serializer,t))})))})),pr.$n(i).next((function(){return r}))},t.prototype.Wo=function(t,e){var n=this;return Ei(t.jo,this.userId,e).next((function(r){return t.pr((function(){n.Ko(e.batchId)})),pr.forEach(r,(function(e){return n.No.Go(t,e)}))}))},t.prototype.Ko=function(t){delete this.Fo[t]},t.prototype.zo=function(t){var e=this;return this.$o(t).next((function(n){if(!n)return pr.resolve();var r=IDBKeyRange.lowerBound(Bi.prefixForUser(e.userId)),i=[];return Ii(t).rs({range:r},(function(t,n,r){if(t[0]===e.userId){var o=hi(t[1]);i.push(o)}else r.done()})).next((function(){b(0===i.length)}))}))},t.prototype.Ho=function(t,e){return Ci(t,this.userId,e)},t.prototype.Yo=function(t){var e=this;return Ti(t).get(this.userId).next((function(t){return t||new Vi(e.userId,-1,"")}))},t}();function Ci(t,e,n){var r=Bi.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Ii(t).rs({range:o,ss:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function Ei(t,e,n){var r=t.store(ji.store),i=t.store(Bi.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.rs({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){b(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Bi.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return pr.$n(o).next((function(){return c}))}function Si(t){return uo.Qn(t,ji.store)}function Ii(t){return uo.Qn(t,Bi.store)}function Ti(t){return uo.Qn(t,Vi.store)}var Ai=function(){function t(t,e){this.serializer=t,this.Dr=e}return t.prototype.Er=function(t,e,n){return Pi(t).put(xi(e),n)},t.prototype.Ar=function(t,e){var n=Pi(t),r=xi(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Jo(t,r)}))},t.prototype.Rr=function(t,e){var n=this;return Pi(t).get(xi(e)).next((function(t){return n.Xo(t)}))},t.prototype.Zo=function(t,e){var n=this;return Pi(t).get(xi(e)).next((function(t){var e=n.Xo(t);return e?{ta:e,size:Ni(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Ot();return this.ea(t,e,(function(t,e){var i=n.Xo(e);r=r.ot(t,i)})).next((function(){return r}))},t.prototype.na=function(t,e){var n=this,r=Ot(),i=new Ct(A.i);return this.ea(t,e,(function(t,e){var o=n.Xo(e);o?(r=r.ot(t,o),i=i.ot(t,Ni(e))):(r=r.ot(t,null),i=i.ot(t,0))})).next((function(){return{sa:r,ia:i}}))},t.prototype.ea=function(t,e,n){if(e.m())return pr.resolve();var r=IDBKeyRange.bound(e.first().path.A(),e.last().path.A()),i=e._t(),o=i.It();return Pi(t).rs({range:r},(function(t,e,r){for(var s=A.$(t);o&&A.i(o,s)<0;)n(o,null),o=i.It();o&&o.isEqual(s)&&(n(o,e),o=i.At()?i.It():null),o?r.Xn(o.path.A()):r.done()})).next((function(){for(;o;)n(o,null),o=i.At()?i.It():null}))},t.prototype.Lr=function(t,e,n){var r=this,i=xt(),o=e.path.length+1,s={};if(n.isEqual(ut.min())){var a=e.path.A();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.A(),c=vi(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Hi.collectionReadTimeIndex}return Pi(t).rs(s,(function(t,n,s){if(t.length===o){var a=di(r.serializer,n);e.path.T(a.key.path)?a instanceof Dn&&Qn(e,a)&&(i=i.ot(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.ra=function(t){return new Di(this,!!t&&t.oa)},t.prototype.aa=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Oi(t).get(zi.key).next((function(t){return b(!!t),t}))},t.prototype.Jo=function(t,e){return Oi(t).put(zi.key,e)},t.prototype.Xo=function(t){if(t){var e=di(this.serializer,t);return e instanceof On&&e.version.isEqual(ut.min())?null:e}return null},t}(),Di=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ca=e,r.oa=n,r.ua=new st((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return r.__extends(e,t),e.prototype.yr=function(t){var e=this,n=[],r=0,i=new It((function(t,e){return Y(t.R(),e.R())}));return this.wr.forEach((function(o,s){var a=e.ua.get(o);if(s){var u=pi(e.ca.serializer,s,e.readTime);i=i.add(o.path.h());var c=Ni(u);r+=c-a,n.push(e.ca.Er(t,o,u))}else if(r-=a,e.oa){var l=pi(e.ca.serializer,new On(o,ut.min()),e.readTime);n.push(e.ca.Er(t,o,l))}else n.push(e.ca.Ar(t,o))})),i.forEach((function(r){n.push(e.ca.Dr.Mo(t,r))})),n.push(this.ca.updateMetadata(t,r)),pr.$n(n)},e.prototype.gr=function(t,e){var n=this;return this.ca.Zo(t,e).next((function(t){return null===t?(n.ua.set(e,0),null):(n.ua.set(e,t.size),t.ta)}))},e.prototype.Pr=function(t,e){var n=this;return this.ca.na(t,e).next((function(t){var e=t.sa;return t.ia.forEach((function(t,e){n.ua.set(t,e)})),e}))},e}(Jr);function Oi(t){return uo.Qn(t,zi.store)}function Pi(t){return uo.Qn(t,Hi.store)}function xi(t){return t.path.A()}function Ni(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw y();e=t.noDocument}return JSON.stringify(e).length}var Ri=function(){function t(){this.ha=new Fi}return t.prototype.Mo=function(t,e){return this.ha.add(e),pr.resolve()},t.prototype.Qr=function(t,e){return pr.resolve(this.ha.getEntries(e))},t}(),Fi=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t._(),n=t.h(),r=this.index[e]||new It(S.i),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t._(),n=t.h(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new It(S.i)).A()},t}(),Mi=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;b(n<r&&n>=0&&r<=10);var o=new br("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Ui.store)}(t),function(t){t.createObjectStore(Vi.store,{keyPath:Vi.keyPath}),t.createObjectStore(ji.store,{keyPath:ji.keyPath,autoIncrement:!0}).createIndex(ji.userMutationsIndex,ji.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Bi.store)}(t),Yi(t),function(t){t.createObjectStore(Hi.store)}(t));var s=pr.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Ki.store),t.deleteObjectStore(Gi.store),t.deleteObjectStore(Qi.store)}(t),Yi(t)),s=s.next((function(){return function(t){var e=t.store(Qi.store),n=new Qi(0,0,ut.min().Z(),0);return e.put(Qi.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(ji.store).ts().next((function(n){t.deleteObjectStore(ji.store),t.createObjectStore(ji.store,{keyPath:ji.keyPath,autoIncrement:!0}).createIndex(ji.userMutationsIndex,ji.userMutationsKeyPath,{unique:!0});var r=e.store(ji.store),i=n.map((function(t){return r.put(t)}));return pr.$n(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Ji.store,{keyPath:Ji.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(zi.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Hi.store);e.createIndex(Hi.readTimeIndex,Hi.readTimeIndexPath,{unique:!1}),e.createIndex(Hi.collectionReadTimeIndex,Hi.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Hi.store).rs((function(t,n){e+=Ni(n)})).next((function(){var n=new zi(e);return t.store(zi.store).put(zi.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Vi.store),r=t.store(ji.store);return n.ts().next((function(n){return pr.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ts(ji.userMutationsIndex,i).next((function(r){return pr.forEach(r,(function(r){b(r.userId===n.userId);var i=bi(e.serializer,r);return Ei(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Ki.store),n=t.store(Hi.store);return t.store(Qi.store).get(Qi.key).next((function(t){var r=[];return n.rs((function(n,i){var o=new S(n),s=function(t){return[0,ui(t)]}(o);r.push(e.get(s).next((function(n){return n?pr.resolve():function(n){return e.put(new Ki(0,ui(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return pr.$n(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore($i.store,{keyPath:$i.keyPath});var n=e.store($i.store),r=new Fi,i=function(t){if(r.add(t)){var e=t._(),i=t.h();return n.put({collectionId:e,parent:ui(i)})}};return e.store(Hi.store).rs({ss:!0},(function(t,e){var n=new S(t);return i(n.h())})).next((function(){return e.store(Bi.store).rs({ss:!0},(function(t,e){var n=hi(t[1]);return i(n.h())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Gi.store);return n.rs((function(t,r){var i=_i(r),o=wi(e.serializer,i);return n.put(o)}))},t}(),Li=function(t,e){this.seconds=t,this.nanoseconds=e},Ui=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Ui.store="owner",Ui.key="owner";var Vi=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Vi.store="mutationQueues",Vi.keyPath="userId";var ji=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ji.store="mutations",ji.keyPath="batchId",ji.userMutationsIndex="userMutationsIndex",ji.userMutationsKeyPath=["userId","batchId"];var Bi=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,ui(e)]},t.key=function(t,e,n){return[t,ui(e),n]},t}();Bi.store="documentMutations",Bi.PLACEHOLDER=new Bi;var qi=function(t,e){this.path=t,this.readTime=e},Wi=function(t,e){this.path=t,this.version=e},Hi=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Hi.store="remoteDocuments",Hi.readTimeIndex="readTimeIndex",Hi.readTimeIndexPath="readTime",Hi.collectionReadTimeIndex="collectionReadTimeIndex",Hi.collectionReadTimeIndexPath=["parentPath","readTime"];var zi=function(t){this.byteSize=t};zi.store="remoteDocumentGlobal",zi.key="remoteDocumentGlobalKey";var Gi=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Gi.store="targets",Gi.keyPath="targetId",Gi.queryTargetsIndexName="queryTargetsIndex",Gi.queryTargetsKeyPath=["canonicalId","targetId"];var Ki=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Ki.store="targetDocuments",Ki.keyPath=["targetId","path"],Ki.documentTargetsIndex="documentTargetsIndex",Ki.documentTargetsKeyPath=["path","targetId"];var Qi=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Qi.key="targetGlobalKey",Qi.store="targetGlobal";var $i=function(t,e){this.collectionId=t,this.parent=e};function Yi(t){t.createObjectStore(Ki.store,{keyPath:Ki.keyPath}).createIndex(Ki.documentTargetsIndex,Ki.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Gi.store,{keyPath:Gi.keyPath}).createIndex(Gi.queryTargetsIndexName,Gi.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Qi.store)}$i.store="collectionParents",$i.keyPath=["collectionId","parent"];var Ji=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Ji.store="clientMetadata",Ji.keyPath="clientId";var Xi=r.__spreadArrays(r.__spreadArrays(r.__spreadArrays([Vi.store,ji.store,Bi.store,Hi.store,Gi.store,Ui.store,Qi.store,Ki.store],[Ji.store]),[zi.store]),[$i.store]),Zi=function(){function t(){this.la=new Fi}return t.prototype.Mo=function(t,e){var n=this;if(!this.la.has(e)){var r=e._(),i=e.h();t.pr((function(){n.la.add(e)}));var o={collectionId:r,parent:ui(i)};return to(t).put(o)}return pr.resolve()},t.prototype.Qr=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[X(e),""],!1,!0);return to(t).ts(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(hi(o.parent))}return n}))},t}();function to(t){return uo.Qn(t,$i.store)}var eo=function(){function t(t){this._a=t}return t.prototype.next=function(){return this._a+=2,this._a},t.fa=function(){return new t(0)},t.da=function(){return new t(-1)},t}(),no=function(){function t(t,e){this.No=t,this.serializer=e}return t.prototype.wa=function(t){var e=this;return this.ma(t).next((function(n){var r=new eo(n.highestTargetId);return n.highestTargetId=r.next(),e.Ta(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Ea=function(t){return this.ma(t).next((function(t){return ut.J(new at(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Ia=function(t){return this.ma(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Aa=function(t,e,n){var r=this;return this.ma(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.Z()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ta(t,i)}))},t.prototype.Ra=function(t,e){var n=this;return this.ga(t,e).next((function(){return n.ma(t).next((function(r){return r.targetCount+=1,n.Pa(e,r),n.Ta(t,r)}))}))},t.prototype.ya=function(t,e){return this.ga(t,e)},t.prototype.Va=function(t,e){var n=this;return this.pa(t,e.targetId).next((function(){return ro(t).delete(e.targetId)})).next((function(){return n.ma(t)})).next((function(e){return b(e.targetCount>0),e.targetCount-=1,n.Ta(t,e)}))},t.prototype.po=function(t,e,n){var r=this,i=0,o=[];return ro(t).rs((function(s,a){var u=_i(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Va(t,u)))})).next((function(){return pr.$n(o)})).next((function(){return i}))},t.prototype.Ce=function(t,e){return ro(t).rs((function(t,n){var r=_i(n);e(r)}))},t.prototype.ma=function(t){return io(t).get(Qi.key).next((function(t){return b(null!==t),t}))},t.prototype.Ta=function(t,e){return io(t).put(Qi.key,e)},t.prototype.ga=function(t,e){return ro(t).put(wi(this.serializer,e))},t.prototype.Pa=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.ba=function(t){return this.ma(t).next((function(t){return t.targetCount}))},t.prototype.va=function(t,e){var n=pt(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ro(t).rs({range:r,index:Gi.queryTargetsIndexName},(function(t,n,r){var o=_i(n);vt(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.Sa=function(t,e,n){var r=this,i=[],o=oo(t);return e.forEach((function(e){var s=ui(e.path);i.push(o.put(new Ki(n,s))),i.push(r.No.Da(t,n,e))})),pr.$n(i)},t.prototype.Ca=function(t,e,n){var r=this,i=oo(t);return pr.forEach(e,(function(e){var o=ui(e.path);return pr.$n([i.delete([n,o]),r.No.Na(t,n,e)])}))},t.prototype.pa=function(t,e){var n=oo(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.Fa=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=oo(t),i=Ft();return r.rs({range:n,ss:!0},(function(t,e,n){var r=hi(t[1]),o=new A(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Ho=function(t,e){var n=ui(e.path),r=IDBKeyRange.bound([n],[X(n)],!1,!0),i=0;return oo(t).rs({index:Ki.documentTargetsIndex,ss:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Ue=function(t,e){return ro(t).get(e).next((function(t){return t?_i(t):null}))},t}();function ro(t){return uo.Qn(t,Gi.store)}function io(t){return uo.Qn(t,Qi.store)}function oo(t){return uo.Qn(t,Ki.store)}var so="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ao=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jo=e,r.xa=n,r}return r.__extends(e,t),e}(Zr),uo=function(){function t(e,n,r,i,o,s,a,u,c,f){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.fn=o,this.window=s,this.document=a,this.$a=c,this.ka=f,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(t){return Promise.resolve()},!t.Ln())throw new h(l.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new ho(this,i),this.Wa=n+"main",this.serializer=new fi(u),this.ja=new vr(this.Wa,10,new Mi(this.serializer)),this.Ka=new no(this.No,this.serializer),this.Dr=new Zi,this.vr=function(t,e){return new Ai(t,e)}(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===f&&v("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Qn=function(t,e){if(t instanceof ao)return vr.Qn(t.jo,e);throw y()},t.prototype.start=function(){var t=this;return this.za().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new h(l.FAILED_PRECONDITION,so);return t.Ha(),t.Ya(),t.Ja(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Ka.Ia(e)}))})).then((function(e){t.Ma=new Ur(e,t.$a)})).then((function(){t.Oa=!0})).catch((function(e){return t.ja&&t.ja.close(),Promise.reject(e)}))},t.prototype.Xa=function(t){var e=this;return this.Qa=function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.Ei?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Za=function(t){var e=this;this.ja.Kn((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.tc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.fn.ws((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.za=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return lo(e).put(new Ji(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.ec(e).next((function(e){e||(t.isPrimary=!1,t.fn.Cs((function(){return t.Qa(!1)})))}))})).next((function(){return t.nc(e)})).next((function(n){return t.isPrimary&&!n?t.sc(e).next((function(){return!1})):!!n&&t.ic(e).next((function(){return!0}))}))})).catch((function(e){if(yr(e))return p("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return p("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.fn.Cs((function(){return t.Qa(e)})),t.isPrimary=e}))},t.prototype.ec=function(t){var e=this;return co(t).get(Ui.key).next((function(t){return pr.resolve(e.rc(t))}))},t.prototype.oc=function(t){return lo(t).delete(this.clientId)},t.prototype.ac=function(){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o=this;return r.__generator(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Qn(e,Ji.store);return n.ts().next((function(t){var e=o.uc(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return pr.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=r.sent(),this.Ga)for(n=0,i=e;n<i.length;n++)this.Ga.removeItem(this.hc(i[n].clientId));r.label=2;case 2:return[2]}}))}))},t.prototype.Ja=function(){var t=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,(function(){return t.za().then((function(){return t.ac()})).then((function(){return t.Ja()}))}))},t.prototype.rc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.nc=function(t){var e=this;return this.ka?pr.resolve(!0):co(t).get(Ui.key).next((function(n){if(null!==n&&e.cc(n.leaseTimestampMs,5e3)&&!e.lc(n.ownerId)){if(e.rc(n)&&e.networkEnabled)return!0;if(!e.rc(n)){if(!n.allowTabSynchronization)throw new h(l.FAILED_PRECONDITION,so);return!1}}return!(!e.networkEnabled||!e.inForeground)||lo(t).ts().next((function(t){return void 0===e.uc(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&p("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Di=function(){return r.__awaiter(this,void 0,void 0,(function(){var t=this;return r.__generator(this,(function(e){switch(e.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[Ui.store,Ji.store],(function(e){var n=new ao(e,Ur.ai);return t.sc(n).next((function(){return t.oc(n)}))}))];case 1:return e.sent(),this.ja.close(),this.wc(),[2]}}))}))},t.prototype.uc=function(t,e){var n=this;return t.filter((function(t){return n.cc(t.updateTimeMs,e)&&!n.lc(t.clientId)}))},t.prototype.pi=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return lo(e).ts().next((function(e){return t.uc(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),t.prototype.mc=function(t){return ki.xo(t,this.serializer,this.Dr,this.No)},t.prototype.Tc=function(){return this.Ka},t.prototype.Ec=function(){return this.vr},t.prototype.Ic=function(){return this.Dr},t.prototype.runTransaction=function(t,e,n){var r,i=this;return p("IndexedDbPersistence","Starting transaction:",t),this.ja.runTransaction(t,"readonly"===e?"readonly":"readwrite",Xi,(function(o){return r=new ao(o,i.Ma?i.Ma.next():Ur.ai),"readwrite-primary"===e?i.ec(r).next((function(t){return!!t||i.nc(r)})).next((function(e){if(!e)throw v("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.fn.Cs((function(){return i.Qa(!1)})),new h(l.FAILED_PRECONDITION,Xr);return n(r)})).next((function(t){return i.ic(r).next((function(){return t}))})):i.Ac(r).next((function(){return n(r)}))})).then((function(t){return r.br(),t}))},t.prototype.Ac=function(t){var e=this;return co(t).get(Ui.key).next((function(t){if(null!==t&&e.cc(t.leaseTimestampMs,5e3)&&!e.lc(t.ownerId)&&!e.rc(t)&&!(e.ka||e.allowTabSynchronization&&t.allowTabSynchronization))throw new h(l.FAILED_PRECONDITION,so)}))},t.prototype.ic=function(t){var e=new Ui(this.clientId,this.allowTabSynchronization,Date.now());return co(t).put(Ui.key,e)},t.Ln=function(){return vr.Ln()},t.prototype.sc=function(t){var e=this,n=co(t);return n.get(Ui.key).next((function(t){return e.rc(t)?(p("IndexedDbPersistence","Releasing primary lease."),n.delete(Ui.key)):pr.resolve()}))},t.prototype.cc=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(v("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Ha=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){t.fn.ws((function(){return t.inForeground="visible"===t.document.visibilityState,t.za()}))},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},t.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},t.prototype.Ya=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.La=function(){e._c(),e.fn.ws((function(){return e.Di()}))},this.window.addEventListener("unload",this.La))},t.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},t.prototype.lc=function(t){var e;try{var n=null!==(null===(e=this.Ga)||void 0===e?void 0:e.getItem(this.hc(t)));return p("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return v("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(r){v("Failed to set zombie client id.",r)}},t.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch(r){}},t.prototype.hc=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function co(t){return uo.Qn(t,Ui.store)}function lo(t){return uo.Qn(t,Ji.store)}var ho=function(){function t(t,e){this.db=t,this.wo=new ai(this,e)}return t.prototype.Po=function(t){var e=this.Rc(t);return this.db.Tc().ba(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Rc=function(t){var e=0;return this.Vo(t,(function(t){e++})).next((function(){return e}))},t.prototype.Ce=function(t,e){return this.db.Tc().Ce(t,e)},t.prototype.Vo=function(t,e){return this.gc(t,(function(t,n){return e(n)}))},t.prototype.Da=function(t,e,n){return fo(t,n)},t.prototype.Na=function(t,e,n){return fo(t,n)},t.prototype.po=function(t,e,n){return this.db.Tc().po(t,e,n)},t.prototype.Go=function(t,e){return fo(t,e)},t.prototype.Pc=function(t,e){return function(t,e){var n=!1;return Ti(t).os((function(r){return Ci(t,r,e).next((function(t){return t&&(n=!0),pr.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.bo=function(t,e){var n=this,r=this.db.Ec().ra(),i=[],o=0;return this.gc(t,(function(s,a){if(a<=e){var u=n.Pc(t,s).next((function(e){if(!e)return o++,r.Rr(t,s).next((function(){return r.Ar(s),oo(t).delete([0,ui(s.path)])}))}));i.push(u)}})).next((function(){return pr.$n(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.st(t.xa);return this.db.Tc().ya(t,n)},t.prototype.yc=function(t,e){return fo(t,e)},t.prototype.gc=function(t,e){var n,r=oo(t),i=Ur.ai;return r.rs({index:Ki.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Ur.ai&&e(new A(hi(n)),i),i=s,n=o):i=Ur.ai})).next((function(){i!==Ur.ai&&e(new A(hi(n)),i)}))},t.prototype.So=function(t){return this.db.Ec().aa(t)},t}();function fo(t,e){return oo(t).put(function(t,e){return new Ki(0,ui(t.path),e)}(e,t.xa))}function po(t,e){var n=t.projectId;return t.j||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var vo=function(){function t(t,e,n){this.persistence=t,this.Vc=e,this.bc=new Ct(Y),this.vc=new st((function(t){return pt(t)}),vt),this.Sc=ut.min(),this.Sr=t.mc(n),this.Dc=t.Ec(),this.Ka=t.Tc(),this.Cc=new ti(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return t.prototype.Io=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.vo(n,e.bc)}))},t}();function go(t,e){var n=_(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Dc.ra({oa:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=pr.resolve();return o.forEach((function(t){s=s.next((function(){return r.Rr(e,t)})).next((function(e){var o=e,s=n.dr.get(t);b(null!==s),(!o||o.version.L(s)<0)&&(o=i.cr(t,o,n))&&r.Er(o,n._r)}))})),s.next((function(){return t.Sr.Wo(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Sr.zo(t)})).next((function(){return n.Cc.kr(t,r)}))}))}function mo(t){var e=_(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.Ka.Ea(t)}))}function yo(t,e){var n=_(t),r=e.nt,i=n.bc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Dc.ra({oa:!0});i=n.bc;var s=[];e.zt.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.Ka.Ca(t,e.se,o).next((function(){return n.Ka.Sa(t,e.ee,o)})));var u=e.resumeToken;if(u.O()>0){var c=a.it(u,r).st(t.xa);i=i.ot(o,c),function(t,e,n){return b(e.resumeToken.O()>0),0===t.resumeToken.O()||e.nt.X()-t.nt.X()>=3e8||n.ee.size+n.ne.size+n.se.size>0}(a,c,e)&&s.push(n.Ka.ya(t,c))}}}));var a=Dt(),u=Ft();if(e.Yt.forEach((function(t,e){u=u.add(t)})),s.push(o.getEntries(t,u).next((function(i){e.Yt.forEach((function(u,c){var l=i.get(u);c instanceof On&&c.version.isEqual(ut.min())?(o.Ar(u,r),a=a.ot(u,c)):null==l||c.version.L(l.version)>0||0===c.version.L(l.version)&&l.hasPendingWrites?(o.Er(c,r),a=a.ot(u,c)):p("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version),e.Jt.has(u)&&s.push(n.persistence.No.yc(t,u))}))}))),!r.isEqual(ut.min())){var c=n.Ka.Ea(t).next((function(e){return n.Ka.Aa(t,t.xa,r)}));s.push(c)}return pr.$n(s).next((function(){return o.apply(t)})).next((function(){return n.Cc.Mr(t,a)}))})).then((function(t){return n.bc=i,t}))}function bo(t,e){var n=_(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Sr.Bo(t,e)}))}function _o(t,e){var n=_(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.Ka.va(t,e).next((function(i){return i?pr.resolve(r=i):n.Ka.wa(t).next((function(i){return r=new bt(e,i,0,t.xa),n.Ka.Ra(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.bc.get(t.targetId);return(null===r||t.nt.L(r.nt)>0)&&(n.bc=n.bc.ot(t.targetId,t),n.vc.set(e,t.targetId)),t}))}function wo(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a;return r.__generator(this,(function(r){switch(r.label){case 0:i=_(t),o=i.bc.get(e),s=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",s,(function(t){return i.persistence.No.removeTarget(t,o)}))];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!yr(a=r.sent()))throw a;return p("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return i.bc=i.bc.remove(e),i.vc.delete(o.target),[2]}}))}))}function ko(t,e,n){var r=_(t),i=ut.min(),o=Ft();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=_(t),i=r.vc.get(n);return void 0!==i?pr.resolve(r.bc.get(i)):r.Ka.va(e,n)}(r,t,Bn(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Ka.Fa(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.Vc.Lr(t,e,n?i:ut.min(),n?o:Ft())})).next((function(t){return{documents:t,Fc:o}}))}))}function Co(t,e){var n=_(t),r=_(n.Ka),i=n.bc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Ue(t,e).next((function(t){return t?t.target:null}))}))}function Eo(t){var e=_(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=_(t),i=Dt(),o=vi(n),s=Pi(e),a=IDBKeyRange.lowerBound(o,!0);return s.rs({index:Hi.readTimeIndex,range:a},(function(t,e){var n=di(r.serializer,e);i=i.ot(n.key,n),o=e.readTime})).next((function(){return{xc:i,readTime:gi(o)}}))}(e.Dc,t,e.Sc)})).then((function(t){var n=t.xc;return e.Sc=t.readTime,n}))}function So(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){return[2,(e=_(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Pi(t),n=ut.min();return e.rs({index:Hi.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=gi(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Sc=t}))]}))}))}function Io(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){if(t.code!==l.FAILED_PRECONDITION||t.message!==Xr)throw t;return p("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var To=function(){function t(){this.$c=new It(Ao.kc),this.Mc=new It(Ao.Oc)}return t.prototype.m=function(){return this.$c.m()},t.prototype.Da=function(t,e){var n=new Ao(t,e);this.$c=this.$c.add(n),this.Mc=this.Mc.add(n)},t.prototype.Lc=function(t,e){var n=this;t.forEach((function(t){return n.Da(t,e)}))},t.prototype.Na=function(t,e){this.Bc(new Ao(t,e))},t.prototype.qc=function(t,e){var n=this;t.forEach((function(t){return n.Na(t,e)}))},t.prototype.Uc=function(t){var e=this,n=new A(new S([])),r=new Ao(n,t),i=new Ao(n,t+1),o=[];return this.Mc.Ft([r,i],(function(t){e.Bc(t),o.push(t.key)})),o},t.prototype.Qc=function(){var t=this;this.$c.forEach((function(e){return t.Bc(e)}))},t.prototype.Bc=function(t){this.$c=this.$c.delete(t),this.Mc=this.Mc.delete(t)},t.prototype.Wc=function(t){var e=new A(new S([])),n=new Ao(e,t),r=new Ao(e,t+1),i=Ft();return this.Mc.Ft([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Ho=function(t){var e=new Ao(t,0),n=this.$c.$t(e);return null!==n&&t.isEqual(n.key)},t}(),Ao=function(){function t(t,e){this.key=t,this.jc=e}return t.kc=function(t,e){return A.i(t.key,e.key)||Y(t.jc,e.jc)},t.Oc=function(t,e){return Y(t.jc,e.jc)||A.i(t.key,e.key)},t}(),Do=function(t,e){this.user=e,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+t},Oo=function(){function t(){this.Gc=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.zc=function(){},t.prototype.Hc=function(t){this.Gc=t,t(Lr.UNAUTHENTICATED)},t.prototype.Yc=function(){this.Gc=null},t}(),Po=function(){function t(t){var e=this;this.Jc=null,this.currentUser=Lr.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){e.Zc++,e.currentUser=e.tu(),e.Xc=!0,e.Gc&&e.Gc(e.currentUser)},this.Zc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),t.get().then((function(t){e.auth=t,e.Jc&&e.auth.addAuthTokenListener(e.Jc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.Zc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.Zc!==e?(p("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(b("string"==typeof n.accessToken),new Do(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.zc=function(){this.forceRefresh=!0},t.prototype.Hc=function(t){this.Gc=t,this.Xc&&t(this.currentUser)},t.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},t.prototype.tu=function(){var t=this.auth&&this.auth.getUid();return b(null===t||"string"==typeof t),new Lr(t)},t}(),xo=function(){function t(t,e){this.eu=t,this.nu=e,this.type="FirstParty",this.user=Lr.ni}return Object.defineProperty(t.prototype,"Kc",{get:function(){var t={"X-Goog-AuthUser":this.nu},e=this.eu.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),No=function(){function t(t,e){this.eu=t,this.nu=e}return t.prototype.getToken=function(){return Promise.resolve(new xo(this.eu,this.nu))},t.prototype.Hc=function(t){t(Lr.ni)},t.prototype.Yc=function(){},t.prototype.zc=function(){},t}(),Ro=function(){function t(t,e,n,r,i,o){this.fn=t,this.su=n,this.iu=r,this.ru=i,this.listener=o,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new dr(t,e)}return t.prototype.cu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.uu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.hu()},t.prototype.stop=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.lu=function(){this.state=0,this.ys.reset()},t.prototype._u=function(){var t=this;this.uu()&&null===this.au&&(this.au=this.fn.yn(this.su,6e4,(function(){return t.fu()})))},t.prototype.du=function(t){this.wu(),this.stream.send(t)},t.prototype.fu=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.uu()?[2,this.close(0)]:[2]}))}))},t.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},t.prototype.close=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,3!==t?this.ys.reset():e&&e.code===l.RESOURCE_EXHAUSTED?(v(e.toString()),v("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):e&&e.code===l.UNAUTHENTICATED&&this.ru.zc(),null!==this.stream&&(this.mu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.mu=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.Eu(this.ou),n=this.ou;this.ru.getToken().then((function(e){t.ou===n&&t.Iu(e)}),(function(n){e((function(){var e=new h(l.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Au(e)}))}))},t.prototype.Iu=function(t){var e=this,n=this.Eu(this.ou);this.stream=this.Ru(t),this.stream.gu((function(){n((function(){return e.state=2,e.listener.gu()}))})),this.stream.Tu((function(t){n((function(){return e.Au(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.hu=function(){var t=this;this.state=4,this.ys.gn((function(){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.Au=function(t){return p("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.Eu=function(t){var e=this;return function(n){e.fn.ws((function(){return e.ou===t?n():(p("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Fo=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return r.__extends(e,t),e.prototype.Ru=function(t){return this.iu.Pu("Listen",t)},e.prototype.onMessage=function(t){this.ys.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:y()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Qe?(b(void 0===e||"string"==typeof e),Z.fromBase64String(e||"")):(b(void 0===e||e instanceof Uint8Array),Z.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(t){var e=void 0===t.code?l.UNKNOWN:kt(t.code);return new h(e,t.message||"")}(s);n=new zt(r,i,o,a||null)}else if("documentChange"in e){var u=e.documentChange,c=Te(t,u.document.name),f=Ce(u.document.updateTime),d=new Sn({mapValue:{fields:u.document.fields}}),p=new Dn(c,f,d,{});n=new Wt(u.targetIds||[],u.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){var v=e.documentDelete,g=Te(t,v.document),m=v.readTime?Ce(v.readTime):ut.min(),_=new On(g,m);n=new Wt([],v.removedTargetIds||[],_.key,_)}else if("documentRemove"in e){var w=e.documentRemove,k=Te(t,w.document);n=new Wt([],w.removedTargetIds||[],k,null)}else{if(!("filter"in e))return y();var C=e.filter,E=new _t(C.count||0);n=new Ht(C.targetId,E)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return ut.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ut.min():e.readTime?Ce(e.readTime):ut.min()}(t);return this.listener.yu(e,n)},e.prototype.Vu=function(t){var e={};e.database=Oe(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=gt(r)?{documents:Fe(t,r)}:{query:Me(t,r)}).targetId=e.targetId,e.resumeToken.O()>0&&(n.resumeToken=we(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return y()}}(0,e.et);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.du(e)},e.prototype.pu=function(t){var e={};e.database=Oe(this.serializer),e.removeTarget=t,this.du(e)},e}(Ro),Mo=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s.bu=!1,s}return r.__extends(e,t),Object.defineProperty(e.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.mu=function(){this.bu&&this.Su([])},e.prototype.Ru=function(t){return this.iu.Pu("Write",t)},e.prototype.onMessage=function(t){if(b(!!t.streamToken),this.lastStreamToken=t.streamToken,this.bu){this.ys.reset();var e=function(t,e){return t&&t.length>0?(b(void 0!==e),t.map((function(t){return function(t,e){var n=Ce(t.updateTime?t.updateTime:e);n.isEqual(ut.min())&&(n=Ce(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new un(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Ce(t.commitTime);return this.listener.Du(n,e)}return b(!t.writeResults||0===t.writeResults.length),this.bu=!0,this.listener.Cu()},e.prototype.Nu=function(){var t={};t.database=Oe(this.serializer),this.du(t)},e.prototype.Su=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Ne(e.serializer,t)}))};this.du(n)},e}(Ro),Lo=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.iu=n,i.serializer=r,i.Fu=!1,i}return r.__extends(e,t),e.prototype.xu=function(){if(this.Fu)throw new h(l.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.$u=function(t,e,n){var r=this;return this.xu(),this.credentials.getToken().then((function(i){return r.iu.$u(t,e,n,i)})).catch((function(t){throw t.code===l.UNAUTHENTICATED&&r.credentials.zc(),t}))},e.prototype.ku=function(t,e,n){var r=this;return this.xu(),this.credentials.getToken().then((function(i){return r.iu.ku(t,e,n,i)})).catch((function(t){throw t.code===l.UNAUTHENTICATED&&r.credentials.zc(),t}))},e.prototype.terminate=function(){this.Fu=!1},e}((function(){})),Uo=function(){function t(t,e){this.cs=t,this.di=e,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return t.prototype.Bu=function(){var t=this;0===this.Mu&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,(function(){return t.Ou=null,t.Uu("Backend didn't respond within 10 seconds."),t.qu("Offline"),Promise.resolve()})))},t.prototype.Qu=function(t){"Online"===this.state?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+t.toString()),this.qu("Offline")))},t.prototype.set=function(t){this.Wu(),this.Mu=0,"Online"===t&&(this.Lu=!1),this.qu(t)},t.prototype.qu=function(t){t!==this.state&&(this.state=t,this.di(t))},t.prototype.Uu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Lu?(v(e),this.Lu=!1):p("OnlineStateTracker",e)},t.prototype.Wu=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},t}(),Vo=function(t,e,n,i,o){var s=this;this.ju=t,this.Ku=e,this.cs=n,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=o,this.Xu.Zu((function(t){n.ws((function(){return r.__awaiter(s,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return $o(this)?(p("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return(e=_(t)).Yu.add(4),[4,Bo(e)];case 1:return n.sent(),e.th.set("Unknown"),e.Yu.delete(4),[4,jo(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.th=new Uo(n,i)};function jo(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){switch(r.label){case 0:if(!$o(t))return[3,4];e=0,n=t.Ju,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Bo(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){switch(r.label){case 0:e=0,n=t.Ju,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function qo(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return e=_(t),p("RemoteStore","RemoteStore shutting down."),e.Yu.add(5),[4,Bo(e)];case 1:return n.sent(),e.Xu.Di(),e.th.set("Unknown"),[2]}}))}))}function Wo(t,e){var n=_(t);n.Hu.has(e.targetId)||(n.Hu.set(e.targetId,e),Qo(n)?Ko(n):ls(n).uu()&&zo(n,e))}function Ho(t,e){var n=_(t),r=ls(n);n.Hu.delete(e),r.uu()&&Go(n,e),0===n.Hu.size&&(r.uu()?r._u():$o(n)&&n.th.set("Unknown"))}function zo(t,e){t.eh.Ie(e.targetId),ls(t).Vu(e)}function Go(t,e){t.eh.Ie(e),ls(t).pu(e)}function Ko(t){t.eh=new Kt({qe:function(e){return t.Gu.qe(e)},Ue:function(e){return t.Hu.get(e)||null}}),ls(t).start(),t.th.Bu()}function Qo(t){return $o(t)&&!ls(t).cu()&&t.Hu.size>0}function $o(t){return 0===_(t).Yu.size}function Yo(t){t.eh=void 0}function Jo(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return t.Hu.forEach((function(e,n){zo(t,e)})),[2]}))}))}function Xo(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){return Yo(t),Qo(t)?(t.th.Qu(e),Ko(t)):t.th.set("Unknown"),[2]}))}))}function Zo(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s;return r.__generator(this,(function(a){switch(a.label){case 0:if(t.th.set("Online"),!(e instanceof zt&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s;return r.__generator(this,(function(r){switch(r.label){case 0:n=e.cause,i=0,o=e.targetIds,r.label=1;case 1:return i<o.length?t.Hu.has(s=o[i])?[4,t.Gu.nh(s,n)]:[3,3]:[3,5];case 2:r.sent(),t.Hu.delete(s),t.eh.removeTarget(s),r.label=3;case 3:r.label=4;case 4:return i++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),p("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,ts(t,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Wt?t.eh.be(e):e instanceof Ht?t.eh.$e(e):t.eh.De(e),n.isEqual(ut.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,mo(t.ju)];case 8:return o=a.sent(),n.L(o)>=0?[4,function(t,e){var n=t.eh.Oe(e);return n.zt.forEach((function(n,r){if(n.resumeToken.O()>0){var i=t.Hu.get(r);i&&t.Hu.set(r,i.it(n.resumeToken,e))}})),n.Ht.forEach((function(e){var n=t.Hu.get(e);if(n){t.Hu.set(e,n.it(Z.B,n.nt)),Go(t,e);var r=new bt(n.target,e,1,n.sequenceNumber);zo(t,r)}})),t.Gu.sh(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return p("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,ts(t,s)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function ts(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i=this;return r.__generator(this,(function(o){switch(o.label){case 0:if(!yr(e))throw e;return t.Yu.add(1),[4,Bo(t)];case 1:return o.sent(),t.th.set("Offline"),n||(n=function(){return mo(t.ju)}),t.cs.Cs((function(){return r.__awaiter(i,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return p("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Yu.delete(1),[4,jo(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function es(t,e){return e().catch((function(n){return ts(t,n,e)}))}function ns(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o,s;return r.__generator(this,(function(r){switch(r.label){case 0:e=_(t),n=hs(e),i=e.zu.length>0?e.zu[e.zu.length-1].batchId:-1,r.label=1;case 1:if(!function(t){return $o(t)&&t.zu.length<10}(e))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,bo(e.ju,i)];case 3:return null===(o=r.sent())?(0===e.zu.length&&n._u(),[3,7]):(i=o.batchId,function(t,e){t.zu.push(e);var n=hs(t);n.uu()&&n.vu&&n.Su(e.mutations)}(e,o),[3,6]);case 4:return s=r.sent(),[4,ts(e,s)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return rs(e)&&is(e),[2]}}))}))}function rs(t){return $o(t)&&!hs(t).cu()&&t.zu.length>0}function is(t){hs(t).start()}function os(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return hs(t).Nu(),[2]}))}))}function ss(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i;return r.__generator(this,(function(r){for(e=hs(t),n=0,i=t.zu;n<i.length;n++)e.Su(i[n].mutations);return[2]}))}))}function as(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return i=t.zu.shift(),o=Yr.from(i,e,n),[4,es(t,(function(){return t.Gu.ih(o)}))];case 1:return r.sent(),[4,ns(t)];case 2:return r.sent(),[2]}}))}))}function us(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return e&&hs(t).vu?[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:return wt(i=e.code)&&i!==l.ABORTED?(n=t.zu.shift(),hs(t).lu(),[4,es(t,(function(){return t.Gu.rh(n.batchId,e)}))]):[3,3];case 1:return r.sent(),[4,ns(t)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return rs(t)&&is(t),[2]}}))}))}function cs(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n;return r.__generator(this,(function(r){switch(r.label){case 0:return n=_(t),e?(n.Yu.delete(2),[4,jo(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Yu.add(2),[4,Bo(n)]);case 3:r.sent(),n.th.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function ls(t){var e=this;return t.oh||(t.oh=function(t,e,n){var r=_(t);return r.xu(),new Fo(e,r.iu,r.credentials,r.serializer,n)}(t.Ku,t.cs,{gu:Jo.bind(null,t),Tu:Xo.bind(null,t),yu:Zo.bind(null,t)}),t.Ju.push((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return n?(t.oh.lu(),Qo(t)?Ko(t):t.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.oh.stop()];case 2:e.sent(),Yo(t),e.label=3;case 3:return[2]}}))}))}))),t.oh}function hs(t){var e=this;return t.ah||(t.ah=function(t,e,n){var r=_(t);return r.xu(),new Mo(e,r.iu,r.credentials,r.serializer,n)}(t.Ku,t.cs,{gu:os.bind(null,t),Tu:us.bind(null,t),Cu:ss.bind(null,t),Du:as.bind(null,t)}),t.Ju.push((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return n?(t.ah.lu(),[4,ns(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.ah.stop()];case 3:e.sent(),t.zu.length>0&&(p("RemoteStore","Stopping write stream with "+t.zu.length+" pending writes"),t.zu=[]),e.label=4;case 4:return[2]}}))}))}))),t.ah}var fs=function(t){this.key=t},ds=function(t){this.key=t},ps=function(){function t(t,e){this.query=t,this.uh=e,this.hh=null,this.te=!1,this.lh=Ft(),this.Wt=Ft(),this._h=$n(t),this.fh=new Ut(this._h)}return Object.defineProperty(t.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),t.prototype.wh=function(t,e){var n=this,r=e?e.mh:new Vt,i=e?e.fh:this.fh,o=e?e.Wt:this.Wt,s=i,a=!1,u=Fn(this.query)&&i.size===this.query.limit?i.last():null,c=Mn(this.query)&&i.size===this.query.limit?i.first():null;if(t.ht((function(t,e){var l=i.get(t),h=e instanceof Dn?e:null;h&&(h=Qn(n.query,h)?h:null);var f=!!l&&n.Wt.has(l.key),d=!!h&&(h.Je||n.Wt.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Th(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n._h(h,u)>0||c&&n._h(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),Fn(this.query)||Mn(this.query))for(;s.size>this.query.limit;){var l=Fn(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fh:s,mh:r,Eh:a,Wt:o}},t.prototype.Th=function(t,e){return t.Je&&e.hasCommittedMutations&&!e.Je},t.prototype.yr=function(t,e,n){var r=this,i=this.fh;this.fh=t.fh,this.Wt=t.Wt;var o=t.mh.Ut();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return y()}};return n(t)-n(e)}(t.type,e.type)||r._h(t.doc,e.doc)})),this.Ih(n);var s=e?this.Ah():[],a=0===this.lh.size&&this.te?1:0,u=a!==this.hh;return this.hh=a,0!==o.length||u?{snapshot:new jt(this.query,t.fh,i,o,t.Wt,0===a,u,!1),Rh:s}:{Rh:s}},t.prototype.Qs=function(t){return this.te&&"Offline"===t?(this.te=!1,this.yr({fh:this.fh,mh:new Vt,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},t.prototype.gh=function(t){return!this.uh.has(t)&&!!this.fh.has(t)&&!this.fh.get(t).Je},t.prototype.Ih=function(t){var e=this;t&&(t.ee.forEach((function(t){return e.uh=e.uh.add(t)})),t.ne.forEach((function(t){})),t.se.forEach((function(t){return e.uh=e.uh.delete(t)})),this.te=t.te)},t.prototype.Ah=function(){var t=this;if(!this.te)return[];var e=this.lh;this.lh=Ft(),this.fh.forEach((function(e){t.gh(e.key)&&(t.lh=t.lh.add(e.key))}));var n=[];return e.forEach((function(e){t.lh.has(e)||n.push(new ds(e))})),this.lh.forEach((function(t){e.has(t)||n.push(new fs(t))})),n},t.prototype.Ph=function(t){this.uh=t.Fc,this.lh=Ft();var e=this.wh(t.documents);return this.yr(e,!0)},t.prototype.yh=function(){return jt.Gt(this.query,this.fh,this.Wt,0===this.hh)},t}(),vs=function(t,e,n){this.query=t,this.targetId=e,this.view=n},gs=function(t){this.key=t,this.Vh=!1},ms=function(){function t(t,e,n,r,i,o){this.ju=t,this.ph=e,this.bh=n,this.Sh=r,this.currentUser=i,this.Dh=o,this.Ch={},this.Nh=new st((function(t){return Gn(t)}),zn),this.Fh=new Map,this.xh=[],this.$h=new Ct(A.i),this.kh=new Map,this.Mh=new To,this.Oh={},this.Lh=new Map,this.Bh=eo.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(t.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),t}();function ys(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a;return r.__generator(this,(function(r){switch(r.label){case 0:return n=Hs(t),(o=n.Nh.get(e))?(n.Sh.Oi(o.targetId),i=o.view.yh(),[3,4]):[3,1];case 1:return[4,_o(n.ju,Bn(e))];case 2:return s=r.sent(),a=n.Sh.Oi(s.targetId),[4,bs(n,e,s.targetId,"current"===a)];case 3:i=r.sent(),n.Uh&&Wo(n.ph,s),r.label=4;case 4:return[2,i]}}))}))}function bs(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,s,a,u,c,l;return r.__generator(this,(function(h){switch(h.label){case 0:return t.Qh=function(e,n,i){return function(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,s,a;return r.__generator(this,(function(r){switch(r.label){case 0:return(o=e.view.wh(n)).Eh?[4,ko(t.ju,e.query,!1).then((function(t){return e.view.wh(t.documents,o)}))]:[3,2];case 1:o=r.sent(),r.label=2;case 2:return s=i&&i.zt.get(e.targetId),a=e.view.yr(o,t.Uh,s),[2,(Os(t,e.targetId,a.Rh),a.snapshot)]}}))}))}(t,e,n,i)},[4,ko(t.ju,e,!0)];case 1:return o=h.sent(),s=new ps(e,o.Fc),a=s.wh(o.documents),u=qt.Zt(n,i&&"Offline"!==t.onlineState),c=s.yr(a,t.Uh,u),Os(t,n,c.Rh),l=new vs(e,n,s),[2,(t.Nh.set(e,l),t.Fh.has(n)?t.Fh.get(n).push(e):t.Fh.set(n,[e]),c.snapshot)]}}))}))}function _s(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return n=_(t),i=n.Nh.get(e),(o=n.Fh.get(i.targetId)).length>1?[2,(n.Fh.set(i.targetId,o.filter((function(t){return!zn(t,e)}))),void n.Nh.delete(e))]:n.Uh?(n.Sh.Bi(i.targetId),n.Sh.Fi(i.targetId)?[3,2]:[4,wo(n.ju,i.targetId,!1).then((function(){n.Sh.Ui(i.targetId),Ho(n.ph,i.targetId),As(n,i.targetId)})).catch(Io)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return As(n,i.targetId),[4,wo(n.ju,i.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))}function ws(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:n=_(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,yo(n.ju,e)];case 2:return i=r.sent(),e.zt.forEach((function(t,e){var r=n.kh.get(e);r&&(b(t.ee.size+t.ne.size+t.se.size<=1),t.ee.size>0?r.Vh=!0:t.ne.size>0?b(r.Vh):t.se.size>0&&(b(r.Vh),r.Vh=!1))})),[4,Ns(n,i,e)];case 3:return r.sent(),[3,6];case 4:return[4,Io(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function ks(t,e,n){var r=_(t);if(r.Uh&&0===n||!r.Uh&&1===n){var i=[];r.Nh.forEach((function(t,n){var r=n.view.Qs(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=_(t);n.onlineState=e;var r=!1;n.Bs.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Qs(e)&&(r=!0)})),r&&Fr(n)}(r.bh,e),i.length&&r.Ch.yu(i),r.onlineState=e,r.Uh&&r.Sh.Ki(e)}}function Cs(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return(i=_(t)).Sh.Qi(e,"rejected",n),o=i.kh.get(e),(s=o&&o.key)?(a=(a=new Ct(A.i)).ot(s,new On(s,ut.min())),u=Ft().add(s),c=new Bt(ut.min(),new Map,new It(Y),a,u),[4,ws(i,c)]):[3,2];case 1:return r.sent(),i.$h=i.$h.remove(s),i.kh.delete(e),xs(i),[3,4];case 2:return[4,wo(i.ju,e,!1).then((function(){return As(i,e,n)})).catch(Io)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))}function Es(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:n=_(t),i=e.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,go(n.ju,e)];case 2:return o=r.sent(),Ts(n,i,null),Is(n,i),n.Sh.ki(i,"acknowledged"),[4,Ns(n,o)];case 3:return r.sent(),[3,6];case 4:return[4,Io(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Ss(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o;return r.__generator(this,(function(r){switch(r.label){case 0:i=_(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(t,e){var n=_(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Sr.Oo(t,e).next((function(e){return b(null!==e),r=e.keys(),n.Sr.Wo(t,e)})).next((function(){return n.Sr.zo(t)})).next((function(){return n.Cc.kr(t,r)}))}))}(i.ju,e)];case 2:return o=r.sent(),Ts(i,e,n),Is(i,e),i.Sh.ki(e,"rejected",n),[4,Ns(i,o)];case 3:return r.sent(),[3,6];case 4:return[4,Io(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Is(t,e){(t.Lh.get(e)||[]).forEach((function(t){t.resolve()})),t.Lh.delete(e)}function Ts(t,e,n){var r=_(t),i=r.Oh[r.currentUser.ti()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Oh[r.currentUser.ti()]=i}}function As(t,e,n){void 0===n&&(n=null),t.Sh.Bi(e);for(var r=0,i=t.Fh.get(e);r<i.length;r++){var o=i[r];t.Nh.delete(o),n&&t.Ch.Wh(o,n)}t.Fh.delete(e),t.Uh&&t.Mh.Uc(e).forEach((function(e){t.Mh.Ho(e)||Ds(t,e)}))}function Ds(t,e){var n=t.$h.get(e);null!==n&&(Ho(t.ph,n),t.$h=t.$h.remove(e),t.kh.delete(n),xs(t))}function Os(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof fs?(t.Mh.Da(o.key,e),Ps(t,o)):o instanceof ds?(p("SyncEngine","Document no longer in limbo: "+o.key),t.Mh.Na(o.key,e),t.Mh.Ho(o.key)||Ds(t,o.key)):y()}}function Ps(t,e){var n=e.key;t.$h.get(n)||(p("SyncEngine","New document in limbo: "+n),t.xh.push(n),xs(t))}function xs(t){for(;t.xh.length>0&&t.$h.size<t.Dh;){var e=t.xh.shift(),n=t.Bh.next();t.kh.set(n,new gs(e)),t.$h=t.$h.ot(e,n),Wo(t.ph,new bt(Bn(Rn(e.path)),n,2,Ur.ai))}}function Ns(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a;return r.__generator(this,(function(u){switch(u.label){case 0:return i=_(t),o=[],s=[],a=[],i.Nh.m()?[3,3]:(i.Nh.forEach((function(t,r){a.push(i.Qh(r,e,n).then((function(t){if(t){i.Uh&&i.Sh.Qi(r.targetId,t.fromCache?"not-current":"current"),o.push(t);var e=ei.zr(r.targetId,t);s.push(e)}})))})),[4,Promise.all(a)]);case 1:return u.sent(),i.Ch.yu(o),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,u,c,l;return r.__generator(this,(function(r){switch(r.label){case 0:n=_(t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return pr.forEach(e,(function(e){return pr.forEach(e.Kr,(function(r){return n.persistence.No.Da(t,e.targetId,r)})).next((function(){return pr.forEach(e.Gr,(function(r){return n.persistence.No.Na(t,e.targetId,r)}))}))}))}))];case 2:return r.sent(),[3,4];case 3:if(!yr(i=r.sent()))throw i;return p("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(o=0,s=e;o<s.length;o++)u=(a=s[o]).targetId,a.fromCache||(c=n.bc.get(u),l=c.rt(c.nt),n.bc=n.bc.ot(u,l));return[2]}}))}))}(i.ju,s)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function Rs(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(o){switch(o.label){case 0:return(n=_(t)).currentUser.isEqual(e)?[3,3]:(p("SyncEngine","User change. New user:",e.ti()),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s;return r.__generator(this,(function(r){switch(r.label){case 0:return n=_(t),i=n.Sr,o=n.Cc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var r;return n.Sr.Uo(t).next((function(s){return r=s,i=n.persistence.mc(e),o=new ti(n.Dc,i,n.persistence.Ic()),i.Uo(t)})).next((function(e){for(var n=[],i=[],s=Ft(),a=0,u=r;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];i.push(p.batchId);for(var v=0,g=p.mutations;v<g.length;v++)s=s.add(g[v].key)}return o.kr(t,s).next((function(t){return{jh:t,Kh:n,Gh:i}}))}))}))];case 1:return s=r.sent(),[2,(n.Sr=i,n.Cc=o,n.Vc.Nc(n.Cc),s)]}}))}))}(n.ju,e)]);case 1:return i=o.sent(),n.currentUser=e,function(t,e){t.Lh.forEach((function(t){t.forEach((function(t){t.reject(new h(l.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Lh.clear()}(n),n.Sh.ji(e,i.Kh,i.Gh),[4,Ns(n,i.jh)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))}function Fs(t,e){var n=_(t),r=n.kh.get(e);if(r&&r.Vh)return Ft().add(r.key);var i=Ft(),o=n.Fh.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Nh.get(a[s]);i=i.kt(u.view.dh)}return i}function Ms(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,ko((n=_(t)).ju,e.query,!0)];case 1:return i=r.sent(),o=e.view.Ph(i),[2,(n.Uh&&Os(n,e.targetId,o.Rh),o)]}}))}))}function Ls(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,s;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,function(t,e){var n=_(t),r=_(n.Sr);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Lo(t,e).next((function(e){return e?n.Cc.kr(t,e):pr.resolve(null)}))}))}((o=_(t)).ju,e)];case 1:return null===(s=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,ns(o.ph)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Ts(o,e,i||null),Is(o,e),function(t,e){_(_(t).Sr).Ko(e)}(o.ju,e)):y(),r.label=4;case 4:return[4,Ns(o,s)];case 5:return r.sent(),[3,7];case 6:p("SyncEngine","Cannot apply mutation batch with id: "+e),r.label=7;case 7:return[2]}}))}))}function Us(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return Hs(n=_(t)),zs(n),!0!==e||!0===n.qh?[3,3]:(i=n.Sh.Ci(),[4,Vs(n,i.A())]);case 1:return o=r.sent(),n.qh=!0,[4,cs(n.ph,!0)];case 2:for(r.sent(),s=0,a=o;s<a.length;s++)Wo(n.ph,a[s]);return[3,7];case 3:return!1!==e||!1===n.qh?[3,7]:(u=[],c=Promise.resolve(),n.Fh.forEach((function(t,e){n.Sh.qi(e)?u.push(e):c=c.then((function(){return As(n,e),wo(n.ju,e,!0)})),Ho(n.ph,e)})),[4,c]);case 4:return r.sent(),[4,Vs(n,u)];case 5:return r.sent(),function(t){var e=_(t);e.kh.forEach((function(t,n){Ho(e.ph,n)})),e.Mh.Qc(),e.kh=new Map,e.$h=new Ct(A.i)}(n),n.qh=!1,[4,cs(n.ph,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))}function Vs(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,u,c,l,h,f,d,p,v;return r.__generator(this,(function(r){switch(r.label){case 0:n=_(t),i=[],o=[],s=0,a=e,r.label=1;case 1:return s<a.length?(c=void 0,(l=n.Fh.get(u=a[s]))&&0!==l.length?[4,_o(n.ju,Bn(l[0]))]:[3,7]):[3,13];case 2:c=r.sent(),h=0,f=l,r.label=3;case 3:return h<f.length?(d=n.Nh.get(f[h]),[4,Ms(n,d)]):[3,6];case 4:(p=r.sent()).snapshot&&o.push(p.snapshot),r.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Co(n.ju,u)];case 8:return v=r.sent(),[4,_o(n.ju,v)];case 9:return c=r.sent(),[4,bs(n,js(v),u,!1)];case 10:r.sent(),r.label=11;case 11:i.push(c),r.label=12;case 12:return s++,[3,1];case 13:return[2,(n.Ch.yu(o),i)]}}))}))}function js(t){return Nn(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Bs(t){var e=_(t);return _(_(e.ju).persistence).pi()}function qs(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,s,a;return r.__generator(this,(function(r){switch(r.label){case 0:return(o=_(t)).qh?(p("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Fh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Eo(o.ju)];case 3:return s=r.sent(),a=Bt.Xt(e,"current"===n),[4,Ns(o,s,a)];case 4:return r.sent(),[3,8];case 5:return[4,wo(o.ju,e,!0)];case 6:return r.sent(),As(o,e,i),[3,8];case 7:y(),r.label=8;case 8:return[2]}}))}))}function Ws(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a,u,c,l,h,f;return r.__generator(this,(function(d){switch(d.label){case 0:if(!(i=Hs(t)).qh)return[3,10];o=0,s=e,d.label=1;case 1:return o<s.length?i.Fh.has(a=s[o])?(p("SyncEngine","Adding an already active target "+a),[3,5]):[4,Co(i.ju,a)]:[3,6];case 2:return u=d.sent(),[4,_o(i.ju,u)];case 3:return c=d.sent(),[4,bs(i,js(u),c.targetId,!1)];case 4:d.sent(),Wo(i.ph,c),d.label=5;case 5:return o++,[3,1];case 6:l=function(t){return r.__generator(this,(function(e){switch(e.label){case 0:return i.Fh.has(t)?[4,wo(i.ju,t,!1).then((function(){Ho(i.ph,t),As(i,t)})).catch(Io)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,f=n,d.label=7;case 7:return h<f.length?[5,l(f[h])]:[3,10];case 8:d.sent(),d.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function Hs(t){var e=_(t);return e.ph.Gu.sh=ws.bind(null,e),e.ph.Gu.qe=Fs.bind(null,e),e.ph.Gu.nh=Cs.bind(null,e),e.Ch.yu=Nr.bind(null,e.bh),e.Ch.Wh=Rr.bind(null,e.bh),e}function zs(t){var e=_(t);return e.ph.Gu.ih=Es.bind(null,e),e.ph.Gu.rh=Ss.bind(null,e),e}var Gs=function(){function t(){}return t.prototype.Nc=function(t){this.zh=t},t.prototype.Lr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.on.length||1===t.on.length&&t.on[0].field.p())}(e)||n.isEqual(ut.min())?this.Hh(t,e):this.zh.kr(t,r).next((function(s){var a=i.Yh(e,s);return(Fn(e)||Mn(e))&&i.Eh(e.an,a,r,n)?i.Hh(t,e):(d()<=o.LogLevel.DEBUG&&p("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Kn(e)),i.zh.Lr(t,e,n).next((function(t){return a.forEach((function(e){t=t.ot(e.key,e)})),t})))}))},t.prototype.Yh=function(t,e){var n=new It($n(t));return e.forEach((function(e,r){r instanceof Dn&&Qn(t,r)&&(n=n.add(r))})),n},t.prototype.Eh=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.L(r)>0)},t.prototype.Hh=function(t,e){return d()<=o.LogLevel.DEBUG&&p("IndexFreeQueryEngine","Using full collection scan to execute query:",Kn(e)),this.zh.Lr(t,e,ut.min())},t}(),Ks=function(){function t(t,e){this.Dr=t,this.No=e,this.Sr=[],this.Jh=1,this.Xh=new It(Ao.kc)}return t.prototype.$o=function(t){return pr.resolve(0===this.Sr.length)},t.prototype.ko=function(t,e,n,r){var i=this.Jh;this.Jh++;var o=new $r(i,e,n,r);this.Sr.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.Xh=this.Xh.add(new Ao(u.key,i)),this.Dr.Mo(t,u.key.path.h())}return pr.resolve(o)},t.prototype.Oo=function(t,e){return pr.resolve(this.Zh(e))},t.prototype.Bo=function(t,e){var n=this.tl(e+1),r=n<0?0:n;return pr.resolve(this.Sr.length>r?this.Sr[r]:null)},t.prototype.qo=function(){return pr.resolve(0===this.Sr.length?-1:this.Jh-1)},t.prototype.Uo=function(t){return pr.resolve(this.Sr.slice())},t.prototype.Nr=function(t,e){var n=this,r=new Ao(e,0),i=new Ao(e,Number.POSITIVE_INFINITY),o=[];return this.Xh.Ft([r,i],(function(t){var e=n.Zh(t.jc);o.push(e)})),pr.resolve(o)},t.prototype.Or=function(t,e){var n=this,r=new It(Y);return e.forEach((function(t){var e=new Ao(t,0),i=new Ao(t,Number.POSITIVE_INFINITY);n.Xh.Ft([e,i],(function(t){r=r.add(t.jc)}))})),pr.resolve(this.el(r))},t.prototype.Wr=function(t,e){var n=e.path,r=n.length+1,i=n;A.F(i)||(i=i.child(""));var o=new Ao(new A(i),0),s=new It(Y);return this.Xh.xt((function(t){var e=t.key.path;return!!n.T(e)&&(e.length===r&&(s=s.add(t.jc)),!0)}),o),pr.resolve(this.el(s))},t.prototype.el=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Zh(t);null!==r&&n.push(r)})),n},t.prototype.Wo=function(t,e){var n=this;b(0===this.nl(e.batchId,"removed")),this.Sr.shift();var r=this.Xh;return pr.forEach(e.mutations,(function(i){var o=new Ao(i.key,e.batchId);return r=r.delete(o),n.No.Go(t,i.key)})).next((function(){n.Xh=r}))},t.prototype.Ko=function(t){},t.prototype.Ho=function(t,e){var n=new Ao(e,0),r=this.Xh.$t(n);return pr.resolve(e.isEqual(r&&r.key))},t.prototype.zo=function(t){return pr.resolve()},t.prototype.nl=function(t,e){return this.tl(t)},t.prototype.tl=function(t){return 0===this.Sr.length?0:t-this.Sr[0].batchId},t.prototype.Zh=function(t){var e=this.tl(t);return e<0||e>=this.Sr.length?null:this.Sr[e]},t}(),Qs=function(){function t(t,e){this.Dr=t,this.sl=e,this.docs=new Ct(A.i),this.size=0}return t.prototype.Er=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.sl(e);return this.docs=this.docs.ot(r,{ta:e,size:s,readTime:n}),this.size+=s-o,this.Dr.Mo(t,r.path.h())},t.prototype.Ar=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Rr=function(t,e){var n=this.docs.get(e);return pr.resolve(n?n.ta:null)},t.prototype.getEntries=function(t,e){var n=this,r=Ot();return e.forEach((function(t){var e=n.docs.get(t);r=r.ot(t,e?e.ta:null)})),pr.resolve(r)},t.prototype.Lr=function(t,e,n){for(var r=xt(),i=new A(e.path.child("")),o=this.docs.ft(i);o.At();){var s=o.It(),a=s.value,u=a.ta,c=a.readTime;if(!e.path.T(s.key.path))break;c.L(n)<=0||u instanceof Dn&&Qn(e,u)&&(r=r.ot(u.key,u))}return pr.resolve(r)},t.prototype.il=function(t,e){return pr.forEach(this.docs,(function(t){return e(t)}))},t.prototype.ra=function(t){return new $s(this)},t.prototype.aa=function(t){return pr.resolve(this.size)},t}(),$s=function(t){function e(e){var n=this;return(n=t.call(this)||this).ca=e,n}return r.__extends(e,t),e.prototype.yr=function(t){var e=this,n=[];return this.wr.forEach((function(r,i){i?n.push(e.ca.Er(t,i,e.readTime)):e.ca.Ar(r)})),pr.$n(n)},e.prototype.gr=function(t,e){return this.ca.Rr(t,e)},e.prototype.Pr=function(t,e){return this.ca.getEntries(t,e)},e}(Jr),Ys=function(){function t(t){this.persistence=t,this.rl=new st((function(t){return pt(t)}),vt),this.lastRemoteSnapshotVersion=ut.min(),this.highestTargetId=0,this.ol=0,this.al=new To,this.targetCount=0,this.cl=eo.fa()}return t.prototype.Ce=function(t,e){return this.rl.forEach((function(t,n){return e(n)})),pr.resolve()},t.prototype.Ea=function(t){return pr.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ia=function(t){return pr.resolve(this.ol)},t.prototype.wa=function(t){return this.highestTargetId=this.cl.next(),pr.resolve(this.highestTargetId)},t.prototype.Aa=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ol&&(this.ol=e),pr.resolve()},t.prototype.ga=function(t){this.rl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.cl=new eo(e),this.highestTargetId=e),t.sequenceNumber>this.ol&&(this.ol=t.sequenceNumber)},t.prototype.Ra=function(t,e){return this.ga(e),this.targetCount+=1,pr.resolve()},t.prototype.ya=function(t,e){return this.ga(e),pr.resolve()},t.prototype.Va=function(t,e){return this.rl.delete(e.target),this.al.Uc(e.targetId),this.targetCount-=1,pr.resolve()},t.prototype.po=function(t,e,n){var r=this,i=0,o=[];return this.rl.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.rl.delete(s),o.push(r.pa(t,a.targetId)),i++)})),pr.$n(o).next((function(){return i}))},t.prototype.ba=function(t){return pr.resolve(this.targetCount)},t.prototype.va=function(t,e){var n=this.rl.get(e)||null;return pr.resolve(n)},t.prototype.Sa=function(t,e,n){return this.al.Lc(e,n),pr.resolve()},t.prototype.Ca=function(t,e,n){this.al.qc(e,n);var r=this.persistence.No,i=[];return r&&e.forEach((function(e){i.push(r.Go(t,e))})),pr.$n(i)},t.prototype.pa=function(t,e){return this.al.Uc(e),pr.resolve()},t.prototype.Fa=function(t,e){var n=this.al.Wc(e);return pr.resolve(n)},t.prototype.Ho=function(t,e){return pr.resolve(this.al.Ho(e))},t}(),Js=function(){function t(t){var e=this;this.ul={},this.Ma=new Ur(0),this.Oa=!1,this.Oa=!0,this.No=t(this),this.Ka=new Ys(this),this.Dr=new Ri,this.vr=function(t,n){return new Qs(t,(function(t){return e.No.hl(t)}))}(this.Dr)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),t.prototype.Za=function(){},t.prototype.tc=function(){},t.prototype.Ic=function(){return this.Dr},t.prototype.mc=function(t){var e=this.ul[t.ti()];return e||(e=new Ks(this.Dr,this.No),this.ul[t.ti()]=e),e},t.prototype.Tc=function(){return this.Ka},t.prototype.Ec=function(){return this.vr},t.prototype.runTransaction=function(t,e,n){var r=this;p("MemoryPersistence","Starting transaction:",t);var i=new Xs(this.Ma.next());return this.No.ll(),n(i).next((function(t){return r.No._l(i).next((function(){return t}))})).Fn().then((function(t){return i.br(),t}))},t.prototype.fl=function(t,e){return pr.kn(Object.values(this.ul).map((function(n){return function(){return n.Ho(t,e)}})))},t}(),Xs=function(t){function e(e){var n=this;return(n=t.call(this)||this).xa=e,n}return r.__extends(e,t),e}(Zr),Zs=function(){function t(t){this.persistence=t,this.dl=new To,this.wl=null}return t.ml=function(e){return new t(e)},Object.defineProperty(t.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw y()},enumerable:!1,configurable:!0}),t.prototype.Da=function(t,e,n){return this.dl.Da(n,e),this.Tl.delete(n.toString()),pr.resolve()},t.prototype.Na=function(t,e,n){return this.dl.Na(n,e),this.Tl.add(n.toString()),pr.resolve()},t.prototype.Go=function(t,e){return this.Tl.add(e.toString()),pr.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.dl.Uc(e.targetId).forEach((function(t){return n.Tl.add(t.toString())}));var r=this.persistence.Tc();return r.Fa(t,e.targetId).next((function(t){t.forEach((function(t){return n.Tl.add(t.toString())}))})).next((function(){return r.Va(t,e)}))},t.prototype.ll=function(){this.wl=new Set},t.prototype._l=function(t){var e=this,n=this.persistence.Ec().ra();return pr.forEach(this.Tl,(function(r){var i=A.D(r);return e.El(t,i).next((function(t){t||n.Ar(i)}))})).next((function(){return e.wl=null,n.apply(t)}))},t.prototype.yc=function(t,e){var n=this;return this.El(t,e).next((function(t){t?n.Tl.delete(e.toString()):n.Tl.add(e.toString())}))},t.prototype.hl=function(t){return 0},t.prototype.El=function(t,e){var n=this;return pr.kn([function(){return pr.resolve(n.dl.Ho(e))},function(){return n.persistence.Tc().Ho(t,e)},function(){return n.persistence.fl(t,e)}])},t}(),ta=function(){function t(t){this.Il=t.Il,this.Al=t.Al}return t.prototype.gu=function(t){this.Rl=t},t.prototype.Tu=function(t){this.gl=t},t.prototype.onMessage=function(t){this.Pl=t},t.prototype.close=function(){this.Al()},t.prototype.send=function(t){this.Il(t)},t.prototype.yl=function(){this.Rl()},t.prototype.Vl=function(t){this.gl(t)},t.prototype.pl=function(t){this.Pl(t)},t}(),ea={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},na=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.W=e.W,n}return r.__extends(e,t),e.prototype.Nl=function(t,e,n,r){return new Promise((function(i,o){var s=new a.XhrIo;s.listenOnce(a.EventType.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case a.ErrorCode.NO_ERROR:var e=s.getResponseJson();p("Connection","XHR received:",JSON.stringify(e)),i(e);break;case a.ErrorCode.TIMEOUT:p("Connection",'RPC "'+t+'" timed out'),o(new h(l.DEADLINE_EXCEEDED,"Request time out"));break;case a.ErrorCode.HTTP_ERROR:var n=s.getStatus();if(p("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(l).indexOf(e)>=0?e:l.UNKNOWN}(r.status);o(new h(u,r.message))}else o(new h(l.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new h(l.UNAVAILABLE,"Connection failed."));break;default:y()}}finally{p("Connection",'RPC "'+t+'" completed.')}}));var u=JSON.stringify(r);s.send(e,"POST",u,n,15)}))},e.prototype.Pu=function(t,e){var n=[this.vl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=a.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(i.initMessageHeaders,e),s.isMobileCordova()||s.isReactNative()||s.isElectron()||s.isIE()||s.isUWP()||s.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");p("Connection","Creating WebChannel: "+o,i);var u=r.createWebChannel(o,i),c=!1,f=!1,d=new ta({Il:function(t){f?p("Connection","Not sending because WebChannel is closed:",t):(c||(p("Connection","Opening WebChannel transport."),u.open(),c=!0),p("Connection","WebChannel sending:",t),u.send(t))},Al:function(){return u.close()}}),v=function(t,e){u.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return v(a.WebChannel.EventType.OPEN,(function(){f||p("Connection","WebChannel transport opened.")})),v(a.WebChannel.EventType.CLOSE,(function(){f||(f=!0,p("Connection","WebChannel transport closed"),d.Vl())})),v(a.WebChannel.EventType.ERROR,(function(t){f||(f=!0,g("Connection","WebChannel transport errored:",t),d.Vl(new h(l.UNAVAILABLE,"The operation could not be completed")))})),v(a.WebChannel.EventType.MESSAGE,(function(t){var e;if(!f){var n=t.data[0];b(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){p("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=mt[t];if(void 0!==e)return kt(e)}(i),s=r.message;void 0===o&&(o=l.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),f=!0,d.Vl(new h(o,s)),u.close()}else p("Connection","WebChannel received:",n),d.pl(n)}})),setTimeout((function(){d.yl()}),0),d},e}(function(){function t(t){this.bl=t,this.U=t.U,this.vl=(t.ssl?"https":"http")+"://"+t.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return t.prototype.$u=function(t,e,n,r){var i=this.Dl(t,e);p("RestConnection","Sending: ",i,n);var o={};return this.Cl(o,r),this.Nl(t,i,o,n).then((function(t){return p("RestConnection","Received: ",t),t}),(function(e){throw g("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.ku=function(t,e,n,r){return this.$u(t,e,n,r)},t.prototype.Cl=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",t["Content-Type"]="text/plain",e)for(var n in e.Kc)e.Kc.hasOwnProperty(n)&&(t[n]=e.Kc[n])},t.prototype.Dl=function(t,e){return this.vl+"/v1/"+e+":"+ea[t]},t}()),ra=function(){function t(){var t=this;this.Fl=function(){return t.xl()},this.$l=function(){return t.kl()},this.Ml=[],this.Ol()}return t.prototype.Zu=function(t){this.Ml.push(t)},t.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},t.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},t.prototype.xl=function(){p("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ml;t<e.length;t++)(0,e[t])(0)},t.prototype.kl=function(){p("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ml;t<e.length;t++)(0,e[t])(1)},t.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),ia=function(){function t(){}return t.prototype.Zu=function(t){},t.prototype.Di=function(){},t}();function oa(t){return new ge(t,!0)}var sa="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",aa=function(){function t(){}return t.prototype.initialize=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.Sh=this.Ll(t),this.persistence=this.Bl(t),[4,this.persistence.start()];case 1:return e.sent(),this.ql=this.Ul(t),this.ju=this.Ql(t),[2]}}))}))},t.prototype.Ul=function(t){return null},t.prototype.Ql=function(t){return e=this.persistence,n=new Gs,new vo(e,n,t.Wl);var e,n},t.prototype.Bl=function(t){if(t.persistenceSettings.jl)throw new h(l.FAILED_PRECONDITION,sa);return new Js(Zs.ml)},t.prototype.Ll=function(t){return new Qr},t.prototype.terminate=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return t.sent(),[4,this.persistence.Di()];case 2:return t.sent(),[2]}}))}))},t.prototype.clearPersistence=function(t,e){throw new h(l.FAILED_PRECONDITION,sa)},t}(),ua=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.initialize=function(e){return r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return o.sent(),n=this.Kl.fi,this.Sh instanceof Kr?(this.Sh.fi={er:Ls.bind(null,n),nr:qs.bind(null,n),sr:Ws.bind(null,n),pi:Bs.bind(null,n)},[4,this.Sh.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.Xa((function(t){return r.__awaiter(i,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,Us(this.Kl.fi,t)];case 1:return e.sent(),this.ql&&(t&&!this.ql.Ei?this.ql.start(this.ju):t||this.ql.stop()),[2]}}))}))}))];case 4:return o.sent(),[2]}}))}))},e.prototype.Ll=function(t){if(t.persistenceSettings.jl&&t.persistenceSettings.synchronizeTabs){var e=Er();if(!Kr.Ln(e))throw new h(l.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=po(t.bl.U,t.bl.persistenceKey);return new Kr(e,t.cs,n,t.clientId,t.Wl)}return new Qr},e}(function(t){function e(e){var n=this;return(n=t.call(this)||this).Kl=e,n}return r.__extends(e,t),e.prototype.initialize=function(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,So(this.ju)];case 2:return n.sent(),[4,this.Kl.initialize(this,e)];case 3:return n.sent(),[4,zs(this.Kl.fi)];case 4:return n.sent(),[4,ns(this.Kl.ph)];case 5:return n.sent(),[2]}}))}))},e.prototype.Ul=function(t){return new si(this.persistence.No.wo,t.cs)},e.prototype.Bl=function(t){var e=po(t.bl.U,t.bl.persistenceKey),n=oa(t.bl.U);return new uo(t.persistenceSettings.synchronizeTabs,e,t.clientId,oi.ao(t.persistenceSettings.cacheSizeBytes),t.cs,Er(),Sr(),n,this.Sh,t.persistenceSettings.ka)},e.prototype.Ll=function(t){return new Qr},e.prototype.clearPersistence=function(t,e){return function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return vr.Ln()?[4,vr.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(po(t,e))},e}(aa)),ca=function(){function t(){}return t.prototype.initialize=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.ju?[3,2]:(this.ju=t.ju,this.Sh=t.Sh,this.Ku=this.Gl(e),this.ph=this.zl(e),this.bh=this.Hl(e),this.fi=this.Yl(e),this.Sh.di=function(t){return ks(n.fi,t,1)},this.ph.Gu.Jl=Rs.bind(null,this.fi),[4,cs(this.ph,this.fi.Uh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.Hl=function(t){return new Or},t.prototype.Gl=function(t){var e=oa(t.bl.U),n=new na(t.bl);return function(t,e,n){return new Lo(t,e,n)}(t.credentials,n,e)},t.prototype.zl=function(t){var e,n,r,i,o,s=this;return e=this.ju,n=this.Ku,r=t.cs,i=function(t){return ks(s.fi,t,0)},o=ra.Ln()?new ra:new ia,new Vo(e,n,r,i,o)},t.prototype.Yl=function(t){return function(t,e,n,r,i,o,s){var a=new ms(t,e,n,r,i,o);return s&&(a.qh=!0),a}(this.ju,this.ph,this.bh,this.Sh,t.Wl,t.Dh,!t.persistenceSettings.jl||!t.persistenceSettings.synchronizeTabs)},t.prototype.terminate=function(){return qo(this.ph)},t}(),la=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.Xl(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.Xl(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Zl=function(){this.muted=!0},t.prototype.Xl=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),ha=function(t){!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new h(l.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+K(1,"element")+".")}(0,t);for(var e=0;e<t.length;++e)if(N("FieldPath","string",e,t[e]),0===t[e].length)throw new h(l.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new T(t)},fa=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return r.__extends(e,t),e.documentId=function(){return new e(T.v().R())},e.prototype.isEqual=function(t){if(!(t instanceof e))throw H("isEqual","FieldPath",1,t);return this.t_.isEqual(t.t_)},e}(ha),da=new RegExp("[~\\*/\\[\\]]"),pa=function(t){this.e_=t},va=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.n_=function(t){if(2!==t.s_)throw t.i_(1===t.s_?this.e_+"() can only appear at the top level of your update data":this.e_+"() cannot be used with set() unless you pass {merge:true}");return t.We.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(pa);function ga(t,e,n){return new Aa({s_:3,r_:e.settings.r_,methodName:t.e_,o_:n},e.U,e.serializer,e.ignoreUndefinedProperties)}var ma=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.n_=function(t){return new an(t.path,new Je)},e.prototype.isEqual=function(t){return t instanceof e},e}(pa),ya=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).a_=n,r}return r.__extends(e,t),e.prototype.n_=function(t){var e=ga(this,t,!0),n=this.a_.map((function(t){return Ra(t,e)})),r=new Xe(n);return new an(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(pa),ba=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).a_=n,r}return r.__extends(e,t),e.prototype.n_=function(t){var e=ga(this,t,!0),n=this.a_.map((function(t){return Ra(t,e)})),r=new tn(n);return new an(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(pa),_a=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).c_=n,r}return r.__extends(e,t),e.prototype.n_=function(t){var e=new nn(t.serializer,be(t.serializer,this.c_));return new an(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(pa),wa=function(){function t(t,e){if(O("GeoPoint",arguments,2),N("GeoPoint","number",1,t),N("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new h(l.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new h(l.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.u_=t,this.h_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.u_===t.u_&&this.h_===t.h_},t.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},t.prototype.Y=function(t){return Y(this.u_,t.u_)||Y(this.h_,t.h_)},t}(),ka=function(t){this.l_=t},Ca=/^__.*__$/,Ea=function(t,e,n){this.__=t,this.f_=e,this.d_=n},Sa=function(){function t(t,e,n){this.data=t,this.We=e,this.fieldTransforms=n}return t.prototype.w_=function(t,e){var n=[];return n.push(null!==this.We?new yn(t,this.data,this.We,e):new mn(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new _n(t,this.fieldTransforms)),n},t}(),Ia=function(){function t(t,e,n){this.data=t,this.We=e,this.fieldTransforms=n}return t.prototype.w_=function(t,e){var n=[new yn(t,this.data,this.We,e)];return this.fieldTransforms.length>0&&n.push(new _n(t,this.fieldTransforms)),n},t}();function Ta(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw y()}}var Aa=function(){function t(t,e,n,r,i,o){this.settings=t,this.U=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.m_(),this.fieldTransforms=i||[],this.We=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),t.prototype.T_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},t.prototype.E_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.T_({path:n,o_:!1});return r.I_(t),r},t.prototype.A_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.T_({path:n,o_:!1});return r.m_(),r},t.prototype.R_=function(t){return this.T_({path:void 0,o_:!0})},t.prototype.i_=function(t){return ja(t,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},t.prototype.contains=function(t){return void 0!==this.We.find((function(e){return t.T(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.T(e.field)}))},t.prototype.m_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.I_(this.path.get(t))},t.prototype.I_=function(t){if(0===t.length)throw this.i_("Document fields must not be empty");if(Ta(this.s_)&&Ca.test(t))throw this.i_('Document fields cannot begin and end with "__"')},t}(),Da=function(){function t(t,e,n){this.U=t,this.ignoreUndefinedProperties=e,this.serializer=n||oa(t)}return t.prototype.P_=function(t,e,n,r){return void 0===r&&(r=!1),new Aa({s_:t,methodName:e,r_:n,path:T.P(),o_:!1,g_:r},this.U,this.serializer,this.ignoreUndefinedProperties)},t}();function Oa(t,e,n,r,i,o){void 0===o&&(o={});var s=t.P_(o.merge||o.mergeFields?2:0,e,n,i);La("Data must be an object, but it was:",s,r);var a,u,c=Fa(r,s);if(o.merge)a=new sn(s.We),u=s.fieldTransforms;else if(o.mergeFields){for(var f=[],d=0,p=o.mergeFields;d<p.length;d++){var v=p[d],g=void 0;if(v instanceof ha)g=v.t_;else{if("string"!=typeof v)throw y();g=Va(e,v,n)}if(!s.contains(g))throw new h(l.INVALID_ARGUMENT,"Field '"+g+"' is specified in your field mask but missing from your input data.");Ba(f,g)||f.push(g)}a=new sn(f),u=s.fieldTransforms.filter((function(t){return a.Ye(t.field)}))}else a=null,u=s.fieldTransforms;return new Sa(new Sn(c),a,u)}function Pa(t,e,n,r){var i=t.P_(1,e,n);La("Data must be an object, but it was:",i,r);var o=[],s=new In;k(r,(function(t,r){var a=Va(e,t,n),u=i.A_(a);if(r instanceof va||r instanceof ka&&r.l_ instanceof va)o.push(a);else{var c=Ra(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new sn(o);return new Ia(s.Xe(),a,i.fieldTransforms)}function xa(t,e,n,r,i,o){var s=t.P_(1,e,n),a=[Ua(e,r,n)],u=[i];if(o.length%2!=0)throw new h(l.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Ua(e,o[c])),u.push(o[c+1]);for(var f=[],d=new In,p=a.length-1;p>=0;--p)if(!Ba(f,a[p])){var v=a[p],g=u[p],m=s.A_(v);if(g instanceof va||g instanceof ka&&g.l_ instanceof va)f.push(v);else{var y=Ra(g,m);null!=y&&(f.push(v),d.set(v,y))}}var b=new sn(f);return new Ia(d.Xe(),b,s.fieldTransforms)}function Na(t,e,n,r){return void 0===r&&(r=!1),Ra(n,t.P_(r?4:3,e))}function Ra(t,e){if(t instanceof ka&&(t=t.l_),Ma(t))return La("Unsupported field value:",e,t),Fa(t,e);if(t instanceof pa)return function(t,e){if(!Ta(e.s_))throw e.i_(t.e_+"() can only be used with update() and set()");if(!e.path)throw e.i_(t.e_+"() is not currently supported inside arrays");var n=t.n_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.We.push(e.path),t instanceof Array){if(e.settings.o_&&4!==e.s_)throw e.i_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Ra(o[i],e.R_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return be(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=at.fromDate(t);return{timestampValue:_e(e.serializer,n)}}if(t instanceof at){var r=new at(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:_e(e.serializer,r)}}if(t instanceof wa)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof tt)return{bytesValue:we(e.serializer,t.q)};if(t instanceof Ea){var i=e.U,o=t.__;if(!o.isEqual(i))throw e.i_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Ee(t.__||e.U,t.f_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.i_("Unsupported field value: "+B(t))}(t,e)}function Fa(t,e){var n={};return C(t)?e.path&&e.path.length>0&&e.We.push(e.path):k(t,(function(t,r){var i=Ra(r,e.E_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Ma(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof at||t instanceof wa||t instanceof tt||t instanceof Ea||t instanceof pa)}function La(t,e,n){if(!Ma(n)||!j(n)){var r=B(n);throw e.i_("an object"===r?t+" a custom object":t+" "+r)}}function Ua(t,e,n){if(e instanceof ha)return e.t_;if("string"==typeof e)return Va(t,e);throw ja("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function Va(t,e,n){try{return function(t){if(t.search(da)>=0)throw new h(l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(fa.bind.apply(fa,r.__spreadArrays([void 0],t.split("."))))}catch(r){throw new h(l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).t_}catch(e){throw ja((i=e)instanceof Error?i.message:i.toString(),t,!1,void 0,n)}var i}function ja(t,e,n,r,i){var o=r&&!r.m(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new h(l.INVALID_ARGUMENT,(a+=". ")+t+u)}function Ba(t,e){return t.some((function(t){return t.isEqual(e)}))}var qa=function(){function t(t){this.Ku=t,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return t.prototype.v_=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:if(this.S_(),this.mutations.length>0)throw new h(l.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,u;return r.__generator(this,(function(r){switch(r.label){case 0:return n=_(t),i=Oe(n.serializer)+"/documents",o={documents:e.map((function(t){return Ie(n.serializer,t)}))},[4,n.ku("BatchGetDocuments",i,o)];case 1:return s=r.sent(),a=new Map,s.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){b(!!e.found);var n=Te(t,e.found.name),r=Ce(e.found.updateTime),i=new Sn({mapValue:{fields:e.found.fields}});return new Dn(n,r,i,{})}(t,e):"missing"in e?function(t,e){b(!!e.missing),b(!!e.readTime);var n=Te(t,e.missing),r=Ce(e.readTime);return new On(n,r)}(t,e):y()}(n.serializer,t);a.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=a.get(t.toString());b(!!e),u.push(e)})),u)]}}))}))}(this.Ku,t)];case 1:return[2,((e=i.sent()).forEach((function(t){t instanceof On||t instanceof Dn?n.D_(t):y()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.w_(t,this.Ge(t))),this.b_.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.w_(t,this.C_(t)))}catch(t){this.p_=t}this.b_.add(t.toString())},t.prototype.delete=function(t){this.write([new Cn(t,this.Ge(t))]),this.b_.add(t.toString())},t.prototype.commit=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(this.S_(),this.p_)throw this.p_;return t=this.y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=A.D(n);e.mutations.push(new En(r,e.Ge(r)))})),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return n=_(t),i=Oe(n.serializer)+"/documents",o={writes:e.map((function(t){return Ne(n.serializer,t)}))},[4,n.$u("Commit",i,o)];case 1:return r.sent(),[2]}}))}))}(this.Ku,this.mutations)];case 1:return n.sent(),this.V_=!0,[2]}}))}))},t.prototype.D_=function(t){var e;if(t instanceof Dn)e=t.version;else{if(!(t instanceof On))throw y();e=ut.min()}var n=this.y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new h(l.ABORTED,"Document version changed between two reads.")}else this.y_.set(t.key.toString(),e)},t.prototype.Ge=function(t){var e=this.y_.get(t.toString());return!this.b_.has(t.toString())&&e?cn.updateTime(e):cn.ze()},t.prototype.C_=function(t){var e=this.y_.get(t.toString());if(!this.b_.has(t.toString())&&e){if(e.isEqual(ut.min()))throw new h(l.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cn.updateTime(e)}return cn.exists(!0)},t.prototype.write=function(t){this.S_(),this.mutations=this.mutations.concat(t)},t.prototype.S_=function(){},t}(),Wa=function(){function t(t,e,n,r){this.cs=t,this.Ku=e,this.updateFunction=n,this.ls=r,this.N_=5,this.ys=new dr(this.cs,"transaction_retry")}return t.prototype.run=function(){this.F_()},t.prototype.F_=function(){var t=this;this.ys.gn((function(){return r.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return r.__generator(this,(function(r){return t=new qa(this.Ku),(e=this.x_(t))&&e.then((function(e){n.cs.ws((function(){return t.commit().then((function(){n.ls.resolve(e)})).catch((function(t){n.k_(t)}))}))})).catch((function(t){n.k_(t)})),[2]}))}))}))},t.prototype.x_=function(t){try{var e=this.updateFunction(t);return!ct(e)&&e.catch&&e.then?e:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.ls.reject(t),null}},t.prototype.k_=function(t){var e=this;this.N_>0&&this.M_(t)?(this.N_-=1,this.cs.ws((function(){return e.F_(),Promise.resolve()}))):this.ls.reject(t)},t.prototype.M_=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!wt(e)}return!1},t}(),Ha=function(){function t(t,e){this.credentials=t,this.cs=e,this.clientId=$.k(),this.O_=new fr}return t.prototype.start=function(t,e,n,i){var o=this;this.L_(),this.bl=t;var s=new fr,a=!1;return this.credentials.Hc((function(t){if(!a)return a=!0,p("FirestoreClient","Initializing. user=",t.uid),o.B_(e,n,i,t,s).then(o.O_.resolve,o.O_.reject);o.cs.Cs((function(){return function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:return(n=_(t)).cs.xs(),p("RemoteStore","RemoteStore received new credentials"),i=$o(n),n.Yu.add(3),[4,Bo(n)];case 1:return r.sent(),i&&n.th.set("Unknown"),[4,n.Gu.Jl(e)];case 2:return r.sent(),n.Yu.delete(3),[4,jo(n)];case 3:return r.sent(),[2]}}))}))}(o.ph,t)}))})),this.cs.ws((function(){return o.O_.promise})),s.promise},t.prototype.enableNetwork=function(){var t=this;return this.L_(),this.cs.enqueue((function(){return t.persistence.tc(!0),function(t){var e=_(t);return e.Yu.delete(0),jo(e)}(t.ph)}))},t.prototype.B_=function(t,e,n,i,o){return r.__awaiter(this,void 0,void 0,(function(){var s,a,u=this;return r.__generator(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),[4,t.initialize(s={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:i,Dh:100,persistenceSettings:n})];case 1:return c.sent(),[4,e.initialize(t,s)];case 2:return c.sent(),this.persistence=t.persistence,this.Sh=t.Sh,this.ju=t.ju,this.ql=t.ql,this.Ku=e.Ku,this.ph=e.ph,this.fi=e.fi,this.q_=e.bh,this.q_.Us=ys.bind(null,this.fi),this.q_.js=_s.bind(null,this.fi),this.persistence.Za((function(){return r.__awaiter(u,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),o.resolve(),[3,4];case 3:if(a=c.sent(),o.reject(a),!this.U_(a))throw a;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),this.B_(new aa,new ca,{jl:!1},i,o))];case 4:return[2]}}))}))},t.prototype.U_=function(t){return"FirebaseError"===t.name?t.code===l.FAILED_PRECONDITION||t.code===l.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.L_=function(){if(this.cs.ps)throw new h(l.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var t=this;return this.L_(),this.cs.enqueue((function(){return t.persistence.tc(!1),function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return(e=_(t)).Yu.add(0),[4,Bo(e)];case 1:return n.sent(),e.th.set("Offline"),[2]}}))}))}(t.ph)}))},t.prototype.terminate=function(){var t=this;this.cs.Ds();var e=new fr;return this.cs.bs((function(){return r.__awaiter(t,void 0,void 0,(function(){var t,n;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,qo(this.ph)];case 1:return r.sent(),[4,this.Sh.Di()];case 2:return r.sent(),[4,this.persistence.Di()];case 3:return r.sent(),this.credentials.Yc(),e.resolve(),[3,5];case 4:return t=r.sent(),n=Ar(t,"Failed to shutdown persistence"),e.reject(n),[3,5];case 5:return[2]}}))}))})),e.promise},t.prototype.waitForPendingWrites=function(){var t=this;this.L_();var e=new fr;return this.cs.ws((function(){return function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a;return r.__generator(this,(function(r){switch(r.label){case 0:$o((n=_(t)).ph)||p("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(t){var e=_(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Sr.qo(t)}))}(n.ju)];case 2:return-1===(i=r.sent())?[2,void e.resolve()]:((o=n.Lh.get(i)||[]).push(e),n.Lh.set(i,o),[3,4]);case 3:return s=r.sent(),a=Ar(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}(t.fi,e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.L_();var i=new la(n),o=new Mr(t,i,e);return this.cs.ws((function(){return Pr(r.q_,o)})),function(){i.Zl(),r.cs.ws((function(){return xr(r.q_,o)}))}},t.prototype.Q_=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return i.sent(),e=new fr,[2,(this.cs.ws((function(){return function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t,e){var n=_(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Cc.Cr(t,e)}))}(t,e)];case 1:return(i=r.sent())instanceof Dn?n.resolve(i):i instanceof On?n.resolve(null):n.reject(new h(l.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return o=r.sent(),s=Ar(o,"Failed to get document '"+e+" from cache"),n.reject(s),[3,3];case 3:return[2]}}))}))}(n.ju,t,e)})),e.promise)]}}))}))},t.prototype.W_=function(t,e){return void 0===e&&(e={}),r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return r.sent(),n=new fr,[2,(this.cs.ws((function(){return function(t,e,n,r,i){var o=new la({next:function(o){e.ws((function(){return xr(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new h(l.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new h(l.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Mr(Rn(n.path),o,{includeMetadataChanges:!0,Xs:!0});return Pr(t,s)}(i.q_,i.cs,t,e,n)})),n.promise)]}}))}))},t.prototype.j_=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return i.sent(),e=new fr,[2,(this.cs.ws((function(){return function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,ko(t,e,!0)];case 1:return i=r.sent(),o=new ps(e,i.Fc),s=o.wh(i.documents),a=o.yr(s,!1),n.resolve(a.snapshot),[3,3];case 2:return u=r.sent(),c=Ar(u,"Failed to execute query '"+e+" against cache"),n.reject(c),[3,3];case 3:return[2]}}))}))}(n.ju,t,e)})),e.promise)]}}))}))},t.prototype.K_=function(t,e){return void 0===e&&(e={}),r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return r.sent(),n=new fr,[2,(this.cs.ws((function(){return function(t,e,n,r,i){var o=new la({next:function(n){e.ws((function(){return xr(t,s)})),n.fromCache&&"server"===r.source?i.reject(new h(l.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Mr(n,o,{includeMetadataChanges:!0,Xs:!0});return Pr(t,s)}(i.q_,i.cs,t,e,n)})),n.promise)]}}))}))},t.prototype.write=function(t){var e=this;this.L_();var n=new fr;return this.cs.ws((function(){return function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a;return r.__generator(this,(function(r){switch(r.label){case 0:i=zs(t),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(t,e){var n,r=_(t),i=at.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Ft());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Cc.kr(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=pn(c,n.get(c.key));null!=l&&s.push(new yn(c.key,l,Tn(l.proto.mapValue),cn.exists(!0)))}return r.Sr.ko(t,i,s,e)}))})).then((function(t){var e=t.lr(n);return{batchId:t.batchId,wr:e}}))}(i.ju,e)];case 2:return o=r.sent(),i.Sh.xi(o.batchId),function(t,e,n){var r=t.Oh[t.currentUser.ti()];r||(r=new Ct(Y)),r=r.ot(e,n),t.Oh[t.currentUser.ti()]=r}(i,o.batchId,n),[4,Ns(i,o.wr)];case 3:return r.sent(),[4,ns(i.ph)];case 4:return r.sent(),[3,6];case 5:return s=r.sent(),a=Ar(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}(e.fi,t,n)})),n.promise},t.prototype.U=function(){return this.bl.U},t.prototype.G_=function(t){var e=this;this.L_();var n=new la(t);return this.cs.ws((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,function(t,e){_(t).qs.add(e),e.next()}(this.q_,n)]}))}))})),function(){n.Zl(),e.cs.ws((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,function(t,e){_(t).qs.delete(e)}(this.q_,n)]}))}))}))}},Object.defineProperty(t.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.L_();var n=new fr;return this.cs.ws((function(){return new Wa(e.cs,e.Ku,t,n).run(),Promise.resolve()})),n.promise},t}();function za(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Ga=function(){function t(t,e,n,r,i){this.U=t,this.timestampsInSnapshots=e,this.H_=n,this.Y_=r,this.J_=i}return t.prototype.X_=function(t){switch(Zt(t)){case 0:return null;case 1:return t.booleanValue;case 2:return se(t.integerValue||t.doubleValue);case 3:return this.Z_(t.timestampValue);case 4:return this.tf(t);case 5:return t.stringValue;case 6:return this.J_(ae(t.bytesValue));case 7:return this.ef(t.referenceValue);case 8:return this.nf(t.geoPointValue);case 9:return this.sf(t.arrayValue);case 10:return this.if(t.mapValue);default:throw y()}},t.prototype.if=function(t){var e=this,n={};return k(t.fields||{},(function(t,r){n[t]=e.X_(r)})),n},t.prototype.nf=function(t){return new wa(se(t.latitude),se(t.longitude))},t.prototype.sf=function(t){var e=this;return(t.values||[]).map((function(t){return e.X_(t)}))},t.prototype.tf=function(t){switch(this.H_){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return Yt(n)?t(n):n}(t);return null==e?null:this.X_(e);case"estimate":return this.Z_(Jt(t));default:return null}},t.prototype.Z_=function(t){var e=oe(t),n=new at(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.ef=function(t){var e=S.g(t);b(Ge(e));var n=new ot(e.get(1),e.get(3)),r=new A(e.u(5));return n.isEqual(this.U)||v("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(r)},t}(),Ka=oi.ho,Qa=function(){function t(t){var e,n,r,i,o;if(void 0===t.host){if(void 0!==t.ssl)throw new h(l.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else F("settings","non-empty string","host",t.host),this.host=t.host,M("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(W("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),M("settings","object","credentials",t.credentials),this.credentials=t.credentials,M("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),M("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?v("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&v("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=t.ignoreUndefinedProperties)&&void 0!==r&&r,M("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=oi._o;else{if(t.cacheSizeBytes!==Ka&&t.cacheSizeBytes<oi.lo)throw new h(l.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+oi.lo);this.cacheSizeBytes=t.cacheSizeBytes}M("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(i=t.experimentalForceLongPolling)&&void 0!==i&&i,M("settings","boolean","experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=null!==(o=t.experimentalAutoDetectLongPolling)&&void 0!==o&&o,function(t,e,n,r){if(!0===e&&!0===r)throw new h(l.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,t.experimentalForceLongPolling,0,t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),$a=function(){function t(e,n,i,o){var s=this;if(void 0===i&&(i=new aa),void 0===o&&(o=new ca),this.rf=i,this.af=o,this.cf=null,this.uf=new Tr,this.INTERNAL={delete:function(){return r.__awaiter(s,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var a=e;this.cf=a,this.__=t._f(a),this.ff=a.name,this.df=new Po(n)}else{var u=e;if(!u.projectId)throw new h(l.INVALID_ARGUMENT,"Must provide projectId");this.__=new ot(u.projectId,u.database),this.ff="[DEFAULT]",this.df=new Oo}this.wf=new Qa({})}return Object.defineProperty(t.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new Da(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){O("Firestore.settings",arguments,1),N("Firestore.settings","object",1,t),t.merge&&delete(t=Object.assign(Object.assign({},this.wf),t)).merge;var e=new Qa(t);if(this.lf&&!this.wf.isEqual(e))throw new h(l.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=e,void 0!==e.credentials&&(this.df=function(t){if(!t)return new Oo;switch(t.type){case"gapi":var e=t.client;return b(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new No(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new h(l.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},t.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.lf)throw new h(l.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&v("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,i=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,r&&i))throw new h(l.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:r,ka:i})},t.prototype.clearPersistence=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){if(void 0!==this.lf&&!this.lf.z_)throw new h(l.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return t=new fr,[2,(this.uf.bs((function(){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return n.sent(),t.resolve(),[3,3];case 2:return e=n.sent(),t.reject(e),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.hf(),za(t)?this.lf.G_(t):(N("Firestore.onSnapshotsInSync","function",1,t),this.lf.G_({next:t}))},t.prototype.hf=function(){return this.lf||this.Ef(new aa,new ca,{jl:!1}),this.lf},t.prototype.Af=function(){return new it(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},t.prototype.Ef=function(t,e,n){var r=this.Af();return this.lf=new Ha(this.df,this.uf),this.lf.start(r,t,e,n)},t._f=function(t){if(!Object.prototype.hasOwnProperty.call(t.options,"projectId"))throw new h(l.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e=t.options.projectId;if(!e||"string"!=typeof e)throw new h(l.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new ot(e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.cf)throw new h(l.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return O("Firestore.collection",arguments,1),N("Firestore.collection","non-empty string",1,t),this.hf(),new lu(S.g(t),this,null)},t.prototype.doc=function(t){return O("Firestore.doc",arguments,1),N("Firestore.doc","non-empty string",1,t),this.hf(),Xa.Rf(S.g(t),this,null)},t.prototype.collectionGroup=function(t){if(O("Firestore.collectionGroup",arguments,1),N("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new h(l.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new uu(function(t){return new xn(S.P(),t)}(t),this,null)},t.prototype.runTransaction=function(t){var e=this;return O("Firestore.runTransaction",arguments,1),N("Firestore.runTransaction","function",1,t),this.hf().transaction((function(n){return t(new Ya(e,n))}))},t.prototype.batch=function(){return this.hf(),new Ja(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(d()){case o.LogLevel.DEBUG:return"debug";case o.LogLevel.ERROR:return"error";case o.LogLevel.SILENT:return"silent";case o.LogLevel.WARN:return"warn";case o.LogLevel.INFO:return"info";case o.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),t.setLogLevel=function(t){O("Firestore.setLogLevel",arguments,1),U("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),f.setLogLevel(t)},t.prototype.gf=function(){return this.wf.timestampsInSnapshots},t.prototype.Pf=function(){return this.wf},t}(),Ya=function(){function t(t,e){this.yf=t,this.Vf=e}return t.prototype.get=function(t){var e=this;O("Transaction.get",arguments,1);var n=pu("Transaction.get",t,this.yf);return this.Vf.v_([n.f_]).then((function(t){if(!t||1!==t.length)return y();var r=t[0];if(r instanceof On)return new tu(e.yf,n.f_,null,!1,!1,n.d_);if(r instanceof Dn)return new tu(e.yf,n.f_,r,!1,!1,n.d_);throw y()}))},t.prototype.set=function(t,e,n){x("Transaction.set",arguments,2,3);var r=pu("Transaction.set",t,this.yf);n=hu("Transaction.set",n);var i=gu(r.d_,e,n),o=Oa(this.yf.mf,"Transaction.set",r.f_,i,null!==r.d_,n);return this.Vf.set(r.f_,o),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof fa?(P("Transaction.update",arguments,3),r=pu("Transaction.update",t,this.yf),i=xa(this.yf.mf,"Transaction.update",r.f_,e,n,o)):(O("Transaction.update",arguments,2),r=pu("Transaction.update",t,this.yf),i=Pa(this.yf.mf,"Transaction.update",r.f_,e)),this.Vf.update(r.f_,i),this},t.prototype.delete=function(t){O("Transaction.delete",arguments,1);var e=pu("Transaction.delete",t,this.yf);return this.Vf.delete(e.f_),this},t}(),Ja=function(){function t(t){this.yf=t,this.pf=[],this.bf=!1}return t.prototype.set=function(t,e,n){x("WriteBatch.set",arguments,2,3),this.vf();var r=pu("WriteBatch.set",t,this.yf);n=hu("WriteBatch.set",n);var i=gu(r.d_,e,n),o=Oa(this.yf.mf,"WriteBatch.set",r.f_,i,null!==r.d_,n);return this.pf=this.pf.concat(o.w_(r.f_,cn.ze())),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.vf(),"string"==typeof e||e instanceof fa?(P("WriteBatch.update",arguments,3),r=pu("WriteBatch.update",t,this.yf),i=xa(this.yf.mf,"WriteBatch.update",r.f_,e,n,o)):(O("WriteBatch.update",arguments,2),r=pu("WriteBatch.update",t,this.yf),i=Pa(this.yf.mf,"WriteBatch.update",r.f_,e)),this.pf=this.pf.concat(i.w_(r.f_,cn.exists(!0))),this},t.prototype.delete=function(t){O("WriteBatch.delete",arguments,1),this.vf();var e=pu("WriteBatch.delete",t,this.yf);return this.pf=this.pf.concat(new Cn(e.f_,cn.ze())),this},t.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},t.prototype.vf=function(){if(this.bf)throw new h(l.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Xa=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.__,e,r)||this).f_=e,i.firestore=n,i.d_=r,i.lf=i.firestore.hf(),i}return r.__extends(e,t),e.Rf=function(t,n,r){if(t.length%2!=0)throw new h(l.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.R()+" has "+t.length);return new e(new A(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new lu(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(O("DocumentReference.collection",arguments,1),N("DocumentReference.collection","non-empty string",1,t),!t)throw new h(l.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=S.g(t);return new lu(this.f_.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw H("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.f_.isEqual(t.f_)&&this.d_===t.d_},e.prototype.set=function(t,e){x("DocumentReference.set",arguments,1,2),e=hu("DocumentReference.set",e);var n=gu(this.d_,t,e),r=Oa(this.firestore.mf,"DocumentReference.set",this.f_,n,null!==this.d_,e);return this.lf.write(r.w_(this.f_,cn.ze()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof fa?(P("DocumentReference.update",arguments,2),n=xa(this.firestore.mf,"DocumentReference.update",this.f_,t,e,r)):(O("DocumentReference.update",arguments,1),n=Pa(this.firestore.mf,"DocumentReference.update",this.f_,t)),this.lf.write(n.w_(this.f_,cn.exists(!0)))},e.prototype.delete=function(){return O("DocumentReference.delete",arguments,0),this.lf.write([new Cn(this.f_,cn.ze())])},e.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];x("DocumentReference.onSnapshot",arguments,1,4);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||za(i[a])||(W("DocumentReference.onSnapshot",s=i[a],["includeMetadataChanges"]),M("DocumentReference.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),a++);var u={includeMetadataChanges:s.includeMetadataChanges};if(za(i[a])){var c=i[a];i[a]=null===(t=c.next)||void 0===t?void 0:t.bind(c),i[a+1]=null===(e=c.error)||void 0===e?void 0:e.bind(c),i[a+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}else N("DocumentReference.onSnapshot","function",a,i[a]),R("DocumentReference.onSnapshot","function",a+1,i[a+1]),R("DocumentReference.onSnapshot","function",a+2,i[a+2]);var l={next:function(t){i[a]&&i[a](r.Sf(t))},error:i[a+1],complete:i[a+2]};return this.lf.listen(Rn(this.f_.path),u,l)},e.prototype.get=function(t){var e=this;x("DocumentReference.get",arguments,0,1),du("DocumentReference.get",t);var n=this.firestore.hf();return t&&"cache"===t.source?n.Q_(this.f_).then((function(t){return new tu(e.firestore,e.f_,t,!0,t instanceof Dn&&t.Je,e.d_)})):n.W_(this.f_,t).then((function(t){return e.Sf(t)}))},e.prototype.withConverter=function(t){return new e(this.f_,this.firestore,t)},e.prototype.Sf=function(t){var e=t.docs.get(this.f_);return new tu(this.firestore,this.f_,e,t.fromCache,t.hasPendingWrites,this.d_)},e}(Ea),Za=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),tu=function(){function t(t,e,n,r,i,o){this.yf=t,this.f_=e,this.Df=n,this.Cf=r,this.Nf=i,this.d_=o}return t.prototype.data=function(t){var e=this;if(x("DocumentSnapshot.data",arguments,0,1),t=fu("DocumentSnapshot.data",t),this.Df){if(this.d_){var n=new eu(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(n,t)}return new Ga(this.yf.__,this.yf.gf(),t.serverTimestamps||"none",(function(t){return new Xa(t,e.yf,null)}),(function(t){return new rt(t)})).X_(this.Df.rn())}},t.prototype.get=function(t,e){var n=this;if(x("DocumentSnapshot.get",arguments,1,2),e=fu("DocumentSnapshot.get",e),this.Df){var r=this.Df.data().field(Ua("DocumentSnapshot.get",t,this.f_));if(null!==r)return new Ga(this.yf.__,this.yf.gf(),e.serverTimestamps||"none",(function(t){return new Xa(t,n.yf,n.d_)}),(function(t){return new rt(t)})).X_(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Xa(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Df},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Za(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","DocumentSnapshot",1,e);return this.yf===e.yf&&this.Cf===e.Cf&&this.f_.isEqual(e.f_)&&(null===this.Df?null===e.Df:this.Df.isEqual(e.Df))&&this.d_===e.d_},t}(),eu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(tu);function nu(t,e,n,r,i,o,s){var a;if(i.p()){if("array-contains"===o||"array-contains-any"===o)throw new h(l.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){ou(s,o);for(var u=[],c=0,f=s;c<f.length;c++)u.push(iu(r,t,f[c]));a={arrayValue:{values:u}}}else a=iu(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ou(s,o),a=Na(n,e,s,"in"===o||"not-in"===o);var d=Yn.create(i,o,a);return function(t,e){if(e.hn()){var n=Un(t);if(null!==n&&!n.isEqual(e.field))throw new h(l.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Ln(t);null!==r&&su(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new h(l.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,d),d}function ru(t,e,n){if(null!==t.startAt)throw new h(l.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new h(l.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new cr(e,n);return function(t,e){if(null===Ln(t)){var n=Un(t);null!==n&&su(0,n,e.field)}}(t,r),r}function iu(t,e,n){if("string"==typeof n){if(""===n)throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vn(e)&&-1!==n.indexOf("/"))throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(S.g(n));if(!A.F(r))throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ue(t,new A(r))}if(n instanceof Ea)return ue(t,n.f_);throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+B(n)+".")}function ou(t,e){if(!Array.isArray(t)||0===t.length)throw new h(l.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new h(l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===e||"array-contains-any"===e){if(t.indexOf(null)>=0)throw new h(l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new h(l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")}}function su(t,e,n){if(!n.isEqual(e))throw new h(l.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function au(t){if(Mn(t)&&0===t.on.length)throw new h(l.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var uu=function(){function t(t,e,n){this.Ff=t,this.firestore=e,this.d_=n}return t.prototype.where=function(e,n,r){O("Query.where",arguments,3),q("Query.where",3,r);var i=U("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,n),o=Ua("Query.where",e),s=nu(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,o,i,r);return new t(function(t,e){var n=t.filters.concat([e]);return new xn(t.path,t.collectionGroup,t.on.slice(),n,t.limit,t.an,t.startAt,t.endAt)}(this.Ff,s),this.firestore,this.d_)},t.prototype.orderBy=function(e,n){var r;if(x("Query.orderBy",arguments,1,2),R("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new h(l.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=Ua("Query.orderBy",e),o=ru(this.Ff,i,r);return new t(function(t,e){var n=t.on.concat([e]);return new xn(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(this.Ff,o),this.firestore,this.d_)},t.prototype.limit=function(e){return O("Query.limit",arguments,1),N("Query.limit","number",1,e),z("Query.limit",1,e),new t(qn(this.Ff,e,"F"),this.firestore,this.d_)},t.prototype.limitToLast=function(e){return O("Query.limitToLast",arguments,1),N("Query.limitToLast","number",1,e),z("Query.limitToLast",1,e),new t(qn(this.Ff,e,"L"),this.firestore,this.d_)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];P("Query.startAt",arguments,1);var i=this.xf("Query.startAt",e,n,!0);return new t(Wn(this.Ff,i),this.firestore,this.d_)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];P("Query.startAfter",arguments,1);var i=this.xf("Query.startAfter",e,n,!1);return new t(Wn(this.Ff,i),this.firestore,this.d_)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];P("Query.endBefore",arguments,1);var i=this.xf("Query.endBefore",e,n,!0);return new t(Hn(this.Ff,i),this.firestore,this.d_)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];P("Query.endAt",arguments,1);var i=this.xf("Query.endAt",e,n,!1);return new t(Hn(this.Ff,i),this.firestore,this.d_)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","Query",1,e);return this.firestore===e.firestore&&zn(this.Ff,e.Ff)&&this.d_===e.d_},t.prototype.withConverter=function(e){return new t(this.Ff,this.firestore,e)},t.prototype.xf=function(t,e,n,i){if(q(t,1,e),e instanceof tu)return O(t,r.__spreadArrays([e],n),1),function(t,e,n,r,i){if(!r)throw new h(l.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=jn(t);s<a.length;s++){var u=a[s];if(u.field.p())o.push(ue(e,r.key));else{var c=r.field(u.field);if(Yt(c))throw new h(l.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var f=u.field.R();throw new h(l.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+f+"' (used as the orderBy) does not exist.")}o.push(c)}}return new or(o,i)}(this.Ff,this.firestore.__,t,e.Df,i);var o=[e].concat(n);return function(t,e,n,r,i,o){var s=t.on;if(i.length>s.length)throw new h(l.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.p()){if("string"!=typeof c)throw new h(l.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Vn(t)&&-1!==c.indexOf("/"))throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var f=t.path.child(S.g(c));if(!A.F(f))throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+f+"' is not because it contains an odd number of segments.");var d=new A(f);a.push(ue(e,d))}else{var p=Na(n,r,c);a.push(p)}}return new or(a,o)}(this.Ff,this.firestore.__,this.firestore.mf,t,o,i)},t.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];x("Query.onSnapshot",arguments,1,4);var s={},a=0;if("object"!=typeof i[a]||za(i[a])||(W("Query.onSnapshot",s=i[a],["includeMetadataChanges"]),M("Query.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),a++),za(i[a])){var u=i[a];i[a]=null===(t=u.next)||void 0===t?void 0:t.bind(u),i[a+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),i[a+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}else N("Query.onSnapshot","function",a,i[a]),R("Query.onSnapshot","function",a+1,i[a+1]),R("Query.onSnapshot","function",a+2,i[a+2]);var c={next:function(t){i[a]&&i[a](new cu(r.firestore,r.Ff,t,r.d_))},error:i[a+1],complete:i[a+2]};return au(this.Ff),this.firestore.hf().listen(this.Ff,s,c)},t.prototype.get=function(t){var e=this;x("Query.get",arguments,0,1),du("Query.get",t),au(this.Ff);var n=this.firestore.hf();return(t&&"cache"===t.source?n.j_(this.Ff):n.K_(this.Ff,t)).then((function(t){return new cu(e.firestore,e.Ff,t,e.d_)}))},t}(),cu=function(){function t(t,e,n,r){this.yf=t,this.$f=e,this.kf=n,this.d_=r,this.Mf=null,this.Of=null,this.metadata=new Za(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;x("QuerySnapshot.forEach",arguments,1,2),N("QuerySnapshot.forEach","function",1,t),this.kf.docs.forEach((function(r){t.call(e,n.Lf(r,n.metadata.fromCache,n.kf.Wt.has(r.key)))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new uu(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){t&&(W("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),M("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.kf.Kt)throw new h(l.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===e||(this.Mf=function(t,e,n){if(t.Qt.m()){var r=0;return t.docChanges.map((function(e){return{type:"added",doc:n(e.doc,t.fromCache,t.Wt.has(e.doc.key)),oldIndex:-1,newIndex:r++}}))}var i=t.Qt;return t.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=n(e.doc,t.fromCache,t.Wt.has(e.doc.key)),o=-1,s=-1;return 0!==e.type&&(o=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(s=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:vu(e.type),doc:r,oldIndex:o,newIndex:s}}))}(this.kf,e,this.Lf.bind(this)),this.Of=e),this.Mf},t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","QuerySnapshot",1,e);return this.yf===e.yf&&zn(this.$f,e.$f)&&this.kf.isEqual(e.kf)&&this.d_===e.d_},t.prototype.Lf=function(t,e,n){return new eu(this.yf,t.key,t,e,n,this.d_)},t}(),lu=function(t){function e(e,n,r){var i=this;if((i=t.call(this,Rn(e),n,r)||this).Bf=e,e.length%2!=1)throw new h(l.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.R()+" has "+e.length);return i}return r.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.Ff.path.h();return t.m()?null:new Xa(new A(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){x("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=$.k()),N("CollectionReference.doc","non-empty string",1,t);var e=S.g(t);return Xa.Rf(this.Ff.path.child(e),this.firestore,this.d_)},e.prototype.add=function(t){O("CollectionReference.add",arguments,1);var e=this.d_?this.d_.toFirestore(t):t;N("CollectionReference.add","object",1,e);var n=this.doc();return new Xa(n.f_,this.firestore,null).set(e).then((function(){return n}))},e.prototype.withConverter=function(t){return new e(this.Bf,this.firestore,t)},e}(uu);function hu(t,e){if(void 0===e)return{merge:!1};if(W(t,e,["merge","mergeFields"]),M(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+B(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+B(r[o]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof fa}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new h(l.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function fu(t,e){return void 0===e?{}:(W(t,e,["serverTimestamps"]),L(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function du(t,e){R(t,"object",1,e),e&&(W(t,e,["source"]),L(t,0,"source",e.source,["default","server","cache"]))}function pu(t,e,n){if(e instanceof Ea){if(e.firestore!==n)throw new h(l.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw H(t,"DocumentReference",1,e)}function vu(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return y()}}function gu(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var mu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.serverTimestamp=function(){D("FieldValue.serverTimestamp",arguments);var t=new ma("serverTimestamp");return t.e_="FieldValue.serverTimestamp",new e(t)},e.delete=function(){D("FieldValue.delete",arguments);var t=new va("deleteField");return t.e_="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];P("FieldValue.arrayUnion",arguments,1);var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return P("arrayUnion()",arguments,1),new ya("arrayUnion",t)}).apply(void 0,t);return r.e_="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];P("FieldValue.arrayRemove",arguments,1);var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return P("arrayRemove()",arguments,1),new ba("arrayRemove",t)}).apply(void 0,t);return r.e_="FieldValue.arrayRemove",new e(r)},e.increment=function(t){N("FieldValue.increment","number",1,t),O("FieldValue.increment",arguments,1);var n=function(t){return new _a("increment",t)}(t);return n.e_="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.l_.isEqual(t.l_)},e}(ka),yu={Firestore:$a,GeoPoint:wa,Timestamp:at,Blob:rt,Transaction:Ya,WriteBatch:Ja,DocumentReference:Xa,DocumentSnapshot:tu,Query:uu,QueryDocumentSnapshot:eu,QuerySnapshot:cu,CollectionReference:lu,FieldPath:fa,FieldValue:mu,setLogLevel:$a.setLogLevel,CACHE_SIZE_UNLIMITED:Ka};function bu(t){!function(t,e){t.INTERNAL.registerComponent(new u.Component("firestore",(function(t){return function(t,e){var n=new ca,r=new ua(n);return new $a(t,e,r,n)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},yu)))}(t),t.registerVersion("@firebase/firestore","1.18.0")}bu(c.default),e.__PRIVATE_registerFirestore=bu},"9AGB":function(t,e,n){"use strict";var r=n("yoF8");function i(t){return 0===t.length?r.identity:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}e.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i(t)},e.pipeFromArray=i},ABqa:function(t,e,n){"use strict";var r=n("wj3C"),i=n("mrSG"),o=n("S+S0");var s,a=(s=r)&&"object"==typeof s&&"default"in s?s:{default:s},u={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},c=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return i.__extends(e,t),e}(Error),l=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(s){return[2,void 0]}return[2]}))}))},t.prototype.getContext=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e;return i.__generator(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}();function h(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var f,d,p,v=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"==typeof t||"object"==typeof t)return h(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"==typeof t||"object"==typeof t?h(t,(function(t){return e.decode(t)})):t},t}(),g=function(){function t(t,e,n,r,i){var o=this;void 0===r&&(r="us-central1"),this.app_=t,this.fetchImpl=i,this.serializer=new v,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new l(e,n),this.cancelAllRequests=new Promise((function(t){o.deleteService=function(){return t()}}));try{var a=new URL(r);this.customDomain=a.origin,this.region="us-central1"}catch(s){this.customDomain=null,this.region=r}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o;return i.__generator(this,(function(i){switch(i.label){case 0:n["Content-Type"]="application/json",i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=i.sent(),[3,4];case 3:return i.sent(),[2,{status:0,json:null}];case 4:o=null,i.label=5;case 5:return i.trys.push([5,7,,8]),[4,r.json()];case 6:return o=i.sent(),[3,8];case 7:return i.sent(),[3,8];case 8:return[2,{status:r.status,json:o}]}}))}))},t.prototype.call=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,a,l,h,f,d,p,v,g;return i.__generator(this,(function(i){switch(i.label){case 0:return r=this._url(t),e=this.serializer.encode(e),o={data:e},a={},[4,this.contextProvider.getContext()];case 1:return(l=i.sent()).authToken&&(a.Authorization="Bearer "+l.authToken),l.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=l.instanceIdToken),h=function(t){var e,n=new Promise((function(n,r){e=setTimeout((function(){r(new c("deadline-exceeded","deadline-exceeded"))}),t)}));return{timer:e,promise:n}}(n.timeout||7e4),f=h.timer,d=h.promise,[4,Promise.race([m(f,this.postJSON(r,o,a)),d,m(f,this.cancelAllRequests)])];case 2:if(!(p=i.sent()))throw new c("cancelled","Firebase Functions instance was deleted.");if(v=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var a=e&&e.error;if(a){var l=a.status;if("string"==typeof l){if(!u[l])return new c("internal","internal");r=u[l],i=l}var h=a.message;"string"==typeof h&&(i=h),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(s){}return"ok"===r?null:new c(r,i,o)}(p.status,p.json,this.serializer))throw v;if(!p.json)throw new c("internal","Response is not valid JSON object.");if(void 0===(g=p.json.data)&&(g=p.json.result),void 0===g)throw new c("internal","Response is missing data field.");return[2,{data:this.serializer.decode(g)}]}}))}))},t}();function m(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}f=a.default,d=fetch.bind(self),p={Functions:g},f.INTERNAL.registerComponent(new o.Component("functions",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("messaging");return new g(n,r,i,e,d)}),"PUBLIC").setServiceProps(p).setMultipleInstances(!0)),a.default.registerVersion("@firebase/functions","0.5.1")},FWf1:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=n("pshJ"),s=n("GiSu"),a=n("zB/H"),u=n("p//D"),c=n("n3uD"),l=n("MkmW"),h=function(t){function e(n,r,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=s.empty;break;case 1:if(!n){o.destination=s.empty;break}if("object"==typeof n){n instanceof e?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new f(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new f(o,n,r,i)}return o}return i(e,t),e.prototype[u.rxSubscriber]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(a.Subscription);e.Subscriber=h;var f=function(t){function e(e,n,r,i){var a,u=t.call(this)||this;u._parentSubscriber=e;var c=u;return o.isFunction(n)?a=n:n&&(a=n.next,r=n.error,i=n.complete,n!==s.empty&&(c=Object.create(n),o.isFunction(c.unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=a,u._error=r,u._complete=i,u}return i(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;c.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=c.config.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):l.hostReportError(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;l.hostReportError(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};c.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),c.config.useDeprecatedSynchronousErrorHandling)throw n;l.hostReportError(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!c.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return c.config.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(l.hostReportError(r),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(h);e.SafeSubscriber=f},FiyT:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});e.SubjectSubscription=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return i(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(n("zB/H").Subscription)},GMZp:function(t,e,n){"use strict";e.isObject=function(t){return null!==t&&"object"==typeof t}},GiSu:function(t,e,n){"use strict";var r=n("n3uD"),i=n("MkmW");e.empty={closed:!0,next:function(t){},error:function(t){if(r.config.useDeprecatedSynchronousErrorHandling)throw t;i.hostReportError(t)},complete:function(){}}},LBXl:function(t,e,n){"use strict";e.UnsubscriptionError=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}()},LOEa:function(t,e,n){(function(){var t,e=n("wj3C").default,r="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},i=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function o(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function s(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:o(t)}}!function(t,e){if(e){var n=i;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in n||(n[s]={}),n=n[s]}(e=e(o=n[t=t[t.length-1]]))!=o&&null!=e&&r(n,t,{configurable:!0,writable:!0,value:e})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var o=i.setTimeout;n.prototype.c=function(t){o(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.v),reject:t(this.g)}},e.prototype.v=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.o(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.m(t):this.h(t)}},e.prototype.m=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new n;return e.prototype.o=function(t){var e=this.f();t.Pa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Pa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Pa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=s(t),o=i.next();!o.done;o=i.next())r(o.value).Pa(e,n)}))},e.all=function(t){var n=s(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,r(i.value).Pa(o(s.length-1),e),i=n.next()}while(!i.done)}))},e}));var a=a||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,l=null;function h(){}function f(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function d(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==f(t)}function v(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,m)&&t[m]||(t[m]=++y)}var m="closure_uid_"+(1e9*Math.random()>>>0),y=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:_).apply(null,arguments)}function k(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var C=Date.now||function(){return+new Date};function E(t,e){function n(){}n.prototype=e.prototype,t.$a=e.prototype,t.prototype=new n,t.prototype.constructor=t}function S(t,e,n){this.code=A+t,this.message=e||D[t]||"",this.a=n||null}function I(t){var e=t&&t.code;return e?new S(e.substring(A.length),t.message,t.serverResponse):null}E(S,Error),S.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},S.prototype.toJSON=function(){return this.w()};var T,A="auth/",D={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},O={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function P(t){for(var e in O)if(O[e].id===t)return{firebaseEndpoint:(t=O[e]).Sa,secureTokenEndpoint:t.Ya,identityPlatformEndpoint:t.Va};return null}function x(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function N(t){if(Error.captureStackTrace)Error.captureStackTrace(this,N);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function R(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");N.call(this,n+t[r])}function F(t,e){throw new R("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function M(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function L(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function U(){this.b=this.a=null}T=P("__EID__")?"__EID__":void 0,E(N,Error),N.prototype.name="CustomError",E(R,N),R.prototype.name="AssertionError",M.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var V=new M((function(){return new B}),(function(t){t.reset()}));function j(){var t=me,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function B(){this.next=this.b=this.a=null}U.prototype.add=function(t,e){var n=V.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},B.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},B.prototype.reset=function(){this.next=this.b=this.a=null};var q=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},W=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},H=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},z=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},G=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function K(t,e){return 0<=q(t,e)}function Q(t,e){var n;return(n=0<=(e=q(t,e)))&&Array.prototype.splice.call(t,e,1),n}function $(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)}))}function Y(t){return Array.prototype.concat.apply([],arguments)}function J(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var X,Z=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},tt=/&/g,et=/</g,nt=/>/g,rt=/"/g,it=/'/g,ot=/\x00/g,st=/[\x00&<>"']/;function at(t,e){return-1!=t.indexOf(e)}function ut(t,e){return t<e?-1:t>e?1:0}t:{var ct=u.navigator;if(ct){var lt=ct.userAgent;if(lt){X=lt;break t}}X=""}function ht(t){return at(X,t)}function ft(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function dt(t){for(var e in t)return!1;return!0}function pt(t){var e,n={};for(e in t)n[e]=t[e];return n}var vt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<vt.length;o++)n=vt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function mt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(v(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;F("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function yt(t,e){this.a=t===wt&&e||"",this.b=_t}function bt(t){return t instanceof yt&&t.constructor===yt&&t.b===_t?t.a:(F("expected object of type Const, got '"+t+"'"),"type_error:Const")}yt.prototype.sa=!0,yt.prototype.ra=function(){return this.a},yt.prototype.toString=function(){return"Const{"+this.a+"}"};var _t={},wt={},kt=new yt(wt,"");function Ct(t,e){this.a=t===Dt&&e||"",this.b=At}function Et(t){return t instanceof Ct&&t.constructor===Ct&&t.b===At?t.a:(F("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}function St(t,e){var n=bt(t);if(!Tt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(It,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof yt?bt(t):encodeURIComponent(String(t))})),new Ct(Dt,t)}Ct.prototype.sa=!0,Ct.prototype.ra=function(){return this.a.toString()},Ct.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var It=/%{(\w+)}/g,Tt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,At={},Dt={};function Ot(t,e){this.a=t===Ft&&e||"",this.b=Rt}function Pt(t){return t instanceof Ot&&t.constructor===Ot&&t.b===Rt?t.a:(F("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}Ot.prototype.sa=!0,Ot.prototype.ra=function(){return this.a.toString()},Ot.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var xt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Nt(t){return t instanceof Ot?t:(t="object"==typeof t&&t.sa?t.ra():String(t),xt.test(t)||(t="about:invalid#zClosurez"),new Ot(Ft,t))}var Rt={},Ft={};function Mt(){this.a="",this.b=Ut}function Lt(t){return t instanceof Mt&&t.constructor===Mt&&t.b===Ut?t.a:(F("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}Mt.prototype.sa=!0,Mt.prototype.ra=function(){return this.a.toString()},Mt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ut={};function Vt(t){var e=new Mt;return e.a=t,e}Vt("<!DOCTYPE html>");var jt=Vt("");function Bt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function qt(t){return st.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(tt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(et,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(nt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(rt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(it,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(ot,"&#0;"))),t}function Wt(t){return Wt[" "](t),t}Vt("<br>"),Wt[" "]=h;var Ht,zt,Gt=ht("Opera"),Kt=ht("Trident")||ht("MSIE"),Qt=ht("Edge"),$t=Qt||Kt,Yt=ht("Gecko")&&!(at(X.toLowerCase(),"webkit")&&!ht("Edge"))&&!(ht("Trident")||ht("MSIE"))&&!ht("Edge"),Jt=at(X.toLowerCase(),"webkit")&&!ht("Edge");function Xt(){var t=u.document;return t?t.documentMode:void 0}t:{var Zt="",te=(zt=X,Yt?/rv:([^\);]+)(\)|;)/.exec(zt):Qt?/Edge\/([\d\.]+)/.exec(zt):Kt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(zt):Jt?/WebKit\/(\S+)/.exec(zt):Gt?/(?:Version)[ \/]?(\S+)/.exec(zt):void 0);if(te&&(Zt=te?te[1]:""),Kt){var ee=Xt();if(null!=ee&&ee>parseFloat(Zt)){Ht=String(ee);break t}}Ht=Zt}var ne,re={};function ie(t){return function(t,e){var n=re;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Z(String(Ht)).split("."),r=Z(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ut(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ut(0==s[2].length,0==a[2].length)||ut(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}ne=u.document&&Kt?Xt():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(zt){}var oe=!Kt||9<=Number(ne);function se(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ae(t,e){ft(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:le.hasOwnProperty(n)?t.setAttribute(le[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ue,ce,le={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function he(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!d(o)||v(o)&&0<o.nodeType?r(o):W(de(o)?J(o):o,r)}}function fe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function de(t){if(t&&"number"==typeof t.length){if(v(t))return"function"==typeof t.item||"string"==typeof t.item;if(p(t))return"function"==typeof t.item}return!1}function pe(t){u.setTimeout((function(){throw t}),0)}function ve(t,e){ce||function(){if(u.Promise&&u.Promise.resolve){var t=u.Promise.resolve(void 0);ce=function(){t.then(ye)}}else ce=function(){var t=ye;!p(u.setImmediate)||u.Window&&u.Window.prototype&&!ht("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(ue||(ue=function(){var t=u.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ht("Presto")&&(t=function(){var t=fe(document,"IFRAME");t.style.display="none",function(t){var e=new Ct(Dt,bt(kt));mt(t,"HTMLIFrameElement"),t.src=Et(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Lt(jt)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=w((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ht("Trident")&&!ht("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Fb;n.Fb=null,t()}},function(t){r.next={Fb:t},r=r.next,e.port2.postMessage(0)}}return function(t){u.setTimeout(t,0)}}()),ue(t)):u.setImmediate(t)}}(),ge||(ce(),ge=!0),me.add(t,e)}var ge=!1,me=new U;function ye(){for(var t;t=j();){try{t.a.call(t.b)}catch(e){pe(e)}L(V,t)}ge=!1}function be(t,e){if(this.a=_e,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){xe(n,we,t)}),(function(t){if(!(t instanceof Ve))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}xe(n,ke,t)}))}catch(r){xe(this,ke,r)}}var _e=0,we=2,ke=3;function Ce(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ce.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ee=new M((function(){return new Ce}),(function(t){t.reset()}));function Se(t,e,n){var r=Ee.get();return r.g=t,r.b=e,r.f=n,r}function Ie(t){if(t instanceof be)return t;var e=new be(h);return xe(e,we,t),e}function Te(t){return new be((function(e,n){n(t)}))}function Ae(t,e,n){Ne(t,e,n,null)||ve(k(e,t))}function De(t){return new be((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Ob:!0,value:o}:{Ob:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ae(t[o],k(i,o,!0),k(i,o,!1));else e(r)}))}function Oe(t,e){t.b||t.a!=we&&t.a!=ke||Re(t),t.f?t.f.next=e:t.b=e,t.f=e}function Pe(t,e,n,r){var i=Se(null,null,null);return i.a=new be((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ve?o(e):t(i)}catch(s){o(s)}}:o})),i.a.c=t,Oe(t,i),i.a}function xe(t,e,n){t.a==_e&&(t===n&&(e=ke,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Ne(n,t.Zc,t.$c,t)||(t.i=n,t.a=e,t.c=null,Re(t),e!=ke||n instanceof Ve||function(t,e){t.g=!0,ve((function(){t.g&&Ue.call(null,e)}))}(t,n)))}function Ne(t,e,n,r){if(t instanceof be)return Oe(t,Se(e||h,n||null,r)),!0;if(x(t))return t.then(e,n,r),!0;if(v(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(i,t))}),o)}catch(a){o(a)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Re(t){t.h||(t.h=!0,ve(t.fc,t))}function Fe(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Me(t,e,n,r){if(n==ke&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Le(e,n,r);else try{e.c?e.g.call(e.f):Le(e,n,r)}catch(i){Ue.call(null,i)}L(Ee,e)}function Le(t,e,n){e==we?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}be.prototype.then=function(t,e,n){return Pe(this,p(t)?t:null,p(e)?e:null,n)},be.prototype.$goog_Thenable=!0,(t=be.prototype).na=function(t,e){return(t=Se(t,t,e)).c=!0,Oe(this,t),this},t.s=function(t,e){return Pe(this,null,t,e)},t.cancel=function(t){if(this.a==_e){var e=new Ve(t);ve((function(){!function t(e,n){if(e.a==_e)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,a.a==e&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==_e&&1==i?t(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):Fe(r),Me(r,o,ke,n)))}e.c=null}else xe(e,ke,n)}(this,e)}),this)}},t.Zc=function(t){this.a=_e,xe(this,we,t)},t.$c=function(t){this.a=_e,xe(this,ke,t)},t.fc=function(){for(var t;t=Fe(this);)Me(this,t,this.a,this.i);this.h=!1};var Ue=pe;function Ve(t){N.call(this,t)}function je(){0!=Be&&(qe[g(this)]=this),this.xa=this.xa,this.oa=this.oa}E(Ve,N),Ve.prototype.name="cancel";var Be=0,qe={};function We(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=Be)){var e=g(t);if(0!=Be&&t.oa&&0<t.oa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete qe[e]}}je.prototype.xa=!1,je.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var He=Object.freeze||function(t){return t},ze=!Kt||9<=Number(ne),Ge=Kt&&!ie("9"),Ke=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",h,e),u.removeEventListener("test",h,e)}catch(n){}return t}();function Qe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function $e(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Yt){t:{try{Wt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ye[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Qe.prototype.preventDefault=function(){this.defaultPrevented=!0},E($e,Qe);var Ye=He({2:"touch",3:"pen",4:"mouse"});$e.prototype.preventDefault=function(){$e.$a.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ge)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},$e.prototype.g=function(){return this.a};var Je="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function Ze(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ua=i,this.key=++Xe,this.va=this.Oa=!1}function tn(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Ua=null}function en(t){this.src=t,this.a={},this.b=0}function nn(t,e){var n=e.type;n in t.a&&Q(t.a[n],e)&&(tn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function rn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Ua==r)return i}return-1}en.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=rn(t,e,r,i);return-1<s?(e=t[s],n||(e.Oa=!1)):((e=new Ze(e,this.src,o,!!r,i)).Oa=n,t.push(e)),e};var on="closure_lm_"+(1e6*Math.random()|0),sn={};function an(t,e,n,r,i){if(r&&r.once)cn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)an(t,e[o],n,r,i);else n=yn(n),t&&t[Je]?_n(t,e,n,v(r)?!!r.capture:!!r,i):un(t,e,n,!1,r,i)}function un(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=v(i)?!!i.capture:!!i,a=gn(t);if(a||(t[on]=a=new en(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=vn,e=ze?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ke||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(fn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function cn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=yn(n),t&&t[Je]?wn(t,e,n,v(r)?!!r.capture:!!r,i):un(t,e,n,!0,r,i)}function ln(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=yn(n),t&&t[Je]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=rn(o=t.a[e],n,r,i))&&(tn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=gn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=rn(e,n,r,i)),(n=-1<t?e[t]:null)&&hn(n))}function hn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Je])nn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(fn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=gn(e))?(nn(n,t),0==n.b&&(n.src=null,e[on]=null)):tn(t)}}}function fn(t){return t in sn?sn[t]:sn[t]="on"+t}function dn(t,e,n,r){var i=!0;if((t=gn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=pn(o,r),i=i&&!1!==o)}return i}function pn(t,e){var n=t.listener,r=t.Ua||t.src;return t.Oa&&hn(t),n.call(r,e)}function vn(t,e){if(t.va)return!0;if(!ze){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new $e(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=dn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=dn(r[i],t,!1,e),n=n&&o}return n}return pn(t,new $e(e,this))}function gn(t){return(t=t[on])instanceof en?t:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(t){return p(t)?t:(t[mn]||(t[mn]=function(e){return t.handleEvent(e)}),t[mn])}function bn(){je.call(this),this.v=new en(this),this.$b=this,this.fb=null}function _n(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function wn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function kn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.va&&s.capture==n){var a=s.listener,u=s.Ua||s.src;s.Oa&&nn(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function Cn(t,e,n){if(p(t))n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function En(t){var e=null;return new be((function(n,r){-1==(e=Cn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).s((function(t){throw u.clearTimeout(e),t}))}function Sn(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function In(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.V||"function"!=typeof t.V){if(d(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Tn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Tn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function An(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Dn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Dn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Dn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}E(bn,je),bn.prototype[Je]=!0,bn.prototype.addEventListener=function(t,e,n,r){an(this,t,e,n,r)},bn.prototype.removeEventListener=function(t,e,n,r){ln(this,t,e,n,r)},bn.prototype.dispatchEvent=function(t){var e,n=this.fb;if(n)for(e=[];n;n=n.fb)e.push(n);n=this.$b;var r=t.type||t;if("string"==typeof t)t=new Qe(t,n);else if(t instanceof Qe)t.target=t.target||n;else{var i=t;gt(t=new Qe(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=kn(s,r,!0,t)&&i}if(i=kn(s=t.b=n,r,!0,t)&&i,i=kn(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=kn(s=t.b=e[o],r,!1,t)&&i;return i},bn.prototype.Da=function(){if(bn.$a.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)tn(n[r]);delete e.a[t],e.b--}}this.fb=null},(t=Tn.prototype).V=function(){An(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return An(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Dn(this.b,t)?this.b[t]:e},t.set=function(t,e){Dn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var On=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pn(t,e){var n;this.a=this.l=this.f="",this.g=null,this.h=this.c="",this.i=!1,t instanceof Pn?(this.i=void 0!==e?e:t.i,xn(this,t.f),this.l=t.l,this.a=t.a,Nn(this,t.g),this.c=t.c,Rn(this,Zn(t.b)),this.h=t.h):t&&(n=String(t).match(On))?(this.i=!!e,xn(this,n[1]||"",!0),this.l=Vn(n[2]||""),this.a=Vn(n[3]||"",!0),Nn(this,n[4]),this.c=Vn(n[5]||"",!0),Rn(this,n[6]||"",!0),this.h=Vn(n[7]||"")):(this.i=!!e,this.b=new Kn(null,this.i))}function xn(t,e,n){t.f=n?Vn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Nn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Rn(t,e,n){e instanceof Kn?(t.b=e,function(t,e){e&&!t.f&&(Qn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Yn(this,e),Xn(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=jn(e,zn)),t.b=new Kn(e,t.i))}function Fn(t,e,n){t.b.set(e,n)}function Mn(t,e){return t.b.get(e)}function Ln(t){return t instanceof Pn?new Pn(t):new Pn(t,void 0)}function Un(t,e,n,r){var i=new Pn(null,void 0);return t&&xn(i,t),e&&(i.a=e),n&&Nn(i,n),r&&(i.c=r),i}function Vn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function jn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Bn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Bn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Pn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(jn(e,qn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(jn(e,qn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.c)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(jn(n,"/"==n.charAt(0)?Hn:Wn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",jn(n,Gn)),t.join("")},Pn.prototype.resolve=function(t){var e=new Pn(this),n=!!t.f;n?xn(e,t.f):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.c;if(n)Nn(e,t.g);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.a&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(at(i,"./")||at(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.b.toString(),n?Rn(e,Zn(t.b)):n=!!t.h,n&&(e.h=t.h),e};var qn=/[#\/\?@]/g,Wn=/[#\?:]/g,Hn=/[#\?]/g,zn=/[#\?@]/g,Gn=/#/g;function Kn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qn(t){t.a||(t.a=new Tn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function $n(t){var e=In(t);if(void 0===e)throw Error("Keys are undefined");var n=new Kn(null,void 0);t=Sn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Xn(n,i,o):n.add(i,o)}return n}function Yn(t,e){Qn(t),e=tr(t,e),Dn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Dn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&An(t)))}function Jn(t,e){return Qn(t),e=tr(t,e),Dn(t.a.b,e)}function Xn(t,e,n){Yn(t,e),0<n.length&&(t.c=null,t.a.set(tr(t,e),J(n)),t.b+=n.length)}function Zn(t){var e=new Kn;return e.c=t.c,t.a&&(e.a=new Tn(t.a),e.b=t.b),e}function tr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function er(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(s=n[i])&&(r.push(o),or(i,r),r.push(":"),t(e,s,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":or(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new nr,t,e),e.join("")}function nr(){}(t=Kn.prototype).add=function(t,e){Qn(this),this.c=null,t=tr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Qn(this),this.a.forEach((function(n,r){W(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Qn(this);for(var t=this.a.V(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){Qn(this);var e=[];if("string"==typeof t)Jn(this,t)&&(e=Y(e,this.a.get(tr(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=Y(e,t[n])}return e},t.set=function(t,e){return Qn(this),this.c=null,Jn(this,t=tr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var rr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ir=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function or(t,e){e.push('"',t.replace(ir,(function(t){var e=rr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),rr[t]=e),e})),'"')}function sr(){var t=Er();return Kt&&!!ne&&11==ne||/Edge\/\d+/.test(t)}function ar(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function ur(t,e){e=e||u.window;var n="about:blank";t&&(n=Pt(Nt(t))),e.location.href=n}function cr(t){return!!((t=(t||Er()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function lr(t){t=t||u.window;try{t.close()}catch(e){}}function hr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Er().toLowerCase(),r&&(e.target=r,at(n,"crios/")&&(e.target="_blank")),wr(Er())==_r&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ot?n:Nt(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ht("iPhone")&&!ht("iPod")&&!ht("iPad")||ht("iPad")||ht("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(mt(s=fe(document,"A"),"HTMLAnchorElement"),e instanceof Ot||e instanceof Ot||(e="object"==typeof e&&e.sa?e.ra():String(e),xt.test(e)||(e="about:invalid#zClosurez"),e=new Ot(Ft,e)),s.href=Pt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=r.open("",n,s),t=Pt(e),s&&($t&&at(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t=Vt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+qt(t)+'">'),r=s.document)&&(r.write(Lt(t)),r.close())):(s=r.open(Pt(e),n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var fr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dr=/^[^@]+@[^@]+$/;function pr(){var t=null;return new be((function(e){"complete"==u.document.readyState?e():(t=function(){e()},cn(window,"load",t))})).s((function(e){throw ln(window,"load",t),e}))}function vr(t){return t=t||Er(),!("file:"!==Dr()&&"ionic:"!==Dr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function gr(){var t=u.window;try{return!(!t||t==t.top)}catch(e){return!1}}function mr(){return void 0!==u.WorkerGlobalScope&&"function"==typeof u.importScripts}function yr(){return e.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":e.INTERNAL.hasOwnProperty("node")?"Node":mr()?"Worker":"Browser"}function br(){var t=yr();return"ReactNative"===t||"Node"===t}var _r="Firefox";function wr(t){var e=t.toLowerCase();return at(e,"opera/")||at(e,"opr/")||at(e,"opios/")?"Opera":at(e,"iemobile")?"IEMobile":at(e,"msie")||at(e,"trident/")?"IE":at(e,"edge/")?"Edge":at(e,"firefox/")?_r:at(e,"silk/")?"Silk":at(e,"blackberry")?"Blackberry":at(e,"webos")?"Webos":!at(e,"safari/")||at(e,"chrome/")||at(e,"crios/")||at(e,"android")?!at(e,"chrome/")&&!at(e,"crios/")||at(e,"edge/")?at(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"}var kr={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function Cr(t,e){e=e||[];var n,r=[],i={};for(n in kr)i[kr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=yr())?r=wr(i=Er()):"Worker"===r&&(r=wr(i=Er())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Er(){return u.navigator&&u.navigator.userAgent||""}function Sr(t,e){t=t.split("."),e=e||u;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Ir(){try{var t=u.localStorage,e=Rr();if(t)return t.setItem(e,"1"),t.removeItem(e),!sr()||!!u.indexedDB}catch(n){return mr()&&!!u.indexedDB}return!1}function Tr(){return(Ar()||"chrome-extension:"===Dr()||vr())&&!br()&&Ir()&&!mr()}function Ar(){return"http:"===Dr()||"https:"===Dr()}function Dr(){return u.location&&u.location.protocol||null}function Or(t){return!cr(t=t||Er())&&wr(t)!=_r}function Pr(t){return void 0===t?null:er(t)}function xr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Nr(t){if(null!==t)return JSON.parse(t)}function Rr(t){return t||Math.floor(1e9*Math.random()).toString()}function Fr(t){return"Safari"!=wr(t=t||Er())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Mr(){var t=u.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Lr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Er(),e=yr(),this.b=cr(t)||"ReactNative"===e}function Ur(){var t=u.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Vr(t){"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t)}function jr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Br(){return!(!Sr("fireauth.oauthhelper",u)&&!Sr("fireauth.iframe",u))}Lr.prototype.get=function(){var t=u.navigator;return!t||"boolean"!=typeof t.onLine||!Ar()&&"chrome-extension:"!==Dr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var qr,Wr={};function Hr(t){Wr[t]||(Wr[t]=!0,Vr(t))}try{var zr={};Object.defineProperty(zr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(zr,"abcd",{configurable:!0,enumerable:!0,value:2}),qr=2==zr.abcd}catch(zt){qr=!1}function Gr(t,e,n){qr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Kr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Gr(t,n,e[n])}function Qr(t){var e={};return Kr(e,t),e}function $r(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Gr(e,n,$r(t[n]));return e}function Yr(t){var e=t&&(t[ei]?"phone":null);if(!(e&&t&&t[ti]))throw new S("internal-error","Internal assert: invalid MultiFactorInfo object");Gr(this,"uid",t[ti]),Gr(this,"displayName",t[Xr]||null);var n=null;t[Zr]&&(n=new Date(t[Zr]).toUTCString()),Gr(this,"enrollmentTime",n),Gr(this,"factorId",e)}function Jr(t){try{var e=new ni(t)}catch(n){e=null}return e}Yr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Xr="displayName",Zr="enrolledAt",ti="mfaEnrollmentId",ei="phoneInfo";function ni(t){Yr.call(this,t),Gr(this,"phoneNumber",t[ei])}function ri(t){var e={},n=t[ai],r=t[ci],i=t[li];if(t=Jr(t[ui]),!i||i!=oi&&i!=si&&!n||i==si&&!r||i==ii&&!t)throw Error("Invalid checkActionCode response!");i==si?(e[fi]=n||null,e[pi]=n||null,e[hi]=r):(e[fi]=r||null,e[pi]=r||null,e[hi]=n||null),e[di]=t||null,Gr(this,gi,i),Gr(this,vi,$r(e))}E(ni,Yr),ni.prototype.w=function(){var t=ni.$a.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ii="REVERT_SECOND_FACTOR_ADDITION",oi="EMAIL_SIGNIN",si="VERIFY_AND_CHANGE_EMAIL",ai="email",ui="mfaInfo",ci="newEmail",li="requestType",hi="email",fi="fromEmail",di="multiFactorInfo",pi="previousEmail",vi="data",gi="operation";function mi(t){var e=Mn(t=Ln(t),yi)||null,n=Mn(t,bi)||null,r=Mn(t,ki)||null;if(r=r&&Ei[r]||null,!e||!n||!r)throw new S("argument-error",yi+", "+bi+"and "+ki+" are required in a valid action code URL.");Kr(this,{apiKey:e,operation:r,code:n,continueUrl:Mn(t,_i)||null,languageCode:Mn(t,wi)||null,tenantId:Mn(t,Ci)||null})}var yi="apiKey",bi="oobCode",_i="continueUrl",wi="languageCode",ki="mode",Ci="tenantId",Ei={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ii,signIn:oi,verifyAndChangeEmail:si,verifyEmail:"VERIFY_EMAIL"};function Si(t){try{return new mi(t)}catch(e){return null}}function Ii(t){var e=t[Pi];if(void 0===e)throw new S("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new S("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ti];if(n&&"object"==typeof n){e=n[Ri];var r=n[xi];if(n=n[Ni],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new S("argument-error",xi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new S("argument-error",Ni+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new S("argument-error",Ri+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new S("missing-android-pkg-name")}}else if(void 0!==n)throw new S("argument-error",Ti+" property must be a non null object when specified.");if(this.f=null,(e=t[Oi])&&"object"==typeof e){if("string"==typeof(e=e[Fi])&&e.length)this.f=e;else if(void 0!==e)throw new S("argument-error",Fi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new S("argument-error",Oi+" property must be a non null object when specified.");if(void 0!==(e=t[Di])&&"boolean"!=typeof e)throw new S("argument-error",Di+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ai])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new S("argument-error",Ai+" property must be a non empty string when specified.");this.i=t||null}var Ti="android",Ai="dynamicLinkDomain",Di="handleCodeInApp",Oi="iOS",Pi="url",xi="installApp",Ni="minimumVersion",Ri="packageName",Fi="bundleId";function Mi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Li=null;function Ui(t){var e=ji(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,C(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Vi(t){try{return new Ui(t)}catch(e){return null}}function ji(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Li[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Li){Li={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Li[o]&&(Li[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e+=String.fromCharCode(t)})),e}(t))}catch(r){}return null}Ui.prototype.S=function(){return this.f},Ui.prototype.i=function(){return this.b},Ui.prototype.toString=function(){return this.g};var Bi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),qi=["client_id","response_type","scope","redirect_uri","state"],Wi={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:qi},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:qi},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:qi},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:Bi},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function Hi(t){for(var e in Wi)if(Wi[e].fa==t)return Wi[e];return null}function zi(t){var e={};e["facebook.com"]=Yi,e["google.com"]=Xi,e["github.com"]=Ji,e["twitter.com"]=Zi;var n=t&&t[Ki];try{if(n)return e[n]?new e[n](t):new $i(t);if(void 0!==t[Gi])return new Qi(t)}catch(r){}return null}var Gi="idToken",Ki="providerId";function Qi(t){var e=t[Ki];if(!e&&t[Gi]){var n=Vi(t[Gi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Gr(this,"providerId",e),Gr(this,"isNewUser",n)}function $i(t){Qi.call(this,t),Gr(this,"profile",$r((t=Nr(t.rawUserInfo||"{}"))||{}))}function Yi(t){if($i.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ji(t){if($i.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Gr(this,"username",this.profile&&this.profile.login||null)}function Xi(t){if($i.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Zi(t){if($i.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Gr(this,"username",t.screenName||null)}function to(t){var e=Ln(t),n=Mn(e,"link"),r=Mn(Ln(n),"link");return e=Mn(e,"deep_link_id"),Mn(Ln(e),"link")||e||r||n||t}function eo(t,e){if(!t&&!e)throw new S("internal-error","Internal assert: no raw session string available");if(t&&e)throw new S("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?no:ro}E($i,Qi),E(Yi,$i),E(Ji,$i),E(Xi,$i),E(Zi,$i);var no="enroll",ro="signin";function io(){}function oo(t,e){return t.then((function(t){if(t[zs]){var n=Vi(t[zs]);if(!n||e!=n.h)throw new S("user-mismatch");return t}throw new S("user-mismatch")})).s((function(t){throw t&&t.code&&t.code==A+"user-not-found"?new S("user-mismatch"):t}))}function so(t,e){if(!e)throw new S("internal-error","failed to construct a credential");this.a=e,Gr(this,"providerId",t),Gr(this,"signInMethod",t)}function ao(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function uo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new so(t.providerId,t.pendingToken)}catch(e){}return null}function co(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Gr(this,"idToken",e.idToken),e.accessToken&&Gr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Gr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new S("internal-error","failed to construct a credential");Gr(this,"accessToken",e.oauthToken),Gr(this,"secret",e.oauthTokenSecret)}Gr(this,"providerId",t),Gr(this,"signInMethod",n)}function lo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:$n(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function ho(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new co(t.providerId,e,t.signInMethod)}catch(n){}}return null}function fo(t,e){this.Pc=e||[],Kr(this,{providerId:t,isOAuthProvider:!0}),this.Hb={},this.ob=(Hi(t)||{}).Ja||null,this.nb=null}function po(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new S("argument-error",'SAML provider IDs must be prefixed with "saml."');fo.call(this,t,[])}function vo(t){fo.call(this,t,qi),this.a=[]}function go(){vo.call(this,"facebook.com")}function mo(t){if(!t)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new go).credential({accessToken:e})}function yo(){vo.call(this,"github.com")}function bo(t){if(!t)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new yo).credential({accessToken:e})}function _o(){vo.call(this,"google.com"),this.Ca("profile")}function wo(t,e){var n=t;return v(t)&&(n=t.idToken,e=t.accessToken),(new _o).credential({idToken:n,accessToken:e})}function ko(){fo.call(this,"twitter.com",Bi)}function Co(t,e){var n=t;if(v(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new S("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new co("twitter.com",n,"twitter.com")}function Eo(t,e,n){this.a=t,this.f=e,Gr(this,"providerId","password"),Gr(this,"signInMethod",n===Io.EMAIL_LINK_SIGN_IN_METHOD?Io.EMAIL_LINK_SIGN_IN_METHOD:Io.EMAIL_PASSWORD_SIGN_IN_METHOD)}function So(t){return t&&t.email&&t.password?new Eo(t.email,t.password,t.signInMethod):null}function Io(){Kr(this,{providerId:"password",isOAuthProvider:!1})}function To(t,e){if(!(e=Ao(e)))throw new S("argument-error","Invalid email link!");return new Eo(t,e.code,Io.EMAIL_LINK_SIGN_IN_METHOD)}function Ao(t){return(t=Si(t=to(t)))&&t.operation===oi?t:null}function Do(t){if(!(t.cb&&t.bb||t.La&&t.ea))throw new S("internal-error");this.a=t,Gr(this,"providerId","phone"),this.fa="phone",Gr(this,"signInMethod","phone")}function Oo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return W(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Do(e)}return null}function Po(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.cb,code:t.a.bb}}function xo(t){try{this.a=t||e.auth()}catch(n){throw new S("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Kr(this,{providerId:"phone",isOAuthProvider:!1})}function No(t,e){if(!t)throw new S("missing-verification-id");if(!e)throw new S("missing-verification-code");return new Do({cb:t,bb:e})}function Ro(t){if(t.temporaryProof&&t.phoneNumber)return new Do({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return wo(o,n);case"facebook.com":return mo(n);case"github.com":return bo(n);case"twitter.com":return Co(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new so(e,s):new co(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new vo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Fo(t){if(!t.isOAuthProvider)throw new S("invalid-oauth-provider")}function Mo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new S("invalid-auth-event");if(this.g&&this.a)throw new S("invalid-auth-event");if(this.g&&!this.f)throw new S("invalid-auth-event")}function Lo(t){return(t=t||{}).type?new Mo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&I(t.error),t.postBody,t.tenantId):null}function Uo(){this.b=null,this.a=[]}eo.prototype.Ha=function(){return Ie(this.a?this.a:this.b)},eo.prototype.w=function(){return this.type==no?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},io.prototype.ja=function(){},io.prototype.b=function(){},io.prototype.c=function(){},io.prototype.w=function(){},so.prototype.ja=function(t){return fa(t,ao(this))},so.prototype.b=function(t,e){var n=ao(this);return n.idToken=e,da(t,n)},so.prototype.c=function(t,e){return oo(pa(t,ao(this)),e)},so.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},co.prototype.ja=function(t){return fa(t,lo(this))},co.prototype.b=function(t,e){var n=lo(this);return n.idToken=e,da(t,n)},co.prototype.c=function(t,e){return oo(pa(t,lo(this)),e)},co.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},fo.prototype.Ka=function(t){return this.Hb=pt(t),this},E(po,fo),E(vo,fo),vo.prototype.Ca=function(t){return K(this.a,t)||this.a.push(t),this},vo.prototype.Pb=function(){return J(this.a)},vo.prototype.credential=function(t,e){var n;if(!(n=v(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new S("argument-error","credential failed: must provide the ID token and/or the access token.");return new co(this.providerId,n,this.providerId)},E(go,vo),Gr(go,"PROVIDER_ID","facebook.com"),Gr(go,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),E(yo,vo),Gr(yo,"PROVIDER_ID","github.com"),Gr(yo,"GITHUB_SIGN_IN_METHOD","github.com"),E(_o,vo),Gr(_o,"PROVIDER_ID","google.com"),Gr(_o,"GOOGLE_SIGN_IN_METHOD","google.com"),E(ko,fo),Gr(ko,"PROVIDER_ID","twitter.com"),Gr(ko,"TWITTER_SIGN_IN_METHOD","twitter.com"),Eo.prototype.ja=function(t){return this.signInMethod==Io.EMAIL_LINK_SIGN_IN_METHOD?$a(t,ka,{email:this.a,oobCode:this.f}):$a(t,Ha,{email:this.a,password:this.f})},Eo.prototype.b=function(t,e){return this.signInMethod==Io.EMAIL_LINK_SIGN_IN_METHOD?$a(t,Ca,{idToken:e,email:this.a,oobCode:this.f}):$a(t,Ma,{idToken:e,email:this.a,password:this.f})},Eo.prototype.c=function(t,e){return oo(this.ja(t),e)},Eo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Kr(Io,{PROVIDER_ID:"password"}),Kr(Io,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Kr(Io,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Do.prototype.ja=function(t){return t.eb(Po(this))},Do.prototype.b=function(t,e){var n=Po(this);return n.idToken=e,$a(t,Ga,n)},Do.prototype.c=function(t,e){var n=Po(this);return n.operation="REAUTH",oo(t=$a(t,Ka,n),e)},Do.prototype.w=function(){var t={providerId:"phone"};return this.a.cb&&(t.verificationId=this.a.cb),this.a.bb&&(t.verificationCode=this.a.bb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},xo.prototype.eb=function(t,e){var n=this.a.a;return Ie(e.verify()).then((function(r){if("string"!=typeof r)throw new S("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=v(t)?t.session:null,o=v(t)?t.phoneNumber:t;return(i&&i.type==no?i.Ha().then((function(t){return function(t,e){return $a(t,Ua,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==ro?i.Ha().then((function(e){return function(t,e){return $a(t,Va,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return $a(t,Ra,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new S("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Kr(xo,{PROVIDER_ID:"phone"}),Kr(xo,{PHONE_SIGN_IN_METHOD:"phone"}),Mo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Mo.prototype.S=function(){return this.h},Mo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Vo,jo=null;function Bo(t){var e="unauthorized-domain",n=void 0,r=Ln(t);t=r.a,"chrome-extension"==(r=r.f)?n=Bt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Bt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",S.call(this,e,n)}function qo(t,e,n){S.call(this,t,n),(t=e||{}).Ib&&Gr(this,"email",t.Ib),t.ea&&Gr(this,"phoneNumber",t.ea),t.credential&&Gr(this,"credential",t.credential),t.Yb&&Gr(this,"tenantId",t.Yb)}function Wo(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:Ro(t),Yb:t.tenantId};if(t.email)n.Ib=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new S(e,t.message||void 0);return new qo(e,n,t.message)}return null}function Ho(){}function zo(){}function Go(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Ko(){}function Qo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.pc,this),this.a.onerror=w(this.Rb,this),this.a.onprogress=w(this.qc,this),this.a.ontimeout=w(this.uc,this)}function $o(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Yo(t,e,n){this.reset(t,e,n,void 0,void 0)}function Jo(t){this.f=t,this.b=this.c=this.a=null}function Xo(t,e){this.name=t,this.value=e}E(Bo,S),E(qo,S),qo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&gt(t,e),t},qo.prototype.toJSON=function(){return this.w()},Ho.prototype.c=null,E(zo,Ho),zo.prototype.a=function(){var t=Go(this);return t?new ActiveXObject(t):new XMLHttpRequest},zo.prototype.b=function(){var t={};return Go(this)&&(t[0]=!0,t[1]=!0),t},Vo=new zo,E(Ko,Ho),Ko.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Qo;throw Error("Unsupported browser")},Ko.prototype.b=function(){return{}},(t=Qo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,$o(this,4)},t.Rb=function(){this.status=500,this.response=this.responseText="",$o(this,4)},t.uc=function(){this.Rb()},t.qc=function(){this.status=200,$o(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Yo.prototype.a=null,Yo.prototype.reset=function(t,e,n,r,i){r||C(),delete this.a},Xo.prototype.toString=function(){return this.name};var Zo=new Xo("SEVERE",1e3),ts=new Xo("WARNING",900),es=new Xo("CONFIG",700),ns=new Xo("FINE",500);Jo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(F("Root logger has no level set."),null)}(this).value)for(p(e)&&(e=e()),t=new Yo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var rs={},is=null;function os(t){var e;if(is||(is=new Jo(""),rs[""]=is,is.c=es),!(e=rs[t])){e=new Jo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=os(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,rs[t]=e}return e}function ss(t,e){t&&t.log(ns,e,void 0)}function as(t){this.f=t}function us(t){bn.call(this),this.o=t,this.readyState=cs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=os("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}E(as,Ho),as.prototype.a=function(){return new us(this.f)},as.prototype.b=function(t){return function(){return t}}({}),E(us,bn);var cs=0;function ls(t){t.c.read().then(t.oc.bind(t)).catch(t.Ta.bind(t))}function hs(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,fs(t)}function fs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ds(t){bn.call(this),this.headers=new Tn,this.O=t||null,this.c=!1,this.A=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.G=!1,this.g=0,this.o=null,this.m=ps,this.u=this.R=!1}(t=us.prototype).open=function(t,e){if(this.readyState!=cs)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,fs(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.o.fetch(new Request(this.g,e)).then(this.tc.bind(this),this.Ta.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,hs(this,!1)),this.readyState=cs},t.tc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,fs(this)),this.a&&(this.readyState=3,fs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):void 0!==u.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,ls(this)):t.text().then(this.sc.bind(this),this.Ta.bind(this)))))},t.oc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?hs(this,!0):fs(this),3==this.readyState&&ls(this)}},t.sc=function(t){this.a&&(this.response=this.responseText=t,hs(this,!0))},t.rc=function(t){this.a&&(this.response=t,hs(this,!0))},t.Ta=function(t){var e=this.h;e&&e.log(ts,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&hs(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(ts,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(ts,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},E(ds,bn);var ps="";ds.prototype.b=os("goog.net.XhrIo");var vs=/^https?$/i,gs=["POST","PUT"];function ms(t){return"content-type"==t.toLowerCase()}function ys(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,bs(t),ws(t)}function bs(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function _s(t){if(t.c&&void 0!==a)if(t.A[1]&&4==Cs(t)&&2==Es(t))ss(t.b,Ss(t,"Local request error detected and ignored"));else if(t.i&&4==Cs(t))Cn(t.Ub,0,t);else if(t.dispatchEvent("readystatechange"),4==Cs(t)){ss(t.b,Ss(t,"Request complete")),t.c=!1;try{var e,n=Es(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(On)[1]||null;if(!o&&u.self&&u.self.location){var s=u.self.location.protocol;o=s.substr(0,s.length-1)}i=!vs.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Cs(t)?t.a.statusText:""}catch(l){ss(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+Es(t)+"]",bs(t)}}finally{ws(t)}}}function ws(t,e){if(t.a){ks(t);var n=t.a,r=t.A[0]?h:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(Zo,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function ks(t){t.a&&t.u&&(t.a.ontimeout=null),t.o&&(u.clearTimeout(t.o),t.o=null)}function Cs(t){return t.a?t.a.readyState:0}function Es(t){try{return 2<Cs(t)?t.a.status:-1}catch(e){return-1}}function Ss(t,e){return e+" ["+t.P+" "+t.l+" "+Es(t)+"]"}function Is(t){var e=Ls;this.g=[],this.u=e,this.o=t||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.i=!1,this.h=0,this.b=null,this.l=0}function Ts(t,e,n){t.a=!0,t.c=n,t.f=!e,Ps(t)}function As(t){if(t.a){if(!t.m)throw new xs(t);t.m=!1}}function Ds(t,e,n,r){t.g.push([e,n,r]),t.a&&Ps(t)}function Os(t){return G(t.g,(function(t){return p(t[1])}))}function Ps(t){if(t.h&&t.a&&Os(t)){var e=t.h,n=Fs[e];n&&(u.clearTimeout(n.a),delete Fs[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var a=o.call(i||t.o,e);void 0!==a&&(t.f=t.f&&(a==e||a instanceof Error),t.c=e=a),(x(e)||"function"==typeof u.Promise&&e instanceof u.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Os(t)||(n=!0)}}t.c=e,r&&(a=w(t.v,t,!0),r=w(t.v,t,!1),e instanceof Is?(Ds(e,a,r),e.A=!0):e.then(a,r)),n&&(e=new Rs(e),Fs[e.a]=e,t.h=e.a)}function xs(){N.call(this)}function Ns(){N.call(this)}function Rs(t){this.a=u.setTimeout(w(this.c,this),0),this.b=t}(t=ds.prototype).Ma=function(){void 0!==a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ss(this.b,Ss(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ss(this.b,Ss(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ws(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ws(this,!0)),ds.$a.Da.call(this)},t.Ub=function(){this.xa||(this.N||this.i||this.f?_s(this):this.Ic())},t.Ic=function(){_s(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ps:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Zo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ss(this.b,"Can not get response: "+e.message),null}},Is.prototype.cancel=function(t){if(this.a)this.c instanceof Is&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.o,this):this.m=!0,this.a||(t=new Ns(this),As(this),Ts(this,!1,t))}},Is.prototype.v=function(t,e){this.i=!1,Ts(this,t,e)},Is.prototype.then=function(t,e,n){var r,i,o=new be((function(t,e){r=t,i=e}));return Ds(this,r,(function(t){t instanceof Ns?o.cancel():i(t)})),o.then(t,e,n)},Is.prototype.$goog_Thenable=!0,E(xs,N),xs.prototype.message="Deferred has already fired",xs.prototype.name="AlreadyCalledError",E(Ns,N),Ns.prototype.message="Deferred was canceled",Ns.prototype.name="CanceledError",Rs.prototype.c=function(){throw delete Fs[this.a],this.b};var Fs={};function Ms(t){var e={},n=e.document||document,r=Et(t).toString(),i=fe(document,"SCRIPT"),o={Vb:i,Ma:void 0},s=new Is(o),a=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(a=window.setTimeout((function(){Us(i,!0);var t=new Bs(js,"Timeout reached for loading script "+r);As(s),Ts(s,!1,t)}),h),o.Ma=a),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Us(i,e.wd||!1,a),As(s),Ts(s,!0,null))},i.onerror=function(){Us(i,!0,a);var t=new Bs(Vs,"Error while loading script "+r);As(s),Ts(s,!1,t)},gt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ae(i,o),function(t,e){mt(t,"HTMLScriptElement"),t.src=Et(e),null===l&&(l=(e=(e=u.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&c.test(e)?e:""),(e=l)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function Ls(){if(this&&this.Vb){var t=this.Vb;t&&"SCRIPT"==t.tagName&&Us(t,!0,this.Ma)}}function Us(t,e,n){null!=n&&u.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Vs=0,js=1;function Bs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),N.call(this,n),this.code=t}function qs(t){this.f=t}function Ws(t,n,r){if(this.c=t,this.l=(t=n||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=t.secureTokenTimeout||Gs,this.g=pt(t.secureTokenHeaders||Ks),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=t.firebaseTimeout||Qs,this.a=pt(t.firebaseHeaders||$s),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==yr(),!(r=u.XMLHttpRequest||r&&e.INTERNAL.node&&e.INTERNAL.node.XMLHttpRequest)&&!mr())throw new S("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=mr()?new as(self):br()?new qs(r):new Ko,this.b=null}E(Bs,N),E(qs,Ho),qs.prototype.a=function(){return new this.f},qs.prototype.b=function(){return{}};var Hs,zs="idToken",Gs=new Lr(3e4,6e4),Ks={"Content-Type":"application/x-www-form-urlencoded"},Qs=new Lr(3e4,6e4),$s={"Content-Type":"application/json"};function Ys(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Js(t,e){e&&(t.l=Xs("https://securetoken.googleapis.com/v1/token",e),t.h=Xs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=Xs("https://identitytoolkit.googleapis.com/v2/",e))}function Xs(t,e){return t=Ln(t),e=Ln(e.url),t.c=t.a+t.c,xn(t,e.f),t.a=e.a,Nn(t,e.g),t.toString()}function Zs(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ta(t,e,n,r,i,o,s){(function(){var t=Er();return!((t="Chrome"!=wr(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Kt&&ne&&!(9<ne))})()||mr()?t=w(t.u,t):(Hs||(Hs=new be((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(u[na]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ds(t,null,e,void 0)}(Ms(St(ea,{onload:na})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=w(t.o,t)),t(e,n,r,i,o,s)}Ws.prototype.S=function(){return this.b},Ws.prototype.u=function(t,e,n,r,i,o){if(mr()&&(void 0===u.fetch||void 0===u.Headers||void 0===u.Request))throw new S("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new ds(this.f);if(o){s.g=Math.max(0,o);var a=setTimeout((function(){s.dispatchEvent("timeout")}),o)}_n(s,"complete",(function(){a&&clearTimeout(a);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ss(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),wn(s,"ready",(function(){a&&clearTimeout(a),We(this)})),wn(s,"timeout",(function(){a&&clearTimeout(a),We(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.G=!1,t.c=!0,t.a=t.O?t.O.a():Vo.a(),t.A=function(t){return t.c||(t.c=t.b())}(t.O?t.O:Vo),t.a.onreadystatechange=w(t.Ub,t);try{ss(t.b,Ss(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(s){return ss(t.b,Ss(t,"Error opening Xhr: "+s.message)),void ys(t,s)}e=r||"";var o=new Tn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||"string"==typeof t)W(t,e,void 0);else for(var n=In(t),r=Sn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=ms,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=u.FormData&&e instanceof u.FormData,!K(gs,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{ks(t),0<t.g&&(t.u=function(t){return Kt&&ie(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),ss(t.b,Ss(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=w(t.Ma,t)):t.o=Cn(t.Ma,t.g,t)),ss(t.b,Ss(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){ss(t.b,Ss(t,"Send error: "+s.message)),ys(t,s)}}(s,t,n,r,i)};var ea=new yt(wt,"https://apis.google.com/js/client.js?onload=%{onload}"),na="__fcb"+Math.floor(1e6*Math.random()).toString();function ra(t){if("string"!=typeof(t=t.email)||!dr.test(t))throw new S("invalid-email")}function ia(t){"email"in t&&ra(t)}function oa(t){if(!t[zs]){if(t.mfaPendingCredential)throw new S("multi-factor-auth-required",null,pt(t));throw new S("internal-error")}}function sa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new S("internal-error")}else{if(!t.sessionInfo)throw new S("missing-verification-id");if(!t.code)throw new S("missing-verification-code")}}Ws.prototype.o=function(t,e,n,r,i){var o=this;Hs.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).s((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Ws.prototype.yb=function(){return $a(this,La,{})},Ws.prototype.Ab=function(t,e){return $a(this,Fa,{idToken:t,email:e})},Ws.prototype.Bb=function(t,e){return $a(this,Ma,{idToken:t,password:e})};var aa={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ua(t){if(!t.phoneVerificationInfo)throw new S("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new S("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new S("missing-verification-code")}function ca(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new S("internal-error")}function la(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Jn(t=new Kn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function ha(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Wo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Wo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Wo(t)):t.errorMessage&&(e=Ya(t.errorMessage)),e)throw e;oa(t)}function fa(t,e){return e.returnIdpCredential=!0,$a(t,ja,e)}function da(t,e){return e.returnIdpCredential=!0,$a(t,qa,e)}function pa(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,$a(t,Ba,e)}function va(t){if(!t.oobCode)throw new S("invalid-action-code")}(t=Ws.prototype).Cb=function(t,e){var n={idToken:t},r=[];return ft(aa,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),$a(this,Fa,n)},t.ub=function(t,e){return gt(t={requestType:"PASSWORD_RESET",email:t},e),$a(this,Oa,t)},t.vb=function(t,e){return gt(t={requestType:"EMAIL_SIGNIN",email:t},e),$a(this,Ta,t)},t.tb=function(t,e){return gt(t={requestType:"VERIFY_EMAIL",idToken:t},e),$a(this,Aa,t)},t.Db=function(t,e,n){return gt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),$a(this,Da,t)},t.eb=function(t){return $a(this,za,t)},t.mb=function(t,e){return $a(this,Na,{oobCode:t,newPassword:e})},t.Qa=function(t){return $a(this,ma,{oobCode:t})},t.ib=function(t){return $a(this,ga,{oobCode:t})};var ga={endpoint:"setAccountInfo",B:va,Z:"email",C:!0},ma={endpoint:"resetPassword",B:va,F:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new S("internal-error")},C:!0},ya={endpoint:"signupNewUser",B:function(t){if(ra(t),!t.password)throw new S("weak-password")},F:oa,U:!0,C:!0},ba={endpoint:"createAuthUri",C:!0},_a={endpoint:"deleteAccount",M:["idToken"]},wa={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(t){if("array"!=f(t.deleteProvider))throw new S("internal-error")}},ka={endpoint:"emailLinkSignin",M:["email","oobCode"],B:ra,F:oa,U:!0,C:!0},Ca={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:ra,F:oa,U:!0},Ea={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:ua,F:oa,C:!0,Na:!0},Sa={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:ua,F:oa,C:!0,Na:!0},Ia={endpoint:"getAccountInfo"},Ta={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new S("internal-error");ra(t)},Z:"email",C:!0},Aa={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new S("internal-error")},Z:"email",C:!0},Da={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new S("internal-error")},Z:"email",C:!0},Oa={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new S("internal-error");ra(t)},Z:"email",C:!0},Pa={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},xa={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(t){if(!t.recaptchaSiteKey)throw new S("internal-error")}},Na={endpoint:"resetPassword",B:va,Z:"email",C:!0},Ra={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},Fa={endpoint:"setAccountInfo",M:["idToken"],B:ia,U:!0},Ma={endpoint:"setAccountInfo",M:["idToken"],B:function(t){if(ia(t),!t.password)throw new S("weak-password")},F:oa,U:!0},La={endpoint:"signupNewUser",F:oa,U:!0,C:!0},Ua={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(t){if(!t.phoneEnrollmentInfo)throw new S("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new S("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new S("missing-app-credential")},F:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new S("internal-error")},C:!0,Na:!0},Va={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new S("missing-app-credential")},F:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new S("internal-error")},C:!0,Na:!0},ja={endpoint:"verifyAssertion",B:ca,Xa:la,F:ha,U:!0,C:!0},Ba={endpoint:"verifyAssertion",B:ca,Xa:la,F:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new S("user-not-found");if(t.errorMessage)throw Ya(t.errorMessage);oa(t)},U:!0,C:!0},qa={endpoint:"verifyAssertion",B:function(t){if(ca(t),!t.idToken)throw new S("internal-error")},Xa:la,F:ha,U:!0},Wa={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new S("invalid-custom-token")},F:oa,U:!0,C:!0},Ha={endpoint:"verifyPassword",B:function(t){if(ra(t),!t.password)throw new S("wrong-password")},F:oa,U:!0,C:!0},za={endpoint:"verifyPhoneNumber",B:sa,F:oa,C:!0},Ga={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new S("internal-error");sa(t)},F:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Wo(t);oa(t)}},Ka={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:sa,F:oa,C:!0},Qa={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(t){if(!!t[zs]^!!t.refreshToken)throw new S("internal-error")},C:!0,Na:!0};function $a(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return Te(new S("internal-error"));var r,i=!!e.Na,o=e.Tb||"POST";return Ie(n).then(e.B).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,s){var a=Ln(e+n);Fn(a,"key",t.c),s&&Fn(a,"cb",C().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Fn(a,c,i[c]);return new be((function(e,n){ta(t,a.toString(),(function(t){t?t.error?n(Ja(t,o||{})):e(t):n(new S("network-request-failed"))}),r,u?void 0:er(xr(i)),t.a,t.m.get())}))}(t,i?t.i:t.h,e.endpoint,o,n,e.Gb,e.kb||!1)})).then((function(t){return r=t,e.Xa?e.Xa(n,r):r})).then(e.F).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new S("internal-error");return r[e.Z]}))}function Ya(t){return Ja({error:{errors:[{message:t}],code:400,message:t}})}function Ja(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new S(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",gt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new S(r[i],e);return!e&&t&&(e=Pr(t)),new S("internal-error",e)}function Xa(t){this.b=t,this.a=null,this.qb=function(t){return(nu||(nu=new be((function(t,e){function n(){Mr(),Sr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Mr(),e(Error("Network Error"))},timeout:tu.get()})}if(Sr("gapi.iframes.Iframe"))t();else if(Sr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Sr("gapi.load")?n():e(Error("Network Error"))},Ie(Ms(r=St(Za,{onload:r}))).s((function(){e(Error("Network Error"))}))}})).s((function(t){throw nu=null,t})))).then((function(){return new be((function(e,n){Sr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),eu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Za=new yt(wt,"https://apis.google.com/js/api.js?onload=%{onload}"),tu=new Lr(3e4,6e4),eu=new Lr(5e3,15e3),nu=null;function ru(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?Un((t=Ln(this.g.url)).f,t.a,t.g,"/emulator/auth/iframe"):Un("https",this.l,null,"/__/auth/iframe"),this.a=t,Fn(this.a,"apiKey",this.h),Fn(this.a,"appName",this.i),this.b=null,this.c=[]}function iu(t,e,n,r,i,o){this.u=t,this.o=e,this.c=n,this.v=r,this.m=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function ou(t){try{return e.app(t).auth().Ga()}catch(n){return[]}}function su(t,e,n,r,i,o){this.o=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.A=null,this.h=[],this.v=this.a=null}function au(t){var e=ar();return function(t){return $a(t,Pa,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Ln(e),r=n.f;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Ln(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:fr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Bo(ar())}))}function uu(t){return t.v||(t.v=pr().then((function(){if(!t.u){var e=t.c,n=t.i,r=ou(t.b),i=new ru(t.o,t.g,t.b,t.f);i.f=e,i.b=n,i.c=J(r||[]),t.u=i.toString()}t.m=new Xa(t.u),function(t){if(!t.m)throw Error("IfcHandler must be initialized!");!function(t,e){t.qb.then((function(){t.a.register("authEvent",e,Sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.m,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Lo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ie(n)}return n.status="ERROR",Ie(n)}))}(t)}))),t.v}function cu(t){return t.l||(t.A=t.c?Cr(t.c,ou(t.b)):null,t.l=new Ws(t.g,P(t.i),t.A),t.f&&Js(t.l,t.f)),t.l}function lu(t,e,n,r,i,o,s,a,u,c,l,h){return(t=new iu(t,e,n,r,i,h)).l=o,t.g=s,t.i=a,t.b=pt(u||null),t.f=c,t.xb(l).toString()}function hu(t){if(this.a=t||e.INTERNAL.reactNative&&e.INTERNAL.reactNative.AsyncStorage,!this.a)throw new S("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function fu(t){this.b=t,this.a={},this.f=w(this.c,this)}ru.prototype.toString=function(){return this.f?Fn(this.a,"v",this.f):Yn(this.a.b,"v"),this.b?Fn(this.a,"eid",this.b):Yn(this.a.b,"eid"),this.c.length?Fn(this.a,"fw",this.c.join(",")):Yn(this.a.b,"fw"),this.a.toString()},iu.prototype.xb=function(t){return this.h=t,this},iu.prototype.toString=function(){if(this.m){var t=Ln(this.m.url);t=Un(t.f,t.a,t.g,"/emulator/auth/handler")}else t=Un("https",this.u,null,"/__/auth/handler");if(Fn(t,"apiKey",this.o),Fn(t,"appName",this.c),Fn(t,"authType",this.v),this.a.isOAuthProvider){var n=this.a;try{var r=e.app(this.c).auth().ka()}catch(u){r=null}for(var i in n.nb=r,Fn(t,"providerId",this.a.providerId),n=xr((r=this.a).Hb))n[i]=n[i].toString();i=r.Pc,n=pt(n);for(var o=0;o<i.length;o++){var s=i[o];s in n&&delete n[s]}r.ob&&r.nb&&!n[r.ob]&&(n[r.ob]=r.nb),dt(n)||Fn(t,"customParameters",Pr(n))}if("function"==typeof this.a.Pb&&(r=this.a.Pb()).length&&Fn(t,"scopes",r.join(",")),this.l?Fn(t,"redirectUrl",this.l):Yn(t.b,"redirectUrl"),this.g?Fn(t,"eventId",this.g):Yn(t.b,"eventId"),this.i?Fn(t,"v",this.i):Yn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Mn(t,a)&&Fn(t,a,this.b[a]);return this.h?Fn(t,"tid",this.h):Yn(t.b,"tid"),this.f?Fn(t,"eid",this.f):Yn(t.b,"eid"),(a=ou(this.c)).length&&Fn(t,"fw",a.join(",")),t.toString()},(t=su.prototype).Nb=function(t,e,n){var r=new S("popup-closed-by-user"),i=new S("web-storage-unsupported"),o=this,s=!1;return this.la().then((function(){(function(t){var e={type:"webStorageSupport"};return uu(t).then((function(){return function(t,e){return t.qb.then((function(){return new be((function(n){t.a.send(e.type,e,n,Sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.m,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&lr(t),e(i),s=!0)}))})).s((function(){})).then((function(){if(!s)return function(t){return new be((function(e){return function n(){En(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return En(n).then((function(){e(r)}))}))},t.Wb=function(){var t=Er();return!Or(t)&&!Fr(t)},t.Sb=function(){return!1},t.Lb=function(t,e,n,r,i,o,s,a){if(!t)return Te(new S("popup-blocked"));if(s&&!Or())return this.la().s((function(e){lr(t),i(e)})),r(),Ie();this.a||(this.a=au(cu(this)));var u=this;return this.a.then((function(){var e=u.la().s((function(e){throw lr(t),i(e),e}));return r(),e})).then((function(){Fo(n),s||ur(lu(u.o,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)})).s((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Mb=function(t,e,n,r){this.a||(this.a=au(cu(this)));var i=this;return this.a.then((function(){Fo(e),ur(lu(i.o,i.g,i.b,t,e,ar(),n,i.c,void 0,i.i,r,i.f))})).s((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.la=function(){var t=this;return uu(this).then((function(){return t.m.qb})).s((function(){throw t.a=null,new S("network-request-failed")}))},t.Zb=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ra=function(t){$(this.h,(function(e){return e==t}))},(t=hu.prototype).get=function(t){return Ie(this.a.getItem(t)).then((function(t){return t&&Nr(t)}))},t.set=function(t,e){return Ie(this.a.setItem(t,Pr(e)))},t.T=function(t){return Ie(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var du,pu=[];function vu(t,e,n){dt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function gu(t){this.a=t}function mu(t){this.c=t,this.b=!1,this.a=[]}function yu(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Te(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new be((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),l),t.a.push(c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return bu(t,c),e})).s((function(e){throw bu(t,c),e}))}function bu(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),$(t.a,(function(t){return t==e}))}}function _u(){if(!ku())throw new S("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var t=this;mr()&&self?(this.l=function(){var t=mr()?self:null;if(W(pu,(function(n){n.b==t&&(e=n)})),!e){var e=new fu(t);pu.push(e)}return e}(),vu(this.l,"keyChanged",(function(e,n){return Tu(t).then((function(e){return 0<e.length&&W(t.a,(function(t){t(e)})),{keyProcessed:K(e,n.key)}}))})),vu(this.l,"ping",(function(){return Ie(["keyChanged"])}))):function(){var t=u.navigator;return t&&t.serviceWorker?Ie().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).s((function(){return null})):Ie(null)}().then((function(e){(t.h=e)&&(t.g=new mu(new gu(e)),yu(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&K(e[0].value,"keyChanged")&&(t.o=!0)})).s((function(){})))}))}function wu(t){return t.v||(t.v=function t(e){return new be((function(n,r){var i=e.m.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new be((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(e).then((function(){return t(e)})).then((function(t){n(t)})).s((function(t){r(t)}))}}))}(t)),t.v}function ku(){try{return!!u.indexedDB}catch(zt){return!1}}function Cu(t){return t.objectStore("firebaseLocalStorage")}function Eu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Su(t){return new be((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Iu(t,e){return t.g&&t.h&&function(){var t=u.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?yu(t.g,"keyChanged",{key:e},t.o).then((function(){})).s((function(){})):Ie()}function Tu(t){return wu(t).then((function(t){var e=Cu(Eu(t,!1));return e.getAll?Su(e.getAll()):new be((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function Au(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Du(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ie().then((function(){if(ku()){var t=Rr(),r="__sak"+t;return du||(du=new _u),(n=du).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).s((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){W(e.a,(function(e){e(t)}))})),t}))}function Ou(){this.a={},this.type="inMemory"}function Pu(){if(!function(){var t="Node"==yr();if(!(t=xu()||t&&e.INTERNAL.node&&e.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==yr())throw new S("internal-error","The LocalStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=xu()||e.INTERNAL.node.localStorage,this.type="localStorage"}function xu(){try{var t=u.localStorage,e=Rr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Nu(){this.type="nullStorage"}function Ru(){if(!function(){var t="Node"==yr();if(!(t=Fu()||t&&e.INTERNAL.node&&e.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==yr())throw new S("internal-error","The SessionStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=Fu()||e.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Fu(){try{var t=u.sessionStorage,e=Rr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Mu(){var t={};t.Browser=Vu,t.Node=ju,t.ReactNative=Bu,t.Worker=qu,this.a=t[yr()]}fu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];W(r,(function(e){i.push(Ie().then((function(){return e(t.origin,t.data.data)})))})),De(i).then((function(r){var i=[];W(r,(function(t){i.push({fulfilled:t.Ob,value:t.value,reason:t.reason?t.reason.message:void 0})})),W(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},gu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},mu.prototype.close=function(){for(;0<this.a.length;)bu(this,this.a[0]);this.b=!0},(t=_u.prototype).set=function(t,e){var n,r=!1,i=this;return wu(this).then((function(e){return Su((e=Cu(Eu(n=e,!0))).get(t))})).then((function(o){var s=Cu(Eu(n,!0));return o?(o.value=e,Su(s.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,Su(s.add(o)))})).then((function(){return i.c[t]=e,Iu(i,t)})).na((function(){r&&i.b--}))},t.get=function(t){return wu(this).then((function(e){return Su(Cu(Eu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=!1,n=this;return wu(this).then((function(r){return e=!0,n.b++,Su(Cu(Eu(r,!0)).delete(t))})).then((function(){return delete n.c[t],Iu(n,t)})).na((function(){e&&n.b--}))},t.ca=function(t){0==this.a.length&&function(t){Au(t),function e(){t.f=setTimeout((function(){t.i=Tu(t).then((function(e){0<e.length&&W(t.a,(function(t){t(e)}))})).then((function(){e()})).s((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ia=function(t){$(this.a,(function(e){return e==t})),0==this.a.length&&Au(this)},(t=Du.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){$(this.a,(function(e){return e==t}))},(t=Ou.prototype).get=function(t){return Ie(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ie()},t.T=function(t){return delete this.a[t],Ie()},t.ca=function(){},t.ia=function(){},(t=Pu.prototype).get=function(t){var e=this;return Ie().then((function(){return Nr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ie().then((function(){var r=Pr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Ie().then((function(){e.a.removeItem(t)}))},t.ca=function(t){u.window&&an(u.window,"storage",t)},t.ia=function(t){u.window&&ln(u.window,"storage",t)},(t=Nu.prototype).get=function(){return Ie(null)},t.set=function(){return Ie()},t.T=function(){return Ie()},t.ca=function(){},t.ia=function(){},(t=Ru.prototype).get=function(t){var e=this;return Ie().then((function(){return Nr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ie().then((function(){var r=Pr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Ie().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Lu,Uu,Vu={D:Pu,ab:Ru},ju={D:Pu,ab:Ru},Bu={D:hu,ab:Nu},qu={D:Pu,ab:Nu},Wu={qd:"local",NONE:"none",sd:"session"};function Hu(){var t=!(Fr(Er())||!gr()),e=Or(),n=Ir();this.v=t,this.h=e,this.l=n,this.a={},Lu||(Lu=new Mu),t=Lu;try{this.g=!sr()&&Br()||!u.indexedDB?new t.a.D:new Du(mr()?new Ou:new t.a.D)}catch(r){this.g=new Ou,this.h=!0}try{this.i=new t.a.ab}catch(r){this.i=new Ou}this.m=new Ou,this.f=w(this.Xb,this),this.b={}}function zu(){return Uu||(Uu=new Hu),Uu}function Gu(t,e){switch(e){case"session":return t.i;case"none":return t.m;default:return t.g}}function Ku(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Qu(t,e,n){return n=Ku(e,n),"local"==e.D&&(t.b[n]=null),Gu(t,e.D).T(n)}function $u(t){t.c&&(clearInterval(t.c),t.c=null)}function Yu(t){this.a=t,this.b=zu()}(t=Hu.prototype).get=function(t,e){return Gu(this,t.D).get(Ku(t,e))},t.set=function(t,e,n){var r=Ku(t,n),i=this,o=Gu(this,t.D);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.D&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=Ku(t,e),this.l&&(this.b[t]=u.localStorage.getItem(t)),dt(this.a)&&(Gu(this,"local").ca(this.f),this.h||(sr()||!Br())&&u.indexedDB||!this.l||function(t){$u(t),t.c=setInterval((function(){for(var e in t.a){var n=u.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new $e({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Xb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Ku(t,e),this.a[t]&&($(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),dt(this.a)&&(Gu(this,"local").ia(this.f),$u(this))},t.Xb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.lb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Gu(this,"local").ia(this.f):$u(this),this.v)if(n=u.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?u.localStorage.setItem(e,r):u.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===u.localStorage.getItem(e)||(o.b[e]=u.localStorage.getItem(e),o.lb(e))},Kt&&ne&&10==ne&&u.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else W(t,w(this.lb,this))},t.lb=function(t){this.a[t]&&W(this.a[t],(function(t){t()}))};var Ju,Xu={name:"authEvent",D:"local"};function Zu(){this.a=zu()}function tc(t,e){this.b=ec,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===Ju&&(Ju=u.Int32Array?new Int32Array(uc):uc),this.reset()}E(tc,(function(){this.b=-1}));for(var ec=64,nc=ec-1,rc=[],ic=0;ic<nc;ic++)rc[ic]=0;var oc=Y(128,rc);function sc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|Ju[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function ac(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(sc(t),i=0);else{if(!d(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(sc(t),i=0)}}t.c=i,t.g+=n}tc.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):J(this.h)};var uc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function cc(){tc.call(this,8,lc)}E(cc,tc);var lc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function hc(t,e,n,r,i,o){this.m=t,this.i=e,this.l=n,this.v=r||null,this.u=i||null,this.o=o,this.h=e+":"+n,this.A=new Zu,this.g=new Yu(this.h),this.f=null,this.b=[],this.a=this.c=null}function fc(t){return new S("invalid-cordova-configuration",t)}function dc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function pc(t){return t.f||(t.f=t.la().then((function(){return new be((function(e){t.Ea((function n(r){return e(r),t.Ra(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),vc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=to(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Nr(Mn(o=Ln(i),"firebaseError")||null))?I(o):null)?new Mo(r.c,r.b,null,null,o,null,r.S()):new Mo(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}dc(t,i)}))}var n=new Mo("unknown",null,null,null,new S("no-auth-event")),r=!1,i=En(500).then((function(){return vc(t).then((function(){r||dc(t,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Sr("BuildInfo.packageName",u).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},jo||(jo=new Uo),function(t){var e=jo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Sr("universalLinks.subscribe",u))&&t(null,e.b))}(e)}(t)}))}))),t.f}function vc(t){var e=null;return function(t){return t.b.get(Xu,t.a).then((function(t){return Lo(t)}))}(t.g).then((function(n){return e=n,Qu((n=t.g).b,Xu,n.a)})).then((function(){return e}))}function gc(t){this.a=t,this.b=zu()}(t=hc.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(vr(void 0)?pr().then((function(){return new be((function(t,e){var n=u.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Te(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Sr("universalLinks.subscribe",u))throw fc("cordova-universal-links-plugin-fix is not installed");if(void 0===Sr("BuildInfo.packageName",u))throw fc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Sr("cordova.plugins.browsertab.openUrl",u))throw fc("cordova-plugin-browsertab is not installed");if("function"!=typeof Sr("cordova.InAppBrowser.open",u))throw fc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new S("cordova-not-ready")}))},t.Nb=function(t,e){return e(new S("operation-not-supported-in-this-environment")),Ie()},t.Lb=function(){return Te(new S("operation-not-supported-in-this-environment"))},t.Zb=function(){return!1},t.Wb=function(){return!0},t.Sb=function(){return!0},t.Mb=function(t,e,n,r){if(this.c)return Te(new S("redirect-operation-pending"));var i=this,o=u.document,s=null,a=null,c=null,l=null;return this.c=Ie().then((function(){return Fo(e),pc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Mo(e,r,null,o,new S("no-auth-event"),null,i),a=Sr("BuildInfo.packageName",u);if("string"!=typeof a)throw new S("invalid-cordova-configuration");var c=Sr("BuildInfo.displayName",u),l={};if(Er().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=a;else{if(!Er().toLowerCase().match(/android/))return Te(new S("operation-not-supported-in-this-environment"));l.apn=a}c&&(l.appDisplayName=c),o=function(t){var e=new cc;ac(e,t),t=[];var n=8*e.g;ac(e,oc,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(sc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return z(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),l.sessionId=o;var h=lu(t.m,t.i,t.l,e,n,null,r,t.v,l,t.u,i,t.o);return t.la().then((function(){var e=t.h;return t.A.a.set(Xu,s.w(),e)})).then((function(){var e=Sr("cordova.plugins.browsertab.isAvailable",u);if("function"!=typeof e)throw new S("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Sr("cordova.plugins.browsertab.openUrl",u)))throw new S("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Sr("cordova.InAppBrowser.open",u)))throw new S("invalid-cordova-configuration");e=Er(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new be((function(t,e){a=function(){var e=Sr("cordova.plugins.browsertab.close",u);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(a),l=function(){Ur()&&c()},o.addEventListener("resume",c=function(){s||(s=En(2e3).then((function(){e(new S("redirect-cancelled-by-user"))})))},!1),Er().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).s((function(t){return vc(i).then((function(){throw t}))}))})).na((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),a&&i.Ra(a),i.c=null}))},t.Ea=function(t){this.b.push(t),pc(this).s((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Mo("unknown",null,null,null,new S("no-auth-event")),t(e))}))},t.Ra=function(t){$(this.b,(function(e){return e==t}))};var mc={name:"pendingRedirect",D:"session"};function yc(t){return Qu(t.b,mc,t.a)}function bc(t,e,n,r){this.i={},this.u=0,this.O=t,this.m=e,this.v=n,this.G=r,this.h=[],this.f=!1,this.l=w(this.o,this),this.b=new Rc,this.A=new Vc,this.g=new gc(xc(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=_c(this.O,this.m,this.v,T,this.G)}function _c(t,n,r,i,o){var s=e.SDK_VERSION||null;return vr()?new hc(t,n,r,s,i,o):new su(t,n,r,s,i,o)}function wc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.la().s((function(n){throw t.a==e&&t.reset(),n}))}function kc(t){t.a.Wb()&&wc(t).s((function(e){var n=new Mo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Ac(e)&&t.o(n)})),t.a.Sb()||Fc(t.b)}function Cc(t,e){K(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(mc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?yc(t.g).then((function(){wc(t).s((function(e){var n=new Mo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Ac(e)&&t.o(n)}))})):kc(t)})).s((function(){kc(t)}))}function Ec(t,e){$(t.h,(function(t){return t==e}))}bc.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=_c(this.O,this.m,this.v,null,this.G),this.i={}},bc.prototype.o=function(t){if(!t)throw new S("invalid-auth-event");if(6e5<=C()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Eb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=C())),e=!0;break}}return Fc(this.b),e};var Sc=new Lr(2e3,1e4),Ic=new Lr(3e4,6e4);function Tc(t,e,n,r,i,o,s){return t.a.Lb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,s)}function Ac(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Dc(t,e,n,r,i){var o;return function(t){return t.b.set(mc,"pending",t.a)}(t.g).then((function(){return t.a.Mb(e,n,r,i).s((function(e){if(Ac(e))throw new S("operation-not-supported-in-this-environment");return o=e,yc(t.g).then((function(){throw o}))})).then((function(){return t.a.Zb()?new be((function(){})):yc(t.g).then((function(){return t.qa()})).then((function(){})).s((function(){}))}))}))}function Oc(t,e,n,r,i){return t.a.Nb(r,(function(t){e.ma(n,null,t,i)}),Sc.get())}bc.prototype.qa=function(){return this.b.qa()};var Pc={};function xc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Nc(t,e,n,r){var i=xc(e,n,r);return Pc[i]||(Pc[i]=new bc(t,e,n,r)),Pc[i]}function Rc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Fc(t){t.g||(t.g=!0,Uc(t,!1,null,null))}function Mc(t){t.g&&!t.i&&Uc(t,!1,null,null)}function Lc(t,e){if(t.b=function(){return Ie(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Uc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Te(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Lc(t,n):Lc(t,{user:null}),t.f=[],t.c=[]}function Vc(){}function jc(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(t){this.hb=t},enumerable:!1})}function Bc(t,e){this.a=e,Gr(this,"verificationId",t)}function qc(t,e,n,r){return new xo(t).eb(e,n).then((function(t){return new Bc(t,r)}))}function Wc(t){var e=ji(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new S("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Kr(this,{token:t,expirationTime:jr(1e3*e.exp),authTime:jr(1e3*e.auth_time),issuedAtTime:jr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Hc(t,e,n){var r=e&&e[Gc];if(!r)throw new S("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=pt(e),this.g=n,this.c=new eo(null,r),this.b=[];var i=this;W(e[zc]||[],(function(t){(t=Jr(t))&&i.b.push(t)})),Gr(this,"auth",this.a),Gr(this,"session",this.c),Gr(this,"hints",this.b)}Rc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Rc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Uc(this,!0,null,t.a),Ie()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.S(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Uc(t,a,e,null)})).s((function(e){Uc(t,a,null,e)}))}(this,t,e):Te(new S("invalid-auth-event")):(Uc(this,!1,null,null),Ie())}else Te(new S("invalid-auth-event"))},Rc.prototype.qa=function(){var t=this;return new be((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new S("timeout");t.a&&t.a.cancel(),t.a=En(Ic.get()).then((function(){t.b||(t.g=!0,Uc(t,!0,null,e))}))}(t))}))},Vc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ma(t.c,null,t.a,t.b),Ie()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.S(),t.i).then((function(t){e.ma(r,t,null,n)})).s((function(t){e.ma(r,null,t,n)}))}(t,e):Te(new S("invalid-auth-event"))}else Te(new S("invalid-auth-event"))},Bc.prototype.confirm=function(t){return t=No(this.verificationId,t),this.a(t)};var zc="mfaInfo",Gc="mfaPendingCredential";function Kc(t,e,n,r){S.call(this,"multi-factor-auth-required",r,e),this.b=new Hc(t,e,n),Gr(this,"resolver",this.b)}function Qc(t,e,n){if(t&&v(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Kc(e,t.serverResponse,n,t.message)}catch(r){}return null}function $c(){}function Yc(t){Gr(this,"factorId",t.fa),this.a=t}function Jc(t){if(Yc.call(this,t),this.a.fa!=xo.PROVIDER_ID)throw new S("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Xc(t,e){for(var n in Qe.call(this,t),e)this[n]=e[n]}function Zc(t,e){this.a=t,this.b=[],this.c=w(this.xc,this),an(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&W(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ti]=t.uid),t.displayName&&(r[Xr]=t.displayName),t.enrollmentTime&&(r[Zr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ei]=t.phoneNumber);try{e=new ni(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),tl(this,n)}function tl(t,e){t.b=e,Gr(t,"enrolledFactors",e)}function el(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function nl(t){this.c=t,this.b=this.a=null}function rl(t){return t.b&&1e3*t.b.c||0}function il(t,e){var n=e.refreshToken;t.b=Vi(e[zs]||""),t.a=n}function ol(t,e){this.a=t||null,this.b=e||null,Kr(this,{lastSignInTime:jr(e||null),creationTime:jr(t||null)})}function sl(t,e,n,r,i,o){Kr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function al(t,n,r){this.G=[],this.l=t.apiKey,this.m=t.appName,this.o=t.authDomain||null;var i=e.SDK_VERSION?Cr(e.SDK_VERSION):null;this.a=new Ws(this.l,P(T),i),t.emulatorConfig&&Js(this.a,t.emulatorConfig),this.b=new nl(this.a),vl(this,n[zs]),il(this.b,n),Gr(this,"refreshToken",this.b.a),yl(this,r||{}),bn.call(this),this.P=!1,this.o&&Tr()&&(this.i=Nc(this.o,this.l,this.m)),this.R=[],this.f=null,this.u=function(t){return new el((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=rl(t.b)-C()-3e5;return 0<e?e:0}))}(this),this.$=w(this.gb,this);var o=this;this.pa=null,this.Ba=function(t){o.wa(t.h)},this.ba=null,this.za=function(t){Js(o.a,t.c)},this.W=null,this.X=[],this.Aa=function(t){ll(o,t.f)},this.aa=null,this.N=new Zc(this,r),Gr(this,"multiFactor",this.N)}function ul(t,e){t.ba&&ln(t.ba,"languageCodeChanged",t.Ba),(t.ba=e)&&an(e,"languageCodeChanged",t.Ba)}function cl(t,e){t.W&&ln(t.W,"emulatorConfigChanged",t.za),(t.W=e)&&an(e,"emulatorConfigChanged",t.za)}function ll(t,n){t.X=n,Zs(t.a,e.SDK_VERSION?Cr(e.SDK_VERSION,t.X):null)}function hl(t,e){t.aa&&ln(t.aa,"frameworkChanged",t.Aa),(t.aa=e)&&an(e,"frameworkChanged",t.Aa)}function fl(t){try{return e.app(t.m).auth()}catch(n){throw new S("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function dl(t){t.A||t.u.b||(t.u.start(),ln(t,"tokenChanged",t.$),an(t,"tokenChanged",t.$))}function pl(t){ln(t,"tokenChanged",t.$),t.u.stop()}function vl(t,e){t.ya=e,Gr(t,"_lat",e)}function gl(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return De(e).then((function(){return t}))}function ml(t){t.i&&!t.P&&(t.P=!0,Cc(t.i,t))}function yl(t,e){Kr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new ol(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function bl(){}function _l(t){return Ie().then((function(){if(t.A)throw new S("app-deleted")}))}function wl(t){return z(t.providerData,(function(t){return t.providerId}))}function kl(t,e){e&&(Cl(t,e.providerId),t.providerData.push(e))}function Cl(t,e){$(t.providerData,(function(t){return t.providerId==e}))}function El(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Gr(t,e,n)}function Sl(t,e){t!=e&&(Kr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Gr(t,"metadata",e.metadata?function(t){return new ol(t.a,t.b)}(e.metadata):new ol),W(e.providerData,(function(e){kl(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),Gr(t,"refreshToken",t.b.a),tl(t.N,e.N.b))}function Il(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return $a(t.a,Ia,{idToken:e}).then(w(t.Jc,t))}(t,e).then((function(){return n||El(t,"isAnonymous",!1),e}))}))}function Tl(t,e){e[zs]&&t.ya!=e[zs]&&(il(t.b,e),t.dispatchEvent(new Xc("tokenChanged")),vl(t,e[zs]),El(t,"refreshToken",t.b.a))}function Al(t,e){return Il(t).then((function(){if(K(wl(t),e))return gl(t).then((function(){throw new S("provider-already-linked")}))}))}function Dl(t,e,n){return Qr({user:t,credential:Ro(e),additionalUserInfo:e=zi(e),operationType:n})}function Ol(t,e){return Tl(t,e),t.reload().then((function(){return t}))}function Pl(t,n,r,i,o){if(!Tr())return Te(new S("operation-not-supported-in-this-environment"));if(t.f&&!o)return Te(t.f);var s=Hi(r.providerId),a=Rr(t.uid+":::"),u=null;(!Or()||gr())&&t.o&&r.isOAuthProvider&&(u=lu(t.o,t.l,t.m,n,r,null,a,e.SDK_VERSION||null,null,null,t.tenantId));var c=hr(u,s&&s.ua,s&&s.ta);return i=i().then((function(){if(Nl(t),!o)return t.I().then((function(){}))})).then((function(){return Tc(t.i,c,n,r,a,!!u,t.tenantId)})).then((function(){return new be((function(e,r){t.ma(n,null,new S("cancelled-popup-request"),t.h||null),t.g=e,t.O=r,t.h=a,t.c=Oc(t.i,t,n,c,a)}))})).then((function(t){return c&&lr(c),t?Qr(t):null})).s((function(t){throw c&&lr(c),t})),Rl(t,i,o)}function xl(t,e,n,r,i){if(!Tr())return Te(new S("operation-not-supported-in-this-environment"));if(t.f&&!i)return Te(t.f);var o=null,s=Rr(t.uid+":::");return r=r().then((function(){if(Nl(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=s,gl(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Ll,t.w(),e.a)),e})).then((function(){return Dc(t.i,e,n,s,t.tenantId)})).s((function(e){if(o=e,t.ha)return Ul(t.ha);throw o})).then((function(){if(o)throw o})),Rl(t,r,i)}function Nl(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new S("internal-error");throw new S("auth-domain-config-required")}}function Rl(t,e,n){var r=function(t,e,n){return t.f&&!n?(e.cancel(),Te(t.f)):e.s((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.f||t.dispatchEvent(new Xc("userInvalidated")),t.f=e),e}))}(t,e,n);return t.G.push(r),r.na((function(){Q(t.G,r)})),r.s((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Qc(e.w(),fl(t),w(t.ic,t))),n||e}))}function Fl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[zs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new al(e,n,t);return t.providerData&&W(t.providerData,(function(t){t&&kl(r,Qr(t))})),t.redirectEventId&&(r.ga=t.redirectEventId),r}function Ml(t){this.a=t,this.b=zu()}Hc.prototype.Qc=function(t){var e=this;return t.rb(this.a.a,this.c).then((function(t){var n=pt(e.f);return delete n[zc],delete n[Gc],gt(n,t),e.g(n)}))},E(Kc,S),$c.prototype.rb=function(t,e,n){return e.type==no?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),gt(n,{phoneVerificationInfo:Po(t.a)}),$a(e,Ea,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return gt(n={mfaPendingCredential:n},{phoneVerificationInfo:Po(t.a)}),$a(e,Sa,n)}))}(this,t,e)},E(Yc,$c),E(Jc,Yc),E(Xc,Qe),(t=Zc.prototype).xc=function(t){tl(this,function(t){var e=[];return W(t.mfaInfo||[],(function(t){(t=Jr(t))&&e.push(t)})),e}(t.gd))},t.Qb=function(){return this.a.I().then((function(t){return new eo(t,null)}))},t.ec=function(t,e){var n=this,r=this.a.a;return this.Qb().then((function(n){return t.rb(r,n,e)})).then((function(t){return Tl(n.a,t),n.a.reload()}))},t.ad=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return $a(r,Qa,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=H(e.b,(function(t){return t.uid!=n}));return tl(e,r),Tl(e.a,t),e.a.reload().s((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:z(this.b,(function(t){return t.w()}))}}},el.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=En(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=u.document,e=null;return Ur()||!t?Ie():new be((function(n){e=function(){Ur()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).s((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).s((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},el.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},nl.prototype.w=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:rl(this)}},nl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Te(new S("user-token-expired")):t||!this.b||C()>rl(this)-3e4?this.a?function(t,e){return function(t,e){return new be((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ta(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(Ja(t)):t.access_token&&t.refresh_token?n(t):r(new S("internal-error")):r(new S("network-request-failed"))}),"POST",$n(e).toString(),t.g,t.v.get()):r(new S("internal-error"))}))}(t.c,e).then((function(e){return t.b=Vi(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).s((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Ie(null):Ie({accessToken:this.b.toString(),refreshToken:this.a})},ol.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},E(al,bn),al.prototype.wa=function(t){this.pa=t,Ys(this.a,t)},al.prototype.ka=function(){return this.pa},al.prototype.Ga=function(){return J(this.X)},al.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},Gr(al.prototype,"providerId","firebase"),(t=al.prototype).reload=function(){var t=this;return Rl(this,_l(this).then((function(){return Il(t).then((function(){return gl(t)})).then(bl)})))},t.nc=function(t){return this.I(t).then((function(t){return new Wc(t)}))},t.I=function(t){var e=this;return Rl(this,_l(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new S("internal-error");return t.accessToken!=e.ya&&(vl(e,t.accessToken),e.dispatchEvent(new Xc("tokenChanged"))),El(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Jc=function(t){if(!(t=t.users)||!t.length)throw new S("internal-error");yl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?z(t,(function(t){return new sl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)kl(this,e[n]);El(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Xc("userReloaded",{gd:t}))},t.Kc=function(t){return Hr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(t)},t.sb=function(t){var e=this,n=null;return Rl(this,t.c(this.a,this.uid).then((function(t){return Tl(e,t),n=Dl(e,t,"reauthenticate"),e.f=null,e.reload()})).then((function(){return n})),!0)},t.Bc=function(t){return Hr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return Rl(this,Al(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Dl(e,t,"link"),Ol(e,t)})).then((function(){return n})))},t.Cc=function(t,e){var n=this;return Rl(this,Al(this,"phone").then((function(){return qc(fl(n),t,e,w(n.pb,n))})))},t.Lc=function(t,e){var n=this;return Rl(this,Ie().then((function(){return qc(fl(n),t,e,w(n.sb,n))})),!0)},t.Ab=function(t){var e=this;return Rl(this,this.I().then((function(n){return e.a.Ab(n,t)})).then((function(t){return Tl(e,t),e.reload()})))},t.dd=function(t){var e=this;return Rl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Tl(e,t),e.reload()})))},t.Bb=function(t){var e=this;return Rl(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Tl(e,t),e.reload()})))},t.Cb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return _l(this);var e=this;return Rl(this,this.I().then((function(n){return e.a.Cb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Tl(e,t),El(e,"displayName",t.displayName||null),El(e,"photoURL",t.photoUrl||null),W(e.providerData,(function(t){"password"===t.providerId&&(Gr(t,"displayName",e.displayName),Gr(t,"photoURL",e.photoURL))})),gl(e)})).then(bl))},t.bd=function(t){var e=this;return Rl(this,Il(this).then((function(n){return K(wl(e),t)?function(t,e,n){return $a(t,wa,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return W(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),W(wl(e),(function(t){n[t]||Cl(e,t)})),n[xo.PROVIDER_ID]||Gr(e,"phoneNumber",null),gl(e)})):gl(e).then((function(){throw new S("no-such-provider")}))})))},t.delete=function(){var t=this;return Rl(this,this.I().then((function(e){return $a(t.a,_a,{idToken:e})})).then((function(){t.dispatchEvent(new Xc("userDeleted"))}))).then((function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");ul(t,null),cl(t,null),hl(t,null),t.G=[],t.A=!0,pl(t),Gr(t,"refreshToken",null),t.i&&Ec(t.i,t)}))},t.Eb=function(t,e){return!!("linkViaPopup"==t&&(this.h||null)==e&&this.g||"reauthViaPopup"==t&&(this.h||null)==e&&this.g||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.ma=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.h||null)||(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.h||null)?w(this.Jb,this):"reauthViaPopup"==t&&e==(this.h||null)?w(this.Kb,this):"linkViaRedirect"==t&&(this.ga||null)==e?w(this.Jb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?w(this.Kb,this):null},t.Dc=function(t){var e=this;return Pl(this,"linkViaPopup",t,(function(){return Al(e,t.providerId).then((function(){return gl(e)}))}),!1)},t.Mc=function(t){return Pl(this,"reauthViaPopup",t,(function(){return Ie()}),!0)},t.Ec=function(t){var e=this;return xl(this,"linkViaRedirect",t,(function(){return Al(e,t.providerId)}),!1)},t.Nc=function(t){return xl(this,"reauthViaRedirect",t,(function(){return Ie()}),!0)},t.Jb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Rl(this,this.I().then((function(n){return da(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Dl(i,t,"link"),Ol(i,t)})).then((function(){return o})))},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Rl(this,Ie().then((function(){return oo(pa(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Dl(i,t,"reauthenticate"),Tl(i,t),i.f=null,i.reload()})).then((function(){return o})),!0)},t.tb=function(t){var e=this,n=null;return Rl(this,this.I().then((function(e){return n=e,void 0===t||dt(t)?{}:Mi(new Ii(t))})).then((function(t){return e.a.tb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Db=function(t,e){var n=this,r=null;return Rl(this,this.I().then((function(t){return r=t,void 0===e||dt(e)?{}:Mi(new Ii(e))})).then((function(e){return n.a.Db(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.ic=function(t){var e=null,n=this;return Rl(this,t=oo(Ie(t),n.uid).then((function(t){return e=Dl(n,t,"reauthenticate"),Tl(n,t),n.f=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&gt(t,this.metadata.w()),W(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),gt(t,this.N.w()),t};var Ll={name:"redirectUser",D:"session"};function Ul(t){return Qu(t.b,Ll,t.a)}function Vl(t){this.a=t,this.b=zu(),this.c=null,this.f=function(t){var e=ql("local"),n=ql("session"),r=ql("none");return function(t,e,n){var r=Ku(e,n),i=Gu(t,e.D);return t.get(e,n).then((function(o){var s=null;try{s=Nr(u.localStorage.getItem(r))}catch(a){}if(s&&!o)return u.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Bl,t.a).then((function(t){return t?ql(t):e}))}))}))})).then((function(e){return t.c=e,jl(t,e.D)})).s((function(){t.c||(t.c=e)}))}(this),this.b.addListener(ql("local"),this.a,w(this.g,this))}function jl(t,e){var n,r=[];for(n in Wu)Wu[n]!==e&&r.push(Qu(t.b,ql(Wu[n]),t.a));return r.push(Qu(t.b,Bl,t.a)),function(t){return new be((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Ae(t[a],k(o,a),s);else e(i)}))}(r)}Vl.prototype.g=function(){var t=this,e=ql("local");Gl(this,(function(){return Ie().then((function(){return t.c&&"local"!=t.c.D?t.b.get(e,t.a):null})).then((function(n){if(n)return jl(t,"local").then((function(){t.c=e}))}))}))};var Bl={name:"persistence",D:"session"};function ql(t){return{name:"authUser",D:t}}function Wl(t,e){return Gl(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function Hl(t){return Gl(t,(function(){return Qu(t.b,t.c,t.a)}))}function zl(t,e,n){return Gl(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Fl(t||{})}))}))}function Gl(t,e){return t.f=t.f.then(e,e),t.f}function Kl(t){if(this.m=!1,Gr(this,"settings",new jc),Gr(this,"app",t),!eh(this).options||!eh(this).options.apiKey)throw new S("invalid-api-key");t=e.SDK_VERSION?Cr(e.SDK_VERSION):null,this.a=new Ws(eh(this).options&&eh(this).options.apiKey,P(T),t),this.R=[],this.u=[],this.P=[],this.ac=e.INTERNAL.createSubscribe(w(this.yc,this)),this.X=void 0,this.bc=e.INTERNAL.createSubscribe(w(this.zc,this)),Zl(this,null),this.l=new Vl(eh(this).options.apiKey+":"+eh(this).name),this.G=new Ml(eh(this).options.apiKey+":"+eh(this).name),this.$=oh(this,function(t){var e=eh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Ll,t.a).then((function(t){return t&&e&&(t.authDomain=e),Fl(t||{})}))}(t.G,eh(t).options.authDomain).then((function(e){return(t.o=e)&&(e.ha=t.G),Ul(t.G)}));return oh(t,e)}(t).then((function(){return zl(t.l,e,t.f)})).then((function(e){return e?(e.ha=t.G,t.o&&(t.o.ga||null)==(e.ga||null)?e:e.reload().then((function(){return Wl(t.l,e).then((function(){return e}))})).s((function(n){return"auth/network-request-failed"==n.code?e:Hl(t.l)}))):null})).then((function(e){Zl(t,e||null)}));return oh(t,n)}(this)),this.i=oh(this,function(t){return t.$.then((function(){return Xl(t)})).s((function(){})).then((function(){if(!t.m)return t.pa()})).s((function(){})).then((function(){if(!t.m){t.ba=!0;var e=t.l;e.b.addListener(ql("local"),e.a,t.pa)}}))}(this)),this.ba=!1,this.pa=w(this.Yc,this),this.Ba=w(this.da,this),this.ya=w(this.kc,this),this.za=w(this.vc,this),this.Aa=w(this.wc,this),this.b=null,function(t){var e=eh(t).options.authDomain,n=eh(t).options.apiKey;e&&Tr()&&(t.gb=t.$.then((function(){if(!t.m){if(t.b=Nc(e,n,eh(t).name,t.f),Cc(t.b,t),nh(t)&&ml(nh(t)),t.o){ml(t.o);var r=t.o;r.wa(t.ka()),ul(r,t),ll(r=t.o,t.N),hl(r,t),Js((r=t.o).a,t.f),cl(r,t),t.o=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Fc,this),this.A=0,bn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ka()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.xb(t)},enumerable:!1}),t.W=null}(this),this.N=[],this.f=null}function Ql(t){Qe.call(this,"languageCodeChanged"),this.h=t}function $l(t){Qe.call(this,"emulatorConfigChanged"),this.c=t}function Yl(t){Qe.call(this,"frameworkChanged"),this.f=t}function Jl(t){return t.gb||Te(new S("auth-domain-config-required"))}function Xl(t){if(!Tr())return Te(new S("operation-not-supported-in-this-environment"));var e=Jl(t).then((function(){return t.b.qa()})).then((function(t){return t?Qr(t):null}));return oh(t,e)}function Zl(t,e){nh(t)&&(function(t,e){$(t.R,(function(t){return t==e}))}(nh(t),t.Ba),ln(nh(t),"tokenChanged",t.ya),ln(nh(t),"userDeleted",t.za),ln(nh(t),"userInvalidated",t.Aa),pl(nh(t))),e&&(e.R.push(t.Ba),an(e,"tokenChanged",t.ya),an(e,"userDeleted",t.za),an(e,"userInvalidated",t.Aa),0<t.A&&dl(e)),Gr(t,"currentUser",e),e&&(e.wa(t.ka()),ul(e,t),ll(e,t.N),hl(e,t),Js(e.a,t.f),cl(e,t))}function th(t,e){var n=null,r=null;return oh(t,e.then((function(e){return n=Ro(e),r=zi(e),function(t,e){var n={};return n.apiKey=eh(t).options.apiKey,n.authDomain=eh(t).options.authDomain,n.appName=eh(t).name,t.f&&(n.emulatorConfig=t.f),t.$.then((function(){return function(t,e,n,r){var i=new al(t,e);return n&&(i.ha=n),r&&ll(i,r),i.reload().then((function(){return i}))}(n,e,t.G,t.Ga())})).then((function(e){return nh(t)&&e.uid==nh(t).uid?(Sl(nh(t),e),t.da(e)):(Zl(t,e),ml(e),t.da(e))})).then((function(){ih(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Qc(e.w(),t,w(t.jc,t))),n||e})).then((function(){return Qr({user:nh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function eh(t){return t.app}function nh(t){return t.currentUser}function rh(t){return nh(t)&&nh(t)._lat||null}function ih(t){if(t.ba){for(var e=0;e<t.u.length;e++)t.u[e]&&t.u[e](rh(t));if(t.X!==t.getUid()&&t.P.length)for(t.X=t.getUid(),e=0;e<t.P.length;e++)t.P[e]&&t.P[e](rh(t))}}function oh(t,e){return t.R.push(e),e.na((function(){Q(t.R,e)})),e}function sh(){}function ah(){this.a={},this.b=1e12}Vl.prototype.wb=function(t){var e=null,n=this;return function(t){var e=new S("invalid-persistence-type"),n=new S("unsupported-persistence-type");t:{for(r in Wu)if(Wu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(yr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!ku()&&"none"!==t)throw n;break;default:if(!Ir()&&"none"!==t)throw n}}(t),Gl(this,(function(){return t!=n.c.D?n.b.get(n.c,n.a).then((function(r){return e=r,jl(n,t)})).then((function(){if(n.c=ql(t),e)return n.b.set(n.c,e,n.a)})):Ie()}))},E(Kl,bn),E(Ql,Qe),E($l,Qe),E(Yl,Qe),(t=Kl.prototype).wb=function(t){return oh(this,t=this.l.wb(t))},t.wa=function(t){this.aa===t||this.m||(this.aa=t,Ys(this.a,this.aa),this.dispatchEvent(new Ql(this.ka())))},t.ka=function(){return this.aa},t.ed=function(){var t=u.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.fd=function(t){if(!this.f){if(!/^https?:\/\//.test(t))throw new S("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");Vr("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&pr().then((function(){var t=u.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),u.document.body.appendChild(t)})),this.f={url:t},this.settings.hb=!0,Js(this.a,this.f),this.dispatchEvent(new $l(this.f))}},t.Fc=function(t){this.N.push(t),Zs(this.a,e.SDK_VERSION?Cr(e.SDK_VERSION,this.N):null),this.dispatchEvent(new Yl(this.N))},t.Ga=function(){return J(this.N)},t.xb=function(t){this.W===t||this.m||(this.W=t,this.a.b=this.W)},t.S=function(){return this.W},t.toJSON=function(){return{apiKey:eh(this).options.apiKey,authDomain:eh(this).options.authDomain,appName:eh(this).name,currentUser:nh(this)&&nh(this).w()}},t.Eb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.h==e&&!!this.g;default:return!1}},t.ma=function(t,e,n,r){"signInViaPopup"==t&&this.h==r&&(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.h==e&&this.g?w(this.hc,this):null},t.hc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return th(i,fa(i.a,o))}))},t.Wc=function(t){if(!Tr())return Te(new S("operation-not-supported-in-this-environment"));var n=this,r=Hi(t.providerId),i=Rr(),o=null;(!Or()||gr())&&eh(this).options.authDomain&&t.isOAuthProvider&&(o=lu(eh(this).options.authDomain,eh(this).options.apiKey,eh(this).name,"signInViaPopup",t,null,i,e.SDK_VERSION||null,null,null,this.S(),this.f));var s=hr(o,r&&r.ua,r&&r.ta);return oh(this,r=Jl(this).then((function(e){return Tc(e,s,"signInViaPopup",t,i,!!o,n.S())})).then((function(){return new be((function(t,e){n.ma("signInViaPopup",null,new S("cancelled-popup-request"),n.h),n.g=t,n.O=e,n.h=i,n.c=Oc(n.b,n,"signInViaPopup",s,i)}))})).then((function(t){return s&&lr(s),t?Qr(t):null})).s((function(t){throw s&&lr(s),t})))},t.Xc=function(t){if(!Tr())return Te(new S("operation-not-supported-in-this-environment"));var e=this;return oh(this,Jl(this).then((function(){return function(t){return Gl(t,(function(){return t.b.set(Bl,t.c.D,t.a)}))}(e.l)})).then((function(){return Dc(e.b,"signInViaRedirect",t,void 0,e.S())})))},t.qa=function(){var t=this;return Xl(this).then((function(e){return t.b&&Mc(t.b.b),e})).s((function(e){throw t.b&&Mc(t.b.b),e}))},t.cd=function(t){if(!t)return Te(new S("null-user"));if(this.W!=t.tenantId)return Te(new S("tenant-id-mismatch"));var e=this,n={};n.apiKey=eh(this).options.apiKey,n.authDomain=eh(this).options.authDomain,n.appName=eh(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[zs]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new al(e||{apiKey:t.l,authDomain:t.o,appName:t.m},o),n&&(e.ha=n),r&&ll(e,r),Sl(e,t),e}(t,n,e.G,e.Ga());return oh(this,this.i.then((function(){if(eh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return nh(e)&&t.uid==nh(e).uid?(Sl(nh(e),t),e.da(t)):(Zl(e,r),ml(r),e.da(r))})).then((function(){ih(e)})))},t.zb=function(){var t=this;return oh(this,this.i.then((function(){return t.b&&Mc(t.b.b),nh(t)?(Zl(t,null),Hl(t.l).then((function(){ih(t)}))):Ie()})))},t.Yc=function(){var t=this;return zl(this.l,eh(this).options.authDomain).then((function(e){if(!t.m){var n;if(n=nh(t)&&e){n=nh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Sl(nh(t),e),nh(t).I();(nh(t)||e)&&(Zl(t,e),e&&(ml(e),e.ha=t.G),t.b&&Cc(t.b,t),ih(t))}}))},t.da=function(t){return Wl(this.l,t)},t.kc=function(){ih(this),this.da(nh(this))},t.vc=function(){this.zb()},t.wc=function(){this.zb()},t.jc=function(t){var e=this;return this.i.then((function(){return th(e,Ie(t))}))},t.yc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(nh(e))}))},t.zc=function(t){var e=this;!function(t,e){t.P.push(e),oh(t,t.i.then((function(){!t.m&&K(t.P,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(rh(t)))})))}(this,(function(){t.next(nh(e))}))},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(nh(r)):"function"==typeof t.next&&t.next(nh(r))})),this.ac(t,e,n)},t.Gc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(nh(r)):"function"==typeof t.next&&t.next(nh(r))})),this.bc(t,e,n)},t.mc=function(t){var e=this;return oh(this,this.i.then((function(){return nh(e)?nh(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Sc=function(t){var e=this;return this.i.then((function(){return th(e,$a(e.a,Wa,{token:t}))})).then((function(t){var n=t.user;return El(n,"isAnonymous",!1),e.da(n),t}))},t.Tc=function(t,e){var n=this;return this.i.then((function(){return th(n,$a(n.a,Ha,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.i.then((function(){return th(n,$a(n.a,ya,{email:t,password:e}))}))},t.Za=function(t){var e=this;return this.i.then((function(){return th(e,t.ja(e.a))}))},t.Rc=function(t){return Hr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(t)},t.yb=function(){var t=this;return this.i.then((function(){var e=nh(t);if(e&&e.isAnonymous){var n=Qr({providerId:null,isNewUser:!1});return Qr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return th(t,t.a.yb()).then((function(e){var n=e.user;return El(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return nh(this)&&nh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.A++,0<this.A&&nh(this)&&dl(nh(this))},t.Oc=function(t){var e=this;W(this.u,(function(n){n==t&&e.A--})),0>this.A&&(this.A=0),0==this.A&&nh(this)&&pl(nh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.u.push(t),oh(this,this.i.then((function(){e.m||K(e.u,t)&&t(rh(e))})))},t.removeAuthTokenListener=function(t){$(this.u,(function(e){return e==t}))},t.delete=function(){this.m=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.l&&(t=this.l).b.removeListener(ql("local"),t.a,this.pa),this.b&&(Ec(this.b,this),Mc(this.b.b)),Promise.resolve()},t.gc=function(t){return oh(this,function(t,e){return $a(t,ba,{identifier:e,continueUri:Ar()?ar():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Ac=function(t){return!!Ao(t)},t.vb=function(t,e){var n=this;return oh(this,Ie().then((function(){var t=new Ii(e);if(!t.c)throw new S("argument-error",Di+" must be true when sending sign in link to email");return Mi(t)})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.hd=function(t){return this.Qa(t).then((function(t){return t.data.email}))},t.mb=function(t,e){return oh(this,this.a.mb(t,e).then((function(){})))},t.Qa=function(t){return oh(this,this.a.Qa(t).then((function(t){return new ri(t)})))},t.ib=function(t){return oh(this,this.a.ib(t).then((function(){})))},t.ub=function(t,e){var n=this;return oh(this,Ie().then((function(){return void 0===e||dt(e)?{}:Mi(new Ii(e))})).then((function(e){return n.a.ub(t,e)})).then((function(){})))},t.Vc=function(t,e){return oh(this,qc(this,t,e,w(this.Za,this)))},t.Uc=function(t,e){var n=this;return oh(this,Ie().then((function(){var r=e||ar(),i=To(t,r);if(!(r=Ao(r)))throw new S("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new S("tenant-id-mismatch");return n.Za(i)})))},sh.prototype.render=function(){},sh.prototype.reset=function(){},sh.prototype.getResponse=function(){},sh.prototype.execute=function(){};var uh=null;function ch(t,e){return(e=lh(e))&&t.a[e]||null}function lh(t){return(t=void 0===t?1e12:t)?t.toString():null}function hh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=se(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():an(this.f,"click",this.i)}function fh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function dh(){}function ph(){}ah.prototype.render=function(t,e){return this.a[this.b.toString()]=new hh(t,e),this.b++},ah.prototype.reset=function(t){var e=ch(this,t);t=lh(t),e&&t&&(e.delete(),delete this.a[t])},ah.prototype.getResponse=function(t){return(t=ch(this,t))?t.getResponse():null},ah.prototype.execute=function(t){(t=ch(this,t))&&t.execute()},hh.prototype.getResponse=function(){return fh(this),this.b},hh.prototype.execute=function(){fh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},hh.prototype.delete=function(){fh(this),this.g=!0,clearTimeout(this.a),this.a=null,ln(this.f,"click",this.i)},Gr(dh,"FACTOR_ID","phone"),ph.prototype.g=function(){return uh||(uh=new ah),Ie(uh)},ph.prototype.c=function(){};var vh=null;function gh(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var mh=new yt(wt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),yh=new Lr(3e4,6e4);gh.prototype.g=function(t){var e=this;return new be((function(n,r){var i=setTimeout((function(){r(new S("network-request-failed"))}),yh.get());!u.grecaptcha||t!==e.f&&!e.b?(u[e.a]=function(){if(u.grecaptcha){e.f=t;var o=u.grecaptcha.render;u.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new S("internal-error"));delete u[e.a]},Ie(Ms(St(mh,{onload:e.a,hl:t||""}))).s((function(){clearTimeout(i),r(new S("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},gh.prototype.c=function(){this.b--};var bh=null;function _h(t,e,n,r,i,o,s){if(Gr(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=e,this.g=null,s?(vh||(vh=new ph),s=vh):(bh||(bh=new gh),s=bh),this.v=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Ch])throw new S("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Eh],!u.document)throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!se(e)||!this.i&&se(e).hasChildNodes())throw new S("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Ws(t,o||null,i||null),this.u=r||function(){return null};var a=this;this.l=[];var c=this.a[wh];this.a[wh]=function(t){if(Sh(a,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Sr(c,u);"function"==typeof e&&e(t)}};var l=this.a[kh];this.a[kh]=function(){if(Sh(a,null),"function"==typeof l)l();else if("string"==typeof l){var t=Sr(l,u);"function"==typeof t&&t()}}}var wh="callback",kh="expired-callback",Ch="sitekey",Eh="size";function Sh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Ih(t,e){return t.h.push(e),e.na((function(){Q(t.h,e)})),e}function Th(t){if(t.A)throw new S("internal-error","RecaptchaVerifier instance has been destroyed.")}function Ah(t,n,r){var i=!1;try{this.b=r||e.app()}catch(a){throw new S("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new S("invalid-api-key");r=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ga()}catch(a){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=e.SDK_VERSION?Cr(e.SDK_VERSION,s):null,_h.call(this,r,t,n,(function(){try{var t=o.b.auth().ka()}catch(e){t=null}return t}),s,P(T),i)}function Dh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new S("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=Oh.length)throw new S("internal-error","Argument validator received an unsupported number of arguments.");n=Oh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new S("argument-error",t+" failed: "+r)}(t=_h.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Ih(this,Ie().then((function(){if(Ar()&&!mr())return pr();throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.v.g(t.u())})).then((function(e){return t.g=e,$a(t.o,xa,{})})).then((function(e){t.a[Ch]=e.recaptchaSiteKey})).s((function(e){throw t.f=null,e})))},t.render=function(){Th(this);var t=this;return Ih(this,this.Ia().then((function(){if(null===t.c){var e=t.m;if(!t.i){var n=se(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!oe&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',qt(s.name),'"'),s.type){o.push(' type="',qt(s.type),'"');var a={};gt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=fe(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ae(o,s)),2<r.length&&he(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Th(this);var t=this;return Ih(this,this.render().then((function(e){return new be((function(n){var r=t.g.getResponse(e);if(r)n(r);else{t.l.push((function e(r){r&&(function(t,e){$(t.l,(function(t){return t==e}))}(t,e),n(r))})),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Th(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Th(this),this.A=!0,this.v.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=se(this.m);for(var e;e=t.firstChild;)t.removeChild(e)}},E(Ah,_h);var Oh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Ph(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function xh(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function Nh(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:v}}function Rh(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"==typeof t}}}function Fh(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Mh(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){return!!e&&!(!e.ja||t&&e.providerId!==t)}}}function Lh(t,e){return v(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Uh(t){return v(t)&&"string"==typeof t.uid}function Vh(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function jh(t,e){for(var n in e){var r=e[n].name;t[r]=Wh(r,t[n],e[n].j)}}function Bh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:k((function(t){return this[t]}),n),set:k((function(t,e,n,r){Dh(t,[n],[r],!0),this[e]=r}),r,n,e[n].jb),enumerable:!0})}}function qh(t,e,n,r){t[e]=Wh(e,n,r)}function Wh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Dh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}jh(Kl.prototype,{ib:{name:"applyActionCode",j:[Ph("code")]},Qa:{name:"checkActionCode",j:[Ph("code")]},mb:{name:"confirmPasswordReset",j:[Ph("code"),Ph("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Ph("email"),Ph("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[Ph("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[Ph("emailLink")]},Gc:{name:"onAuthStateChanged",j:[Vh(Nh(),Rh(),"nextOrObserver"),Rh("opt_error",!0),Rh("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[Vh(Nh(),Rh(),"nextOrObserver"),Rh("opt_error",!0),Rh("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[Ph("email"),Vh(Nh("opt_actionCodeSettings",!0),Fh(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[Ph("email"),Nh("actionCodeSettings")]},wb:{name:"setPersistence",j:[Ph("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[Mh()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[Mh()]},Sc:{name:"signInWithCustomToken",j:[Ph("token")]},Tc:{name:"signInWithEmailAndPassword",j:[Ph("email"),Ph("password")]},Uc:{name:"signInWithEmailLink",j:[Ph("email"),Ph("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[Ph("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Wc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Xc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},cd:{name:"updateCurrentUser",j:[Vh({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof al)}},Fh(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Ph(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[Ph("url")]},hd:{name:"verifyPasswordResetCode",j:[Ph("code")]}}),Bh(Kl.prototype,{lc:{name:"languageCode",jb:Vh(Ph(),Fh(),"languageCode")},ti:{name:"tenantId",jb:Vh(Ph(),Fh(),"tenantId")}}),(Kl.Persistence=Wu).LOCAL="local",Kl.Persistence.SESSION="session",Kl.Persistence.NONE="none",jh(al.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[xh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[xh("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[Mh()]},pb:{name:"linkWithCredential",j:[Mh()]},Cc:{name:"linkWithPhoneNumber",j:[Ph("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Dc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ec:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Mh()]},sb:{name:"reauthenticateWithCredential",j:[Mh()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[Ph("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Mc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[Vh(Nh("opt_actionCodeSettings",!0),Fh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Ph(null,!0)]},bd:{name:"unlink",j:[Ph("provider")]},Ab:{name:"updateEmail",j:[Ph("email")]},Bb:{name:"updatePassword",j:[Ph("password")]},dd:{name:"updatePhoneNumber",j:[Mh("phone")]},Cb:{name:"updateProfile",j:[Nh("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[Ph("email"),Vh(Nh("opt_actionCodeSettings",!0),Fh(null,!0),"opt_actionCodeSettings",!0)]}}),jh(ah.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),jh(sh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),jh(be.prototype,{na:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),Bh(jc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:xh("appVerificationDisabledForTesting")}}),jh(Bc.prototype,{confirm:{name:"confirm",j:[Ph("verificationCode")]}}),qh(io,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[ho,So,Oo,uo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Vh(Ph(),Nh(),"json")]),qh(Io,"credential",(function(t,e){return new Eo(t,e)}),[Ph("email"),Ph("password")]),jh(Eo.prototype,{w:{name:"toJSON",j:[Ph(null,!0)]}}),jh(go.prototype,{Ca:{name:"addScope",j:[Ph("scope")]},Ka:{name:"setCustomParameters",j:[Nh("customOAuthParameters")]}}),qh(go,"credential",mo,[Vh(Ph(),Nh(),"token")]),qh(Io,"credentialWithLink",To,[Ph("email"),Ph("emailLink")]),jh(yo.prototype,{Ca:{name:"addScope",j:[Ph("scope")]},Ka:{name:"setCustomParameters",j:[Nh("customOAuthParameters")]}}),qh(yo,"credential",bo,[Vh(Ph(),Nh(),"token")]),jh(_o.prototype,{Ca:{name:"addScope",j:[Ph("scope")]},Ka:{name:"setCustomParameters",j:[Nh("customOAuthParameters")]}}),qh(_o,"credential",wo,[Vh(Ph(),Vh(Nh(),Fh()),"idToken"),Vh(Ph(),Fh(),"accessToken",!0)]),jh(ko.prototype,{Ka:{name:"setCustomParameters",j:[Nh("customOAuthParameters")]}}),qh(ko,"credential",Co,[Vh(Ph(),Nh(),"token"),Ph("secret",!0)]),jh(vo.prototype,{Ca:{name:"addScope",j:[Ph("scope")]},credential:{name:"credential",j:[Vh(Ph(),Vh(Nh(),Fh()),"optionsOrIdToken"),Vh(Ph(),Fh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Nh("customOAuthParameters")]}}),jh(co.prototype,{w:{name:"toJSON",j:[Ph(null,!0)]}}),jh(so.prototype,{w:{name:"toJSON",j:[Ph(null,!0)]}}),qh(xo,"credential",No,[Ph("verificationId"),Ph("verificationCode")]),jh(xo.prototype,{eb:{name:"verifyPhoneNumber",j:[Vh(Ph(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Lh(t.session,no)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Lh(t.session,ro)&&Uh(t.multiFactorHint):t.session&&t.multiFactorUid?Lh(t.session,ro)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),jh(Do.prototype,{w:{name:"toJSON",j:[Ph(null,!0)]}}),jh(S.prototype,{toJSON:{name:"toJSON",j:[Ph(null,!0)]}}),jh(qo.prototype,{toJSON:{name:"toJSON",j:[Ph(null,!0)]}}),jh(Bo.prototype,{toJSON:{name:"toJSON",j:[Ph(null,!0)]}}),jh(Kc.prototype,{toJSON:{name:"toJSON",j:[Ph(null,!0)]}}),jh(Hc.prototype,{Qc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}}]}}),jh(Zc.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}},Ph("displayName",!0)]},ad:{name:"unenroll",j:[Vh({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Uh},Ph(),"multiFactorInfoIdentifier")]}}),jh(Ah.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),qh(mi,"parseLink",Si,[Ph("link")]),qh(dh,"assertion",(function(t){return new Jc(t)}),[Mh("phone")]),function(){if(void 0===e||!e.INTERNAL||!e.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:oi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ii,VERIFY_AND_CHANGE_EMAIL:si,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Kl,AuthCredential:io,Error:S};qh(t,"EmailAuthProvider",Io,[]),qh(t,"FacebookAuthProvider",go,[]),qh(t,"GithubAuthProvider",yo,[]),qh(t,"GoogleAuthProvider",_o,[]),qh(t,"TwitterAuthProvider",ko,[]),qh(t,"OAuthProvider",vo,[Ph("providerId")]),qh(t,"SAMLAuthProvider",po,[Ph("providerId")]),qh(t,"PhoneAuthProvider",xo,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof Kl)}}]),qh(t,"RecaptchaVerifier",Ah,[Vh(Ph(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Nh("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof e.app.App)}}]),qh(t,"ActionCodeURL",mi,[]),qh(t,"PhoneMultiFactorGenerator",dh,[]),e.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Kl(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),e.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:w((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:w(t.mc,t),addAuthTokenListener:w(t.cc,t),removeAuthTokenListener:w(t.Oc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),e.registerVersion("@firebase/auth","0.15.0"),e.INTERNAL.extendNamespace({User:al})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},LmZi:function(t,e,n){"use strict";n.r(e),n.d(e,"registerStorage",(function(){return Ft}));var r=n("wj3C"),i=n.n(r),o=n("mrSG"),s=n("S+S0"),a=function(){function t(t,e){this.code_=u(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return u(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.serverResponse_?this.message_+"\n"+this.serverResponse_:this.message_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!1,configurable:!0}),t}();function u(t){return"storage/"+t}function c(){return new a("unknown","An unknown error occurred, please check the error payload for server response.")}function l(){return new a("canceled","User canceled the upload/download.")}function h(){return new a("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function f(){return new a("no-download-url","The given file does not have any download URLs.")}function d(t,e,n){return new a("invalid-argument","Invalid argument in `"+e+"` at index "+t+": "+n)}function p(){return new a("app-deleted","The Firebase app was deleted.")}function v(t,e){return new a("invalid-format","String does not match format '"+t+"': "+e)}function g(t){throw new a("internal-error","Internal error: "+t)}var m={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function y(t){switch(t){case m.RAW:case m.BASE64:case m.BASE64URL:case m.DATA_URL:return;default:throw"Expected one of the event types: ["+m.RAW+", "+m.BASE64+", "+m.BASE64URL+", "+m.DATA_URL+"]."}}var b=function(t,e){this.data=t,this.contentType=e||null};function _(t,e){switch(t){case m.RAW:return new b(w(e));case m.BASE64:case m.BASE64URL:return new b(k(t,e));case m.DATA_URL:return new b((n=new C(e)).base64?k(m.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw v(m.DATA_URL,"Malformed data URL.")}return w(e)}(n.rest),new C(e).contentType)}var n;throw c()}function w(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function k(t,e){switch(t){case m.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw v(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case m.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw v(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(c){throw v(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var C=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw v(m.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)},E={STATE_CHANGED:"state_changed"},S={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function I(t){switch(t){case"running":case"pausing":case"canceling":return S.RUNNING;case"paused":return S.PAUSED;case"success":return S.SUCCESS;case"canceled":return S.CANCELED;case"error":default:return S.ERROR}}function T(t){return null!=t}function A(t){return void 0!==t}function D(t){return"function"==typeof t}function O(t){return"object"==typeof t}function P(t){return O(t)&&null!==t}function x(t){return"string"==typeof t||t instanceof String}function N(t){return R(t)&&Number.isInteger(t)}function R(t){return"number"==typeof t||t instanceof Number}function F(t){return M()&&t instanceof Blob}function M(){return"undefined"!=typeof Blob}var L=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),U=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=L.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=L.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=L.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw g("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),T(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return T(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw g("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw g("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw g("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){T(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){T(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),V=function(){function t(){}return t.prototype.createXhrIo=function(){return new U},t}();function j(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function B(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=j();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(M())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}var q=function(){function t(t,e){var n=0,r="";F(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(F(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(M()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(B.apply(null,r))}var i=e.map((function(t){return x(t)?_(m.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),W=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===n.path)return n;throw new a("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var o="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),s=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],u=0;u<s.length;u++){var c=s[u],l=c.regex.exec(e);if(l){var h=l[c.indices.path];h||(h=""),n=new t(l[c.indices.bucket],h),c.postModify(n);break}}if(null==n)throw function(t){return new a("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function H(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return O(n=e)&&!Array.isArray(n)?e:null}function z(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}function G(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function K(t){return"https://firebasestorage.googleapis.com/v0"+t}function Q(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function $(t,e){return e}var Y=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||$},J=null;function X(t,e,n){var r=H(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new W(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function Z(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function tt(t){if(!O(t)||!t)throw"Expected Metadata object.";for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if("customMetadata"===e){if(!O(n))throw"Expected object for 'customMetadata' mapping."}else if(P(n))throw"Mapping for '"+e+"' cannot be an object."}}function et(t){if(!O(t)||!t)throw"Expected ListOptions object.";for(var e in t)if("maxResults"===e){if(!N(t.maxResults)||t.maxResults<=0)throw"Expected maxResults to be a positive number.";if(t.maxResults>1e3)throw"Expected maxResults to be less than or equal to 1000."}else{if("pageToken"!==e)throw"Unknown option: "+e;if(t.pageToken&&!x(t.pageToken))throw"Expected pageToken to be string."}}var nt=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function rt(t){if(!t)throw c()}function it(t,e){return function(n,r){var i=X(t,r,e);return rt(null!==i),i}}function ot(t){return function(e,n){var r;return(r=401===e.getStatus()?new a("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new a("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new a("unauthorized","User does not have permission to access '"+t.path+"'."):n).setServerResponseProp(n.serverResponseProp()),r}}function st(t){var e=ot(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new a("object-not-found","Object '"+t.path+"' does not exist.")),i.setServerResponseProp(r.serverResponseProp()),i}}function at(t,e,n){var r=K(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new nt(r,"GET",it(t,n),i);return o.errorHandler=st(e),o}function ut(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=K(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,u=new nt(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=H(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t.makeStorageReference(new W(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t.makeStorageReference(new W(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return rt(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=ot(e),u}function ct(t,e,n){var r=K(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new nt(r,"GET",function(t,e){return function(n,r){var i=X(t,r,e);return rt(null!==i),function(t,e){var n=H(e);if(null===n)return null;if(!x(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.fullPath;return K("/b/"+i(t.bucket)+"/o/"+i(n))+Q({alt:"media",token:e})}))[0]}(i,r)}}(t,n),i);return o.errorHandler=st(e),o}function lt(t,e,n,r){var i=K(e.fullServerUrl()),o=Z(n,r),s=t.maxOperationRetryTime,a=new nt(i,"PATCH",it(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=st(e),a}function ht(t,e){var n=K(e.fullServerUrl()),r=new nt(n,"DELETE",(function(t,e){}),t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=st(e),r}function ft(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var dt=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function pt(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){rt(!1)}return rt(!!n&&-1!==(e||["active"]).indexOf(n)),n}var vt=function(t,e,n){if(D(t)||T(e)||T(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}},gt=function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o};function mt(t,e,n){for(var r=e.length,i=e.length,o=0;o<e.length;o++)if(e[o].optional){r=o;break}var s,u,c,l;if(!(r<=n.length&&n.length<=i))throw(s=r)===(u=i)?(c=s,l=1===s?"argument":"arguments"):(c="between "+s+" and "+u,l="arguments"),new a("invalid-argument-count","Invalid argument count in `"+t+"`: Expected "+c+" "+l+", received "+n.length+".");for(o=0;o<n.length;o++)try{e[o].validator(n[o])}catch(h){throw h instanceof Error?d(o,t,h.message):d(o,t,h)}}var yt=function(t,e){var n=this;this.validator=function(e){n.optional&&!A(e)||t(e)},this.optional=!!e};function bt(t,e){function n(t){if(!x(t))throw"Expected string."}var r,i,o;return t?(i=n,o=t,r=function(t){i(t),o(t)}):r=n,new yt(r,e)}function _t(){return new yt((function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||M()&&t instanceof Blob))throw"Expected Blob or File."}))}function wt(t){return new yt(tt,t)}function kt(t){return new yt(et,t)}function Ct(){return new yt((function(t){if(!(R(t)&&t>=0))throw"Expected a number 0 or greater."}))}function Et(t,e){return new yt((function(e){if(!(null===e||T(e)&&e instanceof Object))throw"Expected an Object.";null!=t&&t(e)}),e)}function St(t){return new yt((function(t){if(null!==t&&!D(t))throw"Expected a Function."}),t)}function It(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var Tt=function(){function t(t,e,n,r,i,o){var s=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.service_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_="running",this.errorHandler_=function(t){s.request_=null,s.chunkMultiplier_=1,t.codeEquals("canceled")?(s.needToFetchStatus_=!0,s.completeTransitions_()):(s.error_=t,s.transition_("error"))},this.metadataErrorHandler_=function(t){s.request_=null,t.codeEquals("canceled")?s.completeTransitions_():(s.error_=t,s.transition_("error"))},this.promise_=new Promise((function(t,e){s.resolve_=t,s.reject_=e,s.start_()})),this.promise_.then(null,(function(){}))}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){"running"===this.state_&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.service_.getAuthToken().then((function(n){switch(e.state_){case"running":t(n);break;case"canceling":e.transition_("canceled");break;case"pausing":e.transition_("paused")}}))},t.prototype.createResumable_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=ft(e,r,i),a={name:s.fullPath},u=K(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=Z(s,n),h=new nt(u,"POST",(function(t){var e;pt(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){rt(!1)}return rt(x(e)),e}),t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=ot(e),h}(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_((function(n){var r=function(t,e,n,r){var i=new nt(n,"POST",(function(t){var e=pt(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){rt(!1)}n||rt(!1);var i=Number(n);return rt(!isNaN(i)),new dt(i,r.size(),"final"===e)}),t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=ot(e),i}(t.service_,t.location_,e,t.blob_),i=t.service_.makeRequest(r,n);t.request_=i,i.getPromise().then((function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new dt(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=function(t,e,n,r,i,o,s,u){var c=new dt(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new a("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var l=c.total-c.current,f=l;i>0&&(f=Math.min(f,i));var d=c.current,p={"X-Goog-Upload-Command":f===l?"upload, finalize":"upload","X-Goog-Upload-Offset":c.current},v=r.slice(d,d+f);if(null===v)throw h();var g=new nt(n,"POST",(function(t,n){var i,s=pt(t,["active","final"]),a=c.current+f,u=r.size();return i="final"===s?it(e,o)(t,n):null,new dt(a,u,"final"===s,i)}),e.maxUploadRetryTime);return g.headers=p,g.body=v.uploadData(),g.progressCallback=u||null,g.errorHandler=ot(t),g}(t.location_,t.service_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(u){return t.error_=u,void t.transition_("error")}var s=t.service_.makeRequest(o,i);t.request_=s,s.getPromise().then((function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_("success")):t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_((function(e){var n=at(t.service_,t.location_,t.mappings_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.transition_("success")}),t.metadataErrorHandler_)}))},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=ft(e,r,i),c=Z(u,n),l=q.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw h();var f={name:u.fullPath},d=K(o),p=t.maxUploadRetryTime,v=new nt(d,"POST",it(t,n),p);return v.urlParams=f,v.headers=s,v.body=l.uploadData(),v.errorHandler=ot(e),v}(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_("success")}),t.errorHandler_)}))},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case"canceling":case"pausing":this.state_=t,null!==this.request_&&this.request_.cancel();break;case"running":var e="paused"===this.state_;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case"paused":this.state_=t,this.notifyObservers_();break;case"canceled":this.error_=l(),this.state_=t,this.notifyObservers_();break;case"error":case"success":this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case"pausing":this.transition_("paused");break;case"canceling":this.transition_("canceled");break;case"running":this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=I(this.state_);return new gt(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){function i(){if(t!==E.STATE_CHANGED)throw"Expected one of the event types: ["+E.STATE_CHANGED+"]."}var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",s=St(!0).validator,a=Et(null,!0).validator;function u(t){try{return void s(t)}catch(e){}try{if(a(t),!(A(t.next)||A(t.error)||A(t.complete)))throw"";return}catch(e){throw o}}var c=[bt(i),Et(u,!0),St(!0),St(!0)];mt("on",c,arguments);var l=this;function h(t){return function(e,n,i){null!==t&&mt("on",t,arguments);var o=new vt(e,n,r);return l.addObserver_(o),function(){l.removeObserver_(o)}}}function f(t){if(null===t)throw o;u(t)}var d=[Et(f),St(!0),St(!0)],p=!(A(e)||A(n)||A(r));return p?h(d):h(null)(e,n,r)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e=this.observers_.indexOf(t);-1!==e&&this.observers_.splice(e,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach((function(e){t.notifyObserver_(e)}))},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(I(this.state_)){case S.SUCCESS:It(this.resolve_.bind(null,this.snapshot))();break;case S.CANCELED:case S.ERROR:It(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(I(this.state_)){case S.RUNNING:case S.PAUSED:t.next&&It(t.next.bind(t,this.snapshot))();break;case S.SUCCESS:t.complete&&It(t.complete.bind(t))();break;case S.CANCELED:case S.ERROR:t.error&&It(t.error.bind(t,this.error_))();break;default:t.error&&It(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){mt("resume",[],arguments);var t="paused"===this.state_||"pausing"===this.state_;return t&&this.transition_("running"),t},t.prototype.pause=function(){mt("pause",[],arguments);var t="running"===this.state_;return t&&this.transition_("pausing"),t},t.prototype.cancel=function(){mt("cancel",[],arguments);var t="running"===this.state_||"pausing"===this.state_;return t&&this.transition_("canceling"),t},t}(),At=function(){function t(t,e){this.service=t,this.location=e instanceof W?e:W.makeFromUrl(e)}return t.prototype.toString=function(){return mt("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return function(){if(J)return J;var t=[];t.push(new Y("bucket")),t.push(new Y("generation")),t.push(new Y("metageneration")),t.push(new Y("name","fullPath",!0));var e=new Y("name");e.xform=function(t,e){return function(t){return!x(t)||t.length<2?t:G(t)}(e)},t.push(e);var n=new Y("size");return n.xform=function(t,e){return T(e)?Number(e):e},t.push(n),t.push(new Y("timeCreated")),t.push(new Y("updated")),t.push(new Y("md5Hash",null,!0)),t.push(new Y("cacheControl",null,!0)),t.push(new Y("contentDisposition",null,!0)),t.push(new Y("contentEncoding",null,!0)),t.push(new Y("contentLanguage",null,!0)),t.push(new Y("contentType",null,!0)),t.push(new Y("metadata","customMetadata",!0)),J=t}()},t.prototype.child=function(t){mt("child",[bt()],arguments);var e=z(this.location.path,t),n=new W(this.location.bucket,e);return this.newRef(this.service,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new W(this.location.bucket,t);return this.newRef(this.service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new W(this.location.bucket,"");return this.newRef(this.service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return G(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.service},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),mt("put",[_t(),wt(!0)],arguments),this.throwIfRoot_("put"),new Tt(this,this.service,this.location,this.mappings(),new q(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=m.RAW),mt("putString",[bt(),bt(y,!0),wt(!0)],arguments),this.throwIfRoot_("putString");var r=_(e,t),i=Object.assign({},n);return!T(i.contentType)&&T(r.contentType)&&(i.contentType=r.contentType),new Tt(this,this.service,this.location,this.mappings(),new q(r.data,!0),i)},t.prototype.delete=function(){var t=this;return mt("delete",[],arguments),this.throwIfRoot_("delete"),this.service.getAuthToken().then((function(e){var n=ht(t.service,t.location);return t.service.makeRequest(n,e).getPromise()}))},t.prototype.listAll=function(){mt("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then((function(){return t}))},t.prototype.listAllHelper=function(t,e){return Object(o.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(o.__generator)(this,(function(o){switch(o.label){case 0:return[4,this.list({pageToken:e})];case 1:return n=o.sent(),(r=t.prefixes).push.apply(r,n.prefixes),(i=t.items).push.apply(i,n.items),null==n.nextPageToken?[3,3]:[4,this.listAllHelper(t,n.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))},t.prototype.list=function(t){mt("list",[kt(!0)],arguments);var e=this;return this.service.getAuthToken().then((function(n){var r=t||{},i=ut(e.service,e.location,"/",r.pageToken,r.maxResults);return e.service.makeRequest(i,n).getPromise()}))},t.prototype.getMetadata=function(){var t=this;return mt("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.service.getAuthToken().then((function(e){var n=at(t.service,t.location,t.mappings());return t.service.makeRequest(n,e).getPromise()}))},t.prototype.updateMetadata=function(t){var e=this;return mt("updateMetadata",[wt()],arguments),this.throwIfRoot_("updateMetadata"),this.service.getAuthToken().then((function(n){var r=lt(e.service,e.location,t,e.mappings());return e.service.makeRequest(r,n).getPromise()}))},t.prototype.getDownloadURL=function(){var t=this;return mt("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.service.getAuthToken().then((function(e){var n=ct(t.service,t.location,t.mappings());return t.service.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw f();return t}))}))},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new a("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),Dt=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),Ot=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var u=t.callback_(s,s.getResponseText());A(u)?i(u):i()}catch(h){o(h)}else null!==s?((r=c()).setServerResponseProp(s.getResponseText()),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?p():l():new a("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new Pt(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,s=null,a=!1,u=0;function c(){return 2===u}var l=!1;function h(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];l||(l=!0,n.apply(null,t))}function f(e){s=setTimeout((function(){s=null,function(e,n){if(n)e(!1,new Pt(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===L.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new Pt(s,n))}else{var a=n.getErrorCode()===L.ABORT;e(!1,new Pt(!1,null,a))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(d,c())}),e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!l)if(t)h.call.apply(h,Object(o.__spreadArrays)([null,t],e));else{var r;c()||a?h.call.apply(h,Object(o.__spreadArrays)([null,t],e)):(i<64&&(i*=2),1===u?(u=2,r=0):r=1e3*(i+Math.random()),f(r))}}var p=!1;function v(t){p||(p=!0,l||(null!==s?(t||(u=2),clearTimeout(s),f(0)):t||(u=1)))}return f(0),setTimeout((function(){a=!0,v(!0)}),r),v}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),Pt=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n},xt=function(){function t(e,n,r,i){var o;this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=e,this.authProvider_=n,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requests_=new Set,this.pool_=r,this.bucket_=null!=i?W.makeFromBucketSpec(i):t.extractBucket_(null===(o=this.app_)||void 0===o?void 0:o.options),this.internals_=new Nt(this)}return t.extractBucket_=function(t){var e=null==t?void 0:t.storageBucket;return null==e?null:W.makeFromBucketSpec(e)},t.prototype.getAuthToken=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){var t,e;return Object(o.__generator)(this,(function(n){switch(n.label){case 0:return(t=this.authProvider_.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requests_.forEach((function(t){return t.cancel()})),this.requests_.clear()},t.prototype.makeStorageReference=function(t){return new At(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this.deleted_)return new Dt(p());var r=function(t,e,n,r){var o=Q(t.urlParams),s=t.url+o,a=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(a,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(a,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==i.a?i.a.SDK_VERSION:"AppManager")}(a),new Ot(s,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this.appId_,e,this.pool_);return this.requests_.add(r),r.getPromise().then((function(){return n.requests_.delete(r)}),(function(){return n.requests_.delete(r)})),r},t.prototype.ref=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}if(mt("ref",[bt(e,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new At(this,this.bucket_);return null!=t?n.child(t):n},t.prototype.refFromURL=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{W.makeFromUrl(t)}catch(e){throw"Expected valid full URL but got an invalid one."}}return mt("refFromURL",[bt(e,!1)],arguments),new At(this,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.maxUploadRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){mt("setMaxUploadRetryTime",[Ct()],arguments),this.maxUploadRetryTime_=t},Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this.maxOperationRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxOperationRetryTime=function(t){mt("setMaxOperationRetryTime",[Ct()],arguments),this.maxOperationRetryTime_=t},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0}),t}(),Nt=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.deleteApp(),Promise.resolve()},t}();function Rt(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new xt(n,r,new V,e)}function Ft(t){var e={TaskState:S,TaskEvent:E,StringFormat:m,Storage:xt,Reference:At};t.INTERNAL.registerComponent(new s.Component("storage",Rt,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.3.43")}Ft(i.a)},MkmW:function(t,e,n){"use strict";e.hostReportError=function(t){setTimeout((function(){throw t}),0)}},Mxlh:function(t,e,n){"use strict";e.ObjectUnsubscribedError=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},NSPt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("wj3C"),i=n("mrSG"),o=n("zVF4"),s=n("q/0M"),a=n("S+S0");var u,c,l=(c=r)&&"object"==typeof c&&"default"in c?c:{default:c},h=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),o.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:o.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),f=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return o.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),d=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new h(e)}}catch(c){}return new f},p=d("localStorage"),v=d("sessionStorage"),g=new s.Logger("@firebase/database"),m=(u=1,function(){return u++}),y=function(t){var e=o.stringToByteArray(t),n=new o.Sha1;n.update(e);var r=n.digest();return o.base64.encodeByteArray(r)},b=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r="",i=0;i<e.length;i++){var s=e[i];Array.isArray(s)||s&&"object"==typeof s&&"number"==typeof s.length?r+=t.apply(null,s):r+="object"==typeof s?o.stringify(s):s,r+=" "}return r},_=null,w=!0,k=function(t,e){o.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(g.logLevel=s.LogLevel.VERBOSE,_=g.log.bind(g),e&&v.set("logging_enabled",!0)):"function"==typeof t?_=t:(_=null,v.remove("logging_enabled"))},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===w&&(w=!1,null===_&&!0===v.get("logging_enabled")&&k(!0)),_){var n=b.apply(null,t);_(n)}},E=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];C.apply(void 0,i.__spread([t],e))}},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+b.apply(void 0,i.__spread(t));g.error(n)},I=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+b.apply(void 0,i.__spread(t));throw g.error(n),new Error(n)},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+b.apply(void 0,i.__spread(t));g.warn(n)},A=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},D="[MIN_NAME]",O="[MAX_NAME]",P=function(t,e){if(t===e)return 0;if(t===D||e===O)return-1;if(e===D||t===O)return 1;var n=$(t),r=$(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},x=function(t,e){return t===e?0:t<e?-1:1},N=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+o.stringify(e))},R=function t(e){if("object"!=typeof e||null===e)return o.stringify(e);var n=[];for(var r in e)n.push(r);n.sort();for(var i="{",s=0;s<n.length;s++)0!==s&&(i+=","),i+=o.stringify(n[s]),i+=":",i+=t(e[n[s]]);return i+"}"},F=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function M(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var L,U,V,j,B,q,W,H,z,G,K=function(t){var e,n,r,i,s;o.assert(!A(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var a=[];for(s=52;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var u=a.join(""),c="";for(s=0;s<64;s+=8){var l=parseInt(u.substr(s,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},Q=new RegExp("^-?(0*)\\d{1,10}$"),$=function(t){if(Q.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Y=function(t){try{t()}catch(c){setTimeout((function(){throw T("Exception was thrown by user callback.",c.stack||""),c}),Math.floor(0))}},J=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},X=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!1,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=P(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),Z=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=o.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=o.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=o.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),tt=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=p.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&p.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(o.assert("string"==typeof t,"typeof type must == string"),o.assert("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return M(e,(function(t,e){r.push(t+"="+e)})),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}(),et=function(t,e){var n=nt(t),r=n.namespace;return"firebase.com"===n.domain&&I(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||I("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&T("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new tt(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new X(n.pathString)}},nt=function(t){var e="",n="",r="",o="",s="",a=!0,u="https",l=443;if("string"==typeof t){var h=t.indexOf("//");h>=0&&(u=t.substring(0,h-1),t=t.substring(h+2));var f=t.indexOf("/");-1===f&&(f=t.length);var d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(f,d)),f<d&&(o=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(c){}e+="/"+i}return e}(t.substring(f,d)));var p=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var o=i.__values(t.split("&")),s=o.next();!s.done;s=o.next()){var a=s.value;if(0!==a.length){var u=a.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):T("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,d)));(h=e.indexOf(":"))>=0?(a="https"===u||"wss"===u,l=parseInt(e.substring(h+1),10)):h=e.length;var v=e.slice(0,h);if("localhost"===v.toLowerCase())n="localhost";else if(v.split(".").length<=2)n=v;else{var g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in p&&(s=p.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:a,scheme:u,pathString:o,namespace:s}},rt=/[\[\].#$\/\u0000-\u001F\u007F]/,it=/[\[\].#$\u0000-\u001F\u007F]/,ot=function(t){return"string"==typeof t&&0!==t.length&&!rt.test(t)},st=function(t){return"string"==typeof t&&0!==t.length&&!it.test(t)},at=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!A(t)||t&&"object"==typeof t&&o.contains(t,".sv")},ut=function(t,e,n,r,i){i&&void 0===n||ct(o.errorPrefix(t,e,i),n,r)},ct=function t(e,n,r){var i=r instanceof X?new Z(r,e):r;if(void 0===n)throw new Error(e+"contains undefined "+i.toErrorString());if("function"==typeof n)throw new Error(e+"contains a function "+i.toErrorString()+" with contents = "+n.toString());if(A(n))throw new Error(e+"contains "+n.toString()+" "+i.toErrorString());if("string"==typeof n&&n.length>10485760/3&&o.stringLength(n)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+i.toErrorString()+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var s=!1,a=!1;if(M(n,(function(n,r){if(".value"===n)s=!0;else if(".priority"!==n&&".sv"!==n&&(a=!0,!ot(n)))throw new Error(e+" contains an invalid key ("+n+") "+i.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(n),t(e,r,i),i.pop()})),s&&a)throw new Error(e+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},lt=function(t,e,n,r,i){if(!i||void 0!==n){var s=o.errorPrefix(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(s+" must be an object containing the children to replace.");var a=[];M(n,(function(t,e){var n=new X(t);if(ct(s,e,r.child(n)),".priority"===n.getBack()&&!at(e))throw new Error(s+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!ot(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(X.comparePaths);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&s.contains(r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(s,a)}},ht=function(t,e,n,r){if(!r||void 0!==n){if(A(n))throw new Error(o.errorPrefix(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!at(n))throw new Error(o.errorPrefix(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ft=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(o.errorPrefix(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},dt=function(t,e,n,r){if(!(r&&void 0===n||ot(n)))throw new Error(o.errorPrefix(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},pt=function(t,e,n,r){if(!(r&&void 0===n||st(n)))throw new Error(o.errorPrefix(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},vt=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),pt(t,e,n,r)},gt=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},mt=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!ot(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),st(t)}(r))throw new Error(o.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},yt=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(o.errorPrefix(t,e,r)+"must be a boolean.")},bt=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){o.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),o.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new o.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){o.validateArgCount("OnDisconnect.remove",0,1,arguments.length),gt("OnDisconnect.remove",this.path_),o.validateCallback("OnDisconnect.remove",1,t,!0);var e=new o.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){o.validateArgCount("OnDisconnect.set",1,2,arguments.length),gt("OnDisconnect.set",this.path_),ut("OnDisconnect.set",1,t,this.path_,!1),o.validateCallback("OnDisconnect.set",2,e,!0);var n=new o.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){o.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),gt("OnDisconnect.setWithPriority",this.path_),ut("OnDisconnect.setWithPriority",1,t,this.path_,!1),ht("OnDisconnect.setWithPriority",2,e,!1),o.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new o.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(o.validateArgCount("OnDisconnect.update",1,2,arguments.length),gt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,T("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}lt("OnDisconnect.update",1,t,this.path_,!1),o.validateCallback("OnDisconnect.update",2,e,!0);var i=new o.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),_t=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return o.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),wt=(L="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",U=0,V=[],function(t){var e,n=t===U;U=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=L.charAt(t%64),t=Math.floor(t/64);o.assert(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===V[e];e--)V[e]=0;V[e]++}else for(e=0;e<12;e++)V[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=L.charAt(V[e]);return o.assert(20===i.length,"nextPushId: Length should be 20."),i}),kt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Ct=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new kt(D,t),r=new kt(D,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return kt.MIN},t}(),Et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return j},set:function(t){j=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return P(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw o.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return kt.MIN},e.prototype.maxPost=function(){return new kt(O,j)},e.prototype.makePost=function(t,e){return o.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new kt(t,j)},e.prototype.toString=function(){return".key"},e}(Ct),St=new Et,It=function(t){return"number"==typeof t?"number:"+K(t):"string:"+t},Tt=function(t){if(t.isLeafNode()){var e=t.val();o.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&o.contains(e,".sv"),"Priority must be a string or number.")}else o.assert(t===B||t.isEmpty(),"priority of unexpected type.");o.assert(t===B||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},At=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,o.assert(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Tt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return q},set:function(t){q=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(o.assert(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+It(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?K(this.value_):this.value_,this.lazyHash_=y(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(o.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(r);return o.assert(i>=0,"Unknown leaf type: "+n),o.assert(s>=0,"Unknown leaf type: "+r),i===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Dt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?P(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return kt.MIN},e.prototype.maxPost=function(){return new kt(O,new At("[PRIORITY-POST]",H))},e.prototype.makePost=function(t,e){var n=W(t);return new kt(e,new At("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Ct)),Ot=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Pt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Nt.EMPTY_NODE,this.right=null!=o?o:Nt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Nt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Nt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),xt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Pt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Nt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Pt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Pt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Ot(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Ot(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Ot(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Ot(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new xt,t}(),Rt=Math.log(2),Ft=function(){function t(t){this.count=parseInt(Math.log(t+1)/Rt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Mt=function(t,e,n,r){t.sort(e);var i=function(e){for(var r=null,i=null,o=t.length,s=function(e,r){var i=o-e,s=o;o-=e;var u=function e(r,i){var o,s,a=i-r;if(0===a)return null;if(1===a)return o=t[r],s=n?n(o):o,new Pt(s,o.node,Pt.BLACK,null,null);var u=parseInt(a/2,10)+r,c=e(r,u),l=e(u+1,i);return o=t[u],s=n?n(o):o,new Pt(s,o.node,Pt.BLACK,c,l)}(i+1,s),c=t[i],l=n?n(c):c;a(new Pt(l,c.node,r,null,u))},a=function(t){r?(r.left=t,r=t):(i=t,r=t)},u=0;u<e.count;++u){var c=e.nextBitIsOne(),l=Math.pow(2,e.count-(u+1));c?s(l,Pt.BLACK):(s(l,Pt.BLACK),s(l,Pt.RED))}return i}(new Ft(t.length));return new Nt(r||e,i)},Lt={},Ut=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return o.assert(Lt&&Dt,"ChildrenNode.ts has not been loaded"),z=z||new t({".priority":Lt},{".priority":Dt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=o.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Nt?e:null},t.prototype.hasIndex=function(t){return o.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){o.assert(e!==St,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,s=[],a=!1,u=n.getIterator(kt.Wrap),c=u.getNext();c;)a=a||e.isDefinedOn(c.node),s.push(c),c=u.getNext();r=a?Mt(s,e.getCompare()):Lt;var l=e.toString(),h=i.__assign({},this.indexSet_);h[l]=e;var f=i.__assign({},this.indexes_);return f[l]=r,new t(f,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(o.map(this.indexes_,(function(t,i){var s=o.safeGet(r.indexSet_,i);if(o.assert(s,"Missing index implementation for "+i),t===Lt){if(s.isDefinedOn(e.node)){for(var a=[],u=n.getIterator(kt.Wrap),c=u.getNext();c;)c.name!==e.name&&a.push(c),c=u.getNext();return a.push(e),Mt(a,s.getCompare())}return Lt}var l=n.get(e.name),h=t;return l&&(h=h.remove(new kt(e.name,l))),h.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(o.map(this.indexes_,(function(t){if(t===Lt)return t;var r=n.get(e.name);return r?t.remove(new kt(e.name,r)):t})),this.indexSet_)},t}();function Vt(t,e){return P(t.name,e.name)}function jt(t,e){return P(t,e)}var Bt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Tt(this.priorityNode_),this.children_.isEmpty()&&o.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return G||(G=new t(new Nt(jt),null,Ut.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||G},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?G:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(o.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new kt(e,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?G:this.priorityNode_;return new t(i,a,s)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;o.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Dt,(function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+It(this.getPriority().val())+":"),this.forEachChild(Dt,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":y(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new kt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new kt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new kt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,kt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,kt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===qt?-1:0},t.prototype.withIndex=function(e){if(e===St||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===St||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Dt),r=e.getIterator(Dt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===St?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),qt=new(function(t){function e(){return t.call(this,new Nt(jt),Bt.EMPTY_NODE,Ut.Default)||this}return i.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Bt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Bt));function Wt(t,e){if(void 0===e&&(e=null),null===t)return Bt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),o.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new At(t,Wt(e));if(t instanceof Array){var n=Bt.EMPTY_NODE;return M(t,(function(e,r){if(o.contains(t,e)&&"."!==e.substring(0,1)){var i=Wt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(Wt(e))}var r=[],i=!1;if(M(t,(function(t,e){if("."!==t.substring(0,1)){var n=Wt(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new kt(t,n)))}})),0===r.length)return Bt.EMPTY_NODE;var s=Mt(r,Vt,(function(t){return t.name}),jt);if(i){var a=Mt(r,Dt.getCompare());return new Bt(s,Wt(e),new Ut({".priority":a},{".priority":Dt}))}return new Bt(s,Wt(e),Ut.Default)}Object.defineProperties(kt,{MIN:{value:new kt(D,Bt.EMPTY_NODE)},MAX:{value:new kt(O,qt)}}),Et.__EMPTY_NODE=Bt.EMPTY_NODE,At.__childrenNodeConstructor=Bt,B=qt,H=qt,W=Wt;var Ht,zt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?P(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return kt.MIN},e.prototype.maxPost=function(){return kt.MAX},e.prototype.makePost=function(t,e){var n=Wt(t);return new kt(e,n)},e.prototype.toString=function(){return".value"},e}(Ct)),Gt=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,o.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return i.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?P(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=Wt(t),r=Bt.EMPTY_NODE.updateChild(this.indexPath_,n);return new kt(e,r)},e.prototype.maxPost=function(){var t=Bt.EMPTY_NODE.updateChild(this.indexPath_,qt);return new kt(O,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(Ct),Kt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return o.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return o.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return o.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return o.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){o.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),pt("DataSnapshot.child",1,e,!1);var n=new X(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Dt)},t.prototype.hasChild=function(t){o.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),pt("DataSnapshot.hasChild",1,t,!1);var e=new X(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return o.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(o.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),o.validateCallback("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return e(new t(i,n.ref_.child(r),Dt))}))},t.prototype.hasChildren=function(){return o.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return o.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return o.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Qt=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+o.stringify(this.snapshot.exportVal())},t}(),$t=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Yt=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Qt("value",this,new Kt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){o.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new $t(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Jt=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return o.contains(this.callbacks_,e="children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new $t(this,t,e):null},t.prototype.createEvent=function(t,e){o.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Qt(t.type,this,new Kt(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){o.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var s=r[0],a=i[0];return!(a!==s||e.callbacks_[s]&&this.callbacks_[a]&&e.callbacks_[s]!==this.callbacks_[a])}return i.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Xt=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return o.assert(Ht,"Reference.ts has not been loaded"),Ht},set:function(t){Ht=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===St){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==D)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==O)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Dt){if(null!=e&&!at(e)||null!=n&&!at(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(o.assert(t.getIndex()instanceof Gt||t.getIndex()===zt,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return o.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){o.validateArgCount("Query.on",2,4,arguments.length),ft("Query.on",1,e,!1),o.validateCallback("Query.on",2,n,!1);var s=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,s.cancel,s.context);else{var a={};a[e]=n,this.onChildEvent(a,s.cancel,s.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new Yt(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new Jt(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){o.validateArgCount("Query.off",0,3,arguments.length),ft("Query.off",1,t,!0),o.validateCallback("Query.off",2,e,!0),o.validateContextObject("Query.off",3,n,!0);var r=null,i=null;if("value"===t){var s=e||null;r=new Yt(s,null,n||null)}else t&&(e&&((i={})[t]=e),r=new Jt(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var s=this;o.validateArgCount("Query.once",1,4,arguments.length),ft("Query.once",1,e,!1),o.validateCallback("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),u=!0,c=new o.Deferred;c.promise.catch((function(){}));var l=function t(r){u&&(u=!1,s.off(e,t),n&&n.bind(a.context)(r),c.resolve(r))};return this.on(e,l,(function(t){s.off(e,l),a.cancel&&a.cancel.bind(a.context)(t),c.reject(t)})),c.promise},t.prototype.limitToFirst=function(e){if(o.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(o.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(o.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');pt("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new X(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Gt(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){o.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(St);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){o.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Dt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){o.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(zt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),o.validateArgCount("Query.startAt",0,2,arguments.length),ut("Query.startAt",1,e,this.path,!0),dt("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),o.validateArgCount("Query.endAt",0,2,arguments.length),ut("Query.endAt",1,e,this.path,!0),dt("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(o.validateArgCount("Query.equalTo",1,2,arguments.length),ut("Query.equalTo",1,t,this.path,!1),dt("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return o.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return o.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=R(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(o.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),s=this.queryIdentifier()===e.queryIdentifier();return r&&i&&s},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,o.validateCallback(t,3,r.cancel,!0),r.context=n,o.validateContextObject(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(o.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Zt=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),te=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),ee=function(t,e,n){return t&&"object"==typeof t?(o.assert(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?ne(t[".sv"],e,n):"object"==typeof t[".sv"]?re(t[".sv"],e):void o.assert(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},ne=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:o.assert(!1,"Unexpected server value: "+t)}},re=function(t,e,n){t.hasOwnProperty("increment")||o.assert(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&o.assert(!1,"Unexpected increment value: "+r);var i=e.node();if(o.assert(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i.getValue();return"number"!=typeof s?r:s+r},ie=function(t,e,n,r){return se(e,new te(n,t),r)},oe=function(t,e,n){return se(t,new Zt(e),n)};function se(t,e,n){var r,i=t.getPriority().val(),o=ee(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,a=ee(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new At(a,Wt(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new At(o))),u.forEachChild(Dt,(function(t,i){var o=se(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}var ae,ue,ce=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(Dt,(function(t,e){n.remember(new X(t),e)})),this.forget(t)}if(this.children.size>0){var r=t.getFront();return t=t.popFront(),this.children.has(r)&&this.children.get(r).forget(t)&&this.children.delete(r),0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){var i=new X(t.toString()+"/"+n);r.forEachTree(i,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}(),le=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({}),he=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,o.assert(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),fe=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=le.ACK_USER_WRITE,this.source=he.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return o.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new X(e));return new t(X.Empty,n,this.revert)}return o.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),de=function(){function t(t,e){void 0===e&&(ae||(ae=new Nt(x)),e=ae),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return M(e,(function(t,e){n=n.set(new X(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:X.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new X(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r,i=e.getFront(),o=(this.children.get(i)||t.Empty).setTree(e.popFront(),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(X.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,X.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,X.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(X.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),pe=function(){function t(t,e){this.source=t,this.path=e,this.type=le.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,X.Empty):new t(this.source,this.path.popFront())},t}(),ve=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=le.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,X.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),ge=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=le.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new X(e));return n.isEmpty()?null:n.value?new ve(this.source,X.Empty,n.value):new t(this.source,X.Empty,n)}return o.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),me=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),ye=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new me(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new me(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new me(Bt.EMPTY_NODE,!1,!1),new me(Bt.EMPTY_NODE,!1,!1)),t}(),be=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),_e=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,s){o.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(be.childRemovedChange(e,a)):o.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(be.childAddedChange(e,n)):s.trackChildChange(be.childChangedChange(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Dt,(function(t,r){e.hasChild(t)||n.trackChildChange(be.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(Dt,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(be.childChangedChange(e,r,i))}else n.trackChildChange(be.childAddedChange(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Bt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),we=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;o.assert(e===be.CHILD_ADDED||e===be.CHILD_CHANGED||e===be.CHILD_REMOVED,"Only child changes supported for tracking"),o.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===be.CHILD_ADDED&&i===be.CHILD_REMOVED)this.changeMap.set(n,be.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===be.CHILD_REMOVED&&i===be.CHILD_ADDED)this.changeMap.delete(n);else if(e===be.CHILD_REMOVED&&i===be.CHILD_CHANGED)this.changeMap.set(n,be.childRemovedChange(n,r.oldSnap));else if(e===be.CHILD_CHANGED&&i===be.CHILD_ADDED)this.changeMap.set(n,be.childAddedChange(n,t.snapshotNode));else{if(e!==be.CHILD_CHANGED||i!==be.CHILD_CHANGED)throw o.assertionError("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,be.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),ke=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),Ce=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new me(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),Ee=function(t,e){this.viewCache=t,this.changes=e},Se=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){o.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),o.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var s,a,u=new we;if(n.type===le.OVERWRITE){var c=n;c.source.fromUser?s=this.applyUserOverwrite_(e,c.path,c.snap,r,i,u):(o.assert(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.getServerCache().isFiltered()&&!c.path.isEmpty(),s=this.applyServerOverwrite_(e,c.path,c.snap,r,i,a,u))}else if(n.type===le.MERGE){var l=n;l.source.fromUser?s=this.applyUserMerge_(e,l.path,l.children,r,i,u):(o.assert(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.getServerCache().isFiltered(),s=this.applyServerMerge_(e,l.path,l.children,r,i,a,u))}else if(n.type===le.ACK_USER_WRITE){var h=n;s=h.revert?this.revertUserWrite_(e,h.path,r,i,u):this.ackUserWrite_(e,h.path,h.affectedTree,r,i,u)}else{if(n.type!==le.LISTEN_COMPLETE)throw o.assertionError("Unknown operation type: "+n.type);s=this.listenComplete_(e,n.path,r,u)}var f=u.getChanges();return t.maybeAddValueEvent_(e,s,f),new Ee(s,f)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(be.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var s=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var a=void 0,u=void 0;if(e.isEmpty())if(o.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var c=t.getCompleteServerSnap(),l=n.calcCompleteEventChildren(c instanceof Bt?c:Bt.EMPTY_NODE);a=this.filter_.updateFullNode(t.getEventCache().getNode(),l,i)}else{var h=n.calcCompleteEventCache(t.getCompleteServerSnap());a=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var f=e.getFront();if(".priority"===f){o.assert(1===e.getLength(),"Can't have a priority with additional path components");var d=s.getNode();u=t.getServerCache().getNode();var p=n.calcEventCacheAfterServerOverwrite(e,d,u);a=null!=p?this.filter_.updatePriority(d,p):s.getNode()}else{var v=e.popFront(),g=void 0;if(s.isCompleteForChild(f)){u=t.getServerCache().getNode();var m=n.calcEventCacheAfterServerOverwrite(e,s.getNode(),u);g=null!=m?s.getNode().getImmediateChild(f).updateChild(v,m):s.getNode().getImmediateChild(f)}else g=n.calcCompleteChild(f,t.getServerCache());a=null!=g?this.filter_.updateChild(s.getNode(),f,g,v,r,i):s.getNode()}}return t.updateEventSnap(a,s.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,s){var a,u=t.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())a=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(e,n);a=c.updateFullNode(u.getNode(),l,null)}else{var h=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var f=e.popFront(),d=u.getNode().getImmediateChild(h).updateChild(f,n);a=".priority"===h?c.updatePriority(u.getNode(),d):c.updateChild(u.getNode(),h,d,f,ke,null)}var p=t.updateServerSnap(a,u.isFullyInitialized()||e.isEmpty(),c.filtersNodes()),v=new Ce(r,p,i);return this.generateEventCacheAfterServerEvent_(p,e,r,v,s)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var s,a,u=t.getEventCache(),c=new Ce(r,t,i);if(e.isEmpty())a=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),s=t.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var l=e.getFront();if(".priority"===l)a=this.filter_.updatePriority(t.getEventCache().getNode(),n),s=t.updateEventSnap(a,u.isFullyInitialized(),u.isFiltered());else{var h=e.popFront(),f=u.getNode().getImmediateChild(l),d=void 0;if(h.isEmpty())d=n;else{var p=c.getCompleteChild(l);d=null!=p?".priority"===h.getBack()&&p.getChild(h.parent()).isEmpty()?p:p.updateChild(h,n):Bt.EMPTY_NODE}if(f.equals(d))s=t;else{var v=this.filter_.updateChild(u.getNode(),l,d,h,c,o);s=t.updateEventSnap(v,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return s},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,s){var a=this,u=e;return r.foreach((function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())&&(u=a.applyUserOverwrite_(u,l,c,i,o,s))})),r.foreach((function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())||(u=a.applyUserOverwrite_(u,l,c,i,o,s))})),u},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,s){var a=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,c=t;u=e.isEmpty()?n:de.Empty.setTree(e,n);var l=t.getServerCache().getNode();return u.children.inorderTraversal((function(e,n){if(l.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),h=a.applyMerge_(u,n);c=a.applyServerOverwrite_(c,new X(e),h,r,i,o,s)}})),u.children.inorderTraversal((function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!l.hasChild(e)&&!u){var h=t.getServerCache().getNode().getImmediateChild(e),f=a.applyMerge_(h,n);c=a.applyServerOverwrite_(c,new X(e),f,r,i,o,s)}})),c},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var s=t.getServerCache().isFiltered(),a=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&a.isFullyInitialized()||a.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,a.getNode().getChild(e),r,i,s,o);if(e.isEmpty()){var u=de.Empty;return a.getNode().forEachChild(St,(function(t,e){u=u.set(new X(t),e)})),this.applyServerMerge_(t,e,u,r,i,s,o)}return t}var c=de.Empty;return n.foreach((function(t,n){var r=e.child(t);a.isCompleteForPath(r)&&(c=c.set(t,a.getNode().getChild(r)))})),this.applyServerMerge_(t,e,c,r,i,s,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,ke,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var s;if(null!=n.shadowingWrite(e))return t;var a=new Ce(n,t,r),u=t.getEventCache().getNode(),c=void 0;if(e.isEmpty()||".priority"===e.getFront()){var l=void 0;if(t.getServerCache().isFullyInitialized())l=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();o.assert(h instanceof Bt,"serverChildren would be complete if leaf node"),l=n.calcCompleteEventChildren(h)}c=this.filter_.updateFullNode(u,l=l,i)}else{var f=e.getFront(),d=n.calcCompleteChild(f,t.getServerCache());null==d&&t.getServerCache().isCompleteForChild(f)&&(d=u.getImmediateChild(f)),(c=null!=d?this.filter_.updateChild(u,f,d,e.popFront(),a,i):t.getEventCache().getNode().hasChild(f)?this.filter_.updateChild(u,f,Bt.EMPTY_NODE,e.popFront(),a,i):u).isEmpty()&&t.getServerCache().isFullyInitialized()&&(s=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(c=this.filter_.updateFullNode(c,s,i))}return s=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(X.Empty),t.updateEventSnap(c,s,this.filter_.filtersNodes())},t}(),Ie=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===be.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(be.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,be.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,be.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,be.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,be.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,be.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,s=n.filter((function(t){return t.type===e}));s.sort(this.compareChanges_.bind(this)),s.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw o.assertionError("Should only compare child_ events.");var n=new kt(t.childName,t.snapshotNode),r=new kt(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),Te=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new _e(n.getIndex()),i=n.getNodeFilter();this.processor_=new Se(i);var o=e.getServerCache(),s=e.getEventCache(),a=r.updateFullNode(Bt.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(Bt.EMPTY_NODE,s.getNode(),null),c=new me(a,o.isFullyInitialized(),r.filtersNodes()),l=new me(u,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=new ye(l,c),this.eventGenerator_=new Ie(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){o.assert(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(t){var i=t.createCancelEvent(e=e,r);i&&n.push(i)}))}if(t){for(var i=[],s=0;s<this.eventRegistrations_.length;++s){var a=this.eventRegistrations_[s];if(a.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(s+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===le.MERGE&&null!==t.source.queryId&&(o.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),o.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),o.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Dt,(function(t,e){n.push(be.childAddedChange(t,e))})),e.isFullyInitialized()&&n.push(be.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){return this.eventGenerator_.generateEventsForChanges(t,e,n?[n]:this.eventRegistrations_)},t}(),Ae=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return o.assert(ue,"Reference.ts has not been loaded"),ue},set:function(t){o.assert(!ue,"__referenceConstructor has already been defined"),ue=t},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,s,a=t.source.queryId;if(null!==a){var u=this.views.get(a);return o.assert(null!=u,"SyncTree gave us an op for an invalid query."),u.applyOperation(t,e,n)}var c=[];try{for(var l=i.__values(this.views.values()),h=l.next();!h.done;h=l.next())c=c.concat((u=h.value).applyOperation(t,e,n))}catch(f){r={error:f}}finally{try{h&&!h.done&&(s=l.return)&&s.call(l)}finally{if(r)throw r.error}}return c},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),s=this.views.get(o);if(!s){var a=n.calcCompleteEventCache(i?r:null),u=!1;a?u=!0:r instanceof Bt?(a=n.calcCompleteEventChildren(r),u=!1):(a=Bt.EMPTY_NODE,u=!1);var c=new ye(new me(a,u,!1),new me(r,i,!1));s=new Te(t,c),this.views.set(o,s)}return s.addEventRegistration(e),s.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var o,s,a=e.queryIdentifier(),u=[],c=[],l=this.hasCompleteView();if("default"===a)try{for(var h=i.__values(this.views.entries()),f=h.next();!f.done;f=h.next()){var d,p=i.__read(f.value,2),v=p[0];c=c.concat((d=p[1]).removeEventRegistration(n,r)),d.isEmpty()&&(this.views.delete(v),d.getQuery().getQueryParams().loadsAllData()||u.push(d.getQuery()))}}catch(g){o={error:g}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(o)throw o.error}}else(d=this.views.get(a))&&(c=c.concat(d.removeEventRegistration(n,r)),d.isEmpty()&&(this.views.delete(a),d.getQuery().getQueryParams().loadsAllData()||u.push(d.getQuery())));return l&&!this.hasCompleteView()&&u.push(new t.__referenceConstructor(e.repo,e.path)),{removed:u,events:c}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=i.__values(this.views.values()),o=r.next();!o.done;o=r.next()){var s=o.value;s.getQuery().getQueryParams().loadsAllData()||n.push(s)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var o=i.__values(this.views.values()),s=o.next();!s.done;s=o.next())r=r||s.value.getCompleteServerCache(t)}catch(a){e={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=i.__values(this.views.values()),r=n.next();!r.done;r=n.next()){var o=r.value;if(o.getQuery().getQueryParams().loadsAllData())return o}}catch(s){t={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),De=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new de(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=X.relativePath(i,e);return o=o.updateChild(s,n),new t(this.writeTree_.set(i,o))}var a=new de(n);return new t(this.writeTree_.setTree(e,a))},t.prototype.addWrites=function(t,e){var n=this;return M(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,de.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(X.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Dt,(function(e,n){t.push(new kt(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new kt(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new de(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,s){".priority"===n?(o.assert(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):r=t(e.child(n),s,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r}(X.Empty,this.writeTree_,t)},t.Empty=new t(new de(null)),t}(),Oe=function(){function t(){this.visibleWrites_=De.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Pe(t,this)},t.prototype.addOverwrite=function(t,e,n,r){o.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){o.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));o.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,s=!1,a=this.allWrites_.length-1;i&&a>=0;){var u=this.allWrites_[a];u.visible&&(a>=n&&this.recordContainsPath_(u,r.path)?i=!1:r.path.contains(u.path)&&(s=!0)),a--}return!!i&&(s?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):M(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))})),!0))},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);return!i&&o.isEmpty()?n:i||null!=n||o.hasCompleteWrite(X.Empty)?t.layerTree_(this.allWrites_,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e).apply(n||Bt.EMPTY_NODE):null}var s=this.visibleWrites_.getCompleteNode(e);if(null!=s)return s;var a=this.visibleWrites_.childCompoundWrite(e);return a.isEmpty()?n:null!=n||a.hasCompleteWrite(X.Empty)?a.apply(n||Bt.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Bt.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Dt,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Dt,(function(t,e){var r=i.childCompoundWrite(new X(t)).apply(e);n=n.updateImmediateChild(t,r)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){o.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var s=this.visibleWrites_.childCompoundWrite(i);return s.isEmpty()?r.getChild(e):s.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var s,a=this.visibleWrites_.childCompoundWrite(t),u=a.getCompleteNode(X.Empty);if(null!=u)s=u;else{if(null==e)return[];s=a.apply(e)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var c=[],l=o.getCompare(),h=i?s.getReverseIteratorFrom(n,o):s.getIteratorFrom(n,o),f=h.getNext();f&&c.length<r;)0!==l(f,n)&&c.push(f),f=h.getNext();return c},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,X.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=De.Empty,i=0;i<t.length;++i){var s=t[i];if(e(s)){var a=s.path,u=void 0;if(s.snap)n.contains(a)?(u=X.relativePath(n,a),r=r.addWrite(u,s.snap)):a.contains(n)&&(u=X.relativePath(a,n),r=r.addWrite(X.Empty,s.snap.getChild(u)));else{if(!s.children)throw o.assertionError("WriteRecord should have .snap or .children");if(n.contains(a))u=X.relativePath(n,a),r=r.addWrites(u,s.children);else if(a.contains(n))if((u=X.relativePath(a,n)).isEmpty())r=r.addWrites(X.Empty,s.children);else{var c=o.safeGet(s.children,u.getFront());if(c){var l=c.getChild(u.popFront());r=r.addWrite(X.Empty,l)}}}}}return r},t}(),Pe=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),xe=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=de.Empty,this.pendingWriteTree_=new Oe,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new ve(he.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=de.fromObject(e);return this.applyOperationToSyncPoints_(new ge(he.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=de.Empty;return null!=n.snap?r=r.set(X.Empty,!0):M(n.children,(function(t,e){r=r.set(new X(t),e)})),this.applyOperationToSyncPoints_(new fe(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new ve(he.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=de.fromObject(e);return this.applyOperationToSyncPoints_(new ge(he.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new pe(he.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,u=X.relativePath(s,e),c=new ve(he.forServerTaggedQuery(a),u,n);return this.applyTaggedOperation_(s,c)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,u=X.relativePath(s,e),c=de.fromObject(n),l=new ge(he.forServerTaggedQuery(a),u,c);return this.applyTaggedOperation_(s,l)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,s=i.queryId,a=X.relativePath(o,e),u=new pe(he.forServerTaggedQuery(s),a);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,s=!1;this.syncPointTree_.foreachOnPath(r,(function(t,e){var n=X.relativePath(t,r);i=i||e.getCompleteServerCache(n),s=s||e.hasCompleteView()}));var a,u=this.syncPointTree_.get(r);u?(s=s||u.hasCompleteView(),i=i||u.getCompleteServerCache(X.Empty)):(u=new Ae,this.syncPointTree_=this.syncPointTree_.set(r,u)),null!=i?a=!0:(a=!1,i=Bt.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=e.getCompleteServerCache(X.Empty);n&&(i=i.updateImmediateChild(t,n))})));var c=u.viewExistsForQuery(e);if(!c&&!e.getQueryParams().loadsAllData()){var l=t.makeQueryKey_(e);o.assert(!this.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=t.getNextQueryTag_();this.queryToTagMap.set(l,h),this.tagToQueryMap.set(h,l)}var f=this.pendingWriteTree_.childWrites(r),d=u.addEventRegistration(e,n,f,i,a);if(!c&&!s){var p=u.viewForQuery(e);d=d.concat(this.setupListener_(e,p))}return d},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,s=this.syncPointTree_.get(o),a=[];if(s&&("default"===e.queryIdentifier()||s.viewExistsForQuery(e))){var u=s.removeEventRegistration(e,n,r);s.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;a=u.events;var l=-1!==c.findIndex((function(t){return t.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(o,(function(t,e){return e.hasCompleteView()}));if(l&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var d=this.collectDistinctViewsForSubTree_(f),p=0;p<d.length;++p){var v=d[p],g=v.getQuery(),m=this.createListenerForView_(v);this.listenProvider_.startListening(t.queryForListening_(g),this.tagForQuery_(g),m.hashFn,m.onComplete)}}!h&&c.length>0&&!r&&(l?this.listenProvider_.stopListening(t.queryForListening_(e),null):c.forEach((function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)}))),this.removeTags_(c)}return a},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){var r=X.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),M(n,(function(t,e){r=r.concat(e)})),r}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),s=this.createListenerForView_(n),a=this.listenProvider_.startListening(t.queryForListening_(e),i,s.hashFn,s.onComplete),u=this.syncPointTree_.subtree(r);if(i)o.assert(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),M(n,(function(t,e){r=r.concat(e)})),r})),l=0;l<c.length;++l){var h=c[l];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return a},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Bt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return o.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new X(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);o.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(X.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(X.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(X.Empty));var o=[],s=t.path.getFront(),a=t.operationForChild(s),u=e.children.get(s);if(u&&a){var c=n?n.getImmediateChild(s):null,l=r.child(s);o=o.concat(this.applyOperationHelper_(a,u,c,l))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(X.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(X.Empty));var s=[];return e.children.inorderTraversal((function(e,o){var a=n?n.getImmediateChild(e):null,u=r.child(e),c=t.operationForChild(e);c&&(s=s.concat(i.applyOperationDescendantsHelper_(c,o,a,u)))})),o&&(s=s.concat(o.applyOperation(t,r,n))),s},t.nextQueryTag_=1,t}(),Ne=function(){function t(){this.rootNode_=Bt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Re=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),o.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return o.deepCopy(this.counters_)},t}(),Fe=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Re),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Me=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=i.__assign({},t);return this.last_&&M(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),Le=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Me(t);var n=1e4+2e4*Math.random();J(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;M(e,(function(e,i){i>0&&o.contains(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),J(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Ue=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Ve(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Ve=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();_&&C("event: "+e.toString()),Y(n)}}},t.prototype.getPath=function(){return this.path_},t}(),je=function(){function t(t){this.allowedEvents_=t,this.listeners_={},o.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=i.__spread(this.listeners_[t]),o=0;o<r.length;o++)r[o].callback.apply(r[o].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){o.assert(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),Be=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return i.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return o.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(je),qe=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||o.isMobileCordova()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return i.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return o.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(je),We=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&Y((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),He=function(){function t(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=E(t),this.stats_=Fe.getCollection(e),this.urlFn=function(t){return e.connectionURL("long_polling",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new We(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(o.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function n(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new ze((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=i.__read(t,5),o=r[0],s=r[1],a=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===o)n.id=s,n.password=a;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=i.__read(t,2),o=r[0],s=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(o,s)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(o.isNodeSdk()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=o.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=o.base64Encode(e),r=F(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!o.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=o.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),ze=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,o.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=m(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(c){C("frame writing exception"),c.stack&&C(c.stack),C(c)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||C("No IE domain setting required")}catch(c){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;o.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){C("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(c){}}),Math.floor(1))},t}(),Ge="",Ke=null;"undefined"!=typeof MozWebSocket?Ke=MozWebSocket:"undefined"!=typeof WebSocket&&(Ke=WebSocket);var Qe=function(){function t(e,n,r,i,o){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=E(this.connId),this.stats_=Fe.getCollection(n),this.connURL=t.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!o.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,p.set("previous_websocket_failure",!0);try{if(o.isNodeSdk()){var r={headers:{"User-Agent":"Firebase/5/"+Ge+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},i=process.env,s=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;s&&(r.proxy={origin:s}),this.mySock=new Ke(this.connURL,[],r)}else this.mySock=new Ke(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(c){this.log_("Error instantiating WebSocket.");var a=c.message||c.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Ke&&!t.forceDisallow_},t.previouslyFailed=function(){return p.isInMemoryStorage||!0===p.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){p.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=o.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(o.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=o.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=F(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(c){this.log_("Exception thrown from WebSocket.send():",c.message||c.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),$e=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[He,Qe]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,o=Qe&&Qe.isAvailable(),s=o&&!Qe.previouslyFailed();if(e.webSocketOnly&&(o||T("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Qe];else{var a=this.transports_=[];try{for(var u=i.__values(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&a.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Ye=function(){function t(t,e,n,r,i,o,s,a){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=s,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=E("c:"+this.id+":"),this.transportManager_=new $e(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=J((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=N("t",t),n=N("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=N("t",t),n=N("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=N("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?S("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):S("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&T("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),J((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):J((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Je=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),Xe=function(t){function e(n,r,i,s,a,u,c){var l=t.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=s,l.onServerInfoUpdate_=a,l.authTokenProvider_=u,l.authOverride_=c,l.id=e.nextPersistentConnectionId_++,l.log_=E("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingPutCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=1e3,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!o.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),Be.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&qe.getInstance().on("online",l.onOnline_,l),l}return i.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(o.stringify(i)),o.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),s=t.path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),o.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),o.assert(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(s).set(i,a),this.connected_&&this.sendListen_(a)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var s={p:i};t.tag&&(s.q=r.queryObject(),s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,(function(s){var a=s.d,u=s.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",s),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,a))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&o.contains(t,"w")){var n=o.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();T("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||o.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=o.isValidFormat(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),o.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+o.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):S("Unrecognized action received from server: "+o.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;o.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var t=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+e.nextConnectionId_++,a=this,u=this.lastSessionId,c=!1,l=null,h=function(){l?l.close():(c=!0,i())};this.realtime_={close:h,sendRequest:function(t){o.assert(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(t)}};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then((function(t){c?C("getToken() completed but was canceled"):(C("getToken() completed. Creating connection."),a.authToken_=t&&t.accessToken,l=new Ye(s,a.repoInfo_,a.applicationId_,n,r,i,(function(t){T(t+" ("+a.repoInfo_.toString()+")"),a.interrupt("server_kill")}),u))})).then(null,(function(e){a.log_("Failed to get token: "+e),c||(t.repoInfo_.nodeAdmin&&T(e),h())}))}},e.prototype.interrupt=function(t){C("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){C("Resuming connection for reason: "+t),delete this.interruptReasons_[t],o.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return R(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new X(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){C("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var o=i.__values(this.listens.values()),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var u=(n=void 0,i.__values(a.values())),c=u.next();!c.done;c=u.next())this.sendListen_(c.value)}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(d){t={error:d}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";o.isNodeSdk()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+Ge.replace(/\./g,"-")]=1,o.isMobileCordova()?t["framework.cordova"]=1:o.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=qe.getInstance().currentlyOnline();return o.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Je),Ze=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=E("p:rest:"),i.listens_={},i}return i.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(o.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var s=this,a=t.path.toString();this.log_("Listen called for "+a+" "+t.queryIdentifier());var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var l=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",l,(function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&s.onDataUpdate_(a,n,!1,r),o.safeGet(s.listens_,u)===c&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var s=i&&i.accessToken;s&&(e.auth=s);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+o.querystring(e);r.log_("Sending REST request for "+a);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+a+" received. status:",u.status,"response:",u.responseText);var t=null;if(u.status>=200&&u.status<300){try{t=o.jsonEval(u.responseText)}catch(c){T("Failed to parse JSON response for "+a+": "+u.responseText)}n(null,t)}else 401!==u.status&&404!==u.status&&T("Got unsuccessful REST response for "+a+" Status: "+u.status),n(u.status);n=null}},u.open("GET",a,!0),u.send()}))},e}(Je),tn=function(){function t(t,e,n,r){var i=this;if(this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new ce,this.persistentConnection_=null,this.stats_=Fe.getCollection(t),e||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new Ze(this.repoInfo_,this.onDataUpdate_.bind(this),r),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var s=n.options.databaseAuthVariableOverride;if(null!=s){if("object"!=typeof s)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{o.stringify(s)}catch(c){throw new Error("Invalid authOverride provided: "+c)}}this.persistentConnection_=new Xe(this.repoInfo_,n.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),r,s),this.server_=this.persistentConnection_}r.addTokenChangeListener((function(t){i.server_.refreshAuthToken(t)})),this.statsReporter_=Fe.getOrCreateReporter(t,(function(){return new Le(i.stats_,i.server_)})),this.transactionsInit_(),this.infoData_=new Ne,this.infoSyncTree_=new xe({startListening:function(t,e,n,r){var o=[],s=i.infoData_.getNode(t.path);return s.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(t.path,s),setTimeout((function(){r("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new xe({startListening:function(t,e,n,r){return i.server_.listen(t,n,e,(function(e,n){var o=r(e,n);i.eventQueue_.raiseEventsForChangedPath(t.path,o)})),[]},stopListening:function(t,e){i.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new X(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new X(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var s=[];if(r)if(n){var a=o.map(e,(function(t){return Wt(t)}));s=this.serverSyncTree_.applyTaggedQueryMerge(i,a,r)}else{var u=Wt(e);s=this.serverSyncTree_.applyTaggedQueryOverwrite(i,u,r)}else if(n){var c=o.map(e,(function(t){return Wt(t)}));s=this.serverSyncTree_.applyServerMerge(i,c)}else{var l=Wt(e);s=this.serverSyncTree_.applyServerOverwrite(i,l)}var h=i;s.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,s)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;M(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new X("/.info/"+t),r=Wt(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),s=Wt(e,n),a=this.serverSyncTree_.calcCompleteEventCache(t),u=oe(s,a,o),c=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(t,u,c,!0);this.eventQueue_.queueEvents(l),this.server_.put(t.toString(),s.val(!0),(function(e,n){var o="ok"===e;o||T("set at "+t+" failed: "+e);var s=i.serverSyncTree_.ackUserWrite(c,!o);i.eventQueue_.raiseEventsForChangedPath(t,s),i.callOnCompleteCallback(r,e,n)}));var h=this.abortTransactions_(t);this.rerunTransactions_(h),this.eventQueue_.raiseEventsForChangedPath(h,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),s={};if(M(e,(function(e,n){i=!1,s[e]=ie(t.child(e),Wt(n),r.serverSyncTree_,o)})),i)C("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var a=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(t,s,a);this.eventQueue_.queueEvents(u),this.server_.merge(t.toString(),e,(function(e,i){var o="ok"===e;o||T("update at "+t+" failed: "+e);var s=r.serverSyncTree_.ackUserWrite(a,!o),u=s.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(u,s),r.callOnCompleteCallback(n,e,i)})),M(e,(function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new ce;this.onDisconnect_.forEachTree(X.Empty,(function(r,i){var o=ie(r,i,t.serverSyncTree_,e);n.remember(r,o)}));var r=[];n.forEachTree(X.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)})),this.onDisconnect_=new ce,this.eventQueue_.raiseEventsForChangedPath(X.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=Wt(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=Wt(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(o.isEmpty(e))return C("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){"ok"===i&&M(e,(function(e,n){var i=Wt(n);r.onDisconnect_.remember(t.child(e),i)})),r.callOnCompleteCallback(n,i,o)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Me(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);M(e,(function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=" ";console.log(r+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),C.apply(void 0,i.__spread([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&Y((function(){if("ok"===e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}}))},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new dn(this))},enumerable:!1,configurable:!0}),t}(),en=function(){function t(e){this.indexedFilter_=new _e(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new kt(e,n))||(n=Bt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Bt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Bt.EMPTY_NODE);var i=this;return e.forEachChild(Dt,(function(t,e){i.matches(new kt(t,e))||(r=r.updateImmediateChild(t,Bt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),nn=function(){function t(t){this.rangedFilter_=new en(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new kt(e,n))||(n=Bt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Bt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Bt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Bt.EMPTY_NODE);var a=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)s=i.getNext(),!h&&c(a,s)<=0&&(h=!0),h&&o<this.limit_&&c(s,u)<=0?o++:r=r.updateImmediateChild(s.name,Bt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(t,e){return a(e,t)}}else s=this.index_.getCompare();var u=t;o.assert(u.numChildren()===this.limit_,"");var c=new kt(e,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(e)){for(var f=u.getImmediateChild(e),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===e||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:s(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(be.childChangedChange(e,n,f)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(be.childRemovedChange(e,f));var v=u.updateImmediateChild(e,Bt.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(be.childAddedChange(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?t:h&&s(l,c)>=0?(null!=i&&(i.trackChildChange(be.childRemovedChange(l.name,l.node)),i.trackChildChange(be.childAddedChange(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(l.name,Bt.EMPTY_NODE)):t},t}(),rn=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Dt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return o.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return o.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:D},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return o.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return o.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:O},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return o.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==Dt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Dt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new _e(this.getIndex()):this.hasLimit()?new nn(this):new en(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()||(this.index_===Dt?e=n.PRIORITY_INDEX:this.index_===zt?e=n.VALUE_INDEX:this.index_===St?e=n.KEY_INDEX:(o.assert(this.index_ instanceof Gt,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=o.stringify(e),this.startSet_&&(r[n.START_AT]=o.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+o.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=o.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+o.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_)),r},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),on=function(t){function e(e,n){if(!(e instanceof tn))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,rn.DEFAULT,!1)||this}return i.__extends(e,t),e.prototype.getKey=function(){return o.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return o.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof X||(null===this.path.getFront()?vt("Reference.child",1,t,!1):pt("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){o.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){o.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){o.validateArgCount("Reference.set",1,2,arguments.length),gt("Reference.set",this.path),ut("Reference.set",1,t,this.path,!1),o.validateCallback("Reference.set",2,e,!0);var n=new o.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(o.validateArgCount("Reference.update",1,2,arguments.length),gt("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,T("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}lt("Reference.update",1,t,this.path,!1),o.validateCallback("Reference.update",2,e,!0);var i=new o.Deferred;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(o.validateArgCount("Reference.setWithPriority",2,3,arguments.length),gt("Reference.setWithPriority",this.path),ut("Reference.setWithPriority",1,t,this.path,!1),ht("Reference.setWithPriority",2,e,!1),o.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new o.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return o.validateArgCount("Reference.remove",0,1,arguments.length),gt("Reference.remove",this.path),o.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(o.validateArgCount("Reference.transaction",1,3,arguments.length),gt("Reference.transaction",this.path),o.validateCallback("Reference.transaction",1,t,!1),o.validateCallback("Reference.transaction",2,e,!0),yt("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new o.Deferred;"function"==typeof e&&r.promise.catch((function(){}));var i=function(t,n,i){t?r.reject(t):r.resolve(new _t(n,i)),"function"==typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){o.validateArgCount("Reference.setPriority",1,2,arguments.length),gt("Reference.setPriority",this.path),ht("Reference.setPriority",1,t,!1),o.validateCallback("Reference.setPriority",2,e,!0);var n=new o.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){o.validateArgCount("Reference.push",0,2,arguments.length),gt("Reference.push",this.path),ut("Reference.push",1,t,this.path,!0),o.validateCallback("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=wt(r),s=this.child(i),a=this.child(i);return n=null!=t?s.set(t,e).then((function(){return a})):Promise.resolve(a),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch((function(){})),s},e.prototype.onDisconnect=function(){return gt("Reference.onDisconnect",this.path),new bt(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Xt);Xt.__referenceConstructor=on,Ae.__referenceConstructor=on;var sn=function(){this.children={},this.childCount=0,this.value=null},an=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new sn),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof X?e:new X(e),r=this,i=n.getFront();null!==i;)r=new t(i,r,o.safeGet(r.node_.children,i)||new sn),i=(n=n.popFront()).getFront();return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){o.assert(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;M(this.node_.children,(function(r,i){e(new t(r,n,i))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new X(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=o.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}(),un=function(t){return t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT",t}({});tn.MAX_TRANSACTION_RETRIES_=25,tn.prototype.transactionsInit_=function(){this.transactionQueueTree_=new an},tn.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},s=new on(this,t);s.on("value",i);var a={path:t,update:e,onComplete:n,status:null,order:m(),applyLocally:r,retryCount:0,unwatcher:function(){s.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(t);a.currentInputSnapshot=u;var c=a.update(u.val());if(void 0===c){if(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete){var l=new Kt(a.currentInputSnapshot,new on(this,a.path),Dt);a.onComplete(null,!1,l)}}else{ct("transaction failed: Data returned ",c,a.path),a.status=un.RUN;var h=this.transactionQueueTree_.subTree(t),f=h.getValue()||[];f.push(a),h.setValue(f);var d=void 0;"object"==typeof c&&null!==c&&o.contains(c,".priority")?(d=o.safeGet(c,".priority"),o.assert(at(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(this.serverSyncTree_.calcCompleteEventCache(t)||Bt.EMPTY_NODE).getPriority().val(),d=d;var p=this.generateServerValues(),v=Wt(c,d),g=oe(v,u,p);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=g,a.currentWriteId=this.getNextWriteId_();var y=this.serverSyncTree_.applyUserOverwrite(t,g,a.currentWriteId,a.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,y),this.sendReadyTransactions_()}},tn.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Bt.EMPTY_NODE},tn.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);o.assert(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return t.status===un.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},tn.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=this.getLatestState_(t,r),s=i,a=i.hash(),u=0;u<e.length;u++){var c=e[u];o.assert(c.status===un.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=un.SENT,c.retryCount++;var l=X.relativePath(t,c.path);s=s.updateChild(l,c.currentOutputSnapshotRaw)}var h=s.val(!0),f=t;this.server_.put(f.toString(),h,(function(r){n.log_("transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=0;s<e.length;s++){if(e[s].status=un.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[s].currentWriteId)),e[s].onComplete){var a=e[s].currentOutputSnapshotResolved,u=new on(n,e[s].path),c=new Kt(a,u,Dt);o.push(e[s].onComplete.bind(null,null,!0,c))}e[s].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i),s=0;s<o.length;s++)Y(o[s])}else{if("datastale"===r)for(s=0;s<e.length;s++)e[s].status=e[s].status===un.SENT_NEEDS_ABORT?un.NEEDS_ABORT:un.RUN;else for(T("transaction at "+f.toString()+" failed: "+r),s=0;s<e.length;s++)e[s].status=un.NEEDS_ABORT,e[s].abortReason=r;n.rerunTransactions_(t)}}),a)},tn.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},tn.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],i=t.filter((function(t){return t.status===un.RUN})).map((function(t){return t.currentWriteId})),s=0;s<t.length;s++){var a=t[s],u=X.relativePath(e,a.path),c=!1,l=void 0;if(o.assert(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===un.NEEDS_ABORT)c=!0,l=a.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else if(a.status===un.RUN)if(a.retryCount>=tn.MAX_TRANSACTION_RETRIES_)c=!0,l="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else{var h=this.getLatestState_(a.path,i);a.currentInputSnapshot=h;var f=t[s].update(h.val());if(void 0!==f){ct("transaction failed: Data returned ",f,a.path);var d=Wt(f);"object"==typeof f&&null!=f&&o.contains(f,".priority")||(d=d.updatePriority(h.getPriority()));var p=a.currentWriteId,v=this.generateServerValues(),g=oe(d,h,v);a.currentOutputSnapshotRaw=d,a.currentOutputSnapshotResolved=g,a.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(p),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(a.path,g,a.currentWriteId,a.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(p,!0))}else c=!0,l="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],c&&(t[s].status=un.COMPLETED,setTimeout(t[s].unwatcher,Math.floor(0)),t[s].onComplete))if("nodata"===l){var m=new on(this,t[s].path),y=new Kt(t[s].currentInputSnapshot,m,Dt);n.push(t[s].onComplete.bind(null,null,!1,y))}else n.push(t[s].onComplete.bind(null,new Error(l),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),s=0;s<n.length;s++)Y(n[s]);this.sendReadyTransactions_()}},tn.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},tn.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},tn.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},tn.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==un.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},tn.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},tn.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,s=0;s<e.length;s++)e[s].status===un.SENT_NEEDS_ABORT||(e[s].status===un.SENT?(o.assert(i===s-1,"All SENT items should be at beginning of queue."),i=s,e[s].status=un.SENT_NEEDS_ABORT,e[s].abortReason="set"):(o.assert(e[s].status===un.RUN,"Unexpected transaction status in abort"),e[s].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[s].currentWriteId,!0)),e[s].onComplete&&n.push(e[s].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r),s=0;s<n.length;s++)Y(n[s])}};var cn,ln=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(C("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';T(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),hn=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}(),fn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return cn||(cn=new t),cn},t.prototype.interrupt=function(){var t,e,n,r;try{for(var o=i.__values(Object.keys(this.repos_)),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var u=(n=void 0,i.__values(Object.keys(this.repos_[a]))),c=u.next();!c.done;c=u.next())this.repos_[a][c.value].interrupt()}catch(l){n={error:l}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,e,n,r;try{for(var o=i.__values(Object.keys(this.repos_)),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var u=(n=void 0,i.__values(Object.keys(this.repos_[a]))),c=u.next();!c.done;c=u.next())this.repos_[a][c.value].resume()}catch(l){n={error:l}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},t.prototype.databaseFromApp=function(t,e,n,r){var i=n||t.options.databaseURL;void 0===i&&(t.options.projectId||I("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),C("Using default host for project ",t.options.projectId),i=t.options.projectId+"-default-rtdb.firebaseio.com");var o,s=et(i,r),a=s.repoInfo,u=void 0;"undefined"!=typeof process&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(o=!0,a=(s=et(i="http://"+u+"?ns="+a.namespace,r)).repoInfo):o=!s.repoInfo.secure;var c=r&&o?new hn:new ln(t,e);return mt("Invalid Firebase Database URL",1,s),s.path.isEmpty()||I("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(a,t,c).database},t.prototype.deleteRepo=function(t){var e=o.safeGet(this.repos_,t.app.name);e&&o.safeGet(e,t.repoInfo_.toURLString())===t||I("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e,n){var r=o.safeGet(this.repos_,e.name);r||(this.repos_[e.name]=r={});var i=o.safeGet(r,t.toURLString());return i&&I("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new tn(t,this.useRestClient_,e,n),r[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),dn=function(){function t(t){this.repo_=t,t instanceof tn||I("Don't call new Database() directly - please use firebase.database()."),this.root_=new on(t,X.Empty),this.INTERNAL=new pn(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),o.validateArgCount("database.ref",0,1,arguments.length),t instanceof on?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),o.validateArgCount(e,1,1,arguments.length);var n=et(t,this.repo_.repoInfo_.nodeAdmin);mt(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&I(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&I("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){o.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){o.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}(),pn=function(){function t(t){this.database=t}return t.prototype.delete=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return this.database.checkDeleted_("delete"),fn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},t}(),vn=Object.freeze({__proto__:null,forceLongPolling:function(){Qe.forceDisallow(),He.forceAllow()},forceWebSockets:function(){He.forceDisallow()},isWebSocketsAvailable:function(){return Qe.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),gn=Xe;Xe.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Xe.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var mn=Object.freeze({__proto__:null,DataConnection:gn,RealTimeConnection:Ye,hijackHash:function(t){var e=Xe.prototype.put;return Xe.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){Xe.prototype.put=e}},ConnectionTarget:tt,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){fn.getInstance().forceRestClient(t)}}),yn=dn.ServerValue;function bn(e){Ge=e.SDK_VERSION;var n=e.INTERNAL.registerComponent(new a.Component("database",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return fn.getInstance().databaseFromApp(n,r,e)}),"PUBLIC").setServiceProps({Reference:on,Query:Xt,Database:dn,DataSnapshot:Kt,enableLogging:k,INTERNAL:vn,ServerValue:yn,TEST_ACCESS:mn}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.6.13"),o.isNodeSdk()&&(t.exports=n)}bn(l.default),e.DataSnapshot=Kt,e.Database=dn,e.OnDisconnect=bt,e.Query=Xt,e.Reference=on,e.ServerValue=yn,e.enableLogging=k,e.registerDatabase=bn},O1kn:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("wj3C");n("fSjL");var i=n("mrSG"),o=n("zVF4"),s=n("q/0M"),a=n("S+S0");var u,c,l=(c=r)&&"object"==typeof c&&"default"in c?c:{default:c},h=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o,s;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=i.sent(),n=e[0],(r=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return o=i.sent(),s=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===o.status&&s.push(this.storage.setLastSuccessfulFetchResponse(o)),[4,Promise.all(s)];case 3:return i.sent(),[2,o]}}))}))},t}(),f=((u={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",u["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",u["registration-api-key"]="Undefined API key. Check Firebase app initialization.",u["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",u["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",u["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",u["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",u["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",u["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",u["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',u["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',u["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",u["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",u),d=new o.ErrorFactory("remoteconfig","Remote Config",f),p=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o,s,a,u,c,l,h,f,p,v,g,m,y;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=i.sent(),n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",r=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,o={sdk_version:this.sdkVersion,app_instance_id:e[0],app_instance_id_token:e[1],app_id:this.appId,language_code:(void 0===b&&(b=navigator),b.languages&&b.languages[0]||b.language)},s={method:"POST",headers:{"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},body:JSON.stringify(o)},a=fetch(r,s),u=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))})),i.label=2;case 2:return i.trys.push([2,5,,6]),[4,Promise.race([a,u])];case 3:return i.sent(),[4,a];case 4:return c=i.sent(),[3,6];case 5:throw l=i.sent(),h="fetch-client-network","AbortError"===l.name&&(h="fetch-timeout"),d.create(h,{originalErrorMessage:l.message});case 6:if(f=c.status,p=c.headers.get("ETag")||void 0,200!==c.status)return[3,11];m=void 0,i.label=7;case 7:return i.trys.push([7,9,,10]),[4,c.json()];case 8:return m=i.sent(),[3,10];case 9:throw y=i.sent(),d.create("fetch-client-parse",{originalErrorMessage:y.message});case 10:v=m.entries,g=m.state,i.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===g?f=500:"NO_CHANGE"===g?f=304:"NO_TEMPLATE"!==g&&"EMPTY_CONFIG"!==g||(v={}),304!==f&&200!==f)throw d.create("fetch-status",{httpStatus:f});return[2,{status:f,eTag:p,config:v}]}var b}))}))},t}(),v=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),g=["1","true","t","yes","y","on"],m=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&g.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),y=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=s.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=s.LogLevel.SILENT;break;default:this._logger.logLevel=s.LogLevel.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e,n;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),n=t[1],(e=t[0])&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},t.prototype.fetch=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e,n,r=this;return i.__generator(this,(function(s){switch(s.label){case 0:t=new v,setTimeout((function(){return i.__awaiter(r,void 0,void 0,(function(){return i.__generator(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return s.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return s.sent(),[3,6];case 4:return e=s.sent(),n=(a=e)instanceof o.FirebaseError&&-1!==a.code.indexOf("fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw s.sent(),e;case 6:return[2]}var a}))}))},t.prototype.fetchAndActivate=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},t.prototype.getAll=function(){var t,e,n=this;return(t=this._storageCache.getActiveConfig(),e=this.defaultConfig,void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(i.__assign(i.__assign({},t),e))).reduce((function(t,e){return t[e]=n.getValue(e),t}),{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new m("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new m("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new m("static"))},t}();function b(t,e){var n=t.target.error||void 0;return d.create(e,{originalErrorMessage:n&&n.message})}var _=function(){function t(t,e,n,r){void 0===r&&(r=new Promise((function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(b(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}}))),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),s=n.createCompositeKey(t);try{var a=o.get(s);a.onerror=function(t){i(b(t,"storage-get"))},a.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(c){i(d.create("storage-get",{originalErrorMessage:c&&c.message}))}}))]}}))}))},t.prototype.set=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r=this;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var s=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),a=r.createCompositeKey(t);try{var u=s.put({compositeKey:a,value:e});u.onerror=function(t){o(b(t,"storage-set"))},u.onsuccess=function(){i()}}catch(c){o(d.create("storage-set",{originalErrorMessage:c&&c.message}))}}))]}}))}))},t.prototype.delete=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),s=n.createCompositeKey(t);try{var a=o.delete(s);a.onerror=function(t){i(b(t,"storage-delete"))},a.onsuccess=function(){r()}}catch(c){i(d.create("storage-delete",{originalErrorMessage:c&&c.message}))}}))]}}))}))},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),w=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return i.__awaiter(this,void 0,void 0,(function(){var t,e,n,r,o,s;return i.__generator(this,(function(i){switch(i.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(r=i.sent())&&(this.lastFetchStatus=r),[4,e];case 2:return(o=i.sent())&&(this.lastSuccessfulFetchTimestampMillis=o),[4,n];case 3:return(s=i.sent())&&(this.activeConfig=s),[2]}}))}))},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();function k(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(d.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var C=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return i.__awaiter(this,void 0,void 0,(function(){var e,s,a;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,k(t.signal,n)];case 1:i.sent(),i.label=2;case 2:return i.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=i.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return i.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof o.FirebaseError))return!1;var e=Number(t.httpStatus);return 429===e||500===e||503===e||504===e}(s=i.sent()))throw s;return a={throttleEndTimeMillis:Date.now()+o.calculateBackoffMillis(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(a)];case 6:return i.sent(),[2,this.attemptFetch(t,a)];case 7:return[2]}}))}))},t}(),E="@firebase/remote-config";function S(t){t.INTERNAL.registerComponent(new a.Component("remoteConfig",(function(e,n){var r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"==typeof window)throw d.create("registration-window");var o=r.options,a=o.projectId,u=o.apiKey,c=o.appId;if(!a)throw d.create("registration-project-id");if(!u)throw d.create("registration-api-key");if(!c)throw d.create("registration-app-id");var l=new _(c,r.name,n=n||"firebase"),f=new w(l),v=new s.Logger(E);v.logLevel=s.LogLevel.ERROR;var g=new p(i,t.SDK_VERSION,n,a,u,c),m=new C(g,l),b=new h(m,l,f,v),k=new y(r,b,f,l,v);return k.ensureInitialized(),k}),"PUBLIC").setMultipleInstances(!0)),t.registerVersion(E,"0.1.28")}S(l.default),e.registerRemoteConfig=S},Q1FS:function(t,e,n){"use strict";var r=n("yx2s"),i=n("Xwq/"),o=n("zfKp"),s=n("9AGB"),a=n("n3uD");function u(t){if(t||(t=a.config.Promise||Promise),!t)throw new Error("no Promise impl found");return t}e.Observable=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,o=i.toSubscriber(t,e,n);if(o.add(r?r.call(o,this.source):this.source||a.config.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),a.config.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){a.config.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),r.canReportError(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=u(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[o.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:s.pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=u(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}()},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("zVF4"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=r.__read(o.value,2),a=s[1],u=this.normalizeInstanceIdentifier(s[0]);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(r.__spread(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=a,e.Provider=s},"Xwq/":function(t,e,n){"use strict";var r=n("FWf1"),i=n("p//D"),o=n("GiSu");e.toSubscriber=function(t,e,n){if(t){if(t instanceof r.Subscriber)return t;if(t[i.rxSubscriber])return t[i.rxSubscriber]()}return t||e||n?new r.Subscriber(t,e,n):new r.Subscriber(o.empty)}},bQlE:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("wj3C");n("fSjL");var i=n("mrSG"),o=n("zVF4"),s=n("q/0M"),a=n("S+S0");var u,c,l,h,f=(h=r)&&"object"==typeof h&&"default"in h?h:{default:h},d=((u={})["trace started"]="Trace {$traceName} was started before.",u["trace stopped"]="Trace {$traceName} is not running.",u["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",u["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",u["no window"]="Window is not available.",u["no app id"]="App id is not available.",u["no project id"]="Project id is not available.",u["no api key"]="Api key is not available.",u["invalid cc log"]="Attempted to queue invalid cc event",u["FB not default"]="Performance can only start when Firebase app instance is the default one.",u["RC response not ok"]="RC response is not ok",u["invalid attribute name"]="Attribute name {$attributeName} is invalid.",u["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",u["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",u["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",u),p=new o.ErrorFactory("performance","Performance",d),v=new s.Logger("Performance");v.logLevel=s.LogLevel.INFO;var g,m=function(){function t(t){if(this.window=t,!t)throw p.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!o.isIndexedDBAvailable()||(v.info("IndexedDB is not supported by current browswer"),!1):(v.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++)e(r[n])})).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===c&&(c=new t(l)),c},t}();function y(t,e){var n=t.length-e.length;if(n<0||n>1)throw p.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var b,_=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=y("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=y("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw p.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw p.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw p.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===g&&(g=new t),g},t}();function w(){return b}var k=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN",t}({}),C=["firebase_","google_","ga_"],E=new RegExp("^[a-zA-Z]\\w*$");function S(){var t=m.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function I(){switch(m.getInstance().document.visibilityState){case"visible":return k.VISIBLE;case"hidden":return k.HIDDEN;default:return k.UNKNOWN}}function T(){var t=m.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function A(t){if(!t)return t;var e=_.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0===n.fpr_enabled||"true"===String(n.fpr_enabled),n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=D(e.tracesSamplingRate),e.logNetworkAfterSampling=D(e.networkRequestsSamplingRate),t}function D(t){return Math.random()<=t}var O,P=1;function x(){return P=2,O=O||function(){var t=m.getInstance().document;return new Promise((function(e){if(t&&"complete"!==t.readyState){t.addEventListener("readystatechange",(function n(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())}))}else e()}))}().then((function(){return(t=_.getInstance().installationsService.getId()).then((function(t){b=t})),t;var t})).then((function(t){return function(t){var e=function(){var t=m.getInstance().localStorage;if(t){var e=t.getItem("@firebase/performance/configexpire");if(e&&Number(e)>Date.now()){var n=t.getItem("@firebase/performance/config");if(n)try{return JSON.parse(n)}catch(u){return}}}}();return e?(A(e),Promise.resolve()):function(t){return(e=_.getInstance().installationsService.getToken(),e.then((function(t){})),e).then((function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+_.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+_.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:_.getInstance().getAppId(),app_version:"0.4.2",sdk_version:"0.0.1"})});return fetch(r).then((function(t){if(t.ok)return t.json();throw p.create("RC response not ok")}))})).catch((function(){v.info("Could not fetch config, will use default configs")}));var e}(t).then(A).then((function(t){return function(t){var e=m.getInstance().localStorage;t&&e&&(e.setItem("@firebase/performance/config",JSON.stringify(t)),e.setItem("@firebase/performance/configexpire",String(Date.now()+60*_.getInstance().configTimeToLive*60*1e3)))}(t)}),(function(){}))}(t)})).then((function(){return N()}),(function(){return N()}))}function N(){P=3}var R,F=3,M=[],L=!1;function U(t){if(!t.eventTime||!t.message)throw p.create("invalid cc log");M=i.__spreadArrays(M,[t])}function V(t,e){R||(R=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];U({message:t.apply(void 0,e),eventTime:Date.now()})}}(q)),R(t,e)}function j(t){var e=_.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&m.getInstance().requiredApisAvailable()&&(t.isAuto&&I()!==k.VISIBLE||(3===P?B(t):x().then((function(){return B(t)}),(function(){return B(t)}))))}function B(t){if(w()){var e=_.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout((function(){return V(t,1)}),0)}}function q(t,e){return 0===e?(r={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:W(),network_request_metric:r},JSON.stringify(i)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:W(),trace_metric:e};return JSON.stringify(r)}(t);var n,r,i}function W(){return{google_app_id:_.getInstance().getAppId(),app_instance_id:w(),web_app_info:{sdk_version:"0.4.2",page_url:m.getInstance().getUrl(),service_worker_status:S(),visibility_state:I(),effective_connection_type:T()},application_process_state:0}}var H=["_fp","_fcp","_fid"],z=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=m.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw p.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw p.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),j(this)},t.prototype.record=function(t,e,n){if(t<=0)throw p.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw p.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=i.__assign({},n.attributes)),n&&n.metrics)for(var r=0,o=Object.keys(n.metrics);r<o.length;r++){var s=o[r];isNaN(Number(n.metrics[s]))||(this.counters[s]=Number(Math.floor(n.metrics[s])))}j(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),this.putMetric(t,void 0===this.counters[t]?e:this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(!function(t,e){return!(0===t.length||t.length>100)&&(e&&e.startsWith("_wt_")&&H.indexOf(t)>-1||!t.startsWith("_"))}(t,this.name))throw p.create("invalid custom metric name",{customMetricName:t});var n,r;this.counters[t]=(n=e,(r=Math.floor(n))<n&&v.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n=function(t){return!(0===t.length||t.length>40||C.some((function(e){return t.startsWith(e)}))||!t.match(E))}(t),r=function(t){return 0!==t.length&&t.length<=100}(e);if(n&&r)this.customAttributes[t]=e;else{if(!n)throw p.create("invalid attribute name",{attributeName:t});if(!r)throw p.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return i.__assign({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=m.getInstance().getUrl();if(i){var o=new t("_wt_"+i,!0),s=Math.floor(1e3*m.getInstance().getTimeOrigin());if(o.setStartTime(s),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),n){var a=n.find((function(t){return"first-paint"===t.name}));a&&a.startTime&&o.putMetric("_fp",Math.floor(1e3*a.startTime));var u=n.find((function(t){return"first-contentful-paint"===t.name}));u&&u.startTime&&o.putMetric("_fcp",Math.floor(1e3*u.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}j(o)}},t.createUserTimingTrace=function(e){j(new t(e,!1,e))},t}();function G(t){var e=t;if(e&&void 0!==e.responseStart){var n=m.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=_.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout((function(){return V(t,0)}),0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function K(){w()&&(setTimeout((function(){return function(){var t=m.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout((function(){z.createOobTrace(e,n),r=void 0}),5e3);t.onFirstInputDelay((function(t){r&&(clearTimeout(r),z.createOobTrace(e,n,t))}))}else z.createOobTrace(e,n)}()}),0),setTimeout((function(){return function(){for(var t=m.getInstance(),e=0,n=t.getEntriesByType("resource");e<n.length;e++)G(n[e]);t.setupObserver("resource",G)}()}),0),setTimeout((function(){return function(){for(var t=m.getInstance(),e=0,n=t.getEntriesByType("measure");e<n.length;e++)Q(n[e]);t.setupObserver("measure",Q)}()}),0))}function Q(t){var e=t.name;"FB-PERF-TRACE-MEASURE"!==e.substring(0,"FB-PERF-TRACE-MEASURE".length)&&z.createUserTimingTrace(e)}var $=function(){function t(t){this.app=t,m.getInstance().requiredApisAvailable()&&o.validateIndexedDBOpenable().then((function(t){t&&(L||(function t(e){setTimeout((function(){if(0!==F)return M.length?void function(){var e=i.__spreadArrays(M);M=[];var n=e.map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}}));(function(e,n){return function(t){var e=_.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(e).then((function(t){return t.ok||v.info("Call to Firebase backend failed."),t.json()})).then((function(e){var r=Number(e.nextRequestWaitMillis),o=1e4;isNaN(r)||(o=Math.max(r,o));var s=e.logResponseDetails;Array.isArray(s)&&s.length>0&&"RETRY_REQUEST_LATER"===s[0].responseAction&&(M=i.__spreadArrays(n,M),v.info("Retry transport request later.")),F=3,t(o)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:_.getInstance().logSource,log_event:n},e).catch((function(){M=i.__spreadArrays(e,M),F--,v.info("Tries left: "+F+"."),t(1e4)}))}():t(1e4)}),e)}(5500),L=!0),x().then(K,K))})).catch((function(t){v.info("Environment doesn't support IndexedDB: "+t)}))}return t.prototype.trace=function(t){return new z(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return _.getInstance().instrumentationEnabled},set:function(t){_.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return _.getInstance().dataCollectionEnabled},set:function(t){_.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}();function Y(t){t.INTERNAL.registerComponent(new a.Component("performance",(function(t){return function(t,e){if("[DEFAULT]"!==t.name)throw p.create("FB not default");if("undefined"==typeof window)throw p.create("no window");return function(t){l=t}(window),_.getInstance().firebaseAppInstance=t,_.getInstance().installationsService=e,new $(t)}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC")),t.registerVersion("@firebase/performance","0.4.2")}Y(f.default),e.registerPerformance=Y},ds6q:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=n("Q1FS"),s=n("FWf1"),a=n("zB/H"),u=n("Mxlh"),c=n("FiyT"),l=n("p//D"),h=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return i(e,t),e}(s.Subscriber);e.SubjectSubscriber=h;var f=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return i(e,t),e.prototype[l.rxSubscriber]=function(){return new h(this)},e.prototype.lift=function(t){var e=new d(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new u.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new u.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new u.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new u.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new u.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),a.Subscription.EMPTY):this.isStopped?(t.complete(),a.Subscription.EMPTY):(this.observers.push(t),new c.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new o.Observable;return t.source=this,t},e.create=function(t,e){return new d(t,e)},e}(o.Observable);e.Subject=f;var d=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return i(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):a.Subscription.EMPTY},e}(f);e.AnonymousSubject=d},fSjL:function(t,e,n){"use strict";n.r(e),n.d(e,"registerInstallations",(function(){return K}));var r,i=n("wj3C"),o=n.n(i),s=n("S+S0"),a=n("mrSG"),u=n("zVF4"),c=n("nbvr"),l=((r={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',r["not-registered"]="Firebase Installation is not registered.",r["installation-not-found"]="Firebase Installation not found.",r["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',r["app-offline"]="Could not process request. Application offline.",r["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",r),h=new u.ErrorFactory("installations","Installations",l);function f(t){return t instanceof u.FirebaseError&&t.code.includes("request-failed")}function d(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function p(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function v(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),[2,h.create("request-failed",{requestName:t,serverCode:(r=n.error).code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function g(t){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey})}function m(t,e){var n=e.refreshToken,r=g(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}(n)),r}function y(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function b(t,e){var n=e.fid;return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,r,i,o,s;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return e=d(t),r=g(t),i={method:"POST",headers:r,body:JSON.stringify({fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.4.17"})},[4,y((function(){return fetch(e,i)}))];case 1:return(o=a.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(s=a.sent()).fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:p(s.authToken)}];case 3:return[4,v("Create Installation",o)];case 4:throw a.sent()}}))}))}function _(t){return new Promise((function(e){setTimeout(e,t)}))}var w=/^[cdef][\w-]{21}$/;function k(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,Object(a.__spread)(e))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return w.test(e)?e:""}catch(r){return""}}function C(t){return t.appName+"!"+t.appId}var E=new Map;function S(t,e){var n=C(t);I(n,e),function(t,e){var n=A();n&&n.postMessage({key:t,fid:e}),D()}(n,e)}function I(t,e){var n,r,i=E.get(t);if(i)try{for(var o=Object(a.__values)(i),s=o.next();!s.done;s=o.next())(0,s.value)(e)}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var T=null;function A(){return!T&&"BroadcastChannel"in self&&((T=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){I(t.data.key,t.data.fid)}),T}function D(){0===E.size&&T&&(T.close(),T=null)}var O="firebase-installations-store",P=null;function x(){return P||(P=Object(c.openDb)("firebase-installations-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(O)}}))),P}function N(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return n=C(t),[4,x()];case 1:return r=a.sent(),i=r.transaction(O,"readwrite"),[4,(o=i.objectStore(O)).get(n)];case 2:return s=a.sent(),[4,o.put(e,n)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),s&&s.fid===e.fid||S(t,e.fid),[2,e]}}))}))}function R(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n,r;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return e=C(t),[4,x()];case 1:return n=i.sent(),[4,(r=n.transaction(O,"readwrite")).objectStore(O).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function F(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s,u;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return n=C(t),[4,x()];case 1:return r=a.sent(),i=r.transaction(O,"readwrite"),[4,(o=i.objectStore(O)).get(n)];case 2:return s=a.sent(),void 0!==(u=e(s))?[3,4]:[4,o.delete(n)];case 3:return a.sent(),[3,6];case 4:return[4,o.put(u,n)];case 5:a.sent(),a.label=6;case 6:return[4,i.complete];case 7:return a.sent(),!u||s&&s.fid===u.fid||S(t,u.fid),[2,u]}}))}))}function M(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n,r;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return[4,F(t,(function(n){var r=function(t){return V(t||{fid:k(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(h.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,b(t,e)];case 1:return n=i.sent(),[2,N(t,n)];case 2:return f(r=i.sent())&&409===r.serverCode?[4,R(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,N(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:L(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function L(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return[4,U(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,_(100)];case 3:return o.sent(),[4,U(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,M(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}}))}))}function U(t){return F(t,(function(t){if(!t)throw h.create("installation-not-found");return V(t)}))}function V(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function j(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,i,o,s,u;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return t=function(t,e){var n=e.fid;return d(t)+"/"+n+"/authTokens:generate"}(n,e),i=m(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),s={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:"w:0.4.17"}})},[4,y((function(){return fetch(t,s)}))];case 1:return(u=a.sent()).ok?[4,u.json()]:[3,3];case 2:return[2,p(a.sent())];case 3:return[4,v("Generate Auth Token",u)];case 4:throw a.sent()}}))}))}function B(t,e){return void 0===e&&(e=!1),Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return[4,F(t.appConfig,(function(r){if(!W(r))throw h.create("not-registered");var i,o=r.authToken;if(!e&&2===(i=o).requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(i))return r;if(1===o.requestStatus)return n=function(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return[4,q(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,_(100)];case 3:return i.sent(),[4,q(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,B(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw h.create("app-offline");var s=function(t){var e={requestStatus:1,requestTime:Date.now()};return Object(a.__assign)(Object(a.__assign)({},t),{authToken:e})}(r);return n=function(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,j(t,e)];case 1:return n=o.sent(),i=Object(a.__assign)(Object(a.__assign)({},e),{authToken:n}),[4,N(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!f(r=o.sent())||401!==r.serverCode&&404!==r.serverCode?[3,5]:[4,R(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Object(a.__assign)(Object(a.__assign)({},e),{authToken:{requestStatus:0}}),[4,N(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,s),s}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function q(t){return F(t,(function(t){if(!W(t))throw h.create("not-registered");var e;return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?Object(a.__assign)(Object(a.__assign)({},t),{authToken:{requestStatus:0}}):t}))}function W(t){return void 0!==t&&2===t.registrationStatus}function H(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return[4,M(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function z(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return Object(a.__generator)(this,(function(s){switch(s.label){case 0:return n=function(t,e){var n=e.fid;return d(t)+"/"+n}(t,e),r=m(t,e),i={method:"DELETE",headers:r},[4,y((function(){return fetch(n,i)}))];case 1:return(o=s.sent()).ok?[3,3]:[4,v("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}}))}))}function G(t){return h.create("missing-app-config-values",{valueName:t})}function K(t){t.INTERNAL.registerComponent(new s.Component("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw G("App Configuration");if(!t.name)throw G("App Name");try{for(var r=Object(a.__values)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw G(o)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n,r;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return[4,M(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):B(t).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return[4,H(t.appConfig)];case 1:return n.sent(),[4,B(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return[4,F(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw h.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw h.create("app-offline");case 3:return[4,z(e,n)];case 4:return r.sent(),[4,R(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return function(t,e){var n=t.appConfig;return function(t,e){A();var n=C(t),r=E.get(n);r||(r=new Set,E.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=C(t),r=E.get(n);r&&(r.delete(e),0===r.size&&E.delete(n),D())}(n,e)}}(n,t)}}}),"PUBLIC")),t.registerVersion("@firebase/installations","0.4.17")}K(o.a)},gHGA:function(t,e,n){"use strict";n.r(e),n("fSjL");var r,i=n("S+S0"),o=n("zVF4"),s=n("mrSG"),a=n("nbvr"),u=n("wj3C"),c=n.n(u),l=((r={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',r["only-available-in-window"]="This method is available in a Window context.",r["only-available-in-sw"]="This method is available in a service worker context.",r["permission-default"]="The notification permission was not granted and dismissed instead.",r["permission-blocked"]="The notification permission was not granted and blocked instead.",r["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",r["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",r["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",r["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",r["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",r["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",r["token-update-no-token"]="FCM returned no token when updating the user to push.",r["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",r["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",r["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",r["invalid-vapid-key"]="The public VAPID key must be a string.",r["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",r),h=new o.ErrorFactory("messaging","Messaging",l),f="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",d=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}({});function p(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,Object(s.__spread)(e))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function v(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}function g(t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var e,n=this;return Object(s.__generator)(this,(function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map((function(t){return t.name})).includes("fcm_token_details_db"))return[2,null];r.label=2;case 2:return e=null,[4,Object(a.openDb)("fcm_token_details_db",5,(function(r){return Object(s.__awaiter)(n,void 0,void 0,(function(){var n,i,o,a;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains("fcm_token_object_Store")?[4,(n=r.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(t)]:[2];case 1:return i=s.sent(),[4,n.clear()];case 2:if(s.sent(),!i)return[2];if(2===r.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];e={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:p(o.vapidKey)}}}else(3===r.oldVersion||4===r.oldVersion)&&(e={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:p(o.auth),p256dh:p(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:p(o.vapidKey)}});return[2]}}))}))}))];case 3:return r.sent().close(),[4,Object(a.deleteDb)("fcm_token_details_db")];case 4:return r.sent(),[4,Object(a.deleteDb)("fcm_vapid_details_db")];case 5:return r.sent(),[4,Object(a.deleteDb)("undefined")];case 6:return r.sent(),[2,m(e)?e:null]}}))}))}function m(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}var y="firebase-messaging-store",b=null;function _(){return b||(b=Object(a.openDb)("firebase-messaging-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(y)}}))),b}function w(t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var e,n,r;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return e=E(t),[4,_()];case 1:return[4,i.sent().transaction(y).objectStore(y).get(e)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,g(t.appConfig.senderId)];case 4:return(r=i.sent())?[4,k(t,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function k(t,e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:return n=E(t),[4,_()];case 1:return r=o.sent(),[4,(i=r.transaction(y,"readwrite")).objectStore(y).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}}))}))}function C(t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var e,n,r;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return e=E(t),[4,_()];case 1:return n=i.sent(),[4,(r=n.transaction(y,"readwrite")).objectStore(y).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function E(t){return t.appConfig.appId}function S(t,e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return[4,D(t)];case 1:n=s.sent(),r=O(e),i={method:"POST",headers:n,body:JSON.stringify(r)},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(A(t.appConfig),i)];case 3:return[4,s.sent().json()];case 4:return o=s.sent(),[3,6];case 5:throw a=s.sent(),h.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw h.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw h.create("token-subscribe-no-token");return[2,o.token]}}))}))}function I(t,e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return[4,D(t)];case 1:n=s.sent(),r=O(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(A(t.appConfig)+"/"+e.token,i)];case 3:return[4,s.sent().json()];case 4:return o=s.sent(),[3,6];case 5:throw a=s.sent(),h.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw h.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw h.create("token-update-no-token");return[2,o.token]}}))}))}function T(t,e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return[4,D(t)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(A(t.appConfig)+"/"+e,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw h.create("token-unsubscribe-failed",{errorInfo:i.error.message});return[3,6];case 5:throw o=s.sent(),h.create("token-unsubscribe-failed",{errorInfo:o});case 6:return[2]}}))}))}function A(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function D(t){var e=t.appConfig,n=t.installations;return Object(s.__awaiter)(this,void 0,void 0,(function(){var t;return Object(s.__generator)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function O(t){var e=t.vapidKey,n={web:{endpoint:t.endpoint,auth:t.auth,p256dh:t.p256dh}};return e!==f&&(n.web.applicationPubKey=e),n}function P(t,e,n){return Object(s.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw h.create("permission-blocked");return[4,F(e,n)];case 1:return r=s.sent(),[4,w(t)];case 2:return i=s.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:p(r.getKey("auth")),p256dh:p(r.getKey("p256dh"))},i?[3,3]:[2,R(t,o)];case 3:if(l=(c=o).endpoint===(u=i.subscriptionOptions).endpoint,c.vapidKey===u.vapidKey&&l&&c.auth===u.auth&&c.p256dh===u.p256dh)return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,T(t,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,R(t,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,N({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}var u,c,l}))}))}function x(t,e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return[4,w(t)];case 1:return(n=i.sent())?[4,T(t,n.token)]:[3,4];case 2:return i.sent(),[4,C(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function N(t,e,n){return Object(s.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return Object(s.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,I(e,t)];case 1:return r=a.sent(),i=Object(s.__assign)(Object(s.__assign)({},t),{token:r,createTime:Date.now()}),[4,k(e,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,x(e,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function R(t,e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return[4,S(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,k(t,r)];case 2:return i.sent(),[2,r.token]}}))}))}function F(t,e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n;return Object(s.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:v(e)})]}}))}))}function M(t){return"object"==typeof t&&!!t&&"google.c.a.c_id"in t}var L=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(e.onNotificationClick(t))}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw h.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return Object(s.__awaiter)(this,void 0,void 0,(function(){var n;return Object(s.__generator)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,w(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:f,r.label=2;case 2:return[2,P(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return x(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw h.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw h.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw h.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw h.create("only-available-in-window")},t.prototype.onMessage=function(){throw h.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw h.create("only-available-in-window")},t.prototype.onPush=function(t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}(t))?[4,B()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,j(n,e)]:(r=!1,e.notification?[4,q(U(e))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed||this.bgMessageHandler&&(i=function(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}(e,t),e}(e),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[2]}}))}))},t.prototype.onSubChange=function(t){var e,n;return Object(s.__awaiter)(this,void 0,void 0,(function(){var r;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return t.newSubscription?[3,2]:[4,x(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,w(this.firebaseDependencies)];case 3:return r=i.sent(),[4,x(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,P(this.firebaseDependencies,self.registration,null!==(n=null===(e=null==r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:f)];case 5:return i.sent(),[2]}}))}))},t.prototype.onNotificationClick=function(t){var e,n;return Object(s.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,u;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(i=function(t){var e,n,r;return(null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action)||(M(t.data)?self.location.origin:null)}(r))?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,V(o)]):[2]):[2];case 1:return(u=s.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return u=s.sent(),[4,new Promise((function(t){setTimeout(t,3e3)}))];case 3:return s.sent(),[3,6];case 4:return[4,u.focus()];case 5:u=s.sent(),s.label=6;case 6:return u?(r.messageType=d.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,u.postMessage(r)]):[2]}}))}))},t}();function U(t){var e,n=Object(s.__assign)({},t.notification);return n.data=((e={}).FCM_MSG=t,e),n}function V(t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,o,a,u;return Object(s.__generator)(this,(function(c){switch(c.label){case 0:return[4,B()];case 1:e=c.sent();try{for(n=Object(s.__values)(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(l){a={error:l}}finally{try{r&&!r.done&&(u=n.return)&&u.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}function j(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=d.PUSH_RECEIVED;try{for(var i=Object(s.__values)(t),o=i.next();!o.done;o=i.next())o.value.postMessage(e)}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function B(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function q(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var W=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return e.messageEventListener(t)}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(s.__generator)(this,(function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===d.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),M(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw h.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,P(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},t.prototype.updateVapidKey=function(t){return Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=f),[2]}))}))},t.prototype.updateSwReg=function(t){return Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw h.create("invalid-sw-registration");return this.swRegistration=t,[2]}}))}))},t.prototype.registerDefaultSw=function(){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,e;return Object(s.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw e=n.sent(),h.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}}))}))},t.prototype.deleteToken=function(){return Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,x(this.firebaseDependencies,this.swRegistration)]}}))}))},t.prototype.requestPermission=function(){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t;return Object(s.__generator)(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw h.create("denied"===t?"permission-blocked":"permission-default")}}))}))},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw h.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw h.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw h.create("invalid-sw-registration");if(this.swRegistration)throw h.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw h.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw h.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n;return Object(s.__generator)(this,(function(r){switch(r.label){case 0:return n=function(t){switch(t){case d.NOTIFICATION_CLICKED:return"notification_open";case d.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},t}();function H(t){return h.create("missing-app-config-values",{valueName:t})}var z={isSupported:G};function G(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}c.a.INTERNAL.registerComponent(new i.Component("messaging",(function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw H("App Configuration Object");if(!t.name)throw H("App Name");var r=t.options;try{for(var i=Object(s.__values)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw H(a)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!G())throw h.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new L(n):new W(n)}),"PUBLIC").setServiceProps(z))},iqUP:function(t,e,n){"use strict";var r=n("wj3C");n("LOEa"),n("NSPt"),n("6Joi"),n("ABqa"),n("gHGA"),n("LmZi"),n("bQlE"),n("3Kre"),n("O1kn");var i,o=(i=r)&&"object"==typeof i&&"default"in i?i:{default:i};o.default.registerVersion("firebase","7.24.0","app"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport * as firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),o.default.registerVersion("firebase","7.24.0"),t.exports=o.default},kScs:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return t.hashStr=function(t,e){return void 0===e&&(e=!1),this.onePassHasher.start().appendStr(t).end(e)},t.hashAsciiStr=function(t,e){return void 0===e&&(e=!1),this.onePassHasher.start().appendAsciiStr(t).end(e)},t._hex=function(e){var n,r,i,o,s=t.hexChars,a=t.hexOut;for(o=0;o<4;o+=1)for(r=8*o,n=e[o],i=0;i<8;i+=2)a[r+1+i]=s.charAt(15&n),a[r+0+i]=s.charAt(15&(n>>>=4)),n>>>=4;return a.join("")},t._md5cycle=function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+e[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&i)+e[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&r)+e[2]+606105819|0)<<17|i>>>15)+o|0)&o|~i&n)+e[3]-1044525330|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+e[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&i)+e[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&r)+e[6]-1473231341|0)<<17|i>>>15)+o|0)&o|~i&n)+e[7]-45705983|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+e[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&i)+e[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&r)+e[10]-42063|0)<<17|i>>>15)+o|0)&o|~i&n)+e[11]-1990404162|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+e[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&i)+e[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&r)+e[14]-1502002290|0)<<17|i>>>15)+o|0)&o|~i&n)+e[15]+1236535329|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+e[1]-165796510|0)<<5|n>>>27)+r|0)&i|r&~i)+e[6]-1069501632|0)<<9|o>>>23)+n|0)&r|n&~r)+e[11]+643717713|0)<<14|i>>>18)+o|0)&n|o&~n)+e[0]-373897302|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+e[5]-701558691|0)<<5|n>>>27)+r|0)&i|r&~i)+e[10]+38016083|0)<<9|o>>>23)+n|0)&r|n&~r)+e[15]-660478335|0)<<14|i>>>18)+o|0)&n|o&~n)+e[4]-405537848|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+e[9]+568446438|0)<<5|n>>>27)+r|0)&i|r&~i)+e[14]-1019803690|0)<<9|o>>>23)+n|0)&r|n&~r)+e[3]-187363961|0)<<14|i>>>18)+o|0)&n|o&~n)+e[8]+1163531501|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+e[13]-1444681467|0)<<5|n>>>27)+r|0)&i|r&~i)+e[2]-51403784|0)<<9|o>>>23)+n|0)&r|n&~r)+e[7]+1735328473|0)<<14|i>>>18)+o|0)&n|o&~n)+e[12]-1926607734|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+e[5]-378558|0)<<4|n>>>28)+r|0)^r^i)+e[8]-2022574463|0)<<11|o>>>21)+n|0)^n^r)+e[11]+1839030562|0)<<16|i>>>16)+o|0)^o^n)+e[14]-35309556|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+e[1]-1530992060|0)<<4|n>>>28)+r|0)^r^i)+e[4]+1272893353|0)<<11|o>>>21)+n|0)^n^r)+e[7]-155497632|0)<<16|i>>>16)+o|0)^o^n)+e[10]-1094730640|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+e[13]+681279174|0)<<4|n>>>28)+r|0)^r^i)+e[0]-358537222|0)<<11|o>>>21)+n|0)^n^r)+e[3]-722521979|0)<<16|i>>>16)+o|0)^o^n)+e[6]+76029189|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+e[9]-640364487|0)<<4|n>>>28)+r|0)^r^i)+e[12]-421815835|0)<<11|o>>>21)+n|0)^n^r)+e[15]+530742520|0)<<16|i>>>16)+o|0)^o^n)+e[2]-995338651|0)<<23|r>>>9)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+e[0]-198630844|0)<<6|n>>>26)+r|0)|~i))+e[7]+1126891415|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+e[14]-1416354905|0)<<15|i>>>17)+o|0)|~n))+e[5]-57434055|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+e[12]+1700485571|0)<<6|n>>>26)+r|0)|~i))+e[3]-1894986606|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+e[10]-1051523|0)<<15|i>>>17)+o|0)|~n))+e[1]-2054922799|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+e[8]+1873313359|0)<<6|n>>>26)+r|0)|~i))+e[15]-30611744|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+e[6]-1560198380|0)<<15|i>>>17)+o|0)|~n))+e[13]+1309151649|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+e[4]-145523070|0)<<6|n>>>26)+r|0)|~i))+e[11]-1120210379|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+e[2]+718787259|0)<<15|i>>>17)+o|0)|~n))+e[9]-343485551|0)<<21|r>>>11)+i|0,t[0]=n+t[0]|0,t[1]=r+t[1]|0,t[2]=i+t[2]|0,t[3]=o+t[3]|0},t.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(t.stateIdentity),this},t.prototype.appendStr=function(e){var n,r,i=this._buffer8,o=this._buffer32,s=this._bufferLength;for(r=0;r<e.length;r+=1){if((n=e.charCodeAt(r))<128)i[s++]=n;else if(n<2048)i[s++]=192+(n>>>6),i[s++]=63&n|128;else if(n<55296||n>56319)i[s++]=224+(n>>>12),i[s++]=n>>>6&63|128,i[s++]=63&n|128;else{if((n=1024*(n-55296)+(e.charCodeAt(++r)-56320)+65536)>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");i[s++]=240+(n>>>18),i[s++]=n>>>12&63|128,i[s++]=n>>>6&63|128,i[s++]=63&n|128}s>=64&&(this._dataLength+=64,t._md5cycle(this._state,o),s-=64,o[0]=o[16])}return this._bufferLength=s,this},t.prototype.appendAsciiStr=function(e){for(var n,r=this._buffer8,i=this._buffer32,o=this._bufferLength,s=0;;){for(n=Math.min(e.length-s,64-o);n--;)r[o++]=e.charCodeAt(s++);if(o<64)break;this._dataLength+=64,t._md5cycle(this._state,i),o=0}return this._bufferLength=o,this},t.prototype.appendByteArray=function(e){for(var n,r=this._buffer8,i=this._buffer32,o=this._bufferLength,s=0;;){for(n=Math.min(e.length-s,64-o);n--;)r[o++]=e[s++];if(o<64)break;this._dataLength+=64,t._md5cycle(this._state,i),o=0}return this._bufferLength=o,this},t.prototype.getState=function(){var t=this._state;return{buffer:String.fromCharCode.apply(null,this._buffer8),buflen:this._bufferLength,length:this._dataLength,state:[t[0],t[1],t[2],t[3]]}},t.prototype.setState=function(t){var e,n=t.buffer,r=t.state,i=this._state;for(this._dataLength=t.length,this._bufferLength=t.buflen,i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],e=0;e<n.length;e+=1)this._buffer8[e]=n.charCodeAt(e)},t.prototype.end=function(e){void 0===e&&(e=!1);var n,r=this._bufferLength,i=this._buffer8,o=this._buffer32,s=1+(r>>2);if(this._dataLength+=r,i[r]=128,i[r+1]=i[r+2]=i[r+3]=0,o.set(t.buffer32Identity.subarray(s),s),r>55&&(t._md5cycle(this._state,o),o.set(t.buffer32Identity)),(n=8*this._dataLength)<=4294967295)o[14]=n;else{var a=n.toString(16).match(/(.*?)(.{0,8})$/);if(null===a)return;var u=parseInt(a[2],16),c=parseInt(a[1],16)||0;o[14]=u,o[15]=c}return t._md5cycle(this._state,o),e?this._state:t._hex(this._state)},t.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),t.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t.hexChars="0123456789abcdef",t.hexOut=[],t.onePassHasher=new t,t}();e.Md5=r,"5d41402abc4b2a76b9719d911017c592"!==r.hashStr("hello")&&console.error("Md5 self test failed.")},mbIT:function(t,e,n){"use strict";e.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return d})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return m})),n.d(e,"__asyncGenerator",(function(){return y})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return _})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return k})),n.d(e,"__importDefault",(function(){return C})),n.d(e,"__classPrivateFieldGet",(function(){return E})),n.d(e,"__classPrivateFieldSet",(function(){return S}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=d(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function k(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}function E(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function S(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},n3uD:function(t,e,n){"use strict";var r=!1;e.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},nbvr:function(t,e,n){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function r(t,e,r){var i,o=new Promise((function(o,s){n(i=t[e].apply(t,r)).then(o,s)}));return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then((function(t){if(t)return new l(t,i.request)}))}function o(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function s(t,e,n,i){i.forEach((function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})}))}function a(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function u(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})}))}function c(t){this._index=t}function l(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function f(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function d(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new f(n)}function p(t){this._db=t}o(c,"_index",["name","keyPath","multiEntry","unique"]),s(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),s(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(l.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then((function(t){if(t)return new l(t,e._request)}))}))})})),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),s(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),a(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),a(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[h,c].forEach((function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,h].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})})),t.openDb=function(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new d(o.result,t.oldVersion,o.transaction))}),i.then((function(t){return new p(t)}))},t.deleteDb=function(t){return r(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},"p//D":function(t,e,n){"use strict";e.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),e.$$rxSubscriber=e.rxSubscriber},pshJ:function(t,e,n){"use strict";e.isFunction=function(t){return"function"==typeof t}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.r(e),n.d(e,"LogLevel",(function(){return s})),n.d(e,"Logger",(function(){return h})),n.d(e,"setLogLevel",(function(){return f})),n.d(e,"setUserLogHandler",(function(){return d}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n("mrSG"),s=n("zVF4"),a=n("S+S0"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.ErrorFactory("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.Logger("@firebase/app"),d=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=s.deepCopy(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",(function(){return u}),"PUBLIC"));try{for(var c=o.__values(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(s.contains(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}c(new a.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});u.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!s.contains(e,t=t||"[DEFAULT]"))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&s.deepExtend(d,a.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var p=o.__values(Object.keys(e)),v=p.next();!v.done;v=p.next())e[v.value]._addComponent(a)}catch(g){u={error:g}}finally{try{v&&!v.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=o.__assign(o.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){s.deepExtend(e,t)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(s.isBrowser()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.isNode()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),m.apply(void 0,t)};var y=p;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",(function(t){return new v(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.11",void 0),t.registerVersion("fire-js","")}(y),e.default=y,e.firebase=y},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",(function(){return Xn})),n.d(e,"EventType",(function(){return Zn})),n.d(e,"WebChannel",(function(){return tr})),n.d(e,"XhrIo",(function(){return er})),n.d(e,"createWebChannelTransport",(function(){return Jn}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var o,s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=a||{},u=s||self;function c(){}function l(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function h(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),p=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function g(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function m(t,e,n){return(m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:g).apply(null,arguments)}function y(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var b=Date.now;function _(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function w(){this.j=this.j,this.i=this.i}w.prototype.j=!1,w.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,d)&&t[d]||(t[d]=++p)}(this)},w.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var k=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},C=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function E(t){return Array.prototype.concat.apply([],arguments)}function S(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function I(t){return/^[\s\xa0]*$/.test(t)}var T,A=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function D(t,e){return-1!=t.indexOf(e)}function O(t,e){return t<e?-1:t>e?1:0}t:{var P=u.navigator;if(P){var x=P.userAgent;if(x){T=x;break t}}T=""}function N(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function R(t){var e={};for(var n in t)e[n]=t[n];return e}var F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<F.length;o++)n=F[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function L(t){return L[" "](t),t}L[" "]=c;var U,V,j=D(T,"Opera"),B=D(T,"Trident")||D(T,"MSIE"),q=D(T,"Edge"),W=q||B,H=D(T,"Gecko")&&!(D(T.toLowerCase(),"webkit")&&!D(T,"Edge"))&&!(D(T,"Trident")||D(T,"MSIE"))&&!D(T,"Edge"),z=D(T.toLowerCase(),"webkit")&&!D(T,"Edge");function G(){var t=u.document;return t?t.documentMode:void 0}t:{var K="",Q=(V=T,H?/rv:([^\);]+)(\)|;)/.exec(V):q?/Edge\/([\d\.]+)/.exec(V):B?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(V):z?/WebKit\/(\S+)/.exec(V):j?/(?:Version)[ \/]?(\S+)/.exec(V):void 0);if(Q&&(K=Q?Q[1]:""),B){var $=G();if(null!=$&&$>parseFloat(K)){U=String($);break t}}U=K}var Y={};function J(t){return function(t,e){var n=Y;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=A(String(U)).split("."),r=A(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=O(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||O(0==s[2].length,0==a[2].length)||O(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var X=u.document&&B&&(G()||parseInt(U,10))||void 0,Z=!B||9<=Number(X),tt=B&&!J("9"),et=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",c,e),u.removeEventListener("test",c,e)}catch(n){}return t}();function nt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function rt(t,e){if(nt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(H){t:{try{L(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:it[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}nt.prototype.b=function(){this.defaultPrevented=!0},_(rt,nt);var it={2:"touch",3:"pen",4:"mouse"};rt.prototype.b=function(){rt.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,tt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ot="closure_listenable_"+(1e6*Math.random()|0),st=0;function at(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++st,this.Y=this.Z=!1}function ut(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ct(t){this.src=t,this.a={},this.b=0}function lt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=k(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ut(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ht(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}ct.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=ht(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new at(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var ft="closure_lm_"+(1e6*Math.random()|0),dt={};function pt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=kt(r),e&&e[ot]?e.wa(n,r,f(i)?!!i.capture:!!i,o):vt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)pt(t,e[o],n,r,i);return null}return n=kt(n),t&&t[ot]?t.va(e,n,f(r)?!!r.capture:!!r,i):vt(t,e,n,!1,r,i)}function vt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=f(i)?!!i.capture:!!i;if(s&&!Z)return null;var a=_t(t);if(a||(t[ft]=a=new ct(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=bt,e=Z?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)et||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(mt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function gt(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ot])lt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(mt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=_t(e))?(lt(n,t),0==n.b&&(n.src=null,e[ft]=null)):ut(t)}}}function mt(t){return t in dt?dt[t]:dt[t]="on"+t}function yt(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&gt(t),n.call(r,e)}function bt(t,e){if(t.Y)return!0;if(!Z){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return yt(t,e=new rt(e,this))}return yt(t,new rt(e,this))}function _t(t){return(t=t[ft])instanceof ct?t:null}var wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function kt(t){return"function"==l(t)?t:(t[wt]||(t[wt]=function(e){return t.handleEvent(e)}),t[wt])}function Ct(){w.call(this),this.c=new ct(this),this.J=this,this.C=null}function Et(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&lt(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}_(Ct,w),Ct.prototype[ot]=!0,(o=Ct.prototype).addEventListener=function(t,e,n,r){pt(this,t,e,n,r)},o.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=f(i)?!!i.capture:!!i,r=kt(r),e&&e[ot]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=ht(s=e.a[n],r,i,o))&&(ut(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=_t(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ht(n,r,i,o)),(r=-1<e?n[e]:null)&&gt(r))}(this,t,e,n,r)},o.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new nt(t,n);else if(t instanceof nt)t.target=t.target||n;else{var i=t;M(t=new nt(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=Et(s,r,!0,t)&&i}if(i=Et(s=t.a=n,r,!0,t)&&i,i=Et(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Et(s=t.a=e[o],r,!1,t)&&i;return i},o.G=function(){if(Ct.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ut(n[r]);delete e.a[t],e.b--}}this.C=null},o.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},o.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var St=u.JSON.stringify;function It(){this.b=this.a=null}var Tt,At=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Ot}),(function(t){t.reset()}),100);function Dt(){var t=Rt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ot(){this.next=this.b=this.a=null}function Pt(t){u.setTimeout((function(){throw t}),0)}function xt(t,e){Tt||function(){var t=u.Promise.resolve(void 0);Tt=function(){t.then(Ft)}}(),Nt||(Tt(),Nt=!0),Rt.add(t,e)}It.prototype.add=function(t,e){var n=At.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ot.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ot.prototype.reset=function(){this.next=this.b=this.a=null};var Nt=!1,Rt=new It;function Ft(){for(var t;t=Dt();){try{t.a.call(t.b)}catch(n){Pt(n)}var e=At;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Nt=!1}function Mt(t,e){Ct.call(this),this.b=t||1,this.a=e||u,this.f=m(this.Ya,this),this.g=b()}function Lt(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ut(t,e,n){if("function"==l(t))n&&(t=m(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=m(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function Vt(t){t.a=Ut((function(){t.a=null,t.c&&(t.c=!1,Vt(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}_(Mt,Ct),(o=Mt.prototype).aa=!1,o.M=null,o.Ya=function(){if(this.aa){var t=b()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Lt(this),this.start()))}},o.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=b())},o.G=function(){Mt.S.G.call(this),Lt(this),delete this.a};var jt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.g=null!=r?e.bind(r):e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Vt(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(u.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(w);function Bt(t){w.call(this),this.b=t,this.a={}}_(Bt,w);var qt=[];function Wt(t,e,n,r){Array.isArray(n)||(n&&(qt[0]=n.toString()),n=qt);for(var i=0;i<n.length;i++){var o=pt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Ht(t){N(t.a,(function(t,e){this.a.hasOwnProperty(e)&&gt(t)}),t),t.a={}}function zt(){this.a=!0}function Gt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return St(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}Bt.prototype.G=function(){Bt.S.G.call(this),Ht(this)},Bt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},zt.prototype.info=function(){};var Kt=null;function Qt(){return Kt=Kt||new Ct}function $t(t){nt.call(this,"serverreachability",t)}function Yt(t){var e=Qt();e.dispatchEvent(new $t(e,t))}function Jt(t){nt.call(this,"statevent",t)}function Xt(t){var e=Qt();e.dispatchEvent(new Jt(e,t))}function Zt(t){nt.call(this,"timingevent",t)}function te(t,e){if("function"!=l(t))throw Error("Fn must not be null and must be a function");return u.setTimeout((function(){t()}),e)}_($t,nt),_(Jt,nt),_(Zt,nt);var ee={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},ne={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function re(){}function ie(){}re.prototype.a=null;var oe,se={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function ae(){nt.call(this,"d")}function ue(){nt.call(this,"c")}function ce(){}function le(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new Bt(this),this.P=he,this.R=new Mt(t=W?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}_(ae,nt),_(ue,nt),_(ce,re),oe=new ce;var he=45e3,fe={},de={};function pe(t,e,n){t.H=1,t.i=Me(Oe(e)),t.j=n,t.I=!0,ve(t,null)}function ve(t,e){t.u=b(),ye(t),t.l=Oe(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),$e(n.b,"t",r),t.D=0,t.a=Hn(t.g,t.g.C?e:null),0<t.O&&(t.F=new jt(m(t.Ca,t,t.a),t.O)),Wt(t.J,t.a,"readystatechange",t.Wa),e=t.B?R(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Yt(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.T,t.j)}function ge(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=me(t,n);if(i==de){4==e&&(t.h=4,Xt(14),r=!1),Gt(t.c,t.f,null,"[Incomplete Response]");break}if(i==fe){t.h=4,Xt(15),Gt(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Gt(t.c,t.f,i,null),Ce(t,i)}4==e&&0==n.length&&(t.h=1,Xt(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Mn(e),e.F=!0)):(Gt(t.c,t.f,n,"[Invalid Chunked Response]"),ke(t),we(t))}function me(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?de:(n=Number(e.substring(n,r)),isNaN(n)?fe:(r+=1)+n>e.length?de:(e=e.substr(r,n),t.D=r+n,e))}function ye(t){t.U=b()+t.P,be(t,t.P)}function be(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=te(m(t.Ua,t),e)}function _e(t){t.o&&(u.clearTimeout(t.o),t.o=null)}function we(t){0==t.g.v||t.A||Vn(t.g,t)}function ke(t){_e(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Lt(t.R),Ht(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Ce(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||nn(n.b,t)))if(n.I=t.N,!t.C&&nn(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(g){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Un(n),Tn(n)}Fn(n),Xt(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=te(m(n.Ra,n),6e3));if(1>=en(n.b)&&n.ea){try{n.ea()}catch(g){}n.ea=void 0}}else Bn(n,11)}else if((t.C||n.a==t)&&Un(n),!I(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(D(l,"spdy")||D(l,"quic")||D(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(rn(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Fe(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=b()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Wn(u,u.C?u.ga:null,u.fa),d.C){on(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(_e(p),ye(p)),u.a=d}else Rn(u);0<n.g.length&&On(n)}else"stop"!=i[0]&&"close"!=i[0]||Bn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Bn(n,7):In(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Yt(4)}catch(g){}}function Ee(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"==typeof t)C(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(h(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Se(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Se)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ie(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Te(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Te(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Te(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(o=le.prototype).setTimeout=function(t){this.P=t},o.Wa=function(t){t=t.target;var e=this.F;e&&3==kn(t)?e.f():this.Ca(t)},o.Ca=function(t){try{if(t==this.a)t:{var e=kn(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||3==e&&!W&&!this.a.$())){this.A||4!=e||7==n||Yt(8==n||0>=r?3:2),_e(this);var i=this.a.X();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,Xt(12),ke(this),we(this);break t}Gt(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ce(this,u)}this.I?(ge(this,e,o),W&&this.b&&3==e&&(Wt(this.J,this.R,"tick",this.Va),this.R.start())):(Gt(this.c,this.f,o,null),Ce(this,o)),4==e&&ke(this),this.b&&!this.A&&(4==e?Vn(this.g,this):(this.b=!1,ye(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Xt(12)):(this.h=0,Xt(13)),ke(this),we(this)}}}catch(c){}},o.Va=function(){if(this.a){var t=kn(this.a),e=this.a.$();this.D<e.length&&(_e(this),ge(this,t,e),this.b&&4!=t&&ye(this))}},o.cancel=function(){this.A=!0,ke(this)},o.Ua=function(){this.o=null;var t=b();0<=t-this.U?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Yt(3),Xt(17)),ke(this),this.h=2,we(this)):be(this,this.U-t)},(o=Se.prototype).K=function(){Ie(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},o.L=function(){return Ie(this),this.a.concat()},o.get=function(t,e){return Te(this.b,t)?this.b[t]:e},o.set=function(t,e){Te(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},o.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ae=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function De(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof De){this.a=void 0!==e?e:t.a,Pe(this,t.f),this.j=t.j,xe(this,t.c),Ne(this,t.h),this.g=t.g,e=t.b;var n=new ze;n.c=e.c,e.a&&(n.a=new Se(e.a),n.b=e.b),Re(this,n),this.i=t.i}else t&&(n=String(t).match(Ae))?(this.a=!!e,Pe(this,n[1]||"",!0),this.j=Le(n[2]||""),xe(this,n[3]||"",!0),Ne(this,n[4]),this.g=Le(n[5]||"",!0),Re(this,n[6]||"",!0),this.i=Le(n[7]||"")):(this.a=!!e,this.b=new ze(null,this.a))}function Oe(t){return new De(t)}function Pe(t,e,n){t.f=n?Le(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function xe(t,e,n){t.c=n?Le(e,!0):e}function Ne(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Re(t,e,n){e instanceof ze?(t.b=e,function(t,e){e&&!t.f&&(Ge(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ke(this,e),$e(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Ue(e,We)),t.b=new ze(e,t.a))}function Fe(t,e,n){t.b.set(e,n)}function Me(t){return Fe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^b()).toString(36)),t}function Le(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ue(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ve),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ve(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}De.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ue(e,je,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ue(e,je,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ue(n,"/"==n.charAt(0)?qe:Be,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ue(n,He)),t.join("")};var je=/[#\/\?@]/g,Be=/[#\?:]/g,qe=/[#\?]/g,We=/[#\?@]/g,He=/#/g;function ze(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ge(t){t.a||(t.a=new Se,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ke(t,e){Ge(t),e=Ye(t,e),Te(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Te((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ie(t)))}function Qe(t,e){return Ge(t),e=Ye(t,e),Te(t.a.b,e)}function $e(t,e,n){Ke(t,e),0<n.length&&(t.c=null,t.a.set(Ye(t,e),S(n)),t.b+=n.length)}function Ye(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Je(t,e){this.b=t,this.a=e}function Xe(t){this.g=t||Ze,t=u.PerformanceNavigationTiming?0<(t=u.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(u.ia&&u.ia.ya&&u.ia.ya()&&u.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(o=ze.prototype).add=function(t,e){Ge(this),this.c=null,t=Ye(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},o.forEach=function(t,e){Ge(this),this.a.forEach((function(n,r){C(n,(function(n){t.call(e,n,r,this)}),this)}),this)},o.L=function(){Ge(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},o.K=function(t){Ge(this);var e=[];if("string"==typeof t)Qe(this,t)&&(e=E(e,this.a.get(Ye(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=E(e,t[n])}return e},o.set=function(t,e){return Ge(this),this.c=null,Qe(this,t=Ye(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},o.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},o.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Ze=10;function tn(t){return!!t.b||!!t.a&&t.a.size>=t.f}function en(t){return t.b?1:t.a?t.a.size:0}function nn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function rn(t,e){t.a?t.a.add(e):t.b=e}function on(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function sn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var o=i(t.a.values()),s=o.next();!s.done;s=o.next())r=r.concat(s.value.s)}catch(a){e={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}return S(t.c)}function an(){}function un(){this.a=new an}function cn(t,e,n){var r=n||"";try{Ee(t,(function(t,n){var i=t;f(t)&&(i=St(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ln(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Xe.prototype.cancel=function(){var t,e;if(this.c=sn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=i(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},an.prototype.stringify=function(t){return u.JSON.stringify(t,void 0)},an.prototype.parse=function(t){return u.JSON.parse(t,void 0)};var hn=u.JSON.parse;function fn(t){Ct.call(this),this.headers=new Se,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=dn,this.D=this.F=!1}_(fn,Ct);var dn="",pn=/^https?$/i,vn=["POST","PUT"];function gn(t){return"content-type"==t.toLowerCase()}function mn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,yn(t),_n(t)}function yn(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function bn(t){if(t.b&&void 0!==a&&(!t.s[1]||4!=kn(t)||2!=t.X()))if(t.l&&4==kn(t))Ut(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==kn(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Ae)[1]||null;if(!o&&u.self&&u.self.location){var s=u.self.location.protocol;o=s.substr(0,s.length-1)}i=!pn.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var c=2<kn(t)?t.a.statusText:""}catch(l){c=""}t.f=c+" ["+t.X()+"]",yn(t)}}finally{_n(t)}}}function _n(t,e){if(t.a){wn(t);var n=t.a,r=t.s[0]?c:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function wn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(u.clearTimeout(t.m),t.m=null)}function kn(t){return t.a?t.a.readyState:0}function Cn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return N(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Fe(t,e,n))}function En(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Sn(t){this.pa=0,this.g=[],this.c=new zt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=En("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=En("baseRetryDelayMs",5e3,t),this.Ma=En("retryDelaySeedMs",1e4,t),this.Ja=En("forwardChannelMaxRetries",2,t),this.ma=En("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Xe(t&&t.concurrentRequestLimit),this.ka=new un,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function In(t){if(An(t),3==t.v){var e=t.R++,n=Oe(t.B);Fe(n,"SID",t.J),Fe(n,"RID",e),Fe(n,"TYPE","terminate"),xn(t,n),(e=new le(t,t.c,e,void 0)).H=2,e.i=Me(Oe(n)),n=!1,u.navigator&&u.navigator.sendBeacon&&(n=u.navigator.sendBeacon(e.i.toString(),"")),!n&&u.Image&&((new Image).src=e.i,n=!0),n||(e.a=Hn(e.g,null),e.a.ba(e.i)),e.u=b(),ye(e)}qn(t)}function Tn(t){t.a&&(Mn(t),t.a.cancel(),t.a=null)}function An(t){Tn(t),t.j&&(u.clearTimeout(t.j),t.j=null),Un(t),t.b.cancel(),t.h&&("number"==typeof t.h&&u.clearTimeout(t.h),t.h=null)}function Dn(t,e){t.g.push(new Je(t.La++,e)),3==t.v&&On(t)}function On(t){tn(t.b)||t.h||(t.h=!0,xt(t.Ba,t),t.u=0)}function Pn(t,e){var n;n=e?e.f:t.R++;var r=Oe(t.B);Fe(r,"SID",t.J),Fe(r,"RID",n),Fe(r,"AID",t.P),xn(t,r),t.i&&t.l&&Cn(r,t.i,t.l),n=new le(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Nn(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),rn(t.b,n),pe(n,r,e)}function xn(t,e){t.f&&Ee({},(function(t,n){Fe(e,n,t)}))}function Nn(t,e,n){n=Math.min(t.g.length,n);var r=t.f?m(t.f.Ha,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{cn(l,s,"req"+c+"_")}catch(h){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Rn(t){t.a||t.j||(t.U=1,xt(t.Aa,t),t.o=0)}function Fn(t){return!(t.a||t.j||3<=t.o||(t.U++,t.j=te(m(t.Aa,t),jn(t,t.o)),t.o++,0))}function Mn(t){null!=t.s&&(u.clearTimeout(t.s),t.s=null)}function Ln(t){t.a=new le(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Oe(t.la);Fe(e,"RID","rpc"),Fe(e,"SID",t.J),Fe(e,"CI",t.H?"0":"1"),Fe(e,"AID",t.P),xn(t,e),Fe(e,"TYPE","xmlhttp"),t.i&&t.l&&Cn(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Me(Oe(e)),n.j=null,n.I=!0,ve(n,t)}function Un(t){null!=t.m&&(u.clearTimeout(t.m),t.m=null)}function Vn(t,e){var n=null;if(t.a==e){Un(t),Mn(t),t.a=null;var r=2}else{if(!nn(t.b,e))return;n=e.s,on(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=b()-e.u;var i=t.u;(r=Qt()).dispatchEvent(new Zt(r,n,e,i)),On(t)}else Rn(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(en(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja)||(t.h=te(m(t.Ba,t,e),jn(t,t.u)),t.u++,0)))}(t,e)||2==r&&Fn(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Bn(t,5);break;case 4:Bn(t,10);break;case 3:Bn(t,6);break;default:Bn(t,2)}}function jn(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function Bn(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=m(t.Xa,t);n||(n=new De("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||Pe(n,"https"),Me(n)),function(t,e){var n=new zt;if(u.Image){var r=new Image;r.onload=y(ln,n,r,"TestLoadImage: loaded",!0,e),r.onerror=y(ln,n,r,"TestLoadImage: error",!1,e),r.onabort=y(ln,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=y(ln,n,r,"TestLoadImage: timeout",!1,e),u.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Xt(2);t.v=0,t.f&&t.f.ra(e),qn(t),An(t)}function qn(t){t.v=0,t.I=-1,t.f&&(0==sn(t.b).length&&0==t.g.length||(t.b.c.length=0,S(t.g),t.g.length=0),t.f.qa())}function Wn(t,e,n){var r=function(t){return t instanceof De?Oe(t):new De(t,void 0)}(n);if(""!=r.c)e&&xe(r,e+"."+r.c),Ne(r,r.h);else{var i=u.location;r=function(t,e,n,r){var i=new De(null,void 0);return t&&Pe(i,t),e&&xe(i,e),n&&Ne(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&N(t.W,(function(t,e){Fe(r,e,t)})),n=t.na,(e=t.A)&&n&&Fe(r,e,n),Fe(r,"VER",t.ha),xn(t,r),r}function Hn(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new fn(t.Ka)).F=t.C,e}function zn(){}function Gn(){if(B&&!(10<=Number(X)))throw Error("Environmental error: no available transport.")}function Kn(t,e){Ct.call(this),this.a=new Sn(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!I(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!I(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Yn(this)}function Qn(t){ae.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function $n(){ue.call(this),this.status=1}function Yn(t){this.a=t}(o=fn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:oe),this.a.onreadystatechange=m(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void mn(this,o)}t=n||"";var i=new Se(this.headers);r&&Ee(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=gn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=u.FormData&&t instanceof u.FormData,!(0<=k(vn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{wn(this),0<this.o&&((this.D=function(t){return B&&J(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=m(this.xa,this)):this.m=Ut(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){mn(this,o)}},o.xa=function(){void 0!==a&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},o.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),_n(this))},o.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),_n(this,!0)),fn.S.G.call(this)},o.za=function(){this.j||(this.A||this.l||this.g?bn(this):this.Ta())},o.Ta=function(){bn(this)},o.X=function(){try{return 2<kn(this)?this.a.status:-1}catch(V){return-1}},o.$=function(){try{return this.a?this.a.responseText:""}catch(V){return""}},o.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),hn(e)}},o.ua=function(){return this.h},o.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(o=Sn.prototype).ha=8,o.v=1,o.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new le(this,this.c,t,void 0),r=this.l;if(this.O&&(r?M(r=R(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Nn(this,n,e),Fe(i=Oe(this.B),"RID",t),Fe(i,"CVER",22),this.A&&Fe(i,"X-HTTP-Session-Id",this.A),xn(this,i),this.i&&r&&Cn(i,this.i,r),rn(this.b,n),this.Ga&&Fe(i,"TYPE","init"),this.da?(Fe(i,"$req",e),Fe(i,"SID","null"),n.V=!0,pe(n,i,null)):pe(n,i,e),this.v=2}}else 3==this.v&&(t?Pn(this,t):0==this.g.length||tn(this.b)||Pn(this))},o.Aa=function(){if(this.j=null,Ln(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=te(m(this.Sa,this),t)}},o.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Tn(this),Ln(this))},o.Ra=function(){null!=this.m&&(this.m=null,Tn(this),Fn(this),Xt(19))},o.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),Xt(2)):(this.c.info("Failed to ping google.com"),Xt(1))},(o=zn.prototype).ta=function(){},o.sa=function(){},o.ra=function(){},o.qa=function(){},o.Ha=function(){},Gn.prototype.a=function(t,e){return new Kn(t,e)},_(Kn,Ct),(o=Kn.prototype).addEventListener=function(t,e,n,r){Kn.S.addEventListener.call(this,t,e,n,r)},o.removeEventListener=function(t,e,n,r){Kn.S.removeEventListener.call(this,t,e,n,r)},o.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;Xt(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=Wn(t,null,t.fa),On(t)},o.close=function(){In(this.a)},o.Pa=function(t){if("string"==typeof t){var e={};e.__data__=t,Dn(this.a,e)}else this.g?((e={}).__data__=St(t),Dn(this.a,e)):Dn(this.a,t)},o.G=function(){this.a.f=null,delete this.f,In(this.a),delete this.a,Kn.S.G.call(this)},_(Qn,ae),_($n,ue),_(Yn,zn),Yn.prototype.ta=function(){this.a.dispatchEvent("a")},Yn.prototype.sa=function(t){this.a.dispatchEvent(new Qn(t))},Yn.prototype.ra=function(t){this.a.dispatchEvent(new $n(t))},Yn.prototype.qa=function(){this.a.dispatchEvent("b")},Gn.prototype.createWebChannel=Gn.prototype.a,Kn.prototype.send=Kn.prototype.Pa,Kn.prototype.open=Kn.prototype.Oa,Kn.prototype.close=Kn.prototype.close,ee.NO_ERROR=0,ee.TIMEOUT=8,ee.HTTP_ERROR=6,ne.COMPLETE="complete",ie.EventType=se,se.OPEN="a",se.CLOSE="b",se.ERROR="c",se.MESSAGE="d",Ct.prototype.listen=Ct.prototype.va,fn.prototype.listenOnce=fn.prototype.wa,fn.prototype.getLastError=fn.prototype.Qa,fn.prototype.getLastErrorCode=fn.prototype.ua,fn.prototype.getStatus=fn.prototype.X,fn.prototype.getResponseJson=fn.prototype.Na,fn.prototype.getResponseText=fn.prototype.$,fn.prototype.send=fn.prototype.ba;var Jn=function(){return new Gn},Xn=ee,Zn=ne,tr=ie,er=fn;e.default={createWebChannelTransport:Jn,ErrorCode:Xn,EventType:Zn,WebChannel:tr,XhrIo:er}},yoF8:function(t,e,n){"use strict";e.identity=function(t){return t}},yx2s:function(t,e,n){"use strict";var r=n("FWf1");e.canReportError=function(t){for(;t;){var e=t.destination;if(t.closed||t.isStopped)return!1;t=e&&e instanceof r.Subscriber?e:null}return!0}},"zB/H":function(t,e,n){"use strict";var r=n("mbIT"),i=n("GMZp"),o=n("pshJ"),s=n("LBXl");function a(t){return t.reduce((function(t,e){return t.concat(e instanceof s.UnsubscriptionError?e.errors:e)}),[])}e.Subscription=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this._parentOrParents,u=this._unsubscribe,c=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var l=0;l<n.length;++l)n[l].remove(this);if(o.isFunction(u))try{u.call(this)}catch(d){e=d instanceof s.UnsubscriptionError?a(d.errors):[d]}if(r.isArray(c)){l=-1;for(var h=c.length;++l<h;){var f=c[l];if(i.isObject(f))try{f.unsubscribe()}catch(d){e=e||[],d instanceof s.UnsubscriptionError?e=e.concat(a(d.errors)):e.push(d)}}}if(e)throw new s.UnsubscriptionError(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=((e=new t).closed=!0,e),t}()},zUnb:function(t,L,q){"use strict";function W(t){return"function"==typeof t}q.r(L);var G=!1,Q={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else G&&console.log("RxJS: Back to a better error behavior. Thank you. <3");G=t},get useDeprecatedSynchronousErrorHandling(){return G}};function X(t){setTimeout((function(){throw t}),0)}var et={closed:!0,next:function(t){},error:function(t){if(Q.useDeprecatedSynchronousErrorHandling)throw t;X(t)},complete:function(){}},rt=Array.isArray||function(t){return t&&"number"==typeof t.length};function it(t){return null!==t&&"object"==typeof t}var ot,st=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map((function(t,e){return"".concat(e+1,") ").concat(t.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),at=((ot=function(){function t(e){tt(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return nt(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var o=0;o<n.length;++o)n[o].remove(this);if(W(r))try{r.call(this)}catch(c){e=c instanceof st?ut(c.errors):[c]}if(rt(i))for(var s=-1,a=i.length;++s<a;){var u=i[s];if(it(u))try{u.unsubscribe()}catch(c){e=e||[],c instanceof st?e=e.concat(ut(c.errors)):e.push(c)}}if(e)throw new st(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=function(t){return t.closed=!0,t}(new ot),ot);function ut(t){return t.reduce((function(t,e){return t.concat(e instanceof st?e.errors:e)}),[])}var ct="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),lt=function(t){K(n,t);var e=$(n);function n(t,r,i){var o;switch(tt(this,n),(o=e.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=et;break;case 1:if(!t){o.destination=et;break}if("object"==typeof t){t instanceof n?(o.syncErrorThrowable=t.syncErrorThrowable,o.destination=t,t.add(J(o))):(o.syncErrorThrowable=!0,o.destination=new ht(J(o),t));break}default:o.syncErrorThrowable=!0,o.destination=new ht(J(o),t,r,i)}return o}return nt(n,[{key:ct,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,z(Z(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(at),ht=function(t){K(n,t);var e=$(n);function n(t,r,i,o){var s,a;tt(this,n),(s=e.call(this))._parentSubscriber=t;var u=J(s);return W(r)?a=r:r&&(a=r.next,i=r.error,o=r.complete,r!==et&&(W((u=Object.create(r)).unsubscribe)&&s.add(u.unsubscribe.bind(u)),u.unsubscribe=s.unsubscribe.bind(J(s)))),s._context=u,s._next=a,s._error=i,s._complete=o,s}return nt(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;Q.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=Q.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):X(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;X(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};Q.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),Q.useDeprecatedSynchronousErrorHandling)throw n;X(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!Q.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return Q.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(X(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(lt),ft="function"==typeof Symbol&&Symbol.observable||"@@observable";function dt(t){return t}var pt,vt=((pt=function(){function t(e){tt(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return nt(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof lt)return t;if(t[ct])return t[ct]()}return t||e||n?new lt(t,e,n):new lt(et)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||Q.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),Q.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){Q.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;t=r&&r instanceof lt?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=gt(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:ft,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:(0===(r=e).length?dt:1===r.length?r[0]:function(t){return r.reduce((function(t,e){return e(t)}),t)})(this);var r}},{key:"toPromise",value:function(t){var e=this;return new(t=gt(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))}}]),t}()).create=function(t){return new pt(t)},pt);function gt(t){if(t||(t=Q.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var mt,yt=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),bt=function(t){K(n,t);var e=$(n);function n(t,r){var i;return tt(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return nt(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(at),_t=function(t){K(n,t);var e=$(n);function n(t){var r;return tt(this,n),(r=e.call(this,t)).destination=t,r}return n}(lt),wt=((mt=function(t){K(n,t);var e=$(n);function n(){var t;return tt(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return nt(n,[{key:ct,value:function(){return new _t(this)}},{key:"lift",value:function(t){var e=new kt(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new yt;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new yt;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new yt;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new yt;return z(Z(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new yt;return this.hasError?(t.error(this.thrownError),at.EMPTY):this.isStopped?(t.complete(),at.EMPTY):(this.observers.push(t),new bt(this,t))}},{key:"asObservable",value:function(){var t=new vt;return t.source=this,t}}]),n}(vt)).create=function(t,e){return new kt(t,e)},mt),kt=function(t){K(n,t);var e=$(n);function n(t,r){var i;return tt(this,n),(i=e.call(this)).destination=t,i.source=r,i}return nt(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):at.EMPTY}}]),n}(wt);function Ct(t){return t&&"function"==typeof t.schedule}var Et=function(t){K(n,t);var e=$(n);function n(t,r,i){var o;return tt(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return nt(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(lt),St=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};var It="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",Tt=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function At(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var Dt=function(t){if(t&&"function"==typeof t[ft])return r=t,function(t){var e=r[ft]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Tt(t))return St(t);if(At(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,X),t};if(t&&"function"==typeof t[It])return e=t,function(t){for(var n=e[It]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,r,i=it(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(i," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))};function Ot(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Et(t,n,r);if(!i.closed)return e instanceof vt?e.subscribe(i):Dt(e)(i)}var Pt=function(t){K(n,t);var e=$(n);function n(){return tt(this,n),e.apply(this,arguments)}return nt(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(lt);function xt(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Nt(t,e))}}var Nt=function(){function t(e,n){tt(this,t),this.project=e,this.thisArg=n}return nt(t,[{key:"call",value:function(t,e){return e.subscribe(new Rt(t,this.project,this.thisArg))}}]),t}(),Rt=function(t){K(n,t);var e=$(n);function n(t,r,i){var o;return tt(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||J(o),o}return nt(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(lt);function Ft(t,e){return new vt((function(n){var r=new at,i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function Mt(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[ft]}(t))return function(t,e){return new vt((function(n){var r=new at;return r.add(e.schedule((function(){var i=t[ft]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(At(t))return function(t,e){return new vt((function(n){var r=new at;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(Tt(t))return Ft(t,e);if(function(t){return t&&"function"==typeof t[It]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new vt((function(n){var r,i=new at;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[It](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof vt?t:new vt(Dt(t))}function Lt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(r){return r.pipe(Lt((function(n,r){return Mt(t(n,r)).pipe(xt((function(t,i){return e(n,t,r,i)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new Ut(t,n))})}var Ut=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;tt(this,t),this.project=e,this.concurrent=n}return nt(t,[{key:"call",value:function(t,e){return e.subscribe(new Vt(t,this.project,this.concurrent))}}]),t}(),Vt=function(t){K(n,t);var e=$(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return tt(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return nt(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var r=new Et(this,e,n),i=this.destination;i.add(r);var o=Ot(this,t,void 0,void 0,r);o!==r&&i.add(o)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyComplete",value:function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(Pt);function jt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Lt(dt,t)}function Bt(t,e){return e?Ft(t,e):new vt(St(t))}function qt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Number.POSITIVE_INFINITY,i=null,o=e[e.length-1];return Ct(o)?(i=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof o&&(r=e.pop()),null===i&&1===e.length&&e[0]instanceof vt?e[0]:jt(r)(Bt(e,i))}function Wt(){return function(t){return t.lift(new zt(t))}}var Ht,zt=function(){function t(e){tt(this,t),this.connectable=e}return nt(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new Gt(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),Gt=function(t){K(n,t);var e=$(n);function n(t,r){var i;return tt(this,n),(i=e.call(this,t)).connectable=r,i}return nt(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(lt),Kt={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(Ht=function(t){K(n,t);var e=$(n);function n(t,r){var i;return tt(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return nt(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new at).add(this.source.subscribe(new Qt(this.getSubject(),this))),t.closed&&(this._connection=null,t=at.EMPTY)),t}},{key:"refCount",value:function(){return Wt()(this)}}]),n}(vt).prototype)._subscribe},_isComplete:{value:Ht._isComplete,writable:!0},getSubject:{value:Ht.getSubject},connect:{value:Ht.connect},refCount:{value:Ht.refCount}},Qt=function(t){K(n,t);var e=$(n);function n(t,r){var i;return tt(this,n),(i=e.call(this,t)).connectable=r,i}return nt(n,[{key:"_error",value:function(t){this._unsubscribe(),z(Z(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),z(Z(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(_t);function $t(){return new wt}function Yt(){return function(t){return Wt()((e=$t,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,Kt);return r.source=t,r.subjectFactory=n,r})(t));var e}}function Jt(t){return{toString:t}.toString()}function Xt(t,e,n){return Jt((function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=H(i,e);return s.annotation=o,s;function s(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}))}var Zt=Xt("Inject",(function(t){return{token:t}})),te=Xt("Optional"),ee=Xt("Self"),ne=Xt("SkipSelf"),re=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function ie(t){for(var e in t)if(t[e]===ie)return e;throw Error("Could not find renamed property on target object.")}function oe(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function se(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ae(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function ue(t){return ce(t,t[he])||ce(t,t[pe])}function ce(t,e){return e&&e.token===t?e:null}function le(t){return t&&(t.hasOwnProperty(fe)||t.hasOwnProperty(ve))?t[fe]:null}var he=ie({"\u0275prov":ie}),fe=ie({"\u0275inj":ie}),de=ie({"\u0275provFallback":ie}),pe=ie({ngInjectableDef:ie}),ve=ie({ngInjectorDef:ie});function ge(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ge).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function me(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var ye=ie({__forward_ref__:ie});function be(t){return t.__forward_ref__=be,t.toString=function(){return ge(this())},t}function _e(t){return we(t)?t():t}function we(t){return"function"==typeof t&&t.hasOwnProperty(ye)&&t.__forward_ref__===be}var ke,Ce="undefined"!=typeof globalThis&&globalThis,Ee="undefined"!=typeof window&&window,Se="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ie="undefined"!=typeof global&&global,Te=Ce||Ie||Ee||Se,Ae=ie({"\u0275cmp":ie}),De=ie({"\u0275dir":ie}),Oe=ie({"\u0275pipe":ie}),Pe=ie({"\u0275mod":ie}),xe=ie({"\u0275loc":ie}),Ne=ie({"\u0275fac":ie}),Re=ie({__NG_ELEMENT_ID__:ie}),Fe=function(){function t(e,n){tt(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=se({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return nt(t,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),t}(),Me=new Fe("INJECTOR",-1),Le={},Ue=/\n/gm,Ve=ie({provide:String,useValue:ie}),je=void 0;function Be(t){var e=je;return je=t,e}function qe(t){var e=ke;return ke=t,e}function We(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re.Default;if(void 0===je)throw new Error("inject() must be called from an injection context");return null===je?ze(t,void 0,e):je.get(t,e&re.Optional?null:void 0,e)}function He(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re.Default;return(ke||We)(_e(t),e)}function ze(t,e,n){var r=ue(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&re.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND [".concat(ge(t),"]"))}function Ge(t){for(var e=[],n=0;n<t.length;n++){var r=_e(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=re.Default,s=0;s<r.length;s++){var a=r[s];a instanceof te||"Optional"===a.ngMetadataName||a===te?o|=re.Optional:a instanceof ne||"SkipSelf"===a.ngMetadataName||a===ne?o|=re.SkipSelf:a instanceof ee||"Self"===a.ngMetadataName||a===ee?o|=re.Self:i=a instanceof Zt||a===Zt?a.token:a}e.push(He(i,o))}else e.push(He(r))}return e}var Ke=function(){function t(){tt(this,t)}return nt(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Le;if(e===Le){var n=new Error("NullInjectorError: No provider for ".concat(ge(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),Qe=function t(){tt(this,t)},$e=function t(){tt(this,t)};function Ye(t,e){for(var n=0;n<t.length;n++)e.push(t[n])}function Je(t,e){t.forEach((function(t){return Array.isArray(t)?Je(t,e):e(t)}))}function Xe(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ze(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function tn(t,e){for(var n=[],r=0;r<t;r++)n.push(e);return n}function en(t,e,n){var r=rn(t,e);return r>=0?t[1|r]=n:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r=~r,e,n),r}function nn(t,e){var n=rn(t,e);if(n>=0)return t[1|n]}function rn(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),s=t[o<<1];if(e===s)return o<<1;s>e?i=o:r=o+1}return~(i<<1)}(t,e)}var on,sn=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),an=((on={})[on.Emulated=0]="Emulated",on[on.Native=1]="Native",on[on.None=2]="None",on[on.ShadowDom=3]="ShadowDom",on),un={},cn=[],ln=0;function hn(t){return Jt((function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===sn.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||cn,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||an.Emulated,id:"c",styles:t.styles||cn,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=ln++,n.inputs=gn(t.inputs,e),n.outputs=gn(t.outputs),i&&i.forEach((function(t){return t(n)})),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(fn)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(dn)}:null,n}))}function fn(t){return bn(t)||function(t){return t[De]||null}(t)}function dn(t){return function(t){return t[Oe]||null}(t)}var pn={};function vn(t){var e={type:t.type,bootstrap:t.bootstrap||cn,declarations:t.declarations||cn,imports:t.imports||cn,exports:t.exports||cn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&Jt((function(){pn[t.id]=t.type})),e}function gn(t,e){if(null==t)return un;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var mn=hn;function yn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function bn(t){return t[Ae]||null}function _n(t,e){return t.hasOwnProperty(Ne)?t[Ne]:null}function wn(t,e){var n=t[Pe]||null;if(!n&&!0===e)throw new Error("Type ".concat(ge(t)," does not have '\u0275mod' property."));return n}function kn(t){return Array.isArray(t)&&"object"==typeof t[1]}function Cn(t){return Array.isArray(t)&&!0===t[1]}function En(t){return 0!=(8&t.flags)}function Sn(t){return 2==(2&t.flags)}function In(t){return 1==(1&t.flags)}function Tn(t){return null!==t.template}function An(t){return 0!=(512&t[2])}var Dn=function(){function t(e,n,r){tt(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return nt(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function On(){return Pn}function Pn(t){return t.type.prototype.ngOnChanges&&(t.setInput=Nn),xn}function xn(){var t=Rn(this),e=null==t?void 0:t.current;if(e){var n=t.previous;if(n===un)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Nn(t,e,n,r){var i=Rn(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:un,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new Dn(u&&u.currentValue,e,s===un),t[r]=e}function Rn(t){return t.__ngSimpleChanges__||null}On.ngInherit=!0;var Fn=void 0;function Mn(){return void 0!==Fn?Fn:"undefined"!=typeof document?document:void 0}function Ln(t){return!!t.listen}var Un={createRenderer:function(t,e){return Mn()}};function Vn(t){for(;Array.isArray(t);)t=t[0];return t}function jn(t,e){return Vn(e[t+20])}function Bn(t,e){return Vn(e[t.index])}function qn(t,e){return t.data[e+20]}function Wn(t,e){return t[e+20]}function Hn(t,e){var n=e[t];return kn(n)?n:n[0]}function zn(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Gn(t){return 4==(4&t[2])}function Kn(t){return 128==(128&t[2])}function Qn(t,e){return null===t||null==e?null:t[e]}function $n(t){t[18]=0}function Yn(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var Jn={lFrame:br(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Xn(){return Jn.bindingsEnabled}function Zn(){return Jn.lFrame.lView}function tr(){return Jn.lFrame.tView}function er(t){Jn.lFrame.contextLView=t}function nr(){return Jn.lFrame.currentTNode}function rr(t,e){Jn.lFrame.currentTNode=t,Jn.lFrame.isParent=e}function ir(){return Jn.lFrame.isParent}function or(){Jn.lFrame.isParent=!1}function sr(){return Jn.checkNoChangesMode}function ar(t){Jn.checkNoChangesMode=t}function ur(){var t=Jn.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function cr(){return Jn.lFrame.bindingIndex}function lr(){return Jn.lFrame.bindingIndex++}function hr(t){var e=Jn.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function fr(t,e){var n=Jn.lFrame;n.bindingIndex=n.bindingRootIndex=t,dr(e)}function dr(t){Jn.lFrame.currentDirectiveIndex=t}function pr(){return Jn.lFrame.currentQueryIndex}function vr(t){Jn.lFrame.currentQueryIndex=t}function gr(t,e){var n=yr();Jn.lFrame=n,n.currentTNode=e,n.lView=t}function mr(t){var e=yr(),n=t[1];Jn.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex}function yr(){var t=Jn.lFrame,e=null===t?null:t.child;return null===e?br(t):e}function br(t){var e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function _r(){var t=Jn.lFrame;return Jn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var wr=_r;function kr(){var t=_r();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Cr(){return Jn.lFrame.selectedIndex}function Er(t){Jn.lFrame.selectedIndex=t}function Sr(){var t=Jn.lFrame;return qn(t.tView,t.selectedIndex)}function Ir(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n].type.prototype,o=i.ngAfterContentInit,s=i.ngAfterContentChecked,a=i.ngAfterViewInit,u=i.ngAfterViewChecked,c=i.ngOnDestroy;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),s&&((t.contentHooks||(t.contentHooks=[])).push(n,s),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,s)),a&&(t.viewHooks||(t.viewHooks=[])).push(-n,a),u&&((t.viewHooks||(t.viewHooks=[])).push(n,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,u)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function Tr(t,e,n){Or(t,e,3,n)}function Ar(t,e,n,r){(3&t[2])===n&&Or(t,e,n,r)}function Dr(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Or(t,e,n,r){for(var i=null!=r?r:-1,o=0,s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(Pr(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function Pr(t,e,n,r){var i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}var xr=function t(e,n,r){tt(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Nr(t,e,n){for(var r=Ln(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{var c=o,l=n[++i];Fr(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function Rr(t){return 3===t||4===t||6===t}function Fr(t){return 64===t.charCodeAt(0)}function Mr(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||Lr(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function Lr(t,e,n,r,i){var o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){var a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ur(t){return-1!==t}function Vr(t){return 32767&t}function jr(t,e){for(var n=t>>16,r=e;n>0;)r=r[15],n--;return r}function Br(t){return"string"==typeof t?t:null==t?"":""+t}function qr(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Br(t)}var Wr=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Te);function Hr(t){return t instanceof Function?t():t}var zr=!0;function Gr(t){var e=zr;return zr=t,e}var Kr=0;function Qr(t,e){var n=Yr(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,$r(r.data,t),$r(e,null),$r(r.blueprint,null));var i=Jr(t,e),o=t.injectorIndex;if(Ur(i))for(var s=Vr(i),a=jr(i,e),u=a[1].data,c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c];return e[o+8]=i,o}function $r(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Yr(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Jr(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=0,r=null,i=e;null!==i;){var o=i[1],s=o.type;if(null===(r=2===s?o.declTNode:1===s?i[6]:null))return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Xr(t,e,n){!function(t,e,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Re)&&(r=n[Re]),null==r&&(r=n[Re]=Kr++);var i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function Zr(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:re.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t.hasOwnProperty(Re)?t[Re]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof o){gr(e,t);try{var s=o();if(null!=s||r&re.Optional)return s;throw new Error("No provider for ".concat(qr(n),"!"))}finally{wr()}}else if("number"==typeof o){if(-1===o)return new si(t,e);var a=null,u=Yr(t,e),c=-1,l=r&re.Host?e[16][6]:null;for((-1===u||r&re.SkipSelf)&&(-1!==(c=-1===u?Jr(t,e):e[u+8])&&oi(r,!1)?(a=e[1],u=Vr(c),e=jr(c,e)):u=-1);-1!==u;){var h=e[1];if(ii(o,u,h.data)){var f=ei(u,e,n,a,r,l);if(f!==ti)return f}-1!==(c=e[u+8])&&oi(r,e[1].data[u+8]===l)&&ii(o,u,e)?(a=h,u=Vr(c),e=jr(c,e)):u=-1}}}if(r&re.Optional&&void 0===i&&(i=null),0==(r&(re.Self|re.Host))){var d=e[9],p=qe(void 0);try{return d?d.get(n,i,r&re.Optional):ze(n,i,r&re.Optional)}finally{qe(p)}}if(r&re.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat(qr(n),"]"))}var ti={};function ei(t,e,n,r,i,o){var s=e[1],a=s.data[t+8],u=ni(a,s,n,null==r?Sn(a)&&zr:r!=s&&2===a.type,i&re.Host&&o===a);return null!==u?ri(e,s,u,a):ti}function ni(t,e,n,r,i){for(var o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd,h=r?a:a+c;h<l;h++){var f=s[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=s[u];if(d&&Tn(d)&&d.type===n)return u}return null}function ri(t,e,n,r){var i=t[n],o=e.data;if(i instanceof xr){var s=i;if(s.resolving)throw new Error("Circular dep for "+qr(o[n]));var a=Gr(s.canSeeViewProviders);s.resolving=!0;var u=s.injectImpl?qe(s.injectImpl):null;gr(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.type.prototype,i=r.ngOnChanges,o=r.ngOnInit,s=r.ngDoCheck;if(i){var a=Pn(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,a)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,o),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,o[n],e)}finally{null!==u&&qe(u),Gr(a),s.resolving=!1,wr()}}return i}function ii(t,e,n){var r=64&t,i=32&t;return!!((128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e])&1<<t)}function oi(t,e){return!(t&re.Self||t&re.Host&&e)}var si=function(){function t(e,n){tt(this,t),this._tNode=e,this._lView=n}return nt(t,[{key:"get",value:function(t,e){return Zr(this._tNode,this._lView,t,void 0,e)}}]),t}();function ai(t){var e=t;if(we(t))return function(){var t=ai(_e(e));return t?t():null};var n=_n(e);if(null===n){var r=le(e);n=r&&r.factory}return n||null}function ui(t){return Jt((function(){for(var e=t.prototype.constructor,n=e[Ne]||ai(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;i&&i!==r;){var o=i[Ne]||ai(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(t){return new t}}))}function ci(t){return t.ngDebugContext}function li(t){return t.ngOriginalError}function hi(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var fi=function(){function t(){tt(this,t),this._console=console}return nt(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||hi}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?ci(t)?ci(t):this._findContext(li(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=li(t);e&&li(e);)e=li(e);return e}}]),t}(),di=function(){function t(e){tt(this,t),this.changingThisBreaksApplicationSecurity=e}return nt(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),t}();function pi(t){return t instanceof di?t.changingThisBreaksApplicationSecurity:t}function vi(t,e){var n=function(t){return t instanceof di&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===e}var gi=!0,mi=!1;function yi(){return mi=!0,gi}function bi(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new _i:new wi(t)}var _i=function(){function t(){tt(this,t)}return nt(t,[{key:"getInertBodyElement",value:function(t){t="<body><remove></remove>"+t;try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}}}]),t}(),wi=function(){function t(e){if(tt(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var r=this.inertDocument.createElement("body");n.appendChild(r)}}return nt(t,[{key:"getInertBodyElement",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;var n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),ki=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ci=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ei(t){return(t=String(t)).match(ki)||t.match(Ci)?t:(yi()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(t," (see http://g.co/ng/security#xss)")),"unsafe:"+t)}function Si(t){return(t=String(t)).split(",").map((function(t){return Ei(t.trim())})).join(", ")}function Ii(t){var e,n={},r=B(t.split(","));try{for(r.s();!(e=r.n()).done;){n[e.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function Ti(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var s=o[i];for(var a in s)s.hasOwnProperty(a)&&(t[a]=!0)}return t}var Ai,Di=Ii("area,br,col,hr,img,wbr"),Oi=Ii("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Pi=Ii("rp,rt"),xi=Ti(Pi,Oi),Ni=Ti(Di,Ti(Oi,Ii("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ti(Pi,Ii("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),xi),Ri=Ii("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Fi=Ii("srcset"),Mi=Ti(Ri,Fi,Ii("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ii("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Li=Ii("script,style,template"),Ui=function(){function t(){tt(this,t),this.sanitizedSomething=!1,this.buf=[]}return nt(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!Ni.hasOwnProperty(e))return this.sanitizedSomething=!0,!Li.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n=t.attributes,r=0;r<n.length;r++){var i=n.item(r),o=i.name,s=o.toLowerCase();if(Mi.hasOwnProperty(s)){var a=i.value;Ri[s]&&(a=Ei(a)),Fi[s]&&(a=Si(a)),this.buf.push(" ",o,'="',Bi(a),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();Ni.hasOwnProperty(e)&&!Di.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(Bi(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}]),t}(),Vi=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ji=/([^\#-~ |!])/g;function Bi(t){return t.replace(/&/g,"&amp;").replace(Vi,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(ji,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function qi(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Wi=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Hi(t){var e=Gi();return e?e.sanitize(Wi.HTML,t)||"":vi(t,"HTML")?pi(t):function(t,e){var n=null;try{Ai=Ai||bi(t);var r=e?String(e):"";n=Ai.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Ai.getInertBodyElement(r)}while(r!==o);var s=new Ui,a=s.sanitizeChildren(qi(n)||n);return yi()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n)for(var u=qi(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}(Mn(),Br(t))}function zi(t){var e=Gi();return e?e.sanitize(Wi.URL,t)||"":vi(t,"URL")?pi(t):Ei(Br(t))}function Gi(){var t=Zn();return t&&t[12]}function Ki(t,e){t.__ngContext__=e}function Qi(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function $i(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==Qi((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Yi(t){return 0===t.type&&"ng-template"!==t.tagName}function Ji(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function Xi(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(Rr(t[e]))return e;return t.length}(i),s=!1,a=0;a<e.length;a++){var u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Ji(t,u,n)||""===u&&1===e.length){if(Zi(r))return!1;s=!0}}else{var c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!$i(t.attrs,c,n)){if(Zi(r))return!1;s=!0}continue}var l=to(8&r?"class":u,i,Yi(t),n);if(-1===l){if(Zi(r))return!1;s=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==Qi(f,c,0)||2&r&&c!==h){if(Zi(r))return!1;s=!0}}}}else{if(!s&&!Zi(r)&&!Zi(u))return!1;if(s&&Zi(u))continue;s=!1,r=u|1&r}}return Zi(r)||s}function Zi(t){return 0==(1&t)}function to(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){for(var a=e[++i];"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function eo(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(Xi(t,e[r],n))return!0;return!1}function no(t,e){t:for(var n=0;n<e.length;n++){var r=e[n];if(t.length===r.length){for(var i=0;i<t.length;i++)if(t[i]!==r[i])continue t;return!0}}return!1}function ro(t,e){return t?":not("+e.trim()+")":e}function io(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var s=t[n];if("string"==typeof s)if(2&r){var a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Zi(s)||(e+=ro(o,i),i=""),r=s,o=o||!Zi(r);n++}return""!==i&&(e+=ro(o,i)),e}var oo={};function so(t){var e=t[3];return Cn(e)?e[3]:e}function ao(t){return co(t[13])}function uo(t){return co(t[4])}function co(t){for(;null!==t&&!Cn(t);)t=t[4];return t}function lo(t){ho(tr(),Zn(),Cr()+t,sr())}function ho(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&Tr(e,i,n)}else{var o=t.preOrderHooks;null!==o&&Ar(e,o,0,n)}Er(n)}function fo(t,e){return t<<17|e<<2}function po(t){return t>>17&32767}function vo(t){return 2|t}function go(t){return(131068&t)>>2}function mo(t,e){return-131069&t|e<<2}function yo(t){return 1|t}function bo(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var s=t.data[o];vr(i),s.contentQueries(2,e[o],o)}}}function _o(t,e,n){return Ln(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function wo(t,e,n,r,i,o,s,a,u,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,$n(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function ko(t,e,n,r,i){var o=e+20,s=t.data[o]||function(t,e,n,r,i){var o=nr(),s=ir(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s&&null==o.child&&null!==a.parent?o.child=a:s||(o.next=a)),a}(t,o,n,r,i);return rr(s,!0),s}function Co(t,e,n){mr(e);try{var r=t.viewQuery;null!==r&&es(1,r,n);var i=t.template;null!==i&&Io(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&bo(t,e),t.staticViewQueries&&es(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)Yo(t,e[n])}(e,o)}catch(s){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),s}finally{e[2]&=-5,kr()}}function Eo(t,e,n,r){var i=e[2];if(256!=(256&i)){mr(e);var o=sr();try{$n(e),Jn.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Io(t,e,n,2,r);var s=3==(3&i);if(!o)if(s){var a=t.preOrderCheckHooks;null!==a&&Tr(e,a,null)}else{var u=t.preOrderHooks;null!==u&&Ar(e,u,0,null),Dr(e,0)}if(function(t){for(var e=ao(t);null!==e;e=uo(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&Yn(o,1),i[2]|=1024}}(e),function(t){for(var e=ao(t);null!==e;e=uo(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];Kn(r)&&Eo(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&bo(t,e),!o)if(s){var c=t.contentCheckHooks;null!==c&&Tr(e,c)}else{var l=t.contentHooks;null!==l&&Ar(e,l,1),Dr(e,1)}!function(t,e){try{var n=t.expandoInstructions;if(null!==n)for(var r=t.expandoStartIndex,i=-1,o=0;o<n.length;o++){var s=n[o];"number"==typeof s?s<=0?(Er(0-s),i=r+=9+n[++o]):r+=s:(null!==s&&(fr(r,i),s(2,e[i])),i++)}}finally{Er(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)$o(t,e[n])}(e,h);var f=t.viewQuery;if(null!==f&&es(2,f,r),!o)if(s){var d=t.viewCheckHooks;null!==d&&Tr(e,d)}else{var p=t.viewHooks;null!==p&&Ar(e,p,2),Dr(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Yn(e[3],-1))}finally{kr()}}}function So(t,e,n,r){var i=e[10],o=!sr(),s=Gn(e);try{o&&!s&&i.begin&&i.begin(),s&&Co(t,e,r),Eo(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Io(t,e,n,r,i){var o=Cr();try{Er(-1),2&r&&e.length>20&&ho(t,e,0,sr()),n(r,i)}finally{Er(o)}}function To(t,e,n){if(En(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function Ao(t,e,n){Xn()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Qr(n,e),Ki(r,e);for(var s=n.initialInputs,a=i;a<o;a++){var u=t.data[a],c=Tn(u);c&&Ho(e,n,u);var l=ri(e,t,a,n);Ki(l,e),null!==s&&Go(0,a-i,l,u,0,s),c&&(Hn(n.index,e)[8]=l)}}(t,e,n,Bn(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-20,u=Jn.lFrame.currentDirectiveIndex;try{Er(a);for(var c=r;c<i;c++){var l=t.data[c],h=e[c];dr(c),null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs?Uo(l,h):s&&o.push(null)}}finally{Er(-1),dr(u)}}(t,e,n))}function Do(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bn,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}function Oo(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Po(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Po(t,e,n,r,i,o,s,a,u,c){var l=20+r,h=l+i,f=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:oo);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function xo(t,e,n,r){var i=rs(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function No(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ro(t,e,n,r,i,o,s,a){var u,c=Bn(e,n),l=e.inputs;!a&&null!=l&&(u=l[r])?(os(t,n,u,r,i),Sn(e)&&function(t,e){var n=Hn(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):2===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.tagName||"",r):i,Ln(o)?o.setProperty(c,r,i):Fr(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function Fo(t,e,n,r){var i=!1;if(Xn()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var s=r[o];eo(n,s.selectors,!1)&&(i||(i=[]),Xr(Qr(n,e),t,s.type),Tn(s)?(jo(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){var a=0;i=!0,qo(n,t.data.length,o.length);for(var u=0;u<o.length;u++){var c=o[u];c.providersResolver&&c.providersResolver(c)}Vo(t,n,o.length);for(var l=!1,h=!1,f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=Mr(n.mergedAttrs,d.hostAttrs),Wo(t,e,d),Bo(t.data.length-1,d,s),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128);var p=d.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),l=!0),h||!p.ngOnChanges&&!p.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),h=!0),Mo(t,d),a+=d.hostVars}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],s=null,a=null,u=e.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||Yi(e)?null:Ko(l,i);o.push(h),s=No(l,u,s),a=No(c.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),Lo(t,e,a)}s&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new Error("Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,s)}return n.mergedAttrs=Mr(n.mergedAttrs,n.attrs),i}function Mo(t,e){var n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function Lo(t,e,n){for(var r=0;r<n;r++)e.push(oo),t.blueprint.push(oo),t.data.push(null)}function Uo(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Vo(t,e,n){var r=20-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function jo(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Bo(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Tn(e)&&(n[""]=t)}}function qo(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Wo(t,e,n){t.data.push(n);var r=n.factory||(n.factory=_n(n.type)),i=new xr(r,Tn(n),null);t.blueprint.push(i),e.push(i)}function Ho(t,e,n){var r=Bn(e,t),i=Oo(n),o=t[10],s=Jo(t,wo(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function zo(t,e,n,r,i,o){var s=Bn(t,e),a=e[11];if(null==r)Ln(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{var u=null==i?Br(r):i(r,t.tagName||"",n);Ln(a)?a.setAttribute(s,n,u,o):o?s.setAttributeNS(o,n,u):s.setAttribute(n,u)}}function Go(t,e,n,r,i,o){var s=o[e];if(null!==s)for(var a=r.setInput,u=0;u<s.length;){var c=s[u++],l=s[u++],h=s[u++];null!==a?r.setInput(n,h,c,l):n[l]=h}}function Ko(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Qo(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function $o(t,e){var n=Hn(e,t);if(Kn(n)){var r=n[1];80&n[2]?Eo(r,n,r.template,n[8]):n[5]>0&&function t(e){for(var n=ao(e);null!==n;n=uo(n))for(var r=10;r<n.length;r++){var i=n[r];if(1024&i[2]){var o=i[1];Eo(o,i,o.template,i[8])}else i[5]>0&&t(i)}var s=e[1].components;if(null!==s)for(var a=0;a<s.length;a++){var u=Hn(s[a],e);Kn(u)&&u[5]>0&&t(u)}}(n)}}function Yo(t,e){var n=Hn(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Co(r,n,n[8])}function Jo(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Xo(t){for(;t;){t[2]|=64;var e=so(t);if(An(t)&&!e)return t;t=e}return null}function Zo(t,e,n){var r=e[10];r.begin&&r.begin();try{Eo(t,e,t.template,n)}catch(i){throw is(e,i),i}finally{r.end&&r.end()}}function ts(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=zn(n),i=r[1];So(i,r,i.template,n)}}(t[8])}function es(t,e,n){vr(0),e(t,n)}var ns=Promise.resolve(null);function rs(t){return t[7]||(t[7]=[])}function is(t,e){var n=t[9],r=n?n.get(fi,null):null;r&&r.handleError(e)}function os(t,e,n,r,i){for(var o=0;o<n.length;){var s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function ss(t,e,n){var r=jn(e,t),i=t[11];Ln(i)?i.setValue(r,n):r.textContent=n}function as(t,e,n,r,i){if(null!=r){var o,s=!1;Cn(r)?o=r:kn(r)&&(s=!0,r=r[0]);var a=Vn(r);0===t&&null!==n?null==i?vs(e,n,a):ps(e,n,a,i||null):1===t&&null!==n?ps(e,n,a,i||null):2===t?_s(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){var o=n[7];o!==Vn(n)&&as(e,t,r,o,i);for(var s=10;s<n.length;s++){var a=n[s];ks(a[1],a,t,e,r,o)}}(e,t,o,n,i)}}function us(t,e){return Ln(e)?e.createText(t):e.createTextNode(t)}function cs(t,e){var n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Yn(i,-1)),n.splice(r,1)}function ls(t,e){if(!(t.length<=10)){var n,r=10+e,i=t[r];if(i){var o=i[17];null!==o&&o!==t&&cs(o,i),e>0&&(t[r-1][4]=i[4]);var s=Ze(t,10+e);ks(i[1],n=i,n[11],2,null,null),n[0]=null,n[6]=null;var a=s[19];null!==a&&a.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function hs(t,e){if(!(256&e[2])){var n=e[11];Ln(n)&&n.destroyNode&&ks(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return fs(t[1],t);for(;e;){var n=null;if(kn(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)kn(e)&&fs(e[1],e),e=e[3];null===e&&(e=t),kn(e)&&fs(e[1],e),n=e&&e[4]}e=n}}(e)}}function fs(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof xr)){var o=n[r+1];if(Array.isArray(o))for(var s=0;s<o.length;s+=2)o[s+1].call(i[o[s]]);else o.call(i)}}}(t,e),function(t,e){var n=t.cleanup;if(null!==n){for(var r=e[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],s="function"==typeof o?o(e):Vn(e[o]),a=r[n[i+2]],u=n[i+3];"boolean"==typeof u?s.removeEventListener(n[i],a,u):u>=0?r[u]():r[-u].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);e[7]=null}}(t,e),1===e[1].type&&Ln(e[11])&&e[11].destroy();var n=e[17];if(null!==n&&Cn(e[3])){n!==e[3]&&cs(n,e);var r=e[19];null!==r&&r.detachView(t)}}}function ds(t,e,n){for(var r=e.parent;null!=r&&(3===r.type||4===r.type);)r=(e=r).parent;if(null===r)return n[0];if(e&&4===e.type&&4&e.flags)return Bn(e,n).parentNode;if(2&r.flags){var i=t.data,o=i[i[r.index].directiveStart].encapsulation;if(o!==an.ShadowDom&&o!==an.Native)return null}return Bn(r,n)}function ps(t,e,n,r){Ln(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function vs(t,e,n){Ln(t)?t.appendChild(e,n):e.appendChild(n)}function gs(t,e,n,r){null!==r?ps(t,e,n,r):vs(t,e,n)}function ms(t,e){return Ln(t)?t.parentNode(e):e.parentNode}function ys(t,e){return 3===t.type||4===t.type?Bn(t,e):null}function bs(t,e,n,r){var i=ds(t,r,e);if(null!=i){var o=e[11],s=ys(r.parent||e[6],e);if(Array.isArray(n))for(var a=0;a<n.length;a++)gs(o,i,n[a],s);else gs(o,i,n,s)}}function _s(t,e,n){var r=ms(t,e);r&&function(t,e,n,r){Ln(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function ws(t,e,n,r,i,o,s){for(;null!=n;){var a=r[n.index],u=n.type;s&&0===e&&(a&&Ki(Vn(a),r),n.flags|=4),64!=(64&n.flags)&&(3===u||4===u?(ws(t,e,n.child,r,i,o,!1),as(e,t,i,a,o)):1===u?Es(t,e,r,n,i,o):as(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function ks(t,e,n,r,i,o){ws(n,r,t.firstChild,e,i,o,!1)}function Cs(t,e,n){Es(e[11],0,e,n,ds(t,n,e),ys(n.parent||e[6],e))}function Es(t,e,n,r,i,o){var s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(var u=0;u<a.length;u++)as(e,t,i,a[u],o);else ws(t,e,a,s[3],i,o,!0)}function Ss(t,e,n){Ln(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Is(t,e,n){Ln(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}var Ts,As,Ds,Os=function(){function t(e,n){tt(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return nt(t,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}hs(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){xo(this._lView[1],this._lView,null,t)}},{key:"markForCheck",value:function(){Xo(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Zo(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){ar(!0);try{Zo(t,e,n)}finally{ar(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,ks(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}},{key:"rootNodes",get:function(){var t=this._lView,e=t[1];return function t(e,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var s=n[r.index];if(null!==s&&i.push(Vn(s)),Cn(s))for(var a=10;a<s.length;a++){var u=s[a],c=u[1].firstChild;null!==c&&t(u[1],u,c,i)}var l=r.type;if(3===l||4===l)t(e,n,r.child,i);else if(1===l){var h=n[16],f=h[6].projection[r.projection];if(Array.isArray(f))i.push.apply(i,j(f));else{var d=so(h);t(d[1],d,f,i,!0)}}r=o?r.projectionNext:r.next}return i}(e,t,e.firstChild,[])}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),t}(),Ps=function(t){K(n,t);var e=$(n);function n(t){var r;return tt(this,n),(r=e.call(this,t))._view=t,r}return nt(n,[{key:"detectChanges",value:function(){ts(this._view)}},{key:"checkNoChanges",value:function(){!function(t){ar(!0);try{ts(t)}finally{ar(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Os);function xs(t,e,n){return Ts||(Ts=function(t){K(n,t);var e=$(n);function n(){return tt(this,n),e.apply(this,arguments)}return n}(t)),new Ts(Bn(e,n))}function Ns(t,e,n,r){return As||(As=function(t){K(n,t);var e=$(n);function n(t,r,i){var o;return tt(this,n),(o=e.call(this))._declarationView=t,o._declarationTContainer=r,o.elementRef=i,o}return nt(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=wo(this._declarationView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Co(e,n,t),new Os(n)}}]),n}(t)),0===n.type?new As(r,n,xs(e,n,r)):null}function Rs(t,e,n,r){var i;Ds||(Ds=function(t){K(r,t);var n=$(r);function r(t,e,i){var o;return tt(this,r),(o=n.call(this))._lContainer=t,o._hostTNode=e,o._hostView=i,o}return nt(r,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var s=o.get(Qe,null);s&&(i=s)}var a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a}},{key:"insert",value:function(t,e){var n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Cn(n[3])){var i=this.indexOf(t);if(-1!==i)this.detach(i);else{var o=n[3],s=new Ds(o,o[6],o[3]);s.detach(s.indexOf(t))}}var a=this._adjustIndex(e),u=this._lContainer;!function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],Xe(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var s=e[17];null!==s&&n!==s&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);var a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,u,a);var c=function t(e,n){var r=10+e+1;if(r<n.length){var i=n[r],o=i[1].firstChild;if(null!==o)return function e(n,r){if(null!==r){var i=r.type;if(2===i)return Bn(r,n);if(0===i)return t(-1,n[r.index]);if(3===i||4===i){var o=r.child;if(null!==o)return e(n,o);var s=n[r.index];return Cn(s)?t(-1,s):Vn(s)}var a=n[16],u=a[6],c=so(a),l=u.projection[r.projection];return null!=l?e(c,l):e(n,r.next)}return null}(i,o)}return n[7]}(a,u),l=n[11],h=ms(l,u[7]);return null!==h&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,ks(t,r,n,1,i,o)}(r,u[6],l,n,h,c),t.attachToViewContainerRef(this),Xe(u[8],a,t),t}},{key:"move",value:function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=this._lContainer[8];return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1),n=ls(this._lContainer,e);n&&(Ze(this._lContainer[8],e),hs(n[1],n))}},{key:"detach",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1),n=ls(this._lContainer,e);return n&&null!=Ze(this._lContainer[8],e)?new Os(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return xs(e,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new si(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var t=Jr(this._hostTNode,this._hostView);if(Ur(t)){var e=jr(t,this._hostView),n=Vr(t);return new si(e[1].data[n+8],e)}return new si(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),r}(t));var o=r[n.index];if(Cn(o))i=o;else{var s;if(3===n.type)s=Vn(o);else if(s=r[11].createComment(""),An(r)){var a=r[11],u=Bn(n,r);ps(a,ms(a,u),s,function(t,e){return Ln(t)?t.nextSibling(e):e.nextSibling}(a,u))}else bs(r[1],r,s,n);r[n.index]=i=Qo(o,r,s,n),Jo(r,i)}return new Ds(i,n,r)}function Fs(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&Sn(t)){var r=Hn(t.index,e);return new Os(r,r)}return 2===t.type||0===t.type||3===t.type||4===t.type?new Os(e[16],e):null}(nr(),Zn(),t)}var Ms=function(){var t=function t(){tt(this,t)};return t.__NG_ELEMENT_ID__=function(){return Ls()},t}(),Ls=Fs,Us=Function,Vs=new Fe("Set Injector scope."),js={},Bs={},qs=[],Ws=void 0;function Hs(){return void 0===Ws&&(Ws=new Ke),Ws}function zs(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new Gs(t,n,e||Hs(),r)}var Gs=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;tt(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var s=[];n&&Je(n,(function(t){return i.processProvider(t,e,n)})),Je([e],(function(t){return i.processInjectorType(t,[],s)})),this.records.set(Me,$s(void 0,this));var a=this.records.get(Vs);this.scope=null!=a?a.value:null,this.source=o||("object"==typeof e?null:ge(e))}return nt(t,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(t){return t.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Le,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:re.Default;this.assertNotDestroyed();var r,i=Be(this);try{if(!(n&re.SkipSelf)){var o=this.records.get(t);if(void 0===o){var s=("function"==typeof(r=t)||"object"==typeof r&&r instanceof Fe)&&ue(t);o=s&&this.injectableDefInScope(s)?$s(Ks(t),js):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&re.Self?Hs():this.parent).get(t,e=n&re.Optional&&e===Le?null:e)}catch(a){if("NullInjectorError"===a.name){if((a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(ge(t)),i)throw a;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=ge(e);if(Array.isArray(e))i=e.map(ge).join(" -> ");else if("object"==typeof e){var o=[];for(var s in e)if(e.hasOwnProperty(s)){var a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):ge(a)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(Ue,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(a,t,0,this.source)}throw a}finally{Be(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach((function(e){return t.get(e)}))}},{key:"toString",value:function(){var t=[];return this.records.forEach((function(e,n){return t.push(ge(n))})),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=_e(t)))return!1;var i=le(t),o=null==i&&t.ngModule||void 0,s=void 0===o?t:o,a=-1!==n.indexOf(s);if(void 0!==o&&(i=le(o)),null==i)return!1;if(null!=i.imports&&!a){var u;n.push(s);try{Je(i.imports,(function(t){r.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))}))}finally{}if(void 0!==u)for(var c=function(t){var e=u[t],n=e.ngModule,i=e.providers;Je(i,(function(t){return r.processProvider(t,n,i||qs)}))},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(s),this.records.set(s,$s(i.factory,js));var h=i.providers;if(null!=h&&!a){var f=t;Je(h,(function(t){return r.processProvider(t,f,h)}))}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=Js(t=_e(t))?t:_e(t&&t.provide),i=function(t,e,n){return Ys(t)?$s(void 0,t.useValue):$s(Qs(t),js)}(t);if(Js(t)||!0!==t.multi)this.records.get(r);else{var o=this.records.get(r);o||((o=$s(void 0,js,!0)).factory=function(){return Ge(o.multi)},this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===js&&(e.value=Bs,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();function Ks(t){var e=ue(t),n=null!==e?e.factory:_n(t);if(null!==n)return n;var r=le(t);if(null!==r)return r.factory;if(t instanceof Fe)throw new Error("Token ".concat(ge(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=tn(e,"?");throw new Error("Can't resolve all parameters for ".concat(ge(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[he]||t[pe]||t[de]&&t[de]());if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function Qs(t,e,n){var r,i=void 0;if(Js(t)){var o=_e(t);return _n(o)||Ks(o)}if(Ys(t))i=function(){return _e(t.useValue)};else if((r=t)&&r.useFactory)i=function(){return t.useFactory.apply(t,j(Ge(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))i=function(){return He(_e(t.useExisting))};else{var s=_e(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return _n(s)||Ks(s);i=function(){return H(s,j(Ge(t.deps)))}}return i}function $s(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function Ys(t){return null!==t&&"object"==typeof t&&Ve in t}function Js(t){return"function"==typeof t}var Xs=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=zs(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},Zs=function(){var t=function(){function t(){tt(this,t)}return nt(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?Xs(t,e,""):Xs(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=Le,t.NULL=new Ke,t.\u0275prov=se({token:t,providedIn:"any",factory:function(){return He(Me)}}),t.__NG_ELEMENT_ID__=-1,t}(),ta=new Fe("AnalyzeForEntryComponents");function ea(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var s=0;s<e.length;s++){var a=e[s];"number"==typeof a?o=a:1==o?i=me(i,a):2==o&&(r=me(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function na(t,e){var n=zn(t)[1],r=n.data.length-1;Ir(n,{directiveStart:r,directiveEnd:r+1})}function ra(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var i=void 0;if(Tn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=ia(t.inputs),o.declaredInputs=ia(t.declaredInputs),o.outputs=ia(t.outputs);var s=i.hostBindings;s&&aa(t,s);var a=i.viewQuery,u=i.contentQueries;if(a&&oa(t,a),u&&sa(t,u),oe(t.inputs,i.inputs),oe(t.declaredInputs,i.declaredInputs),oe(t.outputs,i.outputs),Tn(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(t),f===ra&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Mr(i.hostAttrs,n=Mr(n,i.hostAttrs))}}(r)}function ia(t){return t===un?{}:t===cn?[]:t}function oa(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function sa(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function aa(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}var ua=null;function ca(){if(!ua){var t=Te.Symbol;if(t&&t.iterator)ua=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(ua=r)}}return ua}var la=function(){function t(e){tt(this,t),this.wrapped=e}return nt(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function ha(t){return!!fa(t)&&(Array.isArray(t)||!(t instanceof Map)&&ca()in t)}function fa(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function da(t,e,n){return t[e]=n}function pa(t,e){return t[e]}function va(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ga(t,e,n,r){var i=va(t,e,n);return va(t,e+1,r)||i}function ma(t,e,n,r,i,o){var s=ga(t,e,n,r);return ga(t,e+2,i,o)||s}function ya(t,e,n,r){var i=Zn();return va(i,lr(),e)&&(tr(),zo(Sr(),i,t,e,n,r)),ya}function ba(t,e,n,r){return va(t,lr(),n)?e+Br(n)+r:oo}function _a(t,e,n,r,i,o,s,a){var u=Zn(),c=tr(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){var c=e.consts,l=ko(e,t,0,s||null,Qn(c,a));Fo(e,n,l,Qn(c,u)),Ir(e,l);var h=l.tViews=Po(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,s):c.data[l];rr(h,!1);var f=u[11].createComment("");bs(c,u,f,h),Ki(f,u),Jo(u,u[l]=Qo(f,u,f,h)),In(h)&&Ao(c,u,h),null!=s&&Do(u,h,a)}function wa(t){return Wn(Jn.lFrame.contextLView,t)}function ka(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re.Default,n=Zn();return null===n?He(t,e):Zr(nr(),n,_e(t),e)}function Ca(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Rr(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(nr(),t)}function Ea(t,e,n){var r=Zn();return va(r,lr(),e)&&Ro(tr(),Sr(),r,t,e,r[11],n,!1),Ea}function Sa(t,e,n,r,i){var o=i?"class":"style";os(t,n,e.inputs[o],o,r)}function Ia(t,e,n,r){var i=Zn(),o=tr(),s=20+t,a=i[11],u=i[s]=_o(e,a,Jn.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){var a=e.consts,u=ko(e,t,2,i,Qn(a,o));return Fo(e,n,u,Qn(a,s)),null!==u.attrs&&ea(u,u.attrs,!1),null!==u.mergedAttrs&&ea(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(t,o,i,0,e,n,r):o.data[s];rr(c,!0);var l=c.mergedAttrs;null!==l&&Nr(a,u,l);var h=c.classes;null!==h&&Is(a,u,h);var f=c.styles;null!==f&&Ss(a,u,f),bs(o,i,u,c),0===Jn.lFrame.elementDepthCount&&Ki(u,i),Jn.lFrame.elementDepthCount++,In(c)&&(Ao(o,i,c),To(o,c,i)),null!==r&&Do(i,c)}function Ta(){var t=nr();ir()?or():rr(t=t.parent,!1);var e=t;Jn.lFrame.elementDepthCount--;var n=tr();n.firstCreatePass&&(Ir(n,t),En(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Sa(n,e,Zn(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Sa(n,e,Zn(),e.stylesWithoutHost,!1)}function Aa(t,e,n,r){Ia(t,e,n,r),Ta()}function Da(t,e,n){var r=Zn(),i=tr(),o=t+20,s=i.firstCreatePass?function(t,e,n,r,i){var o=e.consts,s=Qn(o,r),a=ko(e,t,3,"ng-container",s);return null!==s&&ea(a,s,!0),Fo(e,n,a,Qn(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,i,r,e,n):i.data[o];rr(s,!0);var a=r[o]=r[11].createComment("");bs(i,r,a,s),Ki(a,r),In(s)&&(Ao(i,r,s),To(i,s,r)),null!=n&&Do(r,s)}function Oa(){var t=nr(),e=tr();ir()?or():rr(t=t.parent,!1),e.firstCreatePass&&(Ir(e,t),En(t)&&e.queries.elementEnd(t))}function Pa(){return Zn()}function xa(t){return!!t&&"function"==typeof t.then}function Na(t){return!!t&&"function"==typeof t.subscribe}function Ra(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=Zn(),o=tr(),s=nr();return function(t,e,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7?arguments[7]:void 0,u=In(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=rs(e),h=!0;if(2===r.type){var f=Bn(r,e),d=a?a(f):un,p=d.target||f,v=l.length,g=a?function(t){return a(Vn(t[r.index])).target}:r.index;if(Ln(n)){var m=null;if(!a&&u&&(m=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var s=i[o];if(s===n&&i[o+1]===r){var a=e[7],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==m)(m.__ngLastListenerFn__||m).__ngNextListenerFn__=o,m.__ngLastListenerFn__=o,h=!1;else{o=Ma(r,e,o,!1);var y=n.listen(d.name||p,i,o);l.push(o,y),c&&c.push(i,g,v,v+1)}}else o=Ma(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,g,v,s)}var b,_=r.outputs;if(h&&null!==_&&(b=_[i])){var w=b.length;if(w)for(var k=0;k<w;k+=2){var C=e[b[k]][b[k+1]].subscribe(o),E=l.length;l.push(o,C),c&&c.push(i,r.index,E,-(E+1))}}}(o,i,i[11],s,t,e,n,r),Ra}function Fa(t,e,n){try{return!1!==e(n)}catch(r){return is(t,r),!1}}function Ma(t,e,n,r){return function i(o){if(o===Function)return n;var s=2&t.flags?Hn(t.index,e):e;0==(32&e[2])&&Xo(s);for(var a=Fa(e,n,o),u=i.__ngNextListenerFn__;u;)a=Fa(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function La(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(Jn.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Jn.lFrame.contextLView))[8]}(t)}function Ua(t,e){for(var n=null,r=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t),i=0;i<e.length;i++){var o=e[i];if("*"!==o){if(null===r?eo(t,o,!0):no(r,o))return i}else n=i}return n}function Va(t){var e=Zn()[16][6];if(!e.projection)for(var n=e.projection=tn(t?t.length:1,null),r=n.slice(),i=e.child;null!==i;){var o=t?Ua(i,t):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}var ja=!1;function Ba(t){ja=t}function qa(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=Zn(),i=tr(),o=ko(i,t,1,null,n||null);null===o.projection&&(o.projection=e),or(),ja||Cs(i,r,o)}function Wa(t,e,n){return Ha(t,"",e,"",n),Wa}function Ha(t,e,n,r,i){var o=Zn(),s=ba(o,e,n,r);return s!==oo&&Ro(tr(),Sr(),o,t,s,o[11],i,!1),Ha}var za=[];function Ga(t,e,n,r,i){for(var o=t[n+1],s=null===e,a=r?po(o):go(o),u=!1;0!==a&&(!1===u||s);){var c=t[a+1];Ka(t[a],e)&&(u=!0,t[a+1]=r?yo(c):vo(c)),a=r?po(c):go(c)}u&&(t[n+1]=r?vo(o):yo(o))}function Ka(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&rn(t,e)>=0}var Qa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function $a(t){return t.substring(Qa.key,Qa.keyEnd)}function Ya(t){return t.substring(Qa.value,Qa.valueEnd)}function Ja(t,e){var n=Qa.textEnd;return n===e?-1:(e=Qa.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Qa.key=e,n),tu(t,e,n))}function Xa(t,e){var n=Qa.textEnd,r=Qa.key=tu(t,e,n);return n===r?-1:(r=Qa.keyEnd=function(t,e,n){for(var r;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=eu(t,r,n),r=Qa.value=tu(t,r,n),r=Qa.valueEnd=function(t,e,n){for(var r=-1,i=-1,o=-1,s=e,a=s;s<n;){var u=t.charCodeAt(s++);if(59===u)return a;34===u||39===u?a=s=nu(t,u,s,n):e===s-4&&85===o&&82===i&&76===r&&40===u?a=s=nu(t,41,s,n):u>32&&(a=s),o=i,i=r,r=-33&u}return a}(t,r,n),eu(t,r,n))}function Za(t){Qa.key=0,Qa.keyEnd=0,Qa.value=0,Qa.valueEnd=0,Qa.textEnd=t.length}function tu(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function eu(t,e,n,r){return(e=tu(t,e,n))<n&&e++,e}function nu(t,e,n,r){for(var i=-1,o=n;o<r;){var s=t.charCodeAt(o++);if(s==e&&92!==i)return o;i=92==s&&92===i?0:s}throw new Error}function ru(t,e,n){return cu(t,e,n,!1),ru}function iu(t,e){return cu(t,e,null,!0),iu}function ou(t){lu(vu,su,t,!1)}function su(t,e){for(var n=function(t){return Za(t),Xa(t,tu(t,0,Qa.textEnd))}(e);n>=0;n=Xa(e,n))vu(t,$a(e),Ya(e))}function au(t){lu(en,uu,t,!0)}function uu(t,e){for(var n=function(t){return Za(t),Ja(t,tu(t,0,Qa.textEnd))}(e);n>=0;n=Ja(e,n))en(t,$a(e),!0)}function cu(t,e,n,r){var i=Zn(),o=tr(),s=hr(2);o.firstUpdatePass&&fu(o,t,s,r),e!==oo&&va(i,s,e)&&gu(o,o.data[Cr()+20],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=ge(pi(t)))),t}(e,n),r,s)}function lu(t,e,n,r){var i=tr(),o=hr(2);i.firstUpdatePass&&fu(i,null,o,r);var s=Zn();if(n!==oo&&va(s,o,n)){var a=i.data[Cr()+20];if(bu(a,r)&&!hu(i,o)){var u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(n=me(u,n||"")),Sa(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===oo&&(i=za);for(var u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;null!==l||null!==h;){var f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0,p=null,v=void 0;l===h?(u+=2,c+=2,f!==d&&(p=h,v=d)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,v=d),null!==p&&gu(t,e,n,r,p,v,s,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return za;var r=[],i=pi(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(var s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function hu(t,e){return e>=t.expandoStartIndex}function fu(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[Cr()+20],s=hu(t,n);bu(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){var i=function(t){var e=Jn.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t),o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=pu(n=du(null,t,e,n,r),e.attrs,r),o=null);else{var s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=du(i,t,e,n,r),null===o){var a=function(t,e,n){var r=n?e.classBindings:e.styleBindings;if(0!==go(r))return t[po(r)]}(t,e,r);void 0!==a&&Array.isArray(a)&&function(t,e,n,r){t[po(n?e.classBindings:e.styleBindings)]=r}(t,e,r,a=pu(a=du(null,t,e,a[1],r),e.attrs,r))}else o=function(t,e,n){for(var r=void 0,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=pu(r,t[o].hostAttrs,n);return pu(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){var s=o?e.classBindings:e.styleBindings,a=po(s),u=go(s);t[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||rn(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=po(t[a+1]);t[r+1]=fo(f,a),0!==f&&(t[f+1]=mo(t[f+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=fo(a,0),0!==a&&(t[a+1]=mo(t[a+1],r)),a=r;else t[r+1]=fo(u,0),0===a?a=r:t[u+1]=mo(t[u+1],r),u=r;l&&(t[r+1]=vo(t[r+1])),Ga(t,c,r,!0),Ga(t,c,r,!1),function(t,e,n,r,i){var o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&rn(o,e)>=0&&(n[r+1]=yo(n[r+1]))}(e,c,t,r,o),s=fo(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function du(t,e,n,r,i){var o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(r=pu(r,(o=e[a]).hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function pu(t,e,n){var r=n?1:2,i=-1;if(null!==e)for(var o=0;o<e.length;o++){var s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),en(t,s,!!n||e[++o]))}return void 0===t?null:t}function vu(t,e,n){en(t,e,pi(n))}function gu(t,e,n,r,i,o,s,a){if(2===e.type){var u=t.data,c=u[a+1];yu(1==(1&c)?mu(u,e,n,i,go(c),s):void 0)||(yu(o)||2==(2&c)&&(o=mu(u,null,n,i,a,s)),function(t,e,n,r,i){var o=Ln(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{var s=-1==r.indexOf("-")?void 0:2;null==i?o?t.removeStyle(n,r,s):n.style.removeProperty(r):o?t.setStyle(n,r,i,s):n.style.setProperty(r,i)}}(r,s,jn(Cr(),n),i,o))}}function mu(t,e,n,r,i,o){for(var s=null===e,a=void 0;i>0;){var u=t[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===oo&&(f=h?za:void 0);var d=h?nn(f,r):l===r?f:void 0;if(c&&!yu(d)&&(d=nn(u,r)),yu(d)&&(a=d,s))return a;var p=t[i+1];i=s?po(p):go(p)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(a=nn(v,r))}return a}function yu(t){return void 0!==t}function bu(t,e){return 0!=(t.flags&(e?16:32))}function _u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Zn(),r=tr(),i=t+20,o=r.firstCreatePass?ko(r,t,2,null,null):r.data[i],s=n[i]=us(e,n[11]);bs(r,n,s,o),rr(o,!1)}function wu(t){return ku("",t,""),wu}function ku(t,e,n){var r=Zn(),i=ba(r,t,e,n);return i!==oo&&ss(r,Cr(),i),ku}function Cu(t,e,n,r,i){var o=Zn(),s=function(t,e,n,r,i,o){var s=ga(t,cr(),n,i);return hr(2),s?e+Br(n)+r+Br(i)+o:oo}(o,t,e,n,r,i);return s!==oo&&ss(o,Cr(),s),Cu}function Eu(t,e,n){var r=Zn();return va(r,lr(),e)&&Ro(tr(),Sr(),r,t,e,r[11],n,!0),Eu}function Su(t,e,n,r,i){if(t=_e(t),Array.isArray(t))for(var o=0;o<t.length;o++)Su(t[o],e,n,r,i);else{var s=tr(),a=Zn(),u=Js(t)?t:_e(t.provide),c=Qs(t),l=nr(),h=1048575&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>20;if(Js(t)||!t.multi){var p=new xr(c,i,ka),v=Au(u,e,i?h:h+d,f);-1===v?(Xr(Qr(l,a),s,u),Iu(s,t,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(p),a.push(p)):(n[v]=p,a[v]=p)}else{var g=Au(u,e,h+d,f),m=Au(u,e,h,h+d),y=g>=0&&n[g],b=m>=0&&n[m];if(i&&!b||!i&&!y){Xr(Qr(l,a),s,u);var _=function(t,e,n,r,i){var o=new xr(t,n,ka);return o.multi=[],o.index=e,o.componentProviders=0,Tu(o,i,r&&!n),o}(i?Ou:Du,n.length,i,r,c);!i&&b&&(n[m].providerFactory=_),Iu(s,t,e.length,0),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(_),a.push(_)}else Iu(s,t,g>-1?g:m,Tu(n[i?m:g],c,!i&&r));!i&&r&&b&&n[m].componentProviders++}}}function Iu(t,e,n,r){var i=Js(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var a=s.indexOf(n);-1===a?s.push(n,[r,o]):s[a+1].push(r,o)}else s.push(n,o)}}}function Tu(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Au(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function Du(t,e,n,r){return Pu(this.multi,[])}function Ou(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var s=this.providerFactory.componentProviders,a=ri(n,n[1],this.providerFactory.index,r);Pu(o,i=a.slice(0,s));for(var u=s;u<a.length;u++)i.push(a[u])}else Pu(o,i=[]);return i}function Pu(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function xu(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=tr();if(r.firstCreatePass){var i=Tn(t);Su(n,r.data,r.blueprint,i,!0),Su(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}var Nu=function t(){tt(this,t)},Ru=function(){function t(){tt(this,t)}return nt(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(ge(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),Fu=function(){var t=function t(){tt(this,t)};return t.NULL=new Ru,t}(),Mu=function(){var t=function t(e){tt(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=function(){return Lu(t)},t}(),Lu=function(t){return xs(t,nr(),Zn())},Uu=function t(){tt(this,t)},Vu=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({}),ju=function(){var t=function t(){tt(this,t)};return t.__NG_ELEMENT_ID__=function(){return Bu()},t}(),Bu=function(){var t=Zn(),e=Hn(nr().index,t);return function(t){var e=t[11];if(Ln(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(kn(e)?e:t)},qu=function(){var t=function t(){tt(this,t)};return t.\u0275prov=se({token:t,providedIn:"root",factory:function(){return null}}),t}(),Wu=new function t(e){tt(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}("10.1.6"),Hu=function(){function t(){tt(this,t)}return nt(t,[{key:"supports",value:function(t){return ha(t)}},{key:"create",value:function(t){return new Gu(t)}}]),t}(),zu=function(t,e){return e},Gu=function(){function t(e){tt(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||zu}return nt(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Yu(n,r,i)?e:n,s=Yu(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=s-r,c=a-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}s!==a&&t(o,s,a)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!ha(t))throw new Error("Error trying to diff '".concat(ge(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(var a=0;a<this.length;a++)r=t[a],i=this._trackByFn(a,r),null!==o&&Object.is(o.trackById,i)?(s&&(o=this._verifyReinsertion(o,r,i,a)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,a),s=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[ca()]();!(r=i.next()).done;)e(r.value)}(t,(function(t){i=e._trackByFn(n,t),null!==o&&Object.is(o.trackById,i)?(s&&(o=e._verifyReinsertion(o,t,i,n)),Object.is(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),s=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Ku(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new $u),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $u),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),t}(),Ku=function t(e,n){tt(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Qu=function(){function t(){tt(this,t),this._head=null,this._tail=null}return nt(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),$u=function(){function t(){tt(this,t),this.map=new Map}return nt(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Qu,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),t}();function Yu(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Ju=function(){function t(){tt(this,t)}return nt(t,[{key:"supports",value:function(t){return t instanceof Map||fa(t)}},{key:"create",value:function(){return new Xu}}]),t}(),Xu=function(){function t(){tt(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return nt(t,[{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||fa(t)))throw new Error("Error trying to diff '".concat(ge(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Zu(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(n){return e(t[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),t}(),Zu=function t(e){tt(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},tc=function(){var t=function(){function t(e){tt(this,t),this.factories=e}return nt(t,[{key:"find",value:function(t){var e,n=this.factories.find((function(e){return e.supports(t)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ne,new te]]}}}]),t}();return t.\u0275prov=se({token:t,providedIn:"root",factory:function(){return new t([new Hu])}}),t}(),ec=function(){var t=function(){function t(e){tt(this,t),this.factories=e}return nt(t,[{key:"find",value:function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ne,new te]]}}}]),t}();return t.\u0275prov=se({token:t,providedIn:"root",factory:function(){return new t([new Ju])}}),t}(),nc=[new Ju],rc=new tc([new Hu]),ic=new ec(nc),oc=function(){var t=function t(){tt(this,t)};return t.__NG_ELEMENT_ID__=function(){return sc(t,Mu)},t}(),sc=function(t,e){return Ns(t,e,nr(),Zn())},ac=function(){var t=function t(){tt(this,t)};return t.__NG_ELEMENT_ID__=function(){return uc(t,Mu)},t}(),uc=function(t,e){return Rs(t,e,nr(),Zn())},cc={},lc=function(t){K(n,t);var e=$(n);function n(t){var r;return tt(this,n),(r=e.call(this)).ngModule=t,r}return nt(n,[{key:"resolveComponentFactory",value:function(t){var e=bn(t);return new dc(e,this.ngModule)}}]),n}(Fu);function hc(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var fc=new Fe("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Wr}}),dc=function(t){K(n,t);var e=$(n);function n(t,r){var i;return tt(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(io).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return nt(n,[{key:"create",value:function(t,e,n,r){var i,o,s=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,cc,i);return o!==cc||r===cc?o:e.get(n,r,i)}}}(t,r.injector):t,a=s.get(Uu,Un),u=s.get(qu,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(Ln(t))return t.selectRootElement(e,n===an.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):_o(l,a.createRenderer(null,this.componentDef),function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d={components:[],scheduler:Wr,clean:ns,playerHandler:null,flags:0},p=Po(0,null,null,1,0,null,null,null,null,null),v=wo(null,p,d,f,null,null,a,c,u,s);mr(v);try{var g=function(t,e,n,r,i,o){var s=n[1];n[20]=t;var a=ko(s,0,2,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(ea(a,u,!0),null!==t&&(Nr(i,t,u),null!==a.classes&&Is(i,t,a.classes),null!==a.styles&&Ss(i,t,a.styles)));var c=r.createRenderer(t,e),l=wo(n,Oo(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Xr(Qr(a,n),s,e.type),jo(s,a),qo(a,n.length,1)),Jo(n,l),n[20]=l}(h,this.componentDef,v,a,c);if(h)if(n)Nr(c,h,["ng-version",Wu.full]);else{var m=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Zi(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),y=m.attrs,b=m.classes;y&&Nr(c,h,y),b&&b.length>0&&Is(c,h,b.join(" "))}if(o=qn(p,0),void 0!==e)for(var _=o.projection=[],w=0;w<this.ngContentSelectors.length;w++){var k=e[w];_.push(null!=k?Array.from(k):null)}i=function(t,e,n,r,i){var o=n[1],s=function(t,e,n){var r=nr();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Vo(t,r,1),Wo(t,e,n));var i=ri(e,t,e.length-1,r);Ki(i,e);var o=Bn(r,e);return o&&Ki(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach((function(t){return t(s,e)})),e.contentQueries&&e.contentQueries(1,s,n.length-1);var a=nr();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Er(a.index-20);var u=n[1];Mo(u,e),Lo(u,n,e.hostVars),Uo(e,s)}return s}(g,this.componentDef,v,d,[na]),Co(p,v,null)}finally{kr()}return new pc(this.componentType,i,xs(Mu,o,v),v,o)}},{key:"inputs",get:function(){return hc(this.componentDef.inputs)}},{key:"outputs",get:function(){return hc(this.componentDef.outputs)}}]),n}(Nu),pc=function(t){K(n,t);var e=$(n);function n(t,r,i,o,s){var a;return tt(this,n),(a=e.call(this)).location=i,a._rootLView=o,a._tNode=s,a.destroyCbs=[],a.instance=r,a.hostView=a.changeDetectorRef=new Ps(o),a.componentType=t,a}return nt(n,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(t){this.destroyCbs&&this.destroyCbs.push(t)}},{key:"injector",get:function(){return new si(this._tNode,this._rootLView)}}]),n}(function(){return function t(){tt(this,t)}}()),vc=void 0,gc=["en",[["a","p"],["AM","PM"],vc],[["AM","PM"],vc,vc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",vc,"{1} 'at' {0}",vc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],mc={};function yc(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=_c(e);if(n)return n;var r=e.split("-")[0];if(n=_c(r))return n;if("en"===r)return gc;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function bc(t){return yc(t)[wc.PluralCase]}function _c(t){return t in mc||(mc[t]=Te.ng&&Te.ng.common&&Te.ng.common.locales&&Te.ng.common.locales[t]),mc[t]}var wc=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({}),kc=["zero","one","two","few","many"],Cc="en-US";function Ec(t){var e;null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(e," <=Actual]"))}(0,e),"string"==typeof t&&(Cc=t.toLowerCase().replace(/_/g,"-"))}var Sc={marker:"element"},Ic={marker:"comment"},Tc=[],Ac=-1,Dc=0,Oc=0;function Pc(t,e,n,r){for(var i=r[11],o=null,s=null,a=[],u=0;u<n.length;u++){var c=n[u];if("string"==typeof c){var l=us(c,i),h=n[++u];s=o,o=Lc(t,r,h,2,l,null),a.push(h),or()}else if("number"==typeof c)switch(7&c){case 1:var f=c>>>17;s=Fc(t,o,f===e?r[6]:qn(t,f),s,r);break;case 0:var d=c>=0,p=(d?c:~c)>>>3;a.push(p),s=o,(o=qn(t,p))&&rr(o,d);break;case 5:s=o=qn(t,c>>>3),rr(o,!1);break;case 4:var v=n[++u],g=n[++u];zo(qn(t,c>>>3),r,v,g,null,null);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(c,'"'))}else switch(c){case Ic:var m=n[++u],y=n[++u],b=i.createComment(m);s=o,o=Lc(t,r,y,4,b,null),a.push(y),Ki(b,r),or();break;case Sc:var _=n[++u],w=n[++u];s=o,o=Lc(t,r,w,2,i.createElement(_),_),a.push(w);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(c,'"'))}}return or(),a}function xc(t,e,n,r,i,o){for(var s=!1,a=0;a<r.length;a++){var u=r[a],c=r[++a];if(u&o)for(var l="",h=a+1;h<=a+c;h++){var f=r[h];if("string"==typeof f)l+=f;else if("number"==typeof f)if(f<0)l+=Br(n[i-f]);else{var d=f>>>2;switch(3&f){case 1:var p=r[++h],v=r[++h];Ro(t,qn(t,d),n,p,l,n[11],v,!1);break;case 0:ss(n,d,l);break;case 2:s=Rc(t,e,r[++h],n,l);break;case 3:Nc(t,e,r[++h],i,n,s)}}}a+=c}}function Nc(t,e,n,r,i,o){var s=e[n],a=i[s.currentCaseLViewIndex];null!==a&&xc(t,e,i,s.update[a],r,o?-1:Dc)}function Rc(t,e,n,r,i){!function t(e,n,r,i){var o=n[r],s=i[o.currentCaseLViewIndex];if(null!==s)for(var a=o.remove[s],u=0;u<a.length;u++){var c=a[u],l=c>>>3;switch(7&c){case 3:Mc(e,i,l,!1);break;case 6:t(e,n,l,i)}}}(t,e,n,r);var o=!1,s=e[n],a=function(t,e){var n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:var r=function(t,e){var n=bc(e)(parseInt(t,10)),r=kc[n];return void 0!==r?r:"other"}(e,Cc);-1===(n=t.cases.indexOf(r))&&"other"!==r&&(n=t.cases.indexOf("other"));break;case 0:n=t.cases.indexOf("other")}return n}(s,i);return r[s.currentCaseLViewIndex]=-1!==a?a:null,a>-1&&(Pc(t,-1,s.create[a],r),o=!0),o}function Fc(t,e,n,r,i){var o=e.next;r||(r=n),r===n&&e!==n.child?(e.next=n.child,null===e.parent?t.firstChild=e:n.child=e):r!==n&&e!==r.next?(e.next=r.next,r.next=e):e.next=null,n!==i[6]&&(e.parent=n);for(var s=e.next;s;)s.next===e&&(s.next=o),s=s.next;if(1===e.type)return Cs(t,i,e),e;bs(t,i,Bn(e,i),e);var a=i[e.index];return 0!==e.type&&Cn(a)&&bs(t,i,a[7],e),e}function Mc(t,e,n,r){var i=qn(t,n),o=jn(n,e);o&&_s(e[11],o);var s=Wn(e,n);if(Cn(s)){var a=s;0!==i.type&&_s(e[11],a[7])}r&&i&&(i.flags|=64)}function Lc(t,e,n,r,i,o){var s=nr();e[n+20]=i;var a=ko(t,n,r,o,null);return s&&s.next===a&&(s.next=null),a}var Uc,Vc=/\ufffd(\d+):?\d*\ufffd/gi,jc=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,Bc=/\ufffd(\d+)\ufffd/,qc=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Wc=[],Hc=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,zc=/\ufffd(\/?[#*!]\d+):?\d*\ufffd/gi,Gc=/\uE500/g;function Kc(t,e,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=[null,null],o=t.split(Vc),s=0,a=0;a<o.length;a++){var u=o[a];if(1&a){var c=parseInt(u,10);i.push(-1-c),s|=Yc(c)}else""!==u&&i.push(u)}return i.push(e<<2|(n?1:0)),n&&i.push(n,r),i[0]=s,i[1]=i.length-2,i}function Qc(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n|=Yc(t.mainBinding);for(var r=0;r<t.values.length;r++)for(var i=t.values[r],o=0;o<i.length;o++){var s=i[o];if("string"==typeof s)for(;e=Vc.exec(s);)n|=Yc(parseInt(e[1],10));else n=Qc(s,n)}return n}function $c(t){return t+Uc++}function Yc(t){return 1<<Math.min(t,31)}function Jc(t){return void 0===t}function Xc(t){for(var e,n,r="",i=0,o=!1;null!==(e=Hc.exec(t));)o?e[0]==="\ufffd/*".concat(n,"\ufffd")&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+=t.substr(i)}function Zc(t,e,n,r){for(var i=[],o=[],s=[],a=[],u=[],c=e.values,l=0;l<c.length;l++){for(var h=c[l],f=[],d=0;d<h.length;d++){var p=h[d];if("string"!=typeof p){var v=f.push(p)-1;h[d]="\x3c!--\ufffd".concat(v,"\ufffd--\x3e")}}var g=el(h.join(""),n,f,t,r);i.push(g.create),o.push(g.remove),s.push(g.update),a.push(g.vars),u.push(g.childIcus)}t.push({type:e.type,vars:a,currentCaseLViewIndex:20+r+1,childIcus:u,cases:e.cases,create:i,remove:o,update:s}),Uc+=Math.max.apply(Math,a)}function tl(t){for(var e=[],n=[],r=1,i=0,o=nl(t=t.replace(qc,(function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""}))),s=0;s<o.length;){var a=o[s++].trim();1===r&&(a=a.replace(/\s*(?:=)?(\w+)\s*/,"$1")),a.length&&e.push(a);var u=nl(o[s++]);e.length>n.length&&n.push(u)}return{type:r,mainBinding:i,cases:e,values:n}}function el(t,e,n,r,i){var o=bi(Mn()).getInertBodyElement(t);if(!o)throw new Error("Unable to generate inert body element");var s={vars:1,childIcus:[],create:[],remove:[],update:[]};return function t(e,n,r,i,o,s){if(e){for(var a=[];e;){var u=e.nextSibling,c=s+ ++n.vars;switch(e.nodeType){case Node.ELEMENT_NODE:var l=e,h=l.tagName.toLowerCase();if(Ni.hasOwnProperty(h)){n.create.push(Sc,h,c,r<<17|1);for(var f=l.attributes,d=0;d<f.length;d++){var p=f.item(d),v=p.name.toLowerCase();p.value.match(Vc)?Mi.hasOwnProperty(v)&&Ye(Ri[v]?Kc(p.value,c,p.name,Ei):Fi[v]?Kc(p.value,c,p.name,Si):Kc(p.value,c,p.name),n.update):n.create.push(c<<3|4,p.name,p.value)}t(e.firstChild,n,c,i,o,s),n.remove.push(c<<3|3)}else n.vars--;break;case Node.TEXT_NODE:var g=e.textContent||"",m=g.match(Vc);n.create.push(m?"":g,c,r<<17|1),n.remove.push(c<<3|3),m&&Ye(Kc(g,c),n.update);break;case Node.COMMENT_NODE:var y=Bc.exec(e.textContent||"");if(y){var b=parseInt(y[1],10);n.create.push(Ic,"",c,r<<17|1),a.push([i[b],c])}else n.vars--;break;default:n.vars--}e=u}for(var _=0;_<a.length;_++){var w=a[_][0],k=a[_][1];Zc(o,w,k,s+n.vars);var C=o.length-1;n.vars+=Math.max.apply(Math,j(o[C].vars)),n.childIcus.push(C);var E=Qc(w);n.update.push(Yc(w.mainBinding),3,-1-w.mainBinding,k<<2|2,C,E,2,k<<2|3,C),n.remove.push(C<<3|6,k<<3|3)}}}((qi(o)||o).firstChild,s,e,n,r,i),s}function nl(t){if(!t)return[];var e,n=0,r=[],i=[],o=/[{}]/g;for(o.lastIndex=0;e=o.exec(t);){var s=e.index;if("}"==e[0]){if(r.pop(),0==r.length){var a=t.substring(n,s);qc.test(a)?i.push(tl(a)):i.push(a),n=s+1}}else{if(0==r.length){var u=t.substring(n,s);i.push(u),n=s+1}r.push("{")}}var c=t.substring(n);return i.push(c),i}function rl(t,e,n){var r;(function(t,e,n){var r=tr(),i=Qn(r.consts,e);!function(t){Tc[++Ac]=t}(t),Ba(!0),r.firstCreatePass&&null===r.data[t+20]&&function(t,e,n,r,i){var o=e.blueprint.length-20;Uc=0;var s=nr(),a=ir()?s:s&&s.parent,u=a&&a!==t[6]?a.index-20:n,c=0;Wc[c]=u;var l=[];if(n>0&&s!==a){var h=s.index-20;ir()||(h=~h),l.push(h<<3|0)}var f,d=[],p=[];if(""===r&&Jc(i))l.push(r,$c(o),u<<17|1);else for(var v=function(t,e){if(Jc(e))return Xc(t);var n=t.indexOf(":".concat(e,"\ufffd"))+2+e.toString().length,r=t.search(new RegExp("\ufffd\\/\\*\\d+:".concat(e,"\ufffd")));return Xc(t.substring(n,r))}(r,i),g=(f=v,f.replace(Gc," ")).split(zc),m=0;m<g.length;m++){var y=g[m];if(1&m)if("/"===y.charAt(0)){if("#"===y.charAt(1)){var b=parseInt(y.substr(2),10);u=Wc[--c],l.push(b<<3|5)}}else{var _=parseInt(y.substr(1),10),w="#"===y.charAt(0);l.push((w?_:~_)<<3|0,u<<17|1),w&&(Wc[++c]=u=_)}else for(var k=nl(y),C=0;C<k.length;C++)if(1&C){var E=k[C];if("object"!=typeof E)throw new Error('Unable to parse ICU expression in "'.concat(v,'" message.'));var S=$c(o);l.push(Ic,"",S,u<<17|1);var I=Qc(E);Zc(p,E,S,S);var T=p.length-1;d.push(Yc(E.mainBinding),3,-1-E.mainBinding,S<<2|2,T,I,2,S<<2|3,T)}else if(""!==k[C]){var A=k[C],D=A.match(Vc),O=$c(o);l.push(D?"":A,O,u<<17|1),D&&Ye(Kc(A,O),d)}}Uc>0&&function(t,e,n){if(n>0&&t.firstCreatePass){for(var r=0;r<n;r++)t.blueprint.push(null),t.data.push(null),e.push(null);t.expandoInstructions?t.expandoInstructions.push(n):t.expandoStartIndex+=n}}(e,t,Uc),e.data[n+20]={vars:Uc,create:l,update:d,icus:p.length?p:null}}(Zn(),r,t,i,n)})(t,e,n),r=Zn(),function(t,e){for(var n=Tc[Ac--],r=t.data[n+20],i=nr(),o=Pc(t,n,r.create,e),s=n+1;null!==i&&s<=i.index-20;){-1===o.indexOf(s)&&Mc(t,e,s,!0);var a=qn(t,s);!a||0!==a.type&&2!==a.type&&3!==a.type||null===a.localNames||(s+=a.localNames.length>>1),s++}}(tr(),r),Ba(!1)}function il(t,e){var n=Zn(),r=tr();!function(t,e,n,r){for(var i=nr().index-20,o=[],s=0;s<r.length;s+=2)for(var a=r[s],u=r[s+1].split(jc),c=0;c<u.length;c++){var l=u[c];if(1&c)throw new Error("ICU expressions are not yet supported in attributes");if(""!==l)if(l.match(Vc))e.firstCreatePass&&null===e.data[n+20]&&Ye(Kc(l,i,a),o);else{var h=qn(e,i);2===h.type&&zo(h,t,a,l,null,null);var f=null!==h.inputs&&h.inputs[a];f&&os(e,t,f,a,l)}}e.firstCreatePass&&null===e.data[n+20]&&(e.data[n+20]=o)}(n,r,t,Qn(r.consts,e))}function ol(t){return va(Zn(),lr(),t)&&(Dc|=1<<Oc),Oc++,ol}function sl(t){!function(t,e,n){if(Oc>0){var r,i=t.data[n+20],o=null;Array.isArray(i)?r=i:(r=i.update,o=i.icus),xc(t,o,e,r,cr()-Oc-1,Dc),Dc=0,Oc=0}}(tr(),Zn(),t)}var al=new Map,ul=function(t){K(n,t);var e=$(n);function n(t,r){var i;tt(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=J(i),i.destroyCbs=[],i.componentFactoryResolver=new lc(J(i));var o=wn(t),s=t[xe]||null;return s&&Ec(s),i._bootstrapComponents=Hr(o.bootstrap),i._r3Injector=zs(t,r,[{provide:Qe,useValue:J(i)},{provide:Fu,useValue:i.componentFactoryResolver}],ge(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return nt(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zs.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:re.Default;return t===Zs||t===Qe||t===Me?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(Qe),cl=function(t){K(n,t);var e=$(n);function n(t){var r;return tt(this,n),(r=e.call(this)).moduleType=t,null!==wn(t)&&function t(e){if(null!==e.\u0275mod.id){var n=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(ge(e)," vs ").concat(ge(e.name)))})(n,al.get(n),e),al.set(n,e)}var r=e.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(e){return t(e)}))}(t),r}return nt(n,[{key:"create",value:function(t){return new ul(this.moduleType,t)}}]),n}($e);function ll(t,e,n){var r=ur()+t,i=Zn();return i[r]===oo?da(i,r,n?e.call(n):e()):pa(i,r)}function hl(t,e,n,r){return vl(Zn(),ur(),t,e,n,r)}function fl(t,e,n,r,i){return function(t,e,n,r,i,o,s){var a=e+n;return ga(t,a,i,o)?da(t,a+2,s?r.call(s,i,o):r(i,o)):pl(t,a+2)}(Zn(),ur(),t,e,n,r,i)}function dl(t,e,n,r,i,o){return function(t,e,n,r,i,o,s,a){var u=e+n;return function(t,e,n,r,i){var o=ga(t,e,n,r);return va(t,e+2,i)||o}(t,u,i,o,s)?da(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):pl(t,u+3)}(Zn(),ur(),t,e,n,r,i,o)}function pl(t,e){var n=t[e];return n===oo?void 0:n}function vl(t,e,n,r,i,o){var s=e+n;return va(t,s,i)?da(t,s+1,o?r.call(o,i):r(i)):pl(t,s+1)}function gl(t,e){var n,r=tr(),i=t+20;r.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if(t===r.name)return r}throw new Error("The pipe '".concat(t,"' could not be found!"))}(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=_n(n.type)),s=qe(ka);try{var a=Gr(!1),u=o();return Gr(a),function(t,e,n,r){var i=n+20;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(r,Zn(),t,u),u}finally{qe(s)}}function ml(t,e,n){var r=Zn(),i=Wn(r,t);return function(t,e){return la.isWrapped(e)&&(e=la.unwrap(e),t[cr()]=oo),e}(r,function(t,e){return t[1].data[e+20].pure}(r,t)?vl(r,ur(),e,i.transform,n,i):i.transform(n))}var yl=function(t){K(n,t);var e=$(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return tt(this,n),(t=e.call(this)).__isAsync=r,t}return nt(n,[{key:"emit",value:function(t){z(Z(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var i,o=function(t){return null},s=function(){return null};t&&"object"==typeof t?(i=this.__isAsync?function(e){setTimeout((function(){return t.next(e)}))}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout((function(){return t.error(e)}))}:function(e){t.error(e)}),t.complete&&(s=this.__isAsync?function(){setTimeout((function(){return t.complete()}))}:function(){t.complete()})):(i=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)},e&&(o=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)}),r&&(s=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var a=z(Z(n.prototype),"subscribe",this).call(this,i,o,s);return t instanceof at&&t.add(a),a}}]),n}(wt);function bl(){return this._results[ca()]()}var _l=function(){function t(){tt(this,t),this.dirty=!0,this._results=[],this.changes=new yl,this.length=0;var e=ca(),n=t.prototype;n[e]||(n[e]=bl)}return nt(t,[{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t){this._results=function t(e,n){void 0===n&&(n=e);for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),wl=function(){function t(e){tt(this,t),this.queryList=e,this.matches=null}return nt(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),kl=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];tt(this,t),this.queries=e}return nt(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new t(i)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==Vl(t,e).matches&&this.queries[e].setDirty()}}]),t}(),Cl=function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;tt(this,t),this.predicate=e,this.descendants=n,this.isStatic=r,this.read=i},El=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];tt(this,t),this.queries=e}return nt(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"track",value:function(t){this.queries.push(t)}},{key:"length",get:function(){return this.queries.length}}]),t}(),Sl=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;tt(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return nt(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&3===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(t,e,Il(e,i)),this.matchTNodeWithReadOption(t,e,ni(e,t,i,!1,!1))}else n===oc?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ni(e,t,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===Mu||r===ac||r===oc&&0===e.type)this.addMatch(e.index,-2);else{var i=ni(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function Il(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Tl(t,e,n,r){return-1===n?function(t,e){return 2===t.type||3===t.type?xs(Mu,t,e):0===t.type?Ns(oc,Mu,t,e):null}(e,t):-2===n?function(t,e,n){return n===Mu?xs(Mu,e,t):n===oc?Ns(oc,Mu,e,t):n===ac?Rs(ac,Mu,e,t):void 0}(t,e,r):ri(t,t[1],n,e)}function Al(t,e,n,r){var i=e[19].queries[r];if(null===i.matches){for(var o=t.data,s=n.matches,a=[],u=0;u<s.length;u+=2){var c=s[u];a.push(c<0?null:Tl(e,o[c],s[u+1],n.metadata.read))}i.matches=a}return i.matches}function Dl(t){var e=Zn(),n=tr(),r=pr();vr(r+1);var i=Vl(n,r);if(t.dirty&&Gn(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?function t(e,n,r,i){var o=e.queries.getByIndex(r),s=o.matches;if(null!==s)for(var a=Al(e,n,o,r),u=0;u<s.length;u+=2){var c=s[u];if(c>0)i.push(a[u/2]);else{for(var l=s[u+1],h=n[-c],f=10;f<h.length;f++){var d=h[f];d[17]===d[3]&&t(d[1],d,l,i)}if(null!==h[9])for(var p=h[9],v=0;v<p.length;v++){var g=p[v];t(g[1],g,l,i)}}}return i}(n,e,r,[]):Al(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Ol(t,e,n){xl(tr(),Zn(),t,e,n,!0)}function Pl(t,e,n){xl(tr(),Zn(),t,e,n,!1)}function xl(t,e,n,r,i,o){t.firstCreatePass&&(Ul(t,new Cl(n,r,o,i),-1),o&&(t.staticViewQueries=!0)),Ll(t,e)}function Nl(t,e,n,r){Fl(tr(),Zn(),e,n,r,!1,nr(),t)}function Rl(t,e,n,r){Fl(tr(),Zn(),e,n,r,!0,nr(),t)}function Fl(t,e,n,r,i,o,s,a){t.firstCreatePass&&(Ul(t,new Cl(n,r,o,i),s.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),o&&(t.staticContentQueries=!0)),Ll(t,e)}function Ml(){return t=Zn(),e=pr(),t[19].queries[e].queryList;var t,e}function Ll(t,e){var n=new _l;xo(t,e,n,n.destroy),null===e[19]&&(e[19]=new kl),e[19].queries.push(new wl(n))}function Ul(t,e,n){null===t.queries&&(t.queries=new El),t.queries.track(new Sl(e,n))}function Vl(t,e){return t.queries.getByIndex(e)}function jl(t,e){return Ns(oc,Mu,t,e)}var Bl=new Fe("Application Initializer"),ql=function(){var t=function(){function t(e){var n=this;tt(this,t),this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,e){n.resolve=t,n.reject=e}))}return nt(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();xa(i)&&e.push(i)}Promise.all(e).then((function(){n()})).catch((function(e){t.reject(e)})),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(He(Bl,8))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t}(),Wl=new Fe("AppId"),Hl={provide:Wl,useFactory:function(){return"".concat(zl()).concat(zl()).concat(zl())},deps:[]};function zl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Gl=new Fe("Platform Initializer"),Kl=new Fe("Platform ID"),Ql=new Fe("appBootstrapListener"),$l=function(){var t=function(){function t(){tt(this,t)}return nt(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t}(),Yl=new Fe("LocaleId"),Jl=new Fe("DefaultCurrencyCode"),Xl=function t(e,n){tt(this,t),this.ngModuleFactory=e,this.componentFactories=n},Zl=function(t){return new cl(t)},th=Zl,eh=function(t){return Promise.resolve(Zl(t))},nh=function(t){var e=Zl(t),n=Hr(wn(t).declarations).reduce((function(t,e){var n=bn(e);return n&&t.push(new dc(n)),t}),[]);return new Xl(e,n)},rh=nh,ih=function(t){return Promise.resolve(nh(t))},oh=function(){var t=function(){function t(){tt(this,t),this.compileModuleSync=th,this.compileModuleAsync=eh,this.compileModuleAndAllComponentsSync=rh,this.compileModuleAndAllComponentsAsync=ih}return nt(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t}(),sh=Promise.resolve(0);function ah(t){"undefined"==typeof Zone?sh.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var uh=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,s=e.shouldCoalesceEventChangeDetection,a=void 0!==s&&s;if(tt(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yl(!1),this.onMicrotaskEmpty=new yl(!1),this.onStable=new yl(!1),this.onError=new yl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=a,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=Te.requestAnimationFrame,e=Te.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Te,(function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",(function(){t.lastRequestAnimationFrameId=-1,fh(t),hh(t)}),void 0,(function(){}),(function(){}))),t.fakeTopEventTask.invoke()})),fh(t))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(t,e,i,o,s,a){try{return dh(n),t.invokeTask(i,o,s,a)}finally{r&&"eventTask"===o.type&&r(),ph(n)}},onInvoke:function(t,e,r,i,o,s,a){try{return dh(n),t.invoke(r,i,o,s,a)}finally{ph(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,fh(n),hh(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return nt(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,lh,ch,ch);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}();function ch(){}var lh={};function hh(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function fh(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function dh(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ph(t){t._nesting--,hh(t)}var vh,gh=function(){function t(){tt(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yl,this.onMicrotaskEmpty=new yl,this.onStable=new yl,this.onError=new yl}return nt(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),mh=function(){var t=function(){function t(e){var n=this;tt(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return nt(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){uh.assertNotInAngularZone(),ah((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())ah((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(t){return t.timeoutId!==i})),t(r._didWork,r.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(He(uh))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t}(),yh=function(){var t=function(){function t(){tt(this,t),this._applications=new Map,bh.addToWindow(this)}return nt(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return bh.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t}(),bh=new(function(){function t(){tt(this,t)}return nt(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),_h=new Fe("AllowMultipleToken"),wh=function t(e,n){tt(this,t),this.name=e,this.token=n};function kh(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: "+e,i=new Fe(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Ch();if(!o||o.injector.get(_h,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var s=n.concat(e).concat({provide:i,useValue:!0},{provide:Vs,useValue:"platform"});!function(t){if(vh&&!vh.destroyed&&!vh.injector.get(_h,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");vh=t.get(Eh);var e=t.get(Gl,null);e&&e.forEach((function(t){return t()}))}(Zs.create({providers:s,name:r}))}return function(t){var e=Ch();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Ch(){return vh&&!vh.destroyed?vh:null}var Eh=function(){var t=function(){function t(e){tt(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return nt(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r=e&&e.ngZoneEventCoalescing||!1,"noop"===n?new gh:("zone.js"===n?void 0:n)||new uh({enableLongStackTrace:yi(),shouldCoalesceEventChangeDetection:r})),s=[{provide:uh,useValue:o}];return o.run((function(){var e=Zs.create({providers:s,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(fi,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return Ah(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(t){r.handleError(t)}})})),function(t,e,r){try{var o=((s=n.injector.get(ql)).runInitializers(),s.donePromise.then((function(){return Ec(n.injector.get(Yl,"en-US")||"en-US"),i._moduleDoBootstrap(n),n})));return xa(o)?o.catch((function(n){throw e.runOutsideAngular((function(){return t.handleError(n)})),n})):o}catch(a){throw e.runOutsideAngular((function(){return t.handleError(a)})),a}var s}(r,o)}))}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Sh({},n);return function(t,e,n){var r=new cl(n);return Promise.resolve(r)}(0,0,t).then((function(t){return e.bootstrapModuleFactory(t,r)}))}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(Th);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(ge(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(He(Zs))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t}();function Sh(t,e){return Array.isArray(e)?e.reduce(Sh,t):Object.assign(Object.assign({},t),e)}var Ih,Th=((Ih=function(){function t(e,n,r,i,o,s){var a=this;tt(this,t),this._zone=e,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=yi(),this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run((function(){a.tick()}))}});var u=new vt((function(t){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular((function(){t.next(a._stable),t.complete()}))})),c=new vt((function(t){var e;a._zone.runOutsideAngular((function(){e=a._zone.onStable.subscribe((function(){uh.assertNotInAngularZone(),ah((function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,t.next(!0))}))}))}));var n=a._zone.onUnstable.subscribe((function(){uh.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=qt(u,c.pipe(Yt()))}return nt(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Nu?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(Qe),o=n.create(Zs.NULL,[],e||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var s=o.injector.get(mh,null);return s&&o.injector.get(yh).registerApplication(o.location.nativeElement,s),this._loadComponent(o),yi()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=B(this._views);try{for(n.s();!(e=n.n()).done;)e.value.detectChanges()}catch(o){n.e(o)}finally{n.f()}if(this._enforceNoNewChanges){var r,i=B(this._views);try{for(i.s();!(r=i.n()).done;)r.value.checkNoChanges()}catch(o){i.e(o)}finally{i.f()}}}catch(s){this._zone.runOutsideAngular((function(){return t._exceptionHandler.handleError(s)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;Ah(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ql,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))}},{key:"_unloadComponent",value:function(t){this.detachView(t.hostView),Ah(this.components,t)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(t){return t.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),t}()).\u0275fac=function(t){return new(t||Ih)(He(uh),He($l),He(Zs),He(fi),He(Fu),He(ql))},Ih.\u0275prov=se({token:Ih,factory:Ih.\u0275fac}),Ih);function Ah(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Dh=function t(){tt(this,t)},Oh=function t(){tt(this,t)},Ph={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},xh=function(){var t=function(){function t(e,n){tt(this,t),this._compiler=e,this._config=n||Ph}return nt(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var e=this,n=V(t.split("#"),2),r=n[0],i=n[1];return void 0===i&&(i="default"),q("zn8P")(r).then((function(t){return t[i]})).then((function(t){return Nh(t,r,i)})).then((function(t){return e._compiler.compileModuleAsync(t)}))}},{key:"loadFactory",value:function(t){var e=V(t.split("#"),2),n=e[0],r=e[1],i="NgFactory";return void 0===r&&(r="default",i=""),q("zn8P")(this._config.factoryPathPrefix+n+this._config.factoryPathSuffix).then((function(t){return t[r+i]})).then((function(t){return Nh(t,n,r)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(He(oh),He(Oh,8))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t}();function Nh(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var Rh=kh(null,"core",[{provide:Kl,useValue:"unknown"},{provide:Eh,deps:[Zs]},{provide:yh,deps:[]},{provide:$l,deps:[]}]),Fh=[{provide:Th,useClass:Th,deps:[uh,$l,Zs,fi,Fu,ql]},{provide:fc,deps:[uh],useFactory:function(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}},{provide:ql,useClass:ql,deps:[[new te,Bl]]},{provide:oh,useClass:oh,deps:[]},Hl,{provide:tc,useFactory:function(){return rc},deps:[]},{provide:ec,useFactory:function(){return ic},deps:[]},{provide:Yl,useFactory:function(t){return Ec(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new Zt(Yl),new te,new ne]]},{provide:Jl,useValue:"USD"}],Mh=function(){var t=function t(e){tt(this,t)};return t.\u0275mod=vn({type:t}),t.\u0275inj=ae({factory:function(e){return new(e||t)(He(Th))},providers:Fh}),t}(),Lh=function(t){return t.ITEMS="items",t.USERS="users",t.EVENTS="evts",t.COURSES="crs",t}({}),Uh=function(t){return t.QUERY="k",t.CATEGORY="cat",t.ITEM="i",t.SORT_OPTION="s_o",t}({}),Vh=function(t){return t.NAME="Toutes les cat\xe9gories",t.ID="0",t}({}),jh=null;function Bh(){return jh}var qh,Wh=new Fe("DocumentToken"),Hh=((qh=function t(){tt(this,t)}).\u0275fac=function(t){return new(t||qh)},qh.\u0275prov=se({factory:zh,token:qh,providedIn:"platform"}),qh);function zh(){return He(Qh)}var Gh,Kh=new Fe("Location Initialized"),Qh=((Gh=function(t){K(n,t);var e=$(n);function n(t){var r;return tt(this,n),(r=e.call(this))._doc=t,r._init(),r}return nt(n,[{key:"_init",value:function(){this.location=Bh().getLocation(),this._history=Bh().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return Bh().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){Bh().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){Bh().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"pushState",value:function(t,e,n){$h()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){$h()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(Hh)).\u0275fac=function(t){return new(t||Gh)(He(Wh))},Gh.\u0275prov=se({factory:Yh,token:Gh,providedIn:"platform"}),Gh);function $h(){return!!window.history.pushState}function Yh(){return new Qh(He(Wh))}function Jh(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Xh(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Zh(t){return t&&"?"!==t[0]?"?"+t:t}var tf,ef=((tf=function t(){tt(this,t)}).\u0275fac=function(t){return new(t||tf)},tf.\u0275prov=se({factory:nf,token:tf,providedIn:"root"}),tf);function nf(t){var e=He(Wh).location;return new uf(He(Hh),e&&e.origin||"")}var rf,of,sf,af=new Fe("appBaseHref"),uf=((sf=function(t){K(n,t);var e=$(n);function n(t,r){var i;if(tt(this,n),(i=e.call(this))._platformLocation=t,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,Y(i)}return nt(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return Jh(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+Zh(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+Zh(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+Zh(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(ef)).\u0275fac=function(t){return new(t||sf)(He(Hh),He(af,8))},sf.\u0275prov=se({token:sf,factory:sf.\u0275fac}),sf),cf=((of=function(t){K(n,t);var e=$(n);function n(t,r){var i;return tt(this,n),(i=e.call(this))._platformLocation=t,i._baseHref="",null!=r&&(i._baseHref=r),i}return nt(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=Jh(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+Zh(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+Zh(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(ef)).\u0275fac=function(t){return new(t||of)(He(Hh),He(af,8))},of.\u0275prov=se({token:of,factory:of.\u0275fac}),of),lf=((rf=function(){function t(e,n){var r=this;tt(this,t),this._subject=new yl,this._urlChangeListeners=[],this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=Xh(ff(i)),this._platformStrategy.onPopState((function(t){r._subject.emit({url:r.path(!0),pop:!0,state:t.state,type:t.type})}))}return nt(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+Zh(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,ff(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Zh(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Zh(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe((function(t){e._notifyUrlChangeListeners(t.url,t.state)})))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(t,e)}))}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}()).\u0275fac=function(t){return new(t||rf)(He(ef),He(Hh))},rf.normalizeQueryParams=Zh,rf.joinWithSlash=Jh,rf.stripTrailingSlash=Xh,rf.\u0275prov=se({factory:hf,token:rf,providedIn:"root"}),rf);function hf(){return new lf(He(ef),He(Hh))}function ff(t){return t.replace(/\/index.html$/,"")}var df={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},pf=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),vf=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),gf=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),mf=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),yf=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),bf=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function _f(t,e,n){var r=yc(t),i=Of([r[wc.DayPeriodsFormat],r[wc.DayPeriodsStandalone]],e);return Of(i,n)}function wf(t,e,n){var r=yc(t),i=Of([r[wc.DaysFormat],r[wc.DaysStandalone]],e);return Of(i,n)}function kf(t,e,n){var r=yc(t),i=Of([r[wc.MonthsFormat],r[wc.MonthsStandalone]],e);return Of(i,n)}function Cf(t,e){return Of(yc(t)[wc.DateFormat],e)}function Ef(t,e){return Of(yc(t)[wc.TimeFormat],e)}function Sf(t,e){return Of(yc(t)[wc.DateTimeFormat],e)}function If(t,e){var n=yc(t),r=n[wc.NumberSymbols][e];if(void 0===r){if(e===bf.CurrencyDecimal)return n[wc.NumberSymbols][bf.Decimal];if(e===bf.CurrencyGroup)return n[wc.NumberSymbols][bf.Group]}return r}function Tf(t,e){return yc(t)[wc.NumberFormats][e]}var Af=bc;function Df(t){if(!t[wc.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(t[wc.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function Of(t,e){for(var n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function Pf(t){var e=V(t.split(":"),2);return{hours:+e[0],minutes:+e[1]}}var xf=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Nf={},Rf=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Ff=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),Mf=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),Lf=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function Uf(t,e,n,r){var i=function(t){if(Kf(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();var e,n=parseFloat(t);if(!isNaN(t-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){var r=V(t.split("-").map((function(t){return+t})),3),i=r[0],o=r[1],s=r[2];return new Date(i,o-1,s)}if(e=t.match(xf))return function(t){var e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));var s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,u,c),e}(e)}var a=new Date(t);if(!Kf(a))throw new Error('Unable to convert "'.concat(t,'" into a date'));return a}(t);e=function t(e,n){var r=function(t){return yc(t)[wc.LocaleId]}(e);if(Nf[r]=Nf[r]||{},Nf[r][n])return Nf[r][n];var i="";switch(n){case"shortDate":i=Cf(e,yf.Short);break;case"mediumDate":i=Cf(e,yf.Medium);break;case"longDate":i=Cf(e,yf.Long);break;case"fullDate":i=Cf(e,yf.Full);break;case"shortTime":i=Ef(e,yf.Short);break;case"mediumTime":i=Ef(e,yf.Medium);break;case"longTime":i=Ef(e,yf.Long);break;case"fullTime":i=Ef(e,yf.Full);break;case"short":var o=t(e,"shortTime"),s=t(e,"shortDate");i=Vf(Sf(e,yf.Short),[o,s]);break;case"medium":var a=t(e,"mediumTime"),u=t(e,"mediumDate");i=Vf(Sf(e,yf.Medium),[a,u]);break;case"long":var c=t(e,"longTime"),l=t(e,"longDate");i=Vf(Sf(e,yf.Long),[c,l]);break;case"full":var h=t(e,"fullTime"),f=t(e,"fullDate");i=Vf(Sf(e,yf.Full),[h,f])}return i&&(Nf[r][n]=i),i}(n,e)||e;for(var o,s=[];e;){if(!(o=Rf.exec(e))){s.push(e);break}var a=(s=s.concat(o.slice(1))).pop();if(!a)break;e=a}var u=i.getTimezoneOffset();r&&(u=Gf(r,u),i=function(t,e,n){var r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(Gf(e,r)-r))}(i,r));var c="";return s.forEach((function(t){var e=function(t){if(zf[t])return zf[t];var e;switch(t){case"G":case"GG":case"GGG":e=qf(Lf.Eras,mf.Abbreviated);break;case"GGGG":e=qf(Lf.Eras,mf.Wide);break;case"GGGGG":e=qf(Lf.Eras,mf.Narrow);break;case"y":e=Bf(Mf.FullYear,1,0,!1,!0);break;case"yy":e=Bf(Mf.FullYear,2,0,!0,!0);break;case"yyy":e=Bf(Mf.FullYear,3,0,!1,!0);break;case"yyyy":e=Bf(Mf.FullYear,4,0,!1,!0);break;case"M":case"L":e=Bf(Mf.Month,1,1);break;case"MM":case"LL":e=Bf(Mf.Month,2,1);break;case"MMM":e=qf(Lf.Months,mf.Abbreviated);break;case"MMMM":e=qf(Lf.Months,mf.Wide);break;case"MMMMM":e=qf(Lf.Months,mf.Narrow);break;case"LLL":e=qf(Lf.Months,mf.Abbreviated,gf.Standalone);break;case"LLLL":e=qf(Lf.Months,mf.Wide,gf.Standalone);break;case"LLLLL":e=qf(Lf.Months,mf.Narrow,gf.Standalone);break;case"w":e=Hf(1);break;case"ww":e=Hf(2);break;case"W":e=Hf(1,!0);break;case"d":e=Bf(Mf.Date,1);break;case"dd":e=Bf(Mf.Date,2);break;case"E":case"EE":case"EEE":e=qf(Lf.Days,mf.Abbreviated);break;case"EEEE":e=qf(Lf.Days,mf.Wide);break;case"EEEEE":e=qf(Lf.Days,mf.Narrow);break;case"EEEEEE":e=qf(Lf.Days,mf.Short);break;case"a":case"aa":case"aaa":e=qf(Lf.DayPeriods,mf.Abbreviated);break;case"aaaa":e=qf(Lf.DayPeriods,mf.Wide);break;case"aaaaa":e=qf(Lf.DayPeriods,mf.Narrow);break;case"b":case"bb":case"bbb":e=qf(Lf.DayPeriods,mf.Abbreviated,gf.Standalone,!0);break;case"bbbb":e=qf(Lf.DayPeriods,mf.Wide,gf.Standalone,!0);break;case"bbbbb":e=qf(Lf.DayPeriods,mf.Narrow,gf.Standalone,!0);break;case"B":case"BB":case"BBB":e=qf(Lf.DayPeriods,mf.Abbreviated,gf.Format,!0);break;case"BBBB":e=qf(Lf.DayPeriods,mf.Wide,gf.Format,!0);break;case"BBBBB":e=qf(Lf.DayPeriods,mf.Narrow,gf.Format,!0);break;case"h":e=Bf(Mf.Hours,1,-12);break;case"hh":e=Bf(Mf.Hours,2,-12);break;case"H":e=Bf(Mf.Hours,1);break;case"HH":e=Bf(Mf.Hours,2);break;case"m":e=Bf(Mf.Minutes,1);break;case"mm":e=Bf(Mf.Minutes,2);break;case"s":e=Bf(Mf.Seconds,1);break;case"ss":e=Bf(Mf.Seconds,2);break;case"S":e=Bf(Mf.FractionalSeconds,1);break;case"SS":e=Bf(Mf.FractionalSeconds,2);break;case"SSS":e=Bf(Mf.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Wf(Ff.Short);break;case"ZZZZZ":e=Wf(Ff.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Wf(Ff.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Wf(Ff.Long);break;default:return null}return zf[t]=e,e}(t);c+=e?e(i,n,u):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),c}function Vf(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function jf(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));for(var s=String(t);s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function Bf(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(o,s){var a,u=function(t,e){switch(t){case Mf.FullYear:return e.getFullYear();case Mf.Month:return e.getMonth();case Mf.Date:return e.getDate();case Mf.Hours:return e.getHours();case Mf.Minutes:return e.getMinutes();case Mf.Seconds:return e.getSeconds();case Mf.FractionalSeconds:return e.getMilliseconds();case Mf.Day:return e.getDay();default:throw new Error('Unknown DateType value "'.concat(t,'".'))}}(t,o);if((n>0||u>-n)&&(u+=n),t===Mf.Hours)0===u&&-12===n&&(u=12);else if(t===Mf.FractionalSeconds)return a=e,jf(u,3).substr(0,a);var c=If(s,bf.MinusSign);return jf(u,e,c,r,i)}}function qf(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gf.Format,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(i,o){return function(t,e,n,r,i,o){switch(n){case Lf.Months:return kf(e,i,r)[t.getMonth()];case Lf.Days:return wf(e,i,r)[t.getDay()];case Lf.DayPeriods:var s=t.getHours(),a=t.getMinutes();if(o){var u=function(t){var e=yc(t);return Df(e),(e[wc.ExtraData][2]||[]).map((function(t){return"string"==typeof t?Pf(t):[Pf(t[0]),Pf(t[1])]}))}(e),c=function(t,e,n){var r=yc(t);Df(r);var i=Of([r[wc.ExtraData][0],r[wc.ExtraData][1]],e)||[];return Of(i,n)||[]}(e,i,r),l=u.findIndex((function(t){if(Array.isArray(t)){var e=V(t,2),n=e[0],r=e[1],i=s>=n.hours&&a>=n.minutes,o=s<r.hours||s===r.hours&&a<r.minutes;if(n.hours<r.hours){if(i&&o)return!0}else if(i||o)return!0}else if(t.hours===s&&t.minutes===a)return!0;return!1}));if(-1!==l)return c[l]}return _f(e,i,r)[s<12?0:1];case Lf.Eras:return function(t,e){return Of(yc(t)[wc.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(i,o,t,e,n,r)}}function Wf(t){return function(e,n,r){var i=-1*r,o=If(n,bf.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Ff.Short:return(i>=0?"+":"")+jf(s,2,o)+jf(Math.abs(i%60),2,o);case Ff.ShortGMT:return"GMT"+(i>=0?"+":"")+jf(s,1,o);case Ff.Long:return"GMT"+(i>=0?"+":"")+jf(s,2,o)+":"+jf(Math.abs(i%60),2,o);case Ff.Extended:return 0===r?"Z":(i>=0?"+":"")+jf(s,2,o)+":"+jf(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'.concat(t,'"'))}}}function Hf(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var i,o,s,a;if(e){var u=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,c=n.getDate();i=1+Math.floor((c+u)/7)}else{var l=(a=n,new Date(a.getFullYear(),a.getMonth(),a.getDate()+(4-a.getDay()))),h=(o=l.getFullYear(),s=new Date(o,0,1).getDay(),new Date(o,0,1+(s<=4?4:11)-s)),f=l.getTime()-h.getTime();i=1+Math.round(f/6048e5)}return jf(i,t,If(r,bf.MinusSign))}}var zf={};function Gf(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Kf(t){return t instanceof Date&&!isNaN(t.valueOf())}var Qf=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function $f(t,e,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a="",u=!1;if(isFinite(t)){var c=function(t){var e,n,r,i,o,s=Math.abs(t)+"",a=0;for((n=s.indexOf("."))>-1&&(s=s.replace(".","")),(r=s.search(/e/i))>0?(n<0&&(n=r),n+=+s.slice(r+1),s=s.substring(0,r)):n<0&&(n=s.length),r=0;"0"===s.charAt(r);r++);if(r===(o=s.length))e=[0],n=1;else{for(o--;"0"===s.charAt(o);)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=Number(s.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);s&&(c=function(t){if(0===t.digits[0])return t;var e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));var l=e.minInt,h=e.minFrac,f=e.maxFrac;if(o){var d=o.match(Qf);if(null===d)throw new Error(o+" is not a valid digit info");var p=d[1],v=d[3],g=d[5];null!=p&&(l=Jf(p)),null!=v&&(h=Jf(v)),null!=g?f=Jf(g):null!=v&&h>f&&(f=h)}!function(t,e,n){if(e>n)throw new Error("The minimum number of digits after fraction (".concat(e,") is higher than the maximum (").concat(n,")."));var r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(var u=s;u<r.length;u++)r[u]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(var c=1;c<s;c++)r[c]=0}if(a>=5)if(s-1<0){for(var l=0;l>s;l--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);var h=0!==o,f=e+t.integerLen,d=r.reduceRight((function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,h&&(0===r[n]&&n>=f?r.pop():h=!1),e>=10?1:0}),0);d&&(r.unshift(d),t.integerLen++)}(c,h,f);var m=c.digits,y=c.integerLen,b=c.exponent,_=[];for(u=m.every((function(t){return!t}));y<l;y++)m.unshift(0);for(;y<0;y++)m.unshift(0);y>0?_=m.splice(y,m.length):(_=m,m=[0]);var w=[];for(m.length>=e.lgSize&&w.unshift(m.splice(-e.lgSize,m.length).join(""));m.length>e.gSize;)w.unshift(m.splice(-e.gSize,m.length).join(""));m.length&&w.unshift(m.join("")),a=w.join(If(n,r)),_.length&&(a+=If(n,i)+_.join("")),b&&(a+=If(n,bf.Exponential)+"+"+b)}else a=If(n,bf.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf}function Yf(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=s[0],u=s[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(var c=0;c<u.length;c++){var l=u.charAt(c);"0"===l?n.minFrac=n.maxFrac=c+1:"#"===l?n.maxFrac=c+1:n.posSuf+=l}var h=a.split(",");if(n.gSize=h[1]?h[1].length:0,n.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,o){var f=i.length-n.posPre.length-n.posSuf.length,d=o.indexOf("#");n.negPre=o.substr(0,d).replace(/'/g,""),n.negSuf=o.substr(d+f).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function Jf(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}var Xf=function t(){tt(this,t)};function Zf(t,e,n,r){var i="="+t;if(e.indexOf(i)>-1)return i;if(i=n.getPluralCategory(t,r),e.indexOf(i)>-1)return i;if(e.indexOf("other")>-1)return"other";throw new Error('No plural message found for value "'.concat(t,'"'))}var td,ed=((td=function(t){K(n,t);var e=$(n);function n(t){var r;return tt(this,n),(r=e.call(this)).locale=t,r}return nt(n,[{key:"getPluralCategory",value:function(t,e){switch(Af(e||this.locale)(t)){case vf.Zero:return"zero";case vf.One:return"one";case vf.Two:return"two";case vf.Few:return"few";case vf.Many:return"many";default:return"other"}}}]),n}(Xf)).\u0275fac=function(t){return new(t||td)(He(Yl))},td.\u0275prov=se({token:td,factory:td.\u0275fac}),td);function nd(t,e){e=encodeURIComponent(e);var n,r=B(t.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),s=V(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),a=s[0],u=s[1];if(a.trim()===e)return decodeURIComponent(u)}}catch(c){r.e(c)}finally{r.f()}return null}var rd,id,od,sd,ad=((id=function(){function t(e,n,r,i){tt(this,t),this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return nt(t,[{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}},{key:"_applyKeyValueChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachChangedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachRemovedItem((function(t){t.previousValue&&e._toggleClass(t.key,!1)}))}},{key:"_applyIterableChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+ge(t.item));e._toggleClass(t.item,!0)})),t.forEachRemovedItem((function(t){return e._toggleClass(t.item,!1)}))}},{key:"_applyClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!0)})):Object.keys(t).forEach((function(n){return e._toggleClass(n,!!t[n])})))}},{key:"_removeClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!1)})):Object.keys(t).forEach((function(t){return e._toggleClass(t,!1)})))}},{key:"_toggleClass",value:function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach((function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)}))}},{key:"klass",set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(ha(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}}]),t}()).\u0275fac=function(t){return new(t||id)(ka(tc),ka(ec),ka(Mu),ka(ju))},id.\u0275dir=mn({type:id,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),id),ud=((rd=function(){function t(e){tt(this,t),this._viewContainerRef=e,this._componentRef=null,this._moduleRef=null}return nt(t,[{key:"ngOnChanges",value:function(t){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){var e=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(t.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){var n=e.get(Qe);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(n.injector)}else this._moduleRef=null;var r=(this._moduleRef?this._moduleRef.componentFactoryResolver:e.get(Fu)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(r,this._viewContainerRef.length,e,this.ngComponentOutletContent)}}},{key:"ngOnDestroy",value:function(){this._moduleRef&&this._moduleRef.destroy()}}]),t}()).\u0275fac=function(t){return new(t||rd)(ka(ac))},rd.\u0275dir=mn({type:rd,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[On]}),rd),cd=function(){function t(e,n,r,i){tt(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return nt(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),ld=((od=function(){function t(e,n,r){tt(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return nt(t,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation((function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new cd(null,e._ngForOf,-1,-1),null===i?void 0:i),s=new hd(t,o);n.push(s)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var a=e._viewContainer.get(r);e._viewContainer.move(a,i);var u=new hd(t,a);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var s=this._viewContainer.get(i);s.context.index=i,s.context.count=o,s.context.ngForOf=this._ngForOf}t.forEachIdentityChange((function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item}))}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}},{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(t){yi()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(t),". See https://angular.io/api/common/NgForOf#change-propagation for more information.")),this._trackByFn=t},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||od)(ka(ac),ka(oc),ka(tc))},od.\u0275dir=mn({type:od,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),od),hd=function t(e,n){tt(this,t),this.record=e,this.view=n},fd=((sd=function(){function t(e,n){tt(this,t),this._viewContainer=e,this._context=new dd,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return nt(t,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){pd("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){pd("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||sd)(ka(ac),ka(oc))},sd.\u0275dir=mn({type:sd,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),sd),dd=function t(){tt(this,t),this.$implicit=null,this.ngIf=null};function pd(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(ge(e),"'."))}var vd,gd,md,yd,bd,_d,wd,kd=function(){function t(e,n){tt(this,t),this._viewContainerRef=e,this._templateRef=n,this._created=!1}return nt(t,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}]),t}(),Cd=((wd=function(){function t(){tt(this,t),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return nt(t,[{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}},{key:"_matchCase",value:function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}},{key:"_updateDefaultCases",value:function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}},{key:"ngSwitch",set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}}]),t}()).\u0275fac=function(t){return new(t||wd)},wd.\u0275dir=mn({type:wd,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),wd),Ed=((_d=function(){function t(e,n,r){tt(this,t),this.ngSwitch=r,r._addCase(),this._view=new kd(e,n)}return nt(t,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),t}()).\u0275fac=function(t){return new(t||_d)(ka(ac),ka(oc),ka(Cd,1))},_d.\u0275dir=mn({type:_d,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),_d),Sd=((bd=function t(e,n,r){tt(this,t),r._addDefault(new kd(e,n))}).\u0275fac=function(t){return new(t||bd)(ka(ac),ka(oc),ka(Cd,1))},bd.\u0275dir=mn({type:bd,selectors:[["","ngSwitchDefault",""]]}),bd),Id=((yd=function(){function t(e){tt(this,t),this._localization=e,this._caseViews={}}return nt(t,[{key:"addCase",value:function(t,e){this._caseViews[t]=e}},{key:"_updateView",value:function(){this._clearViews();var t=Object.keys(this._caseViews),e=Zf(this._switchValue,t,this._localization);this._activateView(this._caseViews[e])}},{key:"_clearViews",value:function(){this._activeView&&this._activeView.destroy()}},{key:"_activateView",value:function(t){t&&(this._activeView=t,this._activeView.create())}},{key:"ngPlural",set:function(t){this._switchValue=t,this._updateView()}}]),t}()).\u0275fac=function(t){return new(t||yd)(ka(Xf))},yd.\u0275dir=mn({type:yd,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}}),yd),Td=((md=function t(e,n,r,i){tt(this,t),this.value=e;var o=!isNaN(Number(e));i.addCase(o?"="+e:e,new kd(r,n))}).\u0275fac=function(t){return new(t||md)(Ca("ngPluralCase"),ka(oc),ka(ac),ka(Id,1))},md.\u0275dir=mn({type:md,selectors:[["","ngPluralCase",""]]}),md),Ad=((gd=function(){function t(e,n,r){tt(this,t),this._ngEl=e,this._differs=n,this._renderer=r,this._ngStyle=null,this._differ=null}return nt(t,[{key:"ngDoCheck",value:function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}},{key:"_setStyle",value:function(t,e){var n=V(t.split("."),2),r=n[0],i=n[1];null!=(e=null!=e&&i?"".concat(e).concat(i):e)?this._renderer.setStyle(this._ngEl.nativeElement,r,e):this._renderer.removeStyle(this._ngEl.nativeElement,r)}},{key:"_applyChanges",value:function(t){var e=this;t.forEachRemovedItem((function(t){return e._setStyle(t.key,null)})),t.forEachAddedItem((function(t){return e._setStyle(t.key,t.currentValue)})),t.forEachChangedItem((function(t){return e._setStyle(t.key,t.currentValue)}))}},{key:"ngStyle",set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}}]),t}()).\u0275fac=function(t){return new(t||gd)(ka(Mu),ka(ec),ka(ju))},gd.\u0275dir=mn({type:gd,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),gd),Dd=((vd=function(){function t(e){tt(this,t),this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return nt(t,[{key:"ngOnChanges",value:function(t){if(this._shouldRecreateView(t)){var e=this._viewContainerRef;this._viewRef&&e.remove(e.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?e.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}},{key:"_shouldRecreateView",value:function(t){var e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}},{key:"_hasContextShapeChanged",value:function(t){var e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){var r,i=B(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(-1===e.indexOf(o))return!0}}catch(s){i.e(s)}finally{i.f()}return!1}return!0}},{key:"_updateExistingContext",value:function(t){for(var e=0,n=Object.keys(t);e<n.length;e++){var r=n[e];this._viewRef.context[r]=this.ngTemplateOutletContext[r]}}}]),t}()).\u0275fac=function(t){return new(t||vd)(ka(ac))},vd.\u0275dir=mn({type:vd,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[On]}),vd);function Od(t,e){return Error("InvalidPipeArgument: '".concat(e,"' for pipe '").concat(ge(t),"'"))}var Pd,xd,Nd,Rd,Fd,Md,Ld,Ud,Vd,jd=function(){function t(){tt(this,t)}return nt(t,[{key:"createSubscription",value:function(t,e){return t.subscribe({next:e,error:function(t){throw t}})}},{key:"dispose",value:function(t){t.unsubscribe()}},{key:"onDestroy",value:function(t){t.unsubscribe()}}]),t}(),Bd=new(function(){function t(){tt(this,t)}return nt(t,[{key:"createSubscription",value:function(t,e){return t.then(e,(function(t){throw t}))}},{key:"dispose",value:function(t){}},{key:"onDestroy",value:function(t){}}]),t}()),qd=new jd,Wd=((xd=function(){function t(e){tt(this,t),this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}return nt(t,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}},{key:"_subscribe",value:function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,(function(n){return e._updateLatestValue(t,n)}))}},{key:"_selectStrategy",value:function(e){if(xa(e))return Bd;if(Na(e))return qd;throw Od(t,e)}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}]),t}()).\u0275fac=function(t){return new(t||xd)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re.Default,e=Fs(!0);if(null!=e||t&re.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}())},xd.\u0275pipe=yn({name:"async",type:xd,pure:!1}),xd),Hd=((Pd=function(){function t(){tt(this,t)}return nt(t,[{key:"transform",value:function(e){if(!e)return e;if("string"!=typeof e)throw Od(t,e);return e.toLowerCase()}}]),t}()).\u0275fac=function(t){return new(t||Pd)},Pd.\u0275pipe=yn({name:"lowercase",type:Pd,pure:!0}),Pd),zd=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g,Gd=((Fd=function(){function t(){tt(this,t)}return nt(t,[{key:"transform",value:function(e){if(!e)return e;if("string"!=typeof e)throw Od(t,e);return e.replace(zd,(function(t){return t[0].toUpperCase()+t.substr(1).toLowerCase()}))}}]),t}()).\u0275fac=function(t){return new(t||Fd)},Fd.\u0275pipe=yn({name:"titlecase",type:Fd,pure:!0}),Fd),Kd=((Rd=function(){function t(){tt(this,t)}return nt(t,[{key:"transform",value:function(e){if(!e)return e;if("string"!=typeof e)throw Od(t,e);return e.toUpperCase()}}]),t}()).\u0275fac=function(t){return new(t||Rd)},Rd.\u0275pipe=yn({name:"uppercase",type:Rd,pure:!0}),Rd),Qd=((Nd=function(){function t(e){tt(this,t),this.locale=e}return nt(t,[{key:"transform",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(null==e||""===e||e!=e)return null;try{return Uf(e,n,i||this.locale,r)}catch(o){throw Od(t,o.message)}}}]),t}()).\u0275fac=function(t){return new(t||Nd)(ka(Yl))},Nd.\u0275pipe=yn({name:"date",type:Nd,pure:!0}),Nd),$d=/#/g,Yd=((Vd=function(){function t(e){tt(this,t),this._localization=e}return nt(t,[{key:"transform",value:function(e,n,r){if(null==e)return"";if("object"!=typeof n||null===n)throw Od(t,n);return n[Zf(e,Object.keys(n),this._localization,r)].replace($d,e.toString())}}]),t}()).\u0275fac=function(t){return new(t||Vd)(ka(Xf))},Vd.\u0275pipe=yn({name:"i18nPlural",type:Vd,pure:!0}),Vd),Jd=((Ud=function(){function t(){tt(this,t)}return nt(t,[{key:"transform",value:function(e,n){if(null==e)return"";if("object"!=typeof n||"string"!=typeof e)throw Od(t,n);return n.hasOwnProperty(e)?n[e]:n.hasOwnProperty("other")?n.other:""}}]),t}()).\u0275fac=function(t){return new(t||Ud)},Ud.\u0275pipe=yn({name:"i18nSelect",type:Ud,pure:!0}),Ud),Xd=((Ld=function(){function t(){tt(this,t)}return nt(t,[{key:"transform",value:function(t){return JSON.stringify(t,null,2)}}]),t}()).\u0275fac=function(t){return new(t||Ld)},Ld.\u0275pipe=yn({name:"json",type:Ld,pure:!1}),Ld),Zd=((Md=function(){function t(e){tt(this,t),this.differs=e,this.keyValues=[]}return nt(t,[{key:"transform",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tp;if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());var r=this.differ.diff(t);return r&&(this.keyValues=[],r.forEachItem((function(t){e.keyValues.push({key:t.key,value:t.currentValue})})),this.keyValues.sort(n)),this.keyValues}}]),t}()).\u0275fac=function(t){return new(t||Md)(ka(ec))},Md.\u0275pipe=yn({name:"keyvalue",type:Md,pure:!1}),Md);function tp(t,e){var n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;var i=String(n),o=String(r);return i==o?0:i<o?-1:1}var ep,np,rp,ip=((rp=function(){function t(e){tt(this,t),this._locale=e}return nt(t,[{key:"transform",value:function(e,n,r){if(ap(e))return null;r=r||this._locale;try{return function(t,e,n){return $f(t,Yf(Tf(e,pf.Decimal),If(e,bf.MinusSign)),e,bf.Group,bf.Decimal,n)}(up(e),r,n)}catch(i){throw Od(t,i.message)}}}]),t}()).\u0275fac=function(t){return new(t||rp)(ka(Yl))},rp.\u0275pipe=yn({name:"number",type:rp,pure:!0}),rp),op=((np=function(){function t(e){tt(this,t),this._locale=e}return nt(t,[{key:"transform",value:function(e,n,r){if(ap(e))return null;r=r||this._locale;try{return function(t,e,n){return $f(t,Yf(Tf(e,pf.Percent),If(e,bf.MinusSign)),e,bf.Group,bf.Decimal,n,!0).replace(new RegExp("%","g"),If(e,bf.PercentSign))}(up(e),r,n)}catch(i){throw Od(t,i.message)}}}]),t}()).\u0275fac=function(t){return new(t||np)(ka(Yl))},np.\u0275pipe=yn({name:"percent",type:np,pure:!0}),np),sp=((ep=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";tt(this,t),this._locale=e,this._defaultCurrencyCode=n}return nt(t,[{key:"transform",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"symbol",i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(ap(e))return null;o=o||this._locale,"boolean"==typeof r&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),r=r?"symbol":"code");var s=n||this._defaultCurrencyCode;"code"!==r&&(s="symbol"===r||"symbol-narrow"===r?function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",r=function(t){return yc(t)[wc.Currencies]}(n)[t]||df[t]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||t}(s,"symbol"===r?"wide":"narrow",o):r);try{return function(t,e,n,r,i){var o=Yf(Tf(e,pf.Currency),If(e,bf.MinusSign));return o.minFrac=function(t){var e,n=df[t];return n&&(e=n[2]),"number"==typeof e?e:2}(r),o.maxFrac=o.minFrac,$f(t,o,e,bf.CurrencyGroup,bf.CurrencyDecimal,i).replace("\xa4",n).replace("\xa4","").trim()}(up(e),o,s,n,i)}catch(a){throw Od(t,a.message)}}}]),t}()).\u0275fac=function(t){return new(t||ep)(ka(Yl),ka(Jl))},ep.\u0275pipe=yn({name:"currency",type:ep,pure:!0}),ep);function ap(t){return null==t||""===t||t!=t}function up(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}var cp,lp,hp,fp=((hp=function(){function t(){tt(this,t)}return nt(t,[{key:"transform",value:function(e,n,r){if(null==e)return e;if(!this.supports(e))throw Od(t,e);return e.slice(n,r)}},{key:"supports",value:function(t){return"string"==typeof t||Array.isArray(t)}}]),t}()).\u0275fac=function(t){return new(t||hp)},hp.\u0275pipe=yn({name:"slice",type:hp,pure:!1}),hp),dp=((lp=function t(){tt(this,t)}).\u0275mod=vn({type:lp}),lp.\u0275inj=ae({factory:function(t){return new(t||lp)},providers:[{provide:Xf,useClass:ed}]}),lp),pp=((cp=function t(){tt(this,t)}).\u0275prov=se({token:cp,providedIn:"root",factory:function(){return new vp(He(Wh),window,He(fi))}}),cp),vp=function(){function t(e,n,r){tt(this,t),this.document=e,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return nt(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportsScrolling()){var e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{if(!this.window||!this.window.scrollTo)return!1;var t=gp(this.window.history)||gp(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(e){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window.scrollTo}catch(t){return!1}}}]),t}();function gp(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}function mp(t,e){return new vt((function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,s=0,a=function(a){var u=Mt(t[a]),c=!1;n.add(u.subscribe({next:function(t){c||(c=!0,s++),i[a]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&c||(s===r&&n.next(e?e.reduce((function(t,e,n){return t[e]=i[n],t}),{}):i),n.complete())}}))},u=0;u<r;u++)a(u);else n.complete()}))}var yp,bp,_p,wp,kp,Cp,Ep=new Fe("NgValueAccessor"),Sp={provide:Ep,useExisting:be((function(){return Ip})),multi:!0},Ip=((yp=function(){function t(e,n){tt(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return nt(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||yp)(ka(ju),ka(Mu))},yp.\u0275dir=mn({type:yp,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&Ra("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[xu([Sp])]}),yp),Tp={provide:Ep,useExisting:be((function(){return Dp})),multi:!0},Ap=new Fe("CompositionEventMode"),Dp=((wp=function(){function t(e,n,r){var i;tt(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=r,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=Bh()?Bh().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return nt(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}()).\u0275fac=function(t){return new(t||wp)(ka(ju),ka(Mu),ka(Ap,8))},wp.\u0275dir=mn({type:wp,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&Ra("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[xu([Tp])]}),wp),Op=((_p=function(){function t(){tt(this,t)}return nt(t,[{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),t}()).\u0275fac=function(t){return new(t||_p)},_p.\u0275dir=mn({type:_p}),_p),Pp=((bp=function(t){K(n,t);var e=$(n);function n(){return tt(this,n),e.apply(this,arguments)}return nt(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(Op)).\u0275fac=function(t){return xp(t||bp)},bp.\u0275dir=mn({type:bp,features:[ra]}),bp),xp=ui(Pp),Np=function(t){K(n,t);var e=$(n);function n(){var t;return tt(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t._rawValidators=[],t._rawAsyncValidators=[],t}return nt(n,[{key:"validator",get:function(){}},{key:"asyncValidator",get:function(){}}]),n}(Op),Rp=function(){function t(e){tt(this,t),this._cd=e}return nt(t,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),t}(),Fp=((Cp=function(t){K(n,t);var e=$(n);function n(t){return tt(this,n),e.call(this,t)}return n}(Rp)).\u0275fac=function(t){return new(t||Cp)(ka(Np,2))},Cp.\u0275dir=mn({type:Cp,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&iu("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[ra]}),Cp),Mp=((kp=function(t){K(n,t);var e=$(n);function n(t){return tt(this,n),e.call(this,t)}return n}(Rp)).\u0275fac=function(t){return new(t||kp)(ka(Pp,2))},kp.\u0275dir=mn({type:kp,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&iu("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[ra]}),kp);function Lp(t){return null==t||0===t.length}function Up(t){return null!=t&&"number"==typeof t.length}var Vp=new Fe("NgValidators"),jp=new Fe("NgAsyncValidators"),Bp=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,qp=function(){function t(){tt(this,t)}return nt(t,null,[{key:"min",value:function(t){return function(e){if(Lp(e.value)||Lp(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}},{key:"max",value:function(t){return function(e){if(Lp(e.value)||Lp(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}},{key:"required",value:function(t){return Lp(t.value)?{required:!0}:null}},{key:"requiredTrue",value:function(t){return!0===t.value?null:{required:!0}}},{key:"email",value:function(t){return Lp(t.value)||Bp.test(t.value)?null:{email:!0}}},{key:"minLength",value:function(t){return function(e){return Lp(e.value)||!Up(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}}},{key:"maxLength",value:function(t){return function(e){return Up(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}}},{key:"pattern",value:function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(Lp(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){if(!t)return null;var e=t.filter(Wp);return 0==e.length?null:function(t){return zp(Gp(t,e))}}},{key:"composeAsync",value:function(t){if(!t)return null;var e=t.filter(Wp);return 0==e.length?null:function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var r=e[0];if(rt(r))return mp(r,null);if(it(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return mp(i.map((function(t){return r[t]})),i)}}if("function"==typeof e[e.length-1]){var o=e.pop();return mp(e=1===e.length&&rt(e[0])?e[0]:e,null).pipe(xt((function(t){return o.apply(void 0,j(t))})))}return mp(e,null)}(Gp(t,e).map(Hp)).pipe(xt(zp))}}}]),t}();function Wp(t){return null!=t}function Hp(t){var e=xa(t)?Mt(t):t;return Na(e),e}function zp(t){var e={};return t.forEach((function(t){e=null!=t?Object.assign(Object.assign({},e),t):e})),0===Object.keys(e).length?null:e}function Gp(t,e){return e.map((function(e){return e(t)}))}function Kp(t){return t.map((function(t){return function(t){return!t.validate}(t)?t:function(e){return t.validate(e)}}))}var Qp,$p,Yp,Jp,Xp={provide:Ep,useExisting:be((function(){return Zp})),multi:!0},Zp=((Qp=function(){function t(e,n){tt(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return nt(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||Qp)(ka(ju),ka(Mu))},Qp.\u0275dir=mn({type:Qp,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&Ra("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[xu([Xp])]}),Qp),tv={provide:Ep,useExisting:be((function(){return nv})),multi:!0},ev=((Yp=function(){function t(){tt(this,t),this._accessors=[]}return nt(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach((function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)}))}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}()).\u0275fac=function(t){return new(t||Yp)},Yp.\u0275prov=se({token:Yp,factory:Yp.\u0275fac}),Yp),nv=(($p=function(){function t(e,n,r,i){tt(this,t),this._renderer=e,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return nt(t,[{key:"ngOnInit",value:function(){this._control=this._injector.get(Np),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}}},{key:"fireUncheck",value:function(t){this.writeValue(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_checkName",value:function(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}]),t}()).\u0275fac=function(t){return new(t||$p)(ka(ju),ka(Mu),ka(ev),ka(Zs))},$p.\u0275dir=mn({type:$p,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&Ra("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[xu([tv])]}),$p),rv={provide:Ep,useExisting:be((function(){return iv})),multi:!0},iv=((Jp=function(){function t(e,n){tt(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return nt(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||Jp)(ka(ju),ka(Mu))},Jp.\u0275dir=mn({type:Jp,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&Ra("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[xu([rv])]}),Jp),ov={provide:Ep,useExisting:be((function(){return cv})),multi:!0};function sv(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}var av,uv,cv=((uv=function(){function t(e,n){tt(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Object.is}return nt(t,[{key:"writeValue",value:function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=sv(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r),t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},{key:"compareWith",set:function(t){this._compareWith=t}}]),t}()).\u0275fac=function(t){return new(t||uv)(ka(ju),ka(Mu))},uv.\u0275dir=mn({type:uv,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&Ra("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[xu([ov])]}),uv),lv=((av=function(){function t(e,n,r){tt(this,t),this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}return nt(t,[{key:"_setElementValue",value:function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(sv(this.id,t)),this._select.writeValue(this._select.value))}},{key:"value",set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}}]),t}()).\u0275fac=function(t){return new(t||av)(ka(Mu),ka(ju),ka(cv,9))},av.\u0275dir=mn({type:av,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),av),hv={provide:Ep,useExisting:be((function(){return vv})),multi:!0};function fv(t,e){return null==t?""+e:("string"==typeof e&&(e="'".concat(e,"'")),e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}var dv,pv,vv=((pv=function(){function t(e,n){tt(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Object.is}return nt(t,[{key:"writeValue",value:function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map((function(t){return n._getOptionId(t)}));e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){var r=[];if(void 0!==n.selectedOptions)for(var i=n.selectedOptions,o=0;o<i.length;o++){var s=i.item(o),a=e._getOptionValue(s.value);r.push(a)}else for(var u=n.options,c=0;c<u.length;c++){var l=u.item(c);if(l.selected){var h=e._getOptionValue(l.value);r.push(h)}}e.value=r,t(r)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r)._value,t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},{key:"compareWith",set:function(t){this._compareWith=t}}]),t}()).\u0275fac=function(t){return new(t||pv)(ka(ju),ka(Mu))},pv.\u0275dir=mn({type:pv,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&Ra("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[xu([hv])]}),pv),gv=((dv=function(){function t(e,n,r){tt(this,t),this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}return nt(t,[{key:"_setElementValue",value:function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}},{key:"_setSelected",value:function(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(t){null!=this._select&&(this._value=t,this._setElementValue(fv(this.id,t)),this._select.writeValue(this._select.value))}},{key:"value",set:function(t){this._select?(this._value=t,this._setElementValue(fv(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}}]),t}()).\u0275fac=function(t){return new(t||dv)(ka(Mu),ka(ju),ka(vv,9))},dv.\u0275dir=mn({type:dv,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),dv);function mv(t,e){return[].concat(j(e.path),[t])}function yv(t,e){t.validator=qp.compose([t.validator,e.validator]),t.asyncValidator=qp.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange((function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&bv(t,e)}))}(t,e),function(t,e){t.registerOnChange((function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}))}(t,e),function(t,e){e.valueAccessor.registerOnTouched((function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&bv(t,e),"submit"!==t.updateOn&&t.markAsTouched()}))}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange((function(t){e.valueAccessor.setDisabledState(t)})),e._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))})),e._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))}))}function bv(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function _v(t,e){t.validator=qp.compose([t.validator,e.validator]),t.asyncValidator=qp.composeAsync([t.asyncValidator,e.asyncValidator])}function wv(t){return null!=t?qp.compose(Kp(t)):null}function kv(t){return null!=t?qp.composeAsync(Kp(t)):null}function Cv(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}var Ev=[Ip,iv,Zp,cv,vv,nv];function Sv(t,e){t._syncPendingControls(),e.forEach((function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}))}function Iv(t,e){if(!e)return null;Array.isArray(e);var n=void 0,r=void 0,i=void 0;return e.forEach((function(t){var e;t.constructor===Dp?n=t:(e=t,Ev.some((function(t){return e.constructor===t}))?r=t:i=t)})),i||r||n||null}function Tv(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function Av(t,e,n,r){yi()&&"never"!==r&&((null!==r&&"once"!==r||e._ngModelWarningSentOnce)&&("always"!==r||n._ngModelWarningSent)||(e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}function Dv(t){return(Nv(t)?t.validators:t)||null}function Ov(t){return Array.isArray(t)?wv(t):t||null}function Pv(t,e){return(Nv(e)?e.asyncValidators:t)||null}function xv(t){return Array.isArray(t)?kv(t):t||null}function Nv(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var Rv,Fv,Mv,Lv,Uv,Vv,jv,Bv,qv,Wv=function(){function t(e,n){tt(this,t),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=Ov(this._rawValidators),this._composedAsyncValidatorFn=xv(this._rawAsyncValidators)}return nt(t,[{key:"setValidators",value:function(t){this._rawValidators=t,this._composedValidatorFn=Ov(t)}},{key:"setAsyncValidators",value:function(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=xv(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(t){return t.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(t){t.markAsUntouched({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(t){t.markAsPristine({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!0)}))}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild((function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!1)}))}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(e){return e._updateTreeValidity(t)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;var n=Hp(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){e._hasOwnPendingAsyncValidator=!1,e.setErrors(n,{emitEvent:t})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var r=t;return e.forEach((function(t){r=r instanceof zv?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Gv&&r.at(t)||null})),r}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new yl,this.statusChanges=new yl}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls((function(e){return e.status===t}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(t){return t.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(t){return t.touched}))}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){Nv(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"validator",get:function(){return this._composedValidatorFn},set:function(t){this._rawValidators=this._composedValidatorFn=t}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}}]),t}(),Hv=function(t){K(n,t);var e=$(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return tt(this,n),(t=e.call(this,Dv(i),Pv(o,i)))._onChange=[],t._applyFormState(r),t._setUpdateStrategy(i),t.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),t._initObservables(),t}return nt(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(t){return t(e.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(Wv),zv=function(t){K(n,t);var e=$(n);function n(t,r,i){var o;return tt(this,n),(o=e.call(this,Dv(r),Pv(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return nt(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach((function(r){e._throwIfControlMissing(r),e.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(r){e.controls[r]&&e.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(t,e,n){return t[n]=e instanceof Hv?e.value:e.getRawValue(),t}))}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,(function(t,e){return!!e._syncPendingControls()||t}));return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach((function(n){return t(e.controls[n],n)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){for(var e=0,n=Object.keys(this.controls);e<n.length;e++){var r=n[e],i=this.controls[r];if(this.contains(r)&&t(i))return!0}return!1}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},(function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e}))}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild((function(t,r){n=e(n,t,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(Wv),Gv=function(t){K(n,t);var e=$(n);function n(t,r,i){var o;return tt(this,n),(o=e.call(this,Dv(r),Pv(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return nt(n,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach((function(t,r){e._throwIfControlMissing(r),e.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach((function(t,r){e.at(r)&&e.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map((function(t){return t instanceof Hv?t.value:t.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(t){return t._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce((function(t,e){return!!e._syncPendingControls()||t}),!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}},{key:"_forEachChild",value:function(t){this.controls.forEach((function(e,n){t(e,n)}))}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter((function(e){return e.enabled||t.disabled})).map((function(t){return t.value}))}},{key:"_anyControls",value:function(t){return this.controls.some((function(e){return e.enabled&&t(e)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){return t._registerControl(e)}))}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var t,e=B(this.controls);try{for(e.s();!(t=e.n()).done;){if(t.value.enabled)return!1}}catch(n){e.e(n)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(Wv),Kv={provide:Pp,useExisting:be((function(){return $v}))},Qv=Promise.resolve(null),$v=((Fv=function(t){K(n,t);var e=$(n);function n(t,r){var i;return tt(this,n),(i=e.call(this)).submitted=!1,i._directives=[],i.ngSubmit=new yl,i.form=new zv({},wv(t),kv(r)),i}return nt(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(t){var e=this;Qv.then((function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),yv(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)}))}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e=this;Qv.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),Tv(e._directives,t)}))}},{key:"addFormGroup",value:function(t){var e=this;Qv.then((function(){var n=e._findContainer(t.path),r=new zv({});_v(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(t){var e=this;Qv.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)}))}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){var n=this;Qv.then((function(){n.form.get(t.path).setValue(e)}))}},{key:"setValue",value:function(t){this.control.setValue(t)}},{key:"onSubmit",value:function(t){return this.submitted=!0,Sv(this.form,this._directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(t){return t.pop(),t.length?this.form.get(t):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),n}(Pp)).\u0275fac=function(t){return new(t||Fv)(ka(Vp,10),ka(jp,10))},Fv.\u0275dir=mn({type:Fv,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&Ra("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[xu([Kv]),ra]}),Fv),Yv=((Rv=function(t){K(n,t);var e=$(n);function n(){return tt(this,n),e.apply(this,arguments)}return nt(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return mv(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return wv(this._validators)}},{key:"asyncValidator",get:function(){return kv(this._asyncValidators)}}]),n}(Pp)).\u0275fac=function(t){return Jv(t||Rv)},Rv.\u0275dir=mn({type:Rv,features:[ra]}),Rv),Jv=ui(Yv),Xv={provide:Pp,useExisting:be((function(){return Zv}))},Zv=((Mv=function(t){K(n,t);var e=$(n);function n(t,r,i){var o;return tt(this,n),(o=e.call(this))._parent=t,o._validators=r,o._asyncValidators=i,o}return nt(n,[{key:"_checkParentType",value:function(){}}]),n}(Yv)).\u0275fac=function(t){return new(t||Mv)(ka(Pp,5),ka(Vp,10),ka(jp,10))},Mv.\u0275dir=mn({type:Mv,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[xu([Xv]),ra]}),Mv),tg={provide:Np,useExisting:be((function(){return ng}))},eg=Promise.resolve(null),ng=((Uv=function(t){K(n,t);var e=$(n);function n(t,r,i,o){var s;return tt(this,n),(s=e.call(this)).control=new Hv,s._registered=!1,s.update=new yl,s._parent=t,s._rawValidators=r||[],s._rawAsyncValidators=i||[],s.valueAccessor=Iv(0,o),s}return nt(n,[{key:"ngOnChanges",value:function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),Cv(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){yv(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(t){var e=this;eg.then((function(){e.control.setValue(t,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;eg.then((function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()}))}},{key:"path",get:function(){return this._parent?mv(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return wv(this._rawValidators)}},{key:"asyncValidator",get:function(){return kv(this._rawAsyncValidators)}}]),n}(Np)).\u0275fac=function(t){return new(t||Uv)(ka(Pp,9),ka(Vp,10),ka(jp,10),ka(Ep,10))},Uv.\u0275dir=mn({type:Uv,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[xu([tg]),ra,On]}),Uv),rg=((Lv=function t(){tt(this,t)}).\u0275fac=function(t){return new(t||Lv)},Lv.\u0275dir=mn({type:Lv,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Lv),ig=new Fe("NgModelWithFormControlWarning"),og={provide:Np,useExisting:be((function(){return sg}))},sg=((Vv=function(t){K(n,t);var e=$(n);function n(t,r,i,o){var s;return tt(this,n),(s=e.call(this))._ngModelWarningConfig=o,s.update=new yl,s._ngModelWarningSent=!1,s._rawValidators=t||[],s._rawAsyncValidators=r||[],s.valueAccessor=Iv(0,i),s}return nt(n,[{key:"ngOnChanges",value:function(t){this._isControlChanged(t)&&(yv(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),Cv(t,this.viewModel)&&(Av(0,n,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_isControlChanged",value:function(t){return t.hasOwnProperty("form")}},{key:"isDisabled",set:function(t){}},{key:"path",get:function(){return[]}},{key:"validator",get:function(){return wv(this._rawValidators)}},{key:"asyncValidator",get:function(){return kv(this._rawAsyncValidators)}},{key:"control",get:function(){return this.form}}]),n}(Np)).\u0275fac=function(t){return new(t||Vv)(ka(Vp,10),ka(jp,10),ka(Ep,10),ka(ig,8))},Vv.\u0275dir=mn({type:Vv,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[xu([og]),ra,On]}),Vv._ngModelWarningSentOnce=!1,Vv),ag={provide:Pp,useExisting:be((function(){return ug}))},ug=((jv=function(t){K(n,t);var e=$(n);function n(t,r){var i;return tt(this,n),(i=e.call(this))._validators=t,i._asyncValidators=r,i.submitted=!1,i.directives=[],i.form=null,i.ngSubmit=new yl,i}return nt(n,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return yv(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){Tv(this.directives,t)}},{key:"addFormGroup",value:function(t){var e=this.form.get(t.path);_v(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(t){}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){var e=this.form.get(t.path);_v(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(t){}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,Sv(this.form,this.directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach((function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){var n=function(){};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),e._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),e._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),t&&t._clearChangeFns()}(e.control,e),n&&yv(n,e),e.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var t=this;this.form._registerOnCollectionChange((function(){return t._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var t=wv(this._validators);this.form.validator=qp.compose([this.form.validator,t]);var e=kv(this._asyncValidators);this.form.asyncValidator=qp.composeAsync([this.form.asyncValidator,e])}},{key:"_checkFormPresent",value:function(){}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),n}(Pp)).\u0275fac=function(t){return new(t||jv)(ka(Vp,10),ka(jp,10))},jv.\u0275dir=mn({type:jv,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&Ra("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[xu([ag]),ra,On]}),jv),cg={provide:Pp,useExisting:be((function(){return lg}))},lg=((Bv=function(t){K(n,t);var e=$(n);function n(t,r,i){var o;return tt(this,n),(o=e.call(this))._parent=t,o._validators=r,o._asyncValidators=i,o}return nt(n,[{key:"_checkParentType",value:function(){dg(this._parent)}}]),n}(Yv)).\u0275fac=function(t){return new(t||Bv)(ka(Pp,13),ka(Vp,10),ka(jp,10))},Bv.\u0275dir=mn({type:Bv,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[xu([cg]),ra]}),Bv),hg={provide:Pp,useExisting:be((function(){return fg}))},fg=((qv=function(t){K(n,t);var e=$(n);function n(t,r,i){var o;return tt(this,n),(o=e.call(this))._parent=t,o._validators=r,o._asyncValidators=i,o}return nt(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormArray(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormArray(this)}},{key:"_checkParentType",value:function(){dg(this._parent)}},{key:"control",get:function(){return this.formDirective.getFormArray(this)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"path",get:function(){return mv(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"validator",get:function(){return wv(this._validators)}},{key:"asyncValidator",get:function(){return kv(this._asyncValidators)}}]),n}(Pp)).\u0275fac=function(t){return new(t||qv)(ka(Pp,13),ka(Vp,10),ka(jp,10))},qv.\u0275dir=mn({type:qv,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[xu([hg]),ra]}),qv);function dg(t){return!(t instanceof lg||t instanceof ug||t instanceof fg)}var pg,vg,gg,mg,yg,bg,_g,wg,kg,Cg,Eg,Sg={provide:Np,useExisting:be((function(){return Ig}))},Ig=((pg=function(t){K(n,t);var e=$(n);function n(t,r,i,o,s){var a;return tt(this,n),(a=e.call(this))._ngModelWarningConfig=s,a._added=!1,a.update=new yl,a._ngModelWarningSent=!1,a._parent=t,a._rawValidators=r||[],a._rawAsyncValidators=i||[],a.valueAccessor=Iv(0,o),a}return nt(n,[{key:"ngOnChanges",value:function(t){this._added||this._setUpControl(),Cv(t,this.viewModel)&&(Av(0,n,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_checkParentType",value:function(){}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}},{key:"isDisabled",set:function(t){}},{key:"path",get:function(){return mv(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return wv(this._rawValidators)}},{key:"asyncValidator",get:function(){return kv(this._rawAsyncValidators)}}]),n}(Np)).\u0275fac=function(t){return new(t||pg)(ka(Pp,13),ka(Vp,10),ka(jp,10),ka(Ep,10),ka(ig,8))},pg.\u0275dir=mn({type:pg,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[xu([Sg]),ra,On]}),pg._ngModelWarningSentOnce=!1,pg),Tg={provide:Vp,useExisting:be((function(){return Dg})),multi:!0},Ag={provide:Vp,useExisting:be((function(){return Og})),multi:!0},Dg=((gg=function(){function t(){tt(this,t),this._required=!1}return nt(t,[{key:"validate",value:function(t){return this.required?qp.required(t):null}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"required",get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}}]),t}()).\u0275fac=function(t){return new(t||gg)},gg.\u0275dir=mn({type:gg,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&ya("required",e.required?"":null)},inputs:{required:"required"},features:[xu([Tg])]}),gg),Og=((vg=function(t){K(n,t);var e=$(n);function n(){return tt(this,n),e.apply(this,arguments)}return nt(n,[{key:"validate",value:function(t){return this.required?qp.requiredTrue(t):null}}]),n}(Dg)).\u0275fac=function(t){return Pg(t||vg)},vg.\u0275dir=mn({type:vg,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&ya("required",e.required?"":null)},features:[xu([Ag]),ra]}),vg),Pg=ui(Og),xg={provide:Vp,useExisting:be((function(){return Ng})),multi:!0},Ng=((mg=function(){function t(){tt(this,t),this._enabled=!1}return nt(t,[{key:"validate",value:function(t){return this._enabled?qp.email(t):null}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"email",set:function(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()}}]),t}()).\u0275fac=function(t){return new(t||mg)},mg.\u0275dir=mn({type:mg,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[xu([xg])]}),mg),Rg={provide:Vp,useExisting:be((function(){return Fg})),multi:!0},Fg=((yg=function(){function t(){tt(this,t),this._validator=qp.nullValidator}return nt(t,[{key:"ngOnChanges",value:function(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}},{key:"validate",value:function(t){return null==this.minlength?null:this._validator(t)}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"_createValidator",value:function(){this._validator=qp.minLength("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}]),t}()).\u0275fac=function(t){return new(t||yg)},yg.\u0275dir=mn({type:yg,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&ya("minlength",e.minlength?e.minlength:null)},inputs:{minlength:"minlength"},features:[xu([Rg]),On]}),yg),Mg={provide:Vp,useExisting:be((function(){return Lg})),multi:!0},Lg=((bg=function(){function t(){tt(this,t),this._validator=qp.nullValidator}return nt(t,[{key:"ngOnChanges",value:function(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}},{key:"validate",value:function(t){return null!=this.maxlength?this._validator(t):null}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"_createValidator",value:function(){this._validator=qp.maxLength("number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10))}}]),t}()).\u0275fac=function(t){return new(t||bg)},bg.\u0275dir=mn({type:bg,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&ya("maxlength",e.maxlength?e.maxlength:null)},inputs:{maxlength:"maxlength"},features:[xu([Mg]),On]}),bg),Ug={provide:Vp,useExisting:be((function(){return Vg})),multi:!0},Vg=((Eg=function(){function t(){tt(this,t),this._validator=qp.nullValidator}return nt(t,[{key:"ngOnChanges",value:function(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())}},{key:"validate",value:function(t){return this._validator(t)}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"_createValidator",value:function(){this._validator=qp.pattern(this.pattern)}}]),t}()).\u0275fac=function(t){return new(t||Eg)},Eg.\u0275dir=mn({type:Eg,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&ya("pattern",e.pattern?e.pattern:null)},inputs:{pattern:"pattern"},features:[xu([Ug]),On]}),Eg),jg=((Cg=function t(){tt(this,t)}).\u0275mod=vn({type:Cg}),Cg.\u0275inj=ae({factory:function(t){return new(t||Cg)}}),Cg),Bg=((kg=function(){function t(){tt(this,t)}return nt(t,[{key:"group",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(t),r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new zv(n,{asyncValidators:i,updateOn:o,validators:r})}},{key:"control",value:function(t,e,n){return new Hv(t,e,n)}},{key:"array",value:function(t,e,n){var r=this,i=t.map((function(t){return r._createControl(t)}));return new Gv(i,e,n)}},{key:"_reduceControls",value:function(t){var e=this,n={};return Object.keys(t).forEach((function(r){n[r]=e._createControl(t[r])})),n}},{key:"_createControl",value:function(t){return t instanceof Hv||t instanceof zv||t instanceof Gv?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}]),t}()).\u0275fac=function(t){return new(t||kg)},kg.\u0275prov=se({token:kg,factory:kg.\u0275fac}),kg),qg=((wg=function t(){tt(this,t)}).\u0275mod=vn({type:wg}),wg.\u0275inj=ae({factory:function(t){return new(t||wg)},providers:[ev],imports:[jg]}),wg),Wg=((_g=function(){function t(){tt(this,t)}return nt(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:ig,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}()).\u0275mod=vn({type:_g}),_g.\u0275inj=ae({factory:function(t){return new(t||_g)},providers:[Bg,ev],imports:[jg]}),_g);function Hg(t,e){if(1&t&&(Ia(0,"option",5),_u(1),Ta()),2&t){var n=e.$implicit;Ea("value",n.id),lo(1),ku(" \xa0\xa0\xa0\xa0",n.name," ")}}function zg(t,e){if(1&t&&(Ia(0,"optgroup"),Ia(1,"option",5),_u(2),Ta(),_a(3,Hg,2,2,"option",6),Ta()),2&t){var n=e.$implicit;lo(1),Ea("value",n.id),lo(1),wu(n.name),lo(1),Ea("ngForOf",n.subCategories)}}var Gg=function(t,e){return{height:t,width:e}};function Kg(t,e){if(1&t){var n=Pa();Ia(0,"select",3),Ra("ngModelChange",(function(t){return er(n),La().categorySelectId=t}))("change",(function(t){return er(n),La().selectCategory(t.target.value)})),_a(1,zg,4,3,"optgroup",4),Ta()}if(2&t){var r=La();Ea("ngStyle",fl(3,Gg,r.getHeight(),r.getWidth()))("ngModel",r.categorySelectId),lo(1),Ea("ngForOf",r.categoryValues)}}function Qg(t,e){if(1&t&&(Ia(0,"option",5),_u(1),Ta()),2&t){var n=e.$implicit;Ea("value",n.id),lo(1),wu(n.name)}}var $g=function(t,e,n,r,i){return{height:t,width:e,"border-radius":n,"-moz-border-radius":r,"-webkit-border-radius":i}};function Yg(t,e){if(1&t){var n=Pa();Ia(0,"select",3),Ra("ngModelChange",(function(t){return er(n),La().categorySelectId=t}))("change",(function(t){return er(n),La().selectCategory(t.target.value)})),_a(1,Qg,2,2,"option",6),Ta()}if(2&t){var r=La();Ea("ngStyle",(i=$g,o=r.getHeight(),s=r.getWidth(),a=r.getRadius(),u=r.getRadius(),c=r.getRadius(),l=ur()+3,h=Zn(),f=ma(h,l,o,s,a,u),va(h,l+4,c)||f?da(h,l+5,i(o,s,a,u,c)):pa(h,l+5)))("ngModel",r.categorySelectId),lo(1),Ea("ngForOf",r.categoryValues)}var i,o,s,a,u,c,l,h,f}var Jg,Xg,Zg=function(t){return t.CAT_ONLY="0",t.CAT_AND_SUB="1",t}({}),tm=function(t){return t.NONE="0",t.LEFT="1",t}({}),em=((Jg=function(){function t(e){tt(this,t),this.formBuilder=e,this.selectType=Zg.CAT_ONLY,this.selectRadius=tm.NONE,this.idCategorySelected=new yl,this.categorySelectForm=this.formBuilder.group({categorySelect:["",[qp.required]]})}return nt(t,[{key:"ngOnInit",value:function(){console.warn("hhhhmihulgyku",this.categorySelectId)}},{key:"getHeight",value:function(){switch(this.height){case"lg":return"3.2rem";case"md":return"2.8rem";case"sm":return"2rem"}}},{key:"getWidth",value:function(){switch(this.width){case"lg":return"12rem";case"md":return"10.5rem";case"sm":return"8.5rem"}}},{key:"getRadius",value:function(){switch(this.selectRadius){case tm.LEFT:return"3rem 0 0 3rem";case tm.NONE:return""}}},{key:"getSelectType",value:function(){return Zg}},{key:"selectCategory",value:function(t){console.warn("\xf9mee",t),this.idCategorySelected.emit(t)}}]),t}()).\u0275fac=function(t){return new(t||Jg)(ka(Bg))},Jg.\u0275cmp=hn({type:Jg,selectors:[["app-categories-select"]],inputs:{width:"width",height:"height",categorySelectId:"categorySelectId",categoryValues:"categoryValues",selectType:"selectType",selectRadius:"selectRadius"},outputs:{idCategorySelected:"idCategorySelected"},decls:4,vars:3,consts:[[3,"formGroup"],["id","categorySelect","class","form-control select-category","formControlName","categorySelect","required","",3,"ngStyle","ngModel","ngModelChange","change",4,"ngIf","ngIfElse"],["elseBlock",""],["id","categorySelect","formControlName","categorySelect","required","",1,"form-control","select-category",3,"ngStyle","ngModel","ngModelChange","change"],[4,"ngFor","ngForOf"],[3,"value"],[3,"value",4,"ngFor","ngForOf"]],template:function(t,e){if(1&t&&(Ia(0,"div",0),_a(1,Kg,2,6,"select",1),_a(2,Yg,2,9,"ng-template",null,2,jl),Ta()),2&t){var n=wa(3);Ea("formGroup",e.categorySelectForm),lo(1),Ea("ngIf",e.selectType===e.getSelectType().CAT_AND_SUB)("ngIfElse",n)}},directives:[Mp,ug,fd,cv,Fp,Ig,Dg,Ad,ld,lv,gv],styles:[".select-category[_ngcontent-%COMP%]{border-radius:3rem 0 0 3rem;-moz-border-radius:3rem 0 0 3rem;-webkit-border-radius:3rem 0 0 3rem}"]}),Jg),nm=q("iqUP"),rm=function(t){return t.USERS="/users",t.COURSES="/items/courses",t.COURSE="/course",t.RATINGS="/ratings",t.EVENTS="/items/events",t.EVENT="/event",t.ITEMS="/items",t.ITEMS_VIEW="/itemsViews",t.ITEM_TYPE="/type",t.AUTHORS="/authors",t.AUTHOR="/author",t.CATEGORY="/category",t.CATEGORIES="/categories",t.TAGS="/tags",t.LOCATION="/location",t.DATA_COURSES="/data/courses",t.DATA_INSTRUCTORS="/data/instructors",t.DATA_COURSESOFINSTRUCTOR="/data/coursesOfInstructor",t.DATA_CATEGORIES="/data/categories",t.DATA_COURSESOFCATEGORY="/data/coursesOfCategory",t.SUB_CATEGORIES="/subCategories",t.SUB_CATEGORY="/subCategory",t.MODULES="/modules",t.CHAPTERS="/chapters",t.DEFAULT_IMG_COURSE="https://firebasestorage.googleapis.com/v0/b/network-55b29.appspot.com/o/images%2Fitems%2Fcourse-default.jpg?alt=media&token=3ec80636-6ec7-4593-90c0-84023b01ab51",t.DEFAULT_IMG_EVENT="https://firebasestorage.googleapis.com/v0/b/network-55b29.appspot.com/o/images%2Fitems%2Fcalendrier.jpg?alt=media&token=6611a254-4d7f-4703-97a0-dda6ce937dc9",t.DEFAULT_PP_USER="https://firebasestorage.googleapis.com/v0/b/network-55b29.appspot.com/o/images%2Fusers%2Fuser-default.png?alt=media&token=bacaac7c-2e1b-4d24-8205-0964e65df549",t}({}),im=function(){function t(e,n,r){tt(this,t),this._id=e,this._name=n,this._views=r}return nt(t,[{key:"views",get:function(){return this._views},set:function(t){this._views=t}},{key:"name",get:function(){return this._name},set:function(t){this._name=t}},{key:"id",get:function(){return this._id},set:function(t){this._id=t}}],[{key:"tagFromJson",value:function(e){return null===e&&void 0===e?null:new t(e[0],e.name,e.views)}},{key:"tagsFromJson",value:function(e){return null==e?null:(console.log(e),Object.keys(e).map((function(n){var r=t.tagFromJson(e[n]);return r.id=n,r})))}}]),t}(),om=((Xg=function(){function t(e){tt(this,t),this.datepipe=e,this.tagDB=nm.database().ref(rm.TAGS),this.tags=[],this.tagsSubject=new wt}return nt(t,[{key:"emitTags",value:function(){this.tagsSubject.next(this.tags)}},{key:"addTagInDB",value:function(e,n){if(e){var r=/[ \-)+]/,i=e.name.toLowerCase(),o=i.split(r);o.forEach((function(t,e){o[e]=t.charAt(0).toUpperCase()+t.slice(1)}));for(var s=o.join(" "),a=0;a<=i.length;a++)r.test(i.charAt(a))&&a<=i.length-1&&(s=s.substring(0,a)+i.charAt(a)+s.substring(a+1));return e.name=s,t.addTagWithReference(this.tagDB,e).then(n)}}},{key:"addTagViewInDB",value:function(t,e){}},{key:"getAllTagsFromDB",value:function(t){var e=this;this.tagDB.once("value").then((function(t){var n;return n=im.tagsFromJson(t.val()),e.tags.splice(0,e.tags.length),e.tags=Array.from(n),n})).then(t)}},{key:"getItemTags",value:function(t,e){if(t){var n=nm.database().ref(rm.ITEMS).child(t).child(rm.TAGS);this.getTagsFromDBByRef(n,e)}}},{key:"getTagsFromDBByRef",value:function(t,e){t.once("value").then((function(t){return im.tagsFromJson(t)})).then(e)}},{key:"getSingleTagByName",value:function(t){}},{key:"removeTag",value:function(t,e){this.tagDB.child(t.id).remove().then(e)}}],[{key:"addTagsWithReference",value:function(e,n){if(n&&n.length){var r=[];return n.forEach((function(n){r.push(new Promise((function(r){t.addTagWithReference(e.child(rm.TAGS),n).then((function(){r(n)}))})))})),Promise.all(r).catch((function(t){return console.error(t),null}))}}},{key:"addTagWithReference",value:function(t,e){return e.id||(e.id=t.push().key),t.child(e.id).set({name:e.name}).then((function(){return e})).catch((function(t){return console.log(t),null}))}},{key:"removeTagsWithReference",value:function(t,e){t.child(rm.TAGS).remove().then(e)}}]),t}()).\u0275fac=function(t){return new(t||Xg)(He(Qd))},Xg.\u0275prov=se({token:Xg,factory:Xg.\u0275fac,providedIn:"root"}),Xg),sm=function(t){return t.HOME="/home",t.CART="/cart",t.LOGIN="/login",t.SIGNUP="/signup",t.SIGNUP_WITH="/signup/join",t.FEED="/feed",t.INSTRUCTOR="/instructor",t.ADMIN="/admin",t.ADMIN_NEW_ELEMENT="/new",t.SEARCH="/search",t.RESULTS="/search/results",t.COURSE="/course",t.EVENT="/event",t.USER="/user",t.NEW_ITEM="/new",t.NEW_EVENT="/new/event",t.NEW_COURSE="/new/course",t.NEW_TITLE="/title",t.NEW_CATEGORY="/tags",t.NEW_PRICE="/price",t.NEW_MEDIA="/media",t.NEW_DATES="/dates",t.NEW_LOCATION="/location",t.NEW_COMPLETED="/completed",t.VERIFICATION_LINK="/verification",t.AUTH="/auth",t.PASSWORD_FORGOTTEN="/password",t}({});function am(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return Ct(r)?(e.pop(),Ft(e,r)):Bt(e)}var um=function(t){K(n,t);var e=$(n);function n(t){var r;return tt(this,n),(r=e.call(this))._value=t,r}return nt(n,[{key:"_subscribe",value:function(t){var e=z(Z(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new yt;return this._value}},{key:"next",value:function(t){z(Z(n.prototype),"next",this).call(this,this._value=t)}},{key:"value",get:function(){return this.getValue()}}]),n}(wt),cm={};function lm(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=null,i=null;return Ct(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&rt(e[0])&&(e=e[0]),Bt(e,i).lift(new hm(r))}var hm=function(){function t(e){tt(this,t),this.resultSelector=e}return nt(t,[{key:"call",value:function(t,e){return e.subscribe(new fm(t,this.resultSelector))}}]),t}(),fm=function(t){K(n,t);var e=$(n);function n(t,r){var i;return tt(this,n),(i=e.call(this,t)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return nt(n,[{key:"_next",value:function(t){this.values.push(cm),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Ot(this,r,r,n))}}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n,r,i){var o=this.values,s=this.toRespond?o[n]===cm?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(Pt),dm=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),pm=new vt((function(t){return t.complete()}));function vm(t){return t?function(t){return new vt((function(e){return t.schedule((function(){return e.complete()}))}))}(t):pm}function gm(t){return new vt((function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Mt(n):vm()).subscribe(e)}))}function mm(){return jt(1)}function ym(t,e){return function(n){return n.lift(new bm(t,e))}}var bm=function(){function t(e,n){tt(this,t),this.predicate=e,this.thisArg=n}return nt(t,[{key:"call",value:function(t,e){return e.subscribe(new _m(t,this.predicate,this.thisArg))}}]),t}(),_m=function(t){K(n,t);var e=$(n);function n(t,r,i){var o;return tt(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return nt(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(lt),wm=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function km(t){return function(e){return 0===t?vm():e.lift(new Cm(t))}}var Cm=function(){function t(e){if(tt(this,t),this.total=e,this.total<0)throw new wm}return nt(t,[{key:"call",value:function(t,e){return e.subscribe(new Em(t,this.total))}}]),t}(),Em=function(t){K(n,t);var e=$(n);function n(t,r){var i;return tt(this,n),(i=e.call(this,t)).total=r,i.ring=new Array,i.count=0,i}return nt(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),n}(lt);function Sm(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Am;return function(e){return e.lift(new Im(t))}}var Im=function(){function t(e){tt(this,t),this.errorFactory=e}return nt(t,[{key:"call",value:function(t,e){return e.subscribe(new Tm(t,this.errorFactory))}}]),t}(),Tm=function(t){K(n,t);var e=$(n);function n(t,r){var i;return tt(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return nt(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}]),n}(lt);function Am(){return new dm}function Dm(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new Om(t))}}var Om=function(){function t(e){tt(this,t),this.defaultValue=e}return nt(t,[{key:"call",value:function(t,e){return e.subscribe(new Pm(t,this.defaultValue))}}]),t}(),Pm=function(t){K(n,t);var e=$(n);function n(t,r){var i;return tt(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return nt(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(lt);function xm(t,e){return"function"==typeof e?function(n){return n.pipe(xm((function(n,r){return Mt(t(n,r)).pipe(xt((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new Nm(t))}}var Nm=function(){function t(e){tt(this,t),this.project=e}return nt(t,[{key:"call",value:function(t,e){return e.subscribe(new Rm(t,this.project))}}]),t}(),Rm=function(t){K(n,t);var e=$(n);function n(t,r){var i;return tt(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return nt(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new Et(this,e,n),o=this.destination;o.add(i),this.innerSubscription=Ot(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||z(Z(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&z(Z(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}}]),n}(Pt);function Fm(t){return function(e){return 0===t?vm():e.lift(new Mm(t))}}var Mm=function(){function t(e){if(tt(this,t),this.total=e,this.total<0)throw new wm}return nt(t,[{key:"call",value:function(t,e){return e.subscribe(new Lm(t,this.total))}}]),t}(),Lm=function(t){K(n,t);var e=$(n);function n(t,r){var i;return tt(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return nt(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(lt);function Um(){return mm()(am.apply(void 0,arguments))}function Vm(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return Ct(r)?(e.pop(),function(t){return Um(e,t,r)}):function(t){return Um(e,t)}}var jm=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];tt(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return nt(t,[{key:"call",value:function(t,e){return e.subscribe(new Bm(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),Bm=function(t){K(n,t);var e=$(n);function n(t,r,i,o){var s;return tt(this,n),(s=e.call(this,t)).accumulator=r,s._seed=i,s.hasSeed=o,s.index=0,s}return nt(n,[{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}},{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}}]),n}(lt);function qm(t){return function(e){var n=new Wm(t),r=e.lift(n);return n.caught=r}}var Wm=function(){function t(e){tt(this,t),this.selector=e}return nt(t,[{key:"call",value:function(t,e){return e.subscribe(new Hm(t,this.selector,this.caught))}}]),t}(),Hm=function(t){K(n,t);var e=$(n);function n(t,r,i){var o;return tt(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return nt(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(o){return void z(Z(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new Et(this,void 0,void 0);this.add(r);var i=Ot(this,e,void 0,void 0,r);i!==r&&this.add(i)}}}]),n}(Pt);function zm(t,e){return Lt(t,e,1)}function Gm(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?ym((function(e,n){return t(e,n,r)})):dt,Fm(1),n?Dm(e):Sm((function(){return new dm})))}}function Km(){}function Qm(t,e,n){return function(r){return r.lift(new $m(t,e,n))}}var $m=function(){function t(e,n,r){tt(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return nt(t,[{key:"call",value:function(t,e){return e.subscribe(new Ym(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),Ym=function(t){K(n,t);var e=$(n);function n(t,r,i,o){var s;return tt(this,n),(s=e.call(this,t))._tapNext=Km,s._tapError=Km,s._tapComplete=Km,s._tapError=i||Km,s._tapComplete=o||Km,W(r)?(s._context=J(s),s._tapNext=r):r&&(s._context=r,s._tapNext=r.next||Km,s._tapError=r.error||Km,s._tapComplete=r.complete||Km),s}return nt(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(lt),Jm=function(){function t(e){tt(this,t),this.callback=e}return nt(t,[{key:"call",value:function(t,e){return e.subscribe(new Xm(t,this.callback))}}]),t}(),Xm=function(t){K(n,t);var e=$(n);function n(t,r){var i;return tt(this,n),(i=e.call(this,t)).add(new at(r)),i}return n}(lt),Zm=function t(e,n){tt(this,t),this.id=e,this.url=n},ty=function(t){K(n,t);var e=$(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return tt(this,n),(i=e.call(this,t,r)).navigationTrigger=o,i.restoredState=s,i}return nt(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Zm),ey=function(t){K(n,t);var e=$(n);function n(t,r,i){var o;return tt(this,n),(o=e.call(this,t,r)).urlAfterRedirects=i,o}return nt(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(Zm),ny=function(t){K(n,t);var e=$(n);function n(t,r,i){var o;return tt(this,n),(o=e.call(this,t,r)).reason=i,o}return nt(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Zm),ry=function(t){K(n,t);var e=$(n);function n(t,r,i){var o;return tt(this,n),(o=e.call(this,t,r)).error=i,o}return nt(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(Zm),iy=function(t){K(n,t);var e=$(n);function n(t,r,i,o){var s;return tt(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s}return nt(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Zm),oy=function(t){K(n,t);var e=$(n);function n(t,r,i,o){var s;return tt(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s}return nt(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Zm),sy=function(t){K(n,t);var e=$(n);function n(t,r,i,o,s){var a;return tt(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a.shouldActivate=s,a}return nt(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(Zm),ay=function(t){K(n,t);var e=$(n);function n(t,r,i,o){var s;return tt(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s}return nt(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Zm),uy=function(t){K(n,t);var e=$(n);function n(t,r,i,o){var s;return tt(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s}return nt(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Zm),cy=function(){function t(e){tt(this,t),this.route=e}return nt(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),ly=function(){function t(e){tt(this,t),this.route=e}return nt(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),hy=function(){function t(e){tt(this,t),this.snapshot=e}return nt(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),fy=function(){function t(e){tt(this,t),this.snapshot=e}return nt(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),dy=function(){function t(e){tt(this,t),this.snapshot=e}return nt(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),py=function(){function t(e){tt(this,t),this.snapshot=e}return nt(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),vy=function(){function t(e,n,r){tt(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return nt(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),gy=function(){function t(e){tt(this,t),this.params=e||{}}return nt(t,[{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.params,t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function my(t){return new gy(t)}function yy(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function by(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function _y(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!wy(t[n=r[o]],e[n]))return!1;return!0}function wy(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;var n=j(t).sort(),r=j(e).sort();return n.every((function(t,e){return r[e]===t}))}return t===e}function ky(t){return Array.prototype.concat.apply([],t)}function Cy(t){return t.length>0?t[t.length-1]:null}function Ey(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Sy(t){return Na(t)?t:xa(t)?Mt(Promise.resolve(t)):am(t)}function Iy(t,e,n){return n?function(t,e){return _y(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Oy(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every((function(n){return wy(t[n],e[n])}))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Oy(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Oy(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var s=i.slice(0,n.segments.length),a=i.slice(n.segments.length);return!!Oy(n.segments,s)&&!!n.children.primary&&e(n.children.primary,r,a)}(e,n,n.segments)}(t.root,e.root)}var Ty=function(){function t(e,n,r){tt(this,t),this.root=e,this.queryParams=n,this.fragment=r}return nt(t,[{key:"toString",value:function(){return Ry.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=my(this.queryParams)),this._queryParamMap}}]),t}(),Ay=function(){function t(e,n){var r=this;tt(this,t),this.segments=e,this.children=n,this.parent=null,Ey(n,(function(t,e){return t.parent=r}))}return nt(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return Fy(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),t}(),Dy=function(){function t(e,n){tt(this,t),this.path=e,this.parameters=n}return nt(t,[{key:"toString",value:function(){return By(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=my(this.parameters)),this._parameterMap}}]),t}();function Oy(t,e){return t.length===e.length&&t.every((function(t,n){return t.path===e[n].path}))}function Py(t,e){var n=[];return Ey(t.children,(function(t,r){"primary"===r&&(n=n.concat(e(t,r)))})),Ey(t.children,(function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))})),n}var xy=function t(){tt(this,t)},Ny=function(){function t(){tt(this,t)}return nt(t,[{key:"parse",value:function(t){var e=new Gy(t);return new Ty(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){return"".concat("/"+function t(e,n){if(!e.hasChildren())return Fy(e);if(n){var r=e.children.primary?t(e.children.primary,!1):"",i=[];return Ey(e.children,(function(e,n){"primary"!==n&&i.push("".concat(n,":").concat(t(e,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=Py(e,(function(n,r){return"primary"===r?[t(e.children.primary,!1)]:["".concat(r,":").concat(t(n,!1))]}));return 1===Object.keys(e.children).length&&null!=e.children.primary?"".concat(Fy(e),"/").concat(o[0]):"".concat(Fy(e),"/(").concat(o.join("//"),")")}(t.root,!0)).concat((e=t.queryParams,n=Object.keys(e).map((function(t){var n=e[t];return Array.isArray(n)?n.map((function(e){return"".concat(Ly(t),"=").concat(Ly(e))})).join("&"):"".concat(Ly(t),"=").concat(Ly(n))})),n.length?"?"+n.join("&"):"")).concat("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"");var e,n}}]),t}(),Ry=new Ny;function Fy(t){return t.segments.map((function(t){return By(t)})).join("/")}function My(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ly(t){return My(t).replace(/%3B/gi,";")}function Uy(t){return My(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vy(t){return decodeURIComponent(t)}function jy(t){return Vy(t.replace(/\+/g,"%20"))}function By(t){return"".concat(Uy(t.path)).concat((e=t.parameters,Object.keys(e).map((function(t){return";".concat(Uy(t),"=").concat(Uy(e[t]))})).join("")));var e}var qy=/^[^\/()?;=#]+/;function Wy(t){var e=t.match(qy);return e?e[0]:""}var Hy=/^[^=?&#]+/,zy=/^[^?&#]+/,Gy=function(){function t(e){tt(this,t),this.url=e,this.remaining=e}return nt(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ay([],{}):new Ay([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Ay(t,e)),n}},{key:"parseSegment",value:function(){var t=Wy(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new Dy(Vy(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=Wy(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=Wy(this.remaining);r&&(n=r,this.capture(n))}t[Vy(e)]=Vy(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(Hy);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(zy);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=jy(e),o=jy(n);if(t.hasOwnProperty(i)){var s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Wy(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Ay([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),Ky=function(){function t(e){tt(this,t),this._root=e}return nt(t,[{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=Qy(t,this._root);return e?e.children.map((function(t){return t.value})):[]}},{key:"firstChild",value:function(t){var e=Qy(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=$y(t,this._root);return e.length<2?[]:e[e.length-2].children.map((function(t){return t.value})).filter((function(e){return e!==t}))}},{key:"pathFromRoot",value:function(t){return $y(t,this._root).map((function(t){return t.value}))}},{key:"root",get:function(){return this._root.value}}]),t}();function Qy(t,e){if(t===e.value)return e;var n,r=B(e.children);try{for(r.s();!(n=r.n()).done;){var i=Qy(t,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function $y(t,e){if(t===e.value)return[e];var n,r=B(e.children);try{for(r.s();!(n=r.n()).done;){var i=$y(t,n.value);if(i.length)return i.unshift(e),i}}catch(o){r.e(o)}finally{r.f()}return[]}var Yy=function(){function t(e,n){tt(this,t),this.value=e,this.children=n}return nt(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function Jy(t){var e={};return t&&t.children.forEach((function(t){return e[t.value.outlet]=t})),e}var Xy=function(t){K(n,t);var e=$(n);function n(t,r){var i;return tt(this,n),(i=e.call(this,t)).snapshot=r,ib(J(i),t),i}return nt(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Ky);function Zy(t,e){var n=function(t,e){var n=new nb([],{},{},"",{},"primary",e,null,t.root,-1,{});return new rb("",new Yy(n,[]))}(t,e),r=new um([new Dy("",{})]),i=new um({}),o=new um({}),s=new um({}),a=new um(""),u=new tb(r,i,s,a,o,"primary",e,n.root);return u.snapshot=n.root,new Xy(new Yy(u,[]),n)}var tb=function(){function t(e,n,r,i,o,s,a,u){tt(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=u}return nt(t,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(xt((function(t){return my(t)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(xt((function(t){return my(t)})))),this._queryParamMap}}]),t}();function eb(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce((function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var nb=function(){function t(e,n,r,i,o,s,a,u,c,l,h){tt(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return nt(t,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(t){return t.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=my(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=my(this.queryParams)),this._queryParamMap}}]),t}(),rb=function(t){K(n,t);var e=$(n);function n(t,r){var i;return tt(this,n),(i=e.call(this,r)).url=t,ib(J(i),r),i}return nt(n,[{key:"toString",value:function(){return ob(this._root)}}]),n}(Ky);function ib(t,e){e.value._routerState=t,e.children.forEach((function(e){return ib(t,e)}))}function ob(t){var e=t.children.length>0?" { ".concat(t.children.map(ob).join(", ")," } "):"";return"".concat(t.value).concat(e)}function sb(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,_y(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),_y(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!_y(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),_y(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ab(t,e){var n,r;return _y(t.params,e.params)&&Oy(n=t.url,r=e.url)&&n.every((function(t,e){return _y(t.parameters,r[e].parameters)}))&&!(!t.parent!=!e.parent)&&(!t.parent||ab(t.parent,e.parent))}function ub(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function cb(t,e,n,r,i){var o={};return r&&Ey(r,(function(t,e){o[e]=Array.isArray(t)?t.map((function(t){return""+t})):""+t})),new Ty(n.root===t?e:function t(e,n,r){var i={};return Ey(e.children,(function(e,o){i[o]=e===n?r:t(e,n,r)})),new Ay(e.segments,i)}(n.root,t,e),o,i)}var lb=function(){function t(e,n,r){if(tt(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ub(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(t){return"object"==typeof t&&null!=t&&t.outlets}));if(i&&i!==Cy(r))throw new Error("{outlets:{}} has to be the last command")}return nt(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),hb=function t(e,n,r){tt(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function fb(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function db(t,e,n){if(t||(t=new Ay([],{})),0===t.segments.length&&t.hasChildren())return pb(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var s=t.segments[i],a=fb(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!yb(a,u,s))return o;r+=2}else{if(!yb(a,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new Ay(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new Ay(t.segments.slice(r.pathIndex),t.children),pb(o,0,i)}return r.match&&0===i.length?new Ay(t.segments,{}):r.match&&!t.hasChildren()?vb(t,e,n):r.match?pb(t,0,i):vb(t,e,n)}function pb(t,e,n){if(0===n.length)return new Ay(t.segments,{});var r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{primary:t}}(n),i={};return Ey(r,(function(n,r){null!==n&&(i[r]=db(t.children[r],e,n))})),Ey(t.children,(function(t,e){void 0===r[e]&&(i[e]=t)})),new Ay(t.segments,i)}function vb(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){var o=gb(n[i].outlets);return new Ay(r,o)}if(0===i&&ub(n[0]))r.push(new Dy(t.segments[e].path,n[0])),i++;else{var s=fb(n[i]),a=i<n.length-1?n[i+1]:null;s&&a&&ub(a)?(r.push(new Dy(s,mb(a))),i+=2):(r.push(new Dy(s,{})),i++)}}return new Ay(r,{})}function gb(t){var e={};return Ey(t,(function(t,n){null!==t&&(e[n]=vb(new Ay([],{}),0,t))})),e}function mb(t){var e={};return Ey(t,(function(t,n){return e[n]=""+t})),e}function yb(t,e,n){return t==n.path&&_y(e,n.parameters)}var bb=function(){function t(e,n,r,i){tt(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return nt(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),sb(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=Jy(e);t.children.forEach((function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]})),Ey(i,(function(t,e){r.deactivateRouteAndItsChildren(t,n)}))}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=Jy(t),o=t.value.component?r.children:e;Ey(i,(function(t,e){return n.deactivateRouteAndItsChildren(t,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=Jy(e);t.children.forEach((function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new py(t.value.snapshot))})),t.children.length&&this.forwardEvent(new fy(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(sb(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),_b(a.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;s.attachRef=null,s.route=r,s.resolver=c,s.outlet&&s.outlet.activateWith(r,c),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function _b(t){sb(t.value),t.children.forEach(_b)}var wb=function t(e,n){tt(this,t),this.routes=e,this.module=n};function kb(t){return"function"==typeof t}function Cb(t){return t instanceof Ty}var Eb=Symbol("INITIAL_VALUE");function Sb(){return xm((function(t){return lm.apply(void 0,j(t.map((function(t){return t.pipe(Fm(1),Vm(Eb))})))).pipe(function(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new jm(t,e,n))}}((function(t,e){var n=!1;return e.reduce((function(t,r,i){if(t!==Eb)return t;if(r===Eb&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Cb(r))return r}return t}),t)}),Eb),ym((function(t){return t!==Eb})),xt((function(t){return Cb(t)?t:!0===t})),Fm(1))}))}var Ib=function t(e){tt(this,t),this.segmentGroup=e||null},Tb=function t(e){tt(this,t),this.urlTree=e};function Ab(t){return new vt((function(e){return e.error(new Ib(t))}))}function Db(t){return new vt((function(e){return e.error(new Tb(t))}))}function Ob(t){return new vt((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))}))}var Pb=function(){function t(e,n,r,i,o){tt(this,t),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(Qe)}return nt(t,[{key:"apply",value:function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(xt((function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)}))).pipe(qm((function(e){if(e instanceof Tb)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Ib)throw t.noMatchError(e);throw e})))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(xt((function(n){return e.createUrlTree(n,t.queryParams,t.fragment)}))).pipe(qm((function(t){if(t instanceof Ib)throw e.noMatchError(t);throw t})))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new Ay([],{primary:t}):t;return new Ty(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(xt((function(t){return new Ay([],t)}))):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return am({});var o=[],s=[],a={};return Ey(n,(function(n,i){var u,c,l=(u=i,c=n,r.expandSegmentGroup(t,e,c,u)).pipe(xt((function(t){return a[i]=t})));"primary"===i?o.push(l):s.push(l)})),am.apply(null,o.concat(s)).pipe(mm(),function(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?ym((function(e,n){return t(e,n,r)})):dt,km(1),n?Dm(e):Sm((function(){return new dm})))}}(),xt((function(){return a})))}(n.children)}},{key:"expandSegment",value:function(t,e,n,r,i,o){var s=this;return am.apply(void 0,j(n)).pipe(zm((function(a){return s.expandSegmentAgainstRoute(t,e,n,a,r,i,o).pipe(qm((function(t){if(t instanceof Ib)return am(null);throw t})))})),Gm((function(t){return!!t})),qm((function(t,n){if(t instanceof dm||"EmptyError"===t.name){if(s.noLeftoversInUrl(e,r,i))return am(new Ay([],{}));throw new Ib(e)}throw t})))}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,s){return Fb(r)!==o?Ab(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Ab(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Db(o):this.lineralizeSegments(n,o).pipe(Lt((function(n){var o=new Ay(n,{});return i.expandSegment(t,o,e,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var s=this,a=xb(e,r,i),u=a.matched,c=a.consumedSegments,l=a.lastChild,h=a.positionalParamSegments;if(!u)return Ab(e);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?Db(f):this.lineralizeSegments(r,f).pipe(Lt((function(r){return s.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(xt((function(t){return n._loadedConfig=t,new Ay(r,{})}))):am(new Ay(r,{}));var o=xb(e,n,r),s=o.matched,a=o.consumedSegments,u=o.lastChild;if(!s)return Ab(e);var c=r.slice(u);return this.getChildConfig(t,n,r).pipe(Lt((function(t){var n=t.module,r=t.routes,o=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some((function(n){return Rb(t,e,n)&&"primary"!==Fb(n)}))}(t,n,r)?{segmentGroup:Nb(new Ay(e,function(t,e){var n={};n.primary=e;var r,i=B(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;""===o.path&&"primary"!==Fb(o)&&(n[Fb(o)]=new Ay([],{}))}}catch(s){i.e(s)}finally{i.f()}return n}(r,new Ay(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some((function(n){return Rb(t,e,n)}))}(t,n,r)?{segmentGroup:Nb(new Ay(t.segments,function(t,e,n,r){var i,o={},s=B(n);try{for(s.s();!(i=s.n()).done;){var a=i.value;Rb(t,e,a)&&!r[Fb(a)]&&(o[Fb(a)]=new Ay([],{}))}}catch(u){s.e(u)}finally{s.f()}return Object.assign(Object.assign({},r),o)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,a,c,r),s=o.segmentGroup,u=o.slicedSegments;return 0===u.length&&s.hasChildren()?i.expandChildren(n,r,s).pipe(xt((function(t){return new Ay(a,t)}))):0===r.length&&0===u.length?am(new Ay(a,{})):i.expandSegment(n,s,r,u,"primary",!0).pipe(xt((function(t){return new Ay(a.concat(t.segments),t.children)})))})))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?am(new wb(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?am(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Lt((function(n){return n?r.configLoader.load(t.injector,e).pipe(xt((function(t){return e._loadedConfig=t,t}))):function(t){return new vt((function(e){return e.error(yy("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))}))}(e)}))):am(new wb([],t))}},{key:"runCanLoadGuards",value:function(t,e,n){var r=this,i=e.canLoad;return i&&0!==i.length?am(i.map((function(r){var i,o=t.get(r);if(function(t){return t&&kb(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!kb(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return Sy(i)}))).pipe(Sb(),Qm((function(t){if(Cb(t)){var e=yy('Redirecting to "'.concat(r.urlSerializer.serialize(t),'"'));throw e.url=t,e}})),xt((function(t){return!0===t}))):am(!0)}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return am(n);if(r.numberOfChildren>1||!r.children.primary)return Ob(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new Ty(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return Ey(t,(function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t})),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),s={};return Ey(e.children,(function(e,o){s[o]=i.createSegmentGroup(t,e,n,r)})),new Ay(o,s)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map((function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)}))}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,e){var n,r=0,i=B(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===t.path)return e.splice(r),o;r++}}catch(s){i.e(s)}finally{i.f()}return t}}]),t}();function xb(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||by)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Nb(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new Ay(t.segments.concat(e.segments),e.children)}return t}function Rb(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Fb(t){return t.outlet||"primary"}var Mb=function t(e){tt(this,t),this.path=e,this.route=this.path[this.path.length-1]},Lb=function t(e,n){tt(this,t),this.component=e,this.route=n};function Ub(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Vb(t,e,n){var r=Jy(t),i=t.value;Ey(r,(function(t,r){Vb(t,i.component?e?e.children.getContext(r):null:e,n)})),n.canDeactivateChecks.push(new Lb(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function jb(t,e){return null!==t&&e&&e(new dy(t)),am(!0)}function Bb(t,e){return null!==t&&e&&e(new hy(t)),am(!0)}function qb(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?am(r.map((function(r){return gm((function(){var i,o=Ub(r,e,n);if(function(t){return t&&kb(t.canActivate)}(o))i=Sy(o.canActivate(e,t));else{if(!kb(o))throw new Error("Invalid CanActivate guard");i=Sy(o(e,t))}return i.pipe(Gm())}))}))).pipe(Sb()):am(!0)}function Wb(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map((function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)})).filter((function(t){return null!==t})).map((function(e){return gm((function(){return am(e.guards.map((function(i){var o,s=Ub(i,e.node,n);if(function(t){return t&&kb(t.canActivateChild)}(s))o=Sy(s.canActivateChild(r,t));else{if(!kb(s))throw new Error("Invalid CanActivateChild guard");o=Sy(s(r,t))}return o.pipe(Gm())}))).pipe(Sb())}))}));return am(i).pipe(Sb())}var Hb=function t(){tt(this,t)},zb=function(){function t(e,n,r,i,o,s){tt(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}return nt(t,[{key:"recognize",value:function(){try{var t=Qb(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new nb([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Yy(n,e),i=new rb(this.url,r);return this.inheritParamsAndData(i._root),am(i)}catch(o){return new vt((function(t){return t.error(o)}))}}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=eb(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach((function(t){return e.inheritParamsAndData(t)}))}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){var n,r=this,i=Py(e,(function(e,n){return r.processSegmentGroup(t,e,n)}));return n={},i.forEach((function(t){var e=n[t.value.outlet];if(e){var r=e.url.map((function(t){return t.toString()})).join("/"),i=t.value.url.map((function(t){return t.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[t.value.outlet]=t.value})),i.sort((function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)})),i}},{key:"processSegment",value:function(t,e,n,r){var i,o=B(t);try{for(o.s();!(i=o.n()).done;){var s=i.value;try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(a){if(!(a instanceof Hb))throw a}}}catch(u){o.e(u)}finally{o.f()}if(this.noLeftoversInUrl(e,n,r))return[];throw new Hb}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo)throw new Hb;if((t.outlet||"primary")!==r)throw new Hb;var i,o=[],s=[];if("**"===t.path){var a=n.length>0?Cy(n).parameters:{};i=new nb(n,a,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Jb(t),r,t.component,t,Gb(e),Kb(e)+n.length,Xb(t))}else{var u=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Hb;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||by)(n,t,e);if(!r)throw new Hb;var i={};Ey(r.posParams,(function(t,e){i[e]=t.path}));var o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=u.consumedSegments,s=n.slice(u.lastChild),i=new nb(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Jb(t),r,t.component,t,Gb(e),Kb(e)+o.length,Xb(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=Qb(e,o,s,c,this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return[new Yy(i,d)]}if(0===c.length&&0===f.length)return[new Yy(i,[])];var p=this.processSegment(c,h,f,"primary");return[new Yy(i,p)]}}]),t}();function Gb(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Kb(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Qb(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some((function(n){return $b(t,e,n)&&"primary"!==Yb(n)}))}(t,n,r)){var o=new Ay(e,function(t,e,n,r){var i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;var o,s=B(n);try{for(s.s();!(o=s.n()).done;){var a=o.value;if(""===a.path&&"primary"!==Yb(a)){var u=new Ay([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,i[Yb(a)]=u}}}catch(c){s.e(c)}finally{s.f()}return i}(t,e,r,new Ay(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some((function(n){return $b(t,e,n)}))}(t,n,r)){var s=new Ay(t.segments,function(t,e,n,r,i,o){var s,a={},u=B(r);try{for(u.s();!(s=u.n()).done;){var c=s.value;if($b(t,n,c)&&!i[Yb(c)]){var l=new Ay([],{});l._sourceSegment=t,l._segmentIndexShift="legacy"===o?t.segments.length:e.length,a[Yb(c)]=l}}}catch(h){u.e(h)}finally{u.f()}return Object.assign(Object.assign({},i),a)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}var a=new Ay(t.segments,t.children);return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}function $b(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Yb(t){return t.outlet||"primary"}function Jb(t){return t.data||{}}function Xb(t){return t.resolve||{}}function Zb(t){return function(e){return e.pipe(xm((function(e){var n=t(e);return n?Mt(n).pipe(xt((function(){return e}))):Mt([e])})))}}var t_,e_=function(t){K(n,t);var e=$(n);function n(){return tt(this,n),e.apply(this,arguments)}return n}(function(){function t(){tt(this,t)}return nt(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}()),n_=((t_=function t(){tt(this,t)}).\u0275fac=function(t){return new(t||t_)},t_.\u0275cmp=hn({type:t_,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Aa(0,"router-outlet")},directives:function(){return[T_]},encapsulation:2}),t_);function r_(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];i_(r,o_(e,r))}}function i_(t,e){if(!t)throw new Error("\n      Invalid configuration of route '".concat(e,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(t))throw new Error("Invalid configuration of route '".concat(e,"': Array cannot be specified"));if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error("Invalid configuration of route '".concat(e,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and children cannot be used together"));if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and loadChildren cannot be used together"));if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': children and loadChildren cannot be used together"));if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and component cannot be used together"));if(t.path&&t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': path and matcher cannot be used together"));if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': routes must have either a path or a matcher specified"));if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '".concat(e,"': path cannot start with a slash"));if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(e,'", redirectTo: "').concat(t.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '".concat(e,"': pathMatch can only be set to 'prefix' or 'full'"));t.children&&r_(t.children,e)}function o_(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function s_(t){var e=t.children&&t.children.map(s_),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=n_),n}var a_=new Fe("ROUTES"),u_=function(){function t(e,n,r,i){tt(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return nt(t,[{key:"load",value:function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(xt((function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new wb(ky(i.injector.get(a_)).map(s_),i)})))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?Mt(this.loader.load(t)):Sy(t()).pipe(Lt((function(t){return t instanceof $e?am(t):Mt(e.compiler.compileModuleAsync(t))})))}}]),t}(),c_=function t(){tt(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new l_,this.attachRef=null},l_=function(){function t(){tt(this,t),this.contexts=new Map}return nt(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new c_,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),h_=function(){function t(){tt(this,t)}return nt(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function f_(t){throw t}function d_(t,e,n){return e.parse("/")}function p_(t,e){return am(null)}var v_,g_,m_,y_=((m_=function(){function t(e,n,r,i,o,s,a,u){var c=this;tt(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new wt,this.errorHandler=f_,this.malformedUriErrorHandler=d_,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:p_,afterPreactivation:p_},this.urlHandlingStrategy=new h_,this.routeReuseStrategy=new e_,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(Qe),this.console=o.get($l);var l=o.get(uh);this.isNgZoneEnabled=l instanceof uh,this.resetConfig(u),this.currentUrlTree=new Ty(new Ay([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new u_(s,a,(function(t){return c.triggerEvent(new cy(t))}),(function(t){return c.triggerEvent(new ly(t))})),this.routerState=Zy(this.currentUrlTree,this.rootComponentType),this.transitions=new um({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return nt(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(ym((function(t){return 0!==t.id})),xt((function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})})),xm((function(t){var r,i,o,s,a=!1,u=!1;return am(t).pipe(Qm((function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}})),xm((function(t){var r,i,o,s,a=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||a)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return am(t).pipe(xm((function(t){var r=e.transitions.getValue();return n.next(new ty(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?pm:[t]})),xm((function(t){return Promise.resolve(t)})),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,s=e.config,function(t){return t.pipe(xm((function(t){return function(t,e,n,r,i){return new Pb(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(xt((function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})})))})))}),Qm((function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})})),function(t,n,r,i,o){return function(r){return r.pipe(Lt((function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new zb(t,e,n,r,i,o).recognize()}(t,n,r.urlAfterRedirects,(s=r.urlAfterRedirects,e.serializeUrl(s)),i,o).pipe(xt((function(t){return Object.assign(Object.assign({},r),{targetSnapshot:t})})));var s})))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Qm((function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),Qm((function(t){var r=new iy(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)})));if(a&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.id,c=t.extractedUrl,l=t.source,h=t.restoredState,f=t.extras,d=new ty(u,e.serializeUrl(c),l,h);n.next(d);var p=Zy(c,e.rootComponentType).snapshot;return am(Object.assign(Object.assign({},t),{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),pm})),Zb((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,s=t.extras,a=s.skipLocationChange,u=s.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!a,replaceUrl:!!u})})),Qm((function(t){var n=new oy(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),xt((function(t){return Object.assign(Object.assign({},t),{guards:(n=t.targetSnapshot,r=t.currentSnapshot,i=e.rootContexts,o=n._root,function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},s=Jy(n);return e.children.forEach((function(e){!function(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},s=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){var c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Oy(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Oy(t.url,e.url)||!_y(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ab(t,e)||!_y(t.queryParams,e.queryParams);case"paramsChange":default:return!ab(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Mb(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?u?u.children:null:r,i,o),c&&u&&u.outlet&&u.outlet.isActivated&&o.canDeactivateChecks.push(new Lb(u.outlet.component,a))}else a&&Vb(n,u,o),o.canActivateChecks.push(new Mb(i)),t(e,null,s.component?u?u.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]})),Ey(s,(function(t,e){return Vb(t,r.getContext(e),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(t,e){return function(n){return n.pipe(Lt((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,s=o.canActivateChecks,a=o.canDeactivateChecks;return 0===a.length&&0===s.length?am(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Mt(t).pipe(Lt((function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?am(o.map((function(o){var s,a=Ub(o,e,i);if(function(t){return t&&kb(t.canDeactivate)}(a))s=Sy(a.canDeactivate(t,e,n,r));else{if(!kb(a))throw new Error("Invalid CanDeactivate guard");s=Sy(a(t,e,n,r))}return s.pipe(Gm())}))).pipe(Sb()):am(!0)}(t.component,t.route,n,e,r)})),Gm((function(t){return!0!==t}),!0))}(a,r,i,t).pipe(Lt((function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Mt(e).pipe(zm((function(e){return Mt([Bb(e.route.parent,r),jb(e.route,r),Wb(t,e.path,n),qb(t,e.route,n)]).pipe(mm(),Gm((function(t){return!0!==t}),!0))})),Gm((function(t){return!0!==t}),!0))}(r,s,t,e):am(n)})),xt((function(t){return Object.assign(Object.assign({},n),{guardsResult:t})})))})))}}(e.ngModule.injector,(function(t){return e.triggerEvent(t)})),Qm((function(t){if(Cb(t.guardsResult)){var n=yy('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}})),Qm((function(t){var n=new sy(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)})),ym((function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new ny(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0})),Zb((function(t){if(t.guards.canActivateChecks.length)return am(t).pipe(Qm((function(t){var n=new ay(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),xm((function(t){var r,i,o=!1;return am(t).pipe((r=e.paramsInheritanceStrategy,i=e.ngModule.injector,function(t){return t.pipe(Lt((function(t){var e=t.targetSnapshot,n=t.guards.canActivateChecks;if(!n.length)return am(t);var o=0;return Mt(n).pipe(zm((function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return am({});var o={};return Mt(i).pipe(Lt((function(i){return function(t,e,n,r){var i=Ub(t,e,r);return Sy(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Qm((function(t){o[i]=t})))})),km(1),Lt((function(){return Object.keys(o).length===i.length?am(o):pm})))}(t._resolve,t,e,r).pipe(xt((function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),eb(t,n).resolve),null})))}(t.route,e,r,i)})),Qm((function(){return o++})),km(1),Lt((function(e){return o===n.length?am(t):pm})))})))}),Qm({next:function(){return o=!0},complete:function(){if(!o){var r=new ny(t.id,e.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");n.next(r),t.resolve(!1)}}}))})),Qm((function(t){var n=new uy(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})))})),Zb((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,s=t.extras,a=s.skipLocationChange,u=s.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!a,replaceUrl:!!u})})),xt((function(t){var n=function(t,e,n){var r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(e,n,r){return n.children.map((function(n){var i,o=B(r.children);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(e.shouldReuseRoute(s.value.snapshot,n.value))return t(e,n,s)}}catch(a){o.e(a)}finally{o.f()}return t(e,n)}))}(e,n,r);return new Yy(i,o)}var s=e.retrieve(n.value);if(s){var a=s.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,a),a}var u,c=new tb(new um((u=n.value).url),new um(u.params),new um(u.queryParams),new um(u.fragment),new um(u.data),u.outlet,u.component,u),l=n.children.map((function(n){return t(e,n)}));return new Yy(c,l)}(t,e._root,n?n._root:void 0);return new Xy(r,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})})),Qm((function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),(i=e.rootContexts,o=e.routeReuseStrategy,s=function(t){return e.triggerEvent(t)},xt((function(t){return new bb(o,t.targetRouterState,t.currentRouterState,s).activate(i),t}))),Qm({next:function(){a=!0},complete:function(){a=!0}}),(r=function(){if(!a&&!u){e.resetUrlToCurrentUrlTree();var r=new ny(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new Jm(r))}),qm((function(r){if(u=!0,(a=r)&&a.ngNavigationCancelingError){var i=Cb(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new ny(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),i?setTimeout((function(){var n=e.urlHandlingStrategy.merge(r.url,e.rawUrlTree);return e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})}),0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var s=new ry(t.id,e.serializeUrl(t.extractedUrl),r);n.next(s);try{t.resolve(e.errorHandler(r))}catch(c){t.reject(c)}}var a;return pm})))})))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var n=t.extractLocationChangeInfoFromEvent(e);t.shouldScheduleNavigation(t.lastLocationChangeInfo,n)&&setTimeout((function(){var e=n.source,r=n.state,i=n.urlTree,o={replaceUrl:!0};if(r){var s=Object.assign({},r);delete s.navigationId,0!==Object.keys(s).length&&(o.state=s)}t.scheduleNavigation(i,e,r,o)}),0),t.lastLocationChangeInfo=n})))}},{key:"extractLocationChangeInfoFromEvent",value:function(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(t,e){if(!t)return!0;var n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){r_(t),this.config=t.map(s_),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,r=e.queryParams,i=e.fragment,o=e.preserveQueryParams,s=e.queryParamsHandling,a=e.preserveFragment;yi()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var u=n||this.routerState.root,c=a?this.currentUrlTree.fragment:i,l=null;if(s)switch(s){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}else l=o?this.currentUrlTree.queryParams:r||null;return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,i){if(0===n.length)return cb(e.root,e.root,e,r,i);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new lb(!0,0,t);var e=0,n=!1,r=t.reduce((function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return Ey(r.outlets,(function(t,e){o[e]="string"==typeof t?t.split("/"):t})),[].concat(j(t),[{outlets:o}])}if(r.segmentPath)return[].concat(j(t),[r.segmentPath])}return"string"!=typeof r?[].concat(j(t),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))})),t):[].concat(j(t),[r])}),[]);return new lb(n,e,r)}(n);if(o.toRoot())return cb(e.root,new Ay([],{}),e,r,i);var s=function(t,e,n){if(t.isAbsolute)return new hb(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new hb(r,r===e.root,0)}var i=ub(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new hb(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?pb(s.segmentGroup,s.index,o.commands):db(s.segmentGroup,s.index,o.commands);return cb(s.segmentGroup,a,e,r,i)}(u,this.currentUrlTree,t,l,c)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};yi()&&this.isNgZoneEnabled&&!uh.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=Cb(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(Cb(t))return Iy(this.currentUrlTree,t,e);var n=this.parseUrl(t);return Iy(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce((function(e,n){var r=t[n];return null!=r&&(e[n]=r),e}),{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe((function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new ey(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)}),(function(e){t.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(t,e,n,r,i){var o,s,a,u=this.getTransition(),c="imperative"!==e&&"imperative"===(null==u?void 0:u.source),l=(this.lastSuccessfulId===u.id||this.currentNavigation?u.rawUrl:u.urlAfterRedirects).toString()===t.toString();if(c&&l)return Promise.resolve(!0);i?(o=i.resolve,s=i.reject,a=i.promise):a=new Promise((function(t,e){o=t,s=e}));var h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch((function(t){return Promise.reject(t)}))}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),t}()).\u0275fac=function(t){return new(t||m_)(He(Us),He(xy),He(l_),He(lf),He(Zs),He(Dh),He(oh),He(void 0))},m_.\u0275prov=se({token:m_,factory:m_.\u0275fac}),m_),b_=((g_=function(){function t(e,n,r,i,o){tt(this,t),this.router=e,this.route=n,this.commands=[],this.onChanges=new wt,null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return nt(t,[{key:"ngOnChanges",value:function(t){this.onChanges.next(this)}},{key:"onClick",value:function(){var t={skipLocationChange:w_(this.skipLocationChange),replaceUrl:w_(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){yi()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:w_(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:w_(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||g_)(ka(y_),ka(tb),Ca("tabindex"),ka(ju),ka(Mu))},g_.\u0275dir=mn({type:g_,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&Ra("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[On]}),g_),__=((v_=function(){function t(e,n,r){var i=this;tt(this,t),this.router=e,this.route=n,this.locationStrategy=r,this.commands=[],this.onChanges=new wt,this.subscription=e.events.subscribe((function(t){t instanceof ey&&i.updateTargetUrlAndHref()}))}return nt(t,[{key:"ngOnChanges",value:function(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var o={skipLocationChange:w_(this.skipLocationChange),replaceUrl:w_(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){yi()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:w_(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:w_(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||v_)(ka(y_),ka(tb),ka(ef))},v_.\u0275dir=mn({type:v_,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&Ra("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)})),2&t&&(Eu("href",e.href,zi),ya("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[On]}),v_);function w_(t){return""===t||!!t}var k_,C_,E_,S_,I_=((C_=function(){function t(e,n,r,i,o,s){var a=this;tt(this,t),this.router=e,this.element=n,this.renderer=r,this.cdr=i,this.link=o,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe((function(t){t instanceof ey&&a.update()}))}return nt(t,[{key:"ngAfterContentInit",value:function(){var t=this;Mt([this.links.changes,this.linksWithHrefs.changes,am(null)]).pipe(jt()).subscribe((function(e){t.update(),t.subscribeToEachLinkOnChanges()}))}},{key:"subscribeToEachLinkOnChanges",value:function(){var t,e=this;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();var n=[].concat(j(this.links.toArray()),j(this.linksWithHrefs.toArray()),[this.link,this.linkWithHref]).filter((function(t){return!!t})).map((function(t){return t.onChanges}));this.linkInputChangesSubscription=Mt(n).pipe(jt()).subscribe((function(t){e.isActive!==e.isLinkActive(e.router)(t)&&e.update()}))}},{key:"ngOnChanges",value:function(t){this.update()}},{key:"ngOnDestroy",value:function(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}},{key:"update",value:function(){var t=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then((function(){var e=t.hasActiveLinks();t.isActive!==e&&(t.isActive=e,t.cdr.markForCheck(),t.classes.forEach((function(n){e?t.renderer.addClass(t.element.nativeElement,n):t.renderer.removeClass(t.element.nativeElement,n)})))}))}},{key:"isLinkActive",value:function(t){var e=this;return function(n){return t.isActive(n.urlTree,e.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}},{key:"routerLinkActive",set:function(t){var e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter((function(t){return!!t}))}}]),t}()).\u0275fac=function(t){return new(t||C_)(ka(y_),ka(Mu),ka(ju),ka(Ms),ka(b_,8),ka(__,8))},C_.\u0275dir=mn({type:C_,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var r;1&t&&(Nl(n,b_,!0),Nl(n,__,!0)),2&t&&(Dl(r=Ml())&&(e.links=r),Dl(r=Ml())&&(e.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[On]}),C_),T_=((k_=function(){function t(e,n,r,i,o){tt(this,t),this.parentContexts=e,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new yl,this.deactivateEvents=new yl,this.name=i||"primary",e.onChildOutletCreated(this.name,this)}return nt(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new A_(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),t}()).\u0275fac=function(t){return new(t||k_)(ka(l_),ka(ac),ka(Fu),Ca("name"),ka(Ms))},k_.\u0275dir=mn({type:k_,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),k_),A_=function(){function t(e,n,r){tt(this,t),this.route=e,this.childContexts=n,this.parent=r}return nt(t,[{key:"get",value:function(t,e){return t===tb?this.route:t===l_?this.childContexts:this.parent.get(t,e)}}]),t}(),D_=function t(){tt(this,t)},O_=function(){function t(){tt(this,t)}return nt(t,[{key:"preload",value:function(t,e){return e().pipe(qm((function(){return am(null)})))}}]),t}(),P_=function(){function t(){tt(this,t)}return nt(t,[{key:"preload",value:function(t,e){return am(null)}}]),t}(),x_=((S_=function(){function t(e,n,r,i,o){tt(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new u_(n,r,(function(t){return e.triggerEvent(new cy(t))}),(function(t){return e.triggerEvent(new ly(t))}))}return nt(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(ym((function(t){return t instanceof ey})),zm((function(){return t.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var t=this.injector.get(Qe);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,r=[],i=B(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var s=o._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(t,o)):o.children&&r.push(this.processRoutes(t,o.children))}}catch(a){i.e(a)}finally{i.f()}return Mt(r).pipe(jt(),xt((function(t){})))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,(function(){return n.loader.load(t.injector,e).pipe(Lt((function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})))}))}}]),t}()).\u0275fac=function(t){return new(t||S_)(He(y_),He(Dh),He(oh),He(Zs),He(D_))},S_.\u0275prov=se({token:S_,factory:S_.\u0275fac}),S_),N_=((E_=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};tt(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return nt(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof ty?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ey&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof vy&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new vy(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||E_)(He(y_),He(pp),He(void 0))},E_.\u0275prov=se({token:E_,factory:E_.\u0275fac}),E_),R_=new Fe("ROUTER_CONFIGURATION"),F_=new Fe("ROUTER_FORROOT_GUARD"),M_=[lf,{provide:xy,useClass:Ny},{provide:y_,useFactory:function(t,e,n,r,i,o,s){var a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,l=new y_(null,t,e,n,r,i,o,ky(s));if(u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),a.errorHandler&&(l.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(l.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){var h=Bh();l.events.subscribe((function(t){h.logGroup("Router Event: "+t.constructor.name),h.log(t.toString()),h.log(t),h.logGroupEnd()}))}return a.onSameUrlNavigation&&(l.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(l.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(l.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(l.relativeLinkResolution=a.relativeLinkResolution),l},deps:[xy,l_,lf,Zs,Dh,oh,a_,R_,[function(){return function t(){tt(this,t)}}(),new te],[function(){return function t(){tt(this,t)}}(),new te]]},l_,{provide:tb,useFactory:function(t){return t.routerState.root},deps:[y_]},{provide:Dh,useClass:xh},x_,P_,O_,{provide:R_,useValue:{enableTracing:!1}}];function L_(){return new wh("Router",y_)}var U_,V_=((U_=function(){function t(e,n){tt(this,t)}return nt(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[M_,W_(e),{provide:F_,useFactory:q_,deps:[[y_,new te,new ne]]},{provide:R_,useValue:n||{}},{provide:ef,useFactory:B_,deps:[Hh,[new Zt(af),new te],R_]},{provide:N_,useFactory:j_,deps:[y_,pp,R_]},{provide:D_,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:P_},{provide:wh,multi:!0,useFactory:L_},[z_,{provide:Bl,multi:!0,useFactory:G_,deps:[z_]},{provide:$_,useFactory:K_,deps:[z_]},{provide:Ql,multi:!0,useExisting:$_}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[W_(e)]}}}]),t}()).\u0275mod=vn({type:U_}),U_.\u0275inj=ae({factory:function(t){return new(t||U_)(He(F_,8),He(y_,8))}}),U_);function j_(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new N_(t,e,n)}function B_(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new cf(t,e):new uf(t,e)}function q_(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function W_(t){return[{provide:ta,multi:!0,useValue:t},{provide:a_,multi:!0,useValue:t}]}var H_,z_=((H_=function(){function t(e){tt(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new wt}return nt(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(Kh,Promise.resolve(null)).then((function(){var e=null,n=new Promise((function(t){return e=t})),r=t.injector.get(y_),i=t.injector.get(R_);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return t.initNavigation?am(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(R_),n=this.injector.get(x_),r=this.injector.get(N_),i=this.injector.get(y_),o=this.injector.get(Th);t===o.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}},{key:"isLegacyDisabled",value:function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}]),t}()).\u0275fac=function(t){return new(t||H_)(He(Zs))},H_.\u0275prov=se({token:H_,factory:H_.\u0275fac}),H_);function G_(t){return t.appInitializer.bind(t)}function K_(t){return t.bootstrapListener.bind(t)}var Q_,$_=new Fe("Router Initializer"),Y_=((Q_=function(){function t(e){tt(this,t),this.router=e,this.categorySelectedId="",this.query="",this.sortOptionSelectedName="",this.searchSubject=new wt,this.currentSearchQuery={categoryId:this.categorySelectedId,query:"",sortBy:"",item:""}}return nt(t,[{key:"search",value:function(t,e,n,r){if(t||e||n||r){this.categorySelectedId=t;var i={categoryId:this.categorySelectedId?this.categorySelectedId:Vh.ID,query:e||"",sortBy:r||"",item:n||""};this.currentSearchQuery=i,e?this.searchByQuery(i):this.searchByCategory(i)}}},{key:"searchByCategory",value:function(t){var e,n;t.categoryId&&t.sortBy&&t.item?this.router.navigate([sm.RESULTS],{queryParams:(e={},U(e,Uh.CATEGORY,t.categoryId),U(e,Uh.ITEM,t.item),U(e,Uh.SORT_OPTION,t.sortBy),e)}):t.categoryId&&t.sortBy?this.router.navigate([sm.RESULTS],{queryParams:(n={},U(n,Uh.CATEGORY,t.categoryId),U(n,Uh.SORT_OPTION,t.sortBy),n)}):t.categoryId?this.router.navigate([sm.RESULTS],{queryParams:U({},Uh.CATEGORY,t.categoryId)}):this.searchAll()}},{key:"searchByQuery",value:function(t){var e,n,r;t.query&&t.categoryId&&this.router.navigate([sm.RESULTS],t.sortBy&&t.item?{queryParams:(e={},U(e,Uh.QUERY,t.query),U(e,Uh.CATEGORY,t.categoryId),U(e,Uh.ITEM,t.item),U(e,Uh.SORT_OPTION,t.sortBy),e)}:t.sortBy?{queryParams:(n={},U(n,Uh.QUERY,t.query),U(n,Uh.CATEGORY,t.categoryId),U(n,Uh.SORT_OPTION,t.sortBy),n)}:{queryParams:(r={},U(r,Uh.QUERY,t.query),U(r,Uh.CATEGORY,t.categoryId),r)})}},{key:"searchAll",value:function(){this.router.navigate([sm.RESULTS],{queryParams:U({},Uh.CATEGORY,Vh.NAME)})}}]),t}()).\u0275fac=function(t){return new(t||Q_)(He(y_))},Q_.\u0275prov=se({token:Q_,factory:Q_.\u0275fac,providedIn:"root"}),Q_);function J_(t,e){if(1&t){var n=Pa();Ia(0,"ul",10),Ra("click",(function(){er(n);var t=e.$implicit;return La(2).searchQueryWithSuggestion(t.name)}))("mousedown",(function(){er(n);var t=e.$implicit;return La(2).searchQueryWithSuggestion(t.name)})),Ia(1,"li",11),Aa(2,"span",12),Ia(3,"span"),_u(4),Ta(),Ta(),Ta()}if(2&t){var r=e.$implicit;lo(4),wu(r.name)}}function X_(t,e){if(1&t){var n=Pa();Ia(0,"div",8),Ra("mouseout",(function(){return er(n),La().setTagsSuggestedFocus(!1)}))("mouseenter",(function(){return er(n),La().setTagsSuggestedFocus(!0)})),_a(1,J_,5,1,"ul",9),Ta()}if(2&t){var r=La();lo(1),Ea("ngForOf",r.tagsSuggested)}}var Z_,tw=function(t){return{height:t}},ew=((Z_=function(){function t(e,n,r,i){tt(this,t),this.tagService=e,this.searchService=n,this.formBuilder=r,this.route=i,this.sortByName="",this.item="",this.query="",this.tags=[],this.tagsDB=[],this.tagsSuggested=[],this.isInputFocus=!1,this.isTagsSuggestedFocus=!1,this.searchForm=this.formBuilder.group({category:[""],search:[""]})}return nt(t,[{key:"ngOnInit",value:function(){var t=this;console.log("SearchBarComponent ngOnInit"),this.tagService.getAllTagsFromDB((function(e){t.tagsDB=e,t.route.queryParams.subscribe((function(e){(e[Uh.CATEGORY]||e[Uh.QUERY]||e[Uh.ITEM]||e[Uh.SORT_OPTION])&&(t.query=e[Uh.QUERY]?e[Uh.QUERY]:"",t.item=e[Uh.ITEM]?e[Uh.ITEM]:"",t.sortByName=e[Uh.SORT_OPTION]?e[Uh.SORT_OPTION]:"",console.error("route.queryParams",t.query),t.fillSearchForm(),t.searchQuery())}))}))}},{key:"getHeight",value:function(){switch(this.height){case"lg":return"3.2rem";case"md":return"2.8rem";case"sm":return"4rem"}}},{key:"getSelectType",value:function(){return Zg}},{key:"getSelectRadius",value:function(){return tm}},{key:"fillSearchForm",value:function(){this.query&&this.searchForm.patchValue({search:this.query})}},{key:"searchQuery",value:function(){this.searchForm.get("search").value&&(this.query=this.searchForm.get("search").value,this.searchService.search(Vh.ID,this.query,this.sortByName,this.item),this.isTagsSuggestedFocus=!1)}},{key:"searchQueryWithSuggestion",value:function(t){this.query=t,this.searchService.search(Vh.ID,this.query,this.sortByName,this.item),this.isTagsSuggestedFocus=!1}},{key:"onSuggestTags",value:function(){var t=this,e=this.formatTagName(this.searchForm.get("search").value);this.tagService.getAllTagsFromDB((function(n){t.tagsDB=n,t.tagsSuggested.splice(0,t.tagsSuggested.length),e?e.length&&(t.tagsSuggested=t.tagsDB.filter((function(n){return t.formatTagName(n.name).startsWith(e)})),t.tagsSuggested=t.tagsSuggested.concat(t.tagsDB.filter((function(n){return t.formatTagName(n.name).includes(e)&&!t.tagsSuggested.find((function(t){return t.id===n.id}))}))),t.tagsSuggested=t.tagsSuggested.slice(0,20)):t.tagsSuggested=Array.from(t.tagsDB)}))}},{key:"setTagsSuggestedFocus",value:function(t){this.isTagsSuggestedFocus=t}},{key:"setTagsSuggestedWithInputFocus",value:function(){this.isInputFocus=!0,this.isTagsSuggestedFocus=!0,this.onSuggestTags()}},{key:"setTagsSuggestedWithInputFocusOut",value:function(){this.isInputFocus=!1}},{key:"isTagsSuggestedList",value:function(){return this.isTagsSuggestedFocus||this.isInputFocus}},{key:"formatTagName",value:function(t){if(t){var e=t.normalize("NFD").replace(/[\u0300-\u036f]/g,"");return e=e.toLowerCase()}return""}}]),t}()).\u0275fac=function(t){return new(t||Z_)(ka(om),ka(Y_),ka(Bg),ka(tb))},Z_.\u0275cmp=hn({type:Z_,selectors:[["app-search-bar2"]],inputs:{height:"height"},decls:8,vars:8,consts:[["action","",1,"search-form","my-auto","nav-search",3,"formGroup","ngSubmit"],[1,"form-group","has-feedback"],[1,"input-group"],["type","text","formControlName","search","name","search","id","search","placeholder","Rechercher","autocomplete","off",1,"form-control","input-search","search-bar-elem",3,"ngStyle","input","focus","focusout"],[1,"icon-search-b","input-group-append"],["id","basic-addon1",1,"icon-search","input-group-text","search-bar-elem",3,"ngStyle","click"],["data-inline","false","data-icon","bi:search",1,"iconify"],["class","suggestions text-left",3,"mouseout","mouseenter",4,"ngIf"],[1,"suggestions","text-left",3,"mouseout","mouseenter"],["class","list-group list-group-flush",3,"click","mousedown",4,"ngFor","ngForOf"],[1,"list-group","list-group-flush",3,"click","mousedown"],[1,"list-group-item","list-group-item-action","suggestion"],["data-icon","heroicons-solid:hashtag","data-inline","false",1,"iconify","my-auto",2,"color","#2E7B9C"]],template:function(t,e){1&t&&(Ia(0,"form",0),Ra("ngSubmit",(function(){return e.searchQuery()})),Ia(1,"div",1),Ia(2,"div",2),Ia(3,"input",3),Ra("input",(function(){return e.onSuggestTags()}))("focus",(function(){return e.setTagsSuggestedWithInputFocus()}))("focusout",(function(){return e.setTagsSuggestedWithInputFocusOut()})),Ta(),Ia(4,"div",4),Ia(5,"span",5),Ra("click",(function(){return e.searchQuery()})),Aa(6,"span",6),Ta(),Ta(),Ta(),_a(7,X_,2,1,"div",7),Ta(),Ta()),2&t&&(Ea("formGroup",e.searchForm),lo(3),Ea("ngStyle",hl(4,tw,e.getHeight())),lo(2),Ea("ngStyle",hl(6,tw,e.getHeight())),lo(2),Ea("ngIf",e.tagsSuggested.length&&e.isTagsSuggestedList()))},directives:[rg,Mp,ug,Dp,Fp,Ig,Ad,fd,ld],styles:[".icon-search[_ngcontent-%COMP%]{cursor:pointer;color:#2e7b9c;font-size:1.3rem;background-color:#fff;border-left:0;border-radius:0 3rem 3rem 0;-moz-border-radius:0 3rem 3rem 0;-webkit-border-radius:0 3rem 3rem 0}.input-search[_ngcontent-%COMP%]{border-right:0;border-radius:3rem 0 0 3rem;-moz-border-radius:3rem 0 0 3rem;-webkit-border-radius:3rem 0 0 3rem}.suggestions[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:91%;max-height:15em;overflow-y:auto;border-radius:0 0 1.5rem 1.5rem;-moz-border-radius:0 0 1.5rem 1.5rem;-webkit-border-radius:0 0 1.5rem 1.5rem;box-shadow:0 2px 4px 1px hsla(0,0%,60.8%,.32)}.suggestion[_ngcontent-%COMP%]:hover{color:#2e7b9c}"]}),Z_);function nw(t,e){if(1&t){var n=Pa();Ia(0,"div",9),Ia(1,"span",10),Ia(2,"div",11),Ra("click",(function(){er(n);var t=e.index;return La().onRemoveTag(t)})),Aa(3,"span",12),Ta(),Ia(4,"div",13),_u(5),Ta(),Ta(),Ta()}if(2&t){var r=e.$implicit;lo(5),ku(" ",r.name," ")}}function rw(t,e){if(1&t){var n=Pa();Ia(0,"ul",16),Ra("click",(function(){er(n);var t=e.$implicit;return La(2).onAddTagSuggested(t)}))("mousedown",(function(){er(n);var t=e.$implicit;return La(2).onAddTagSuggested(t)})),Ia(1,"li",17),Aa(2,"span",18),_u(3),Ta(),Ta()}if(2&t){var r=e.$implicit;lo(3),ku(" ",r.name," ")}}function iw(t,e){if(1&t){var n=Pa();Ia(0,"div",14),Ra("mouseout",(function(){return er(n),La().setTagsSuggestedFocus(!1)}))("mouseenter",(function(){return er(n),La().setTagsSuggestedFocus(!0)})),_a(1,rw,4,1,"ul",15),Ta()}if(2&t){var r=La();lo(1),Ea("ngForOf",r.tagsSuggested)}}var ow,sw=function(t,e){return{"form-control-lg":t,"form-control-sm":e}},aw=function(t,e){return{"btn-lg":t,"btn-sm":e}},uw=((ow=function(){function t(e,n){tt(this,t),this.formBuilder=e,this.tagService=n,this.tags=[],this.size="",this.tagsEvent=new yl,this.tagsDB=[],this.tagsSuggested=[],this.isInputFocus=!1,this.isTagsSuggestedFocus=!1}return nt(t,[{key:"ngOnInit",value:function(){var t=this;this.tagForm=this.formBuilder.group({tag:["",[qp.required]]}),this.tagService.getAllTagsFromDB((function(e){t.tagsDB=e,console.log(t.tagsDB)}))}},{key:"onSuggestTags",value:function(){var t=this,e=this.formatTagName(this.tagForm.get("tag").value);this.tagService.getAllTagsFromDB((function(n){t.tagsDB=n,t.tagsSuggested.splice(0,t.tagsSuggested.length),e?e.length&&(t.tagsSuggested=t.tagsDB.filter((function(n){return t.formatTagName(n.name).startsWith(e)})),t.tagsSuggested=t.tagsSuggested.concat(t.tagsDB.filter((function(n){return t.formatTagName(n.name).includes(e)&&!t.tagsSuggested.find((function(t){return t.id===n.id}))}))).slice(0,20),console.log(t.tagsSuggested)):t.tagsSuggested=Array.from(t.tagsDB)}))}},{key:"setTagsSuggestedFocus",value:function(t){this.isTagsSuggestedFocus=t}},{key:"setTagsSuggestedWithInputFocus",value:function(){this.isInputFocus=!0,this.isTagsSuggestedFocus=!0,this.onSuggestTags()}},{key:"setTagsSuggestedWithInputFocusOut",value:function(){this.isInputFocus=!1}},{key:"onCheckKey",value:function(t){return!/[!@\xa7_#$%&:=+.,\xa3\u20ac<>^\xa8\xb0\\u2018\\u201c\`\'\"*\[\](){}\xa1\u221e\u2260\xe6\xae\u2020\xda\xba\xee\u0153\xdf\u25ca\xa9\u2248\u2039\xab\u03c0\xb5\xac\ufb01\xb6;~\u0192\u2202\u2264\u2265\u203a\uf8ff\xf7\u2026\u2022\xbf\xb1\\\xf8\xa2\u221a\u222b\u0131\/?]/.test(t)}},{key:"onAddTagSuggested",value:function(t){var e=this;t&&t.id&&!this.tags.find((function(n){return e.formatTagName(n.name)===e.formatTagName(t.name)}))&&(this.tags.push(t),this.tagForm.reset(),this.isTagsSuggestedFocus=!1,this.tagsEvent.next(this.tags))}},{key:"onAddTag",value:function(t){var e=this;if("Enter"===t){var n=this.formatTagName(this.tagForm.get("tag").value);if(n.length&&this.isTagNameCheck(n)&&!this.tags.find((function(t){return e.formatTagName(t.name)===n}))){var r=this.tagsSuggested.find((function(t){return e.formatTagName(t.name)===n}))||this.tagsDB.find((function(t){return e.formatTagName(t.name)===n}));r?this.onAddTagSuggested(r):this.tags.find((function(t){return e.formatTagName(t.name)===n}))||this.tagsDB.find((function(t){return e.formatTagName(t.name)===n}))||this.saveTagInDB(this.tagForm.get("tag").value)}}}},{key:"formatTagName",value:function(t){if(t){var e=t.normalize("NFD").replace(/[\u0300-\u036f]/g,"");return e=e.toLowerCase()}return""}},{key:"isTagNameCheck",value:function(t){return!this.isForbiddenTag(t)&&t.length>2}},{key:"isForbiddenTag",value:function(t){return["le","la","un","une","de"].find((function(e){return t===e}))}},{key:"onRemoveTag",value:function(t){t>-1&&(console.log(this.tags),this.tags.splice(t,1))}},{key:"saveTagInDB",value:function(t){var e=this;t&&t.length&&this.tagService.addTagInDB(new im(null,t,[]),(function(t){console.log("saveTagInDB",t),e.tagsDB.splice(0,e.tagsDB.length),e.tagsDB=Array.from(e.tagService.tags),e.tags.push(t),e.tagForm.reset(),e.tagsEvent.next(e.tags)}))}},{key:"isTagsSuggestedList",value:function(){return this.isTagsSuggestedFocus||this.isInputFocus}}]),t}()).\u0275fac=function(t){return new(t||ow)(ka(Bg),ka(om))},ow.\u0275cmp=hn({type:ow,selectors:[["app-tags-input"]],inputs:{tags:"tags",size:"size"},outputs:{tagsEvent:"tagsEvent"},decls:10,vars:12,consts:[[1,"row","justify-content-start","mb-3"],["class","col-auto mb-3",4,"ngFor","ngForOf"],[3,"formGroup"],[1,"form-row"],[1,"col-9"],["type","text","name","tag","placeholder","Choisissez / cr\xe9ez un tag","formControlName","tag","autocomplete","off","required","",1,"tagManager","form-control",3,"ngClass","keydown","keypress","input","focus","focusout"],["class","tags-suggestion",3,"mouseout","mouseenter",4,"ngIf"],[1,"col-3"],["type","submit",1,"btn","btn-primary","mb-2",3,"ngClass","disabled","click"],[1,"col-auto","mb-3"],[1,"tag","py-2","px-3"],[1,"tag-close",3,"click"],["data-icon","ion:close-circle-outline","data-inline","false",1,"iconify","align-middle"],[1,"tag-name"],[1,"tags-suggestion",3,"mouseout","mouseenter"],["class","list-group list-group-flush",3,"click","mousedown",4,"ngFor","ngForOf"],[1,"list-group","list-group-flush",3,"click","mousedown"],[1,"list-group-item","list-group-item-action","tagSuggested-li"],["data-icon","heroicons-solid:hashtag","data-inline","false",1,"iconify","my-auto",2,"color","#2E7B9C"]],template:function(t,e){1&t&&(Ia(0,"div",0),_a(1,nw,6,1,"div",1),Ta(),Ia(2,"form",2),Ia(3,"div",3),Ia(4,"div",4),Ia(5,"input",5),Ra("keydown",(function(t){return e.onCheckKey(t.key)}))("keypress",(function(t){return e.onAddTag(t.key)}))("input",(function(){return e.onSuggestTags()}))("focus",(function(){return e.setTagsSuggestedWithInputFocus()}))("focusout",(function(){return e.setTagsSuggestedWithInputFocusOut()})),Ta(),_a(6,iw,2,1,"div",6),Ta(),Ia(7,"div",7),Ia(8,"button",8),Ra("click",(function(){return e.onAddTag("Enter")})),_u(9," Cr\xe9er "),Ta(),Ta(),Ta(),Ta()),2&t&&(lo(1),Ea("ngForOf",e.tags),lo(1),Ea("formGroup",e.tagForm),lo(3),Ea("ngClass",fl(6,sw,"lg"===e.size,"sm"===e.size)),lo(1),Ea("ngIf",e.tagsSuggested.length&&e.isTagsSuggestedList()),lo(2),Ea("ngClass",fl(9,aw,"lg"===e.size,"sm"===e.size))("disabled",e.tagForm.invalid))},directives:[ld,rg,Mp,ug,Dp,Fp,Ig,Dg,ad,fd],styles:[".tag[_ngcontent-%COMP%]{border-radius:500px;-moz-border-radius:500px;-webkit-border-radius:500px;background-color:#dcdcdc}.tag-close[_ngcontent-%COMP%]{display:inline}.tag-close[_ngcontent-%COMP%]   .iconify[_ngcontent-%COMP%]{font-size:larger}.tag-name[_ngcontent-%COMP%]{display:inline}.tags-suggestion[_ngcontent-%COMP%]{overflow-y:auto;max-height:12em;border-radius:0 0 1.5rem 1.5rem;-moz-border-radius:0 0 1.5rem 1.5rem;-webkit-border-radius:0 0 1.5rem 1.5rem;box-shadow:0 2px 4px 1px hsla(0,0%,60.8%,.32)}.tagSuggested-li[_ngcontent-%COMP%]:hover{color:#2e7b9c}"]}),ow),cw=["circle"];function lw(t,e){1&t&&Aa(0,"img",4),2&t&&Wa("src",La().photoUrl,zi)}var hw=function(t){return{"font-size":t}};function fw(t,e){if(1&t&&(Ia(0,"div",5),gl(1,"async"),_u(2),Ta()),2&t){var n=La();Ea("ngStyle",hl(4,hw,ml(1,2,n.circleWidth)+"%")),lo(2),ku(" ",n.initials," ")}}var dw,pw=function(t,e){return{"background-color":t,border:e,width:"100%",height:"100%"}},vw=((dw=function(){function t(e){tt(this,t),this.cdr=e,this.photoUrl=null,this.name="",this.border="",this.showInitials=!1,this.circleWidth=new um(0),this.colors=["#EB7181","#468547","#FFD558","#3670B2"]}return nt(t,[{key:"ngOnInit",value:function(){if(!this.photoUrl){this.showInitials=!0,this.createInititals();var t=Math.floor(Math.random()*Math.floor(this.colors.length));this.circleColor=this.colors[t]}}},{key:"ngAfterViewInit",value:function(){this.circleWidth.next(this.circleElement.nativeElement.offsetWidth?3*this.circleElement.nativeElement.offsetWidth:250),this.cdr.detectChanges()}},{key:"createInititals",value:function(){for(var t="",e=0;e<this.name.length&&(" "===this.name.charAt(e)||this.name.charAt(e)!==this.name.charAt(e).toUpperCase()||2!=(t+=this.name.charAt(e)).length);e++);this.initials=t}}]),t}()).\u0275fac=function(t){return new(t||dw)(ka(Ms))},dw.\u0275cmp=hn({type:dw,selectors:[["app-user-avatar"]],viewQuery:function(t,e){var n;1&t&&Pl(cw,!0),2&t&&Dl(n=Ml())&&(e.circleElement=n.first)},inputs:{photoUrl:"photoUrl",name:"name",border:"border"},decls:4,vars:6,consts:[[1,"circle",3,"ngStyle"],["circle",""],[3,"src",4,"ngIf"],["class","initials",3,"ngStyle",4,"ngIf"],[3,"src"],[1,"initials",3,"ngStyle"]],template:function(t,e){1&t&&(Ia(0,"div",0,1),_a(2,lw,1,1,"img",2),_a(3,fw,3,6,"div",3),Ta()),2&t&&(Ea("ngStyle",fl(3,pw,e.circleColor,e.border)),lo(2),Ea("ngIf",!e.showInitials),lo(1),Ea("ngIf",e.showInitials))},directives:[Ad,fd],pipes:[Wd],styles:[".circle[_ngcontent-%COMP%]{-o-object-fit:contain;object-fit:contain;border-radius:50%;display:flex;justify-content:center;align-items:center}.circle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;height:100%;width:100%}.circle[_ngcontent-%COMP%]   .initials[_ngcontent-%COMP%]{color:#fff;letter-spacing:.2625px}"]}),dw);function gw(t,e){if(1&t&&(Ia(0,"option",3),_u(1),Ta()),2&t){var n=e.$implicit;Ea("value",n.id),lo(1),Cu(" ",n.firstname," ",n.lastname," ")}}var mw,yw,bw=function(t){return{height:t}},_w=((yw=function(){function t(e){tt(this,t),this.formBuilder=e,this.userSelected=new yl,this.userSelectForm=this.formBuilder.group({userSelect:["",[qp.required]]})}return nt(t,[{key:"ngOnInit",value:function(){}},{key:"getHeight",value:function(){switch(this.height){case"lg":return"3.2rem";case"md":return"2.8rem";case"sm":return"2rem"}}},{key:"selectInstructor",value:function(t){console.warn("\xf9mee",t);var e=this.userValues.find((function(e){return e.id===t}));this.userSelected.emit(e)}}]),t}()).\u0275fac=function(t){return new(t||yw)(ka(Bg))},yw.\u0275cmp=hn({type:yw,selectors:[["app-user-select"]],inputs:{height:"height",userSelectId:"userSelectId",userValues:"userValues"},outputs:{userSelected:"userSelected"},decls:3,vars:6,consts:[[3,"formGroup"],["formControlName","userSelect","id","instructorSelect","required","",1,"form-control","select-instructor",3,"ngStyle","ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&(Ia(0,"div",0),Ia(1,"select",1),Ra("ngModelChange",(function(t){return e.userSelectId=t}))("change",(function(t){return e.selectInstructor(t.target.value)})),_a(2,gw,2,3,"option",2),Ta(),Ta()),2&t&&(Ea("formGroup",e.userSelectForm),lo(1),Ea("ngStyle",hl(4,bw,e.getHeight()))("ngModel",e.userSelectId),lo(1),Ea("ngForOf",e.userValues))},directives:[Mp,ug,cv,Fp,Ig,Dg,Ad,ld,lv,gv],styles:[""]}),yw),ww=((mw=function(){function t(){tt(this,t)}return nt(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||mw)},mw.\u0275cmp=hn({type:mw,selectors:[["app-shared"]],decls:2,vars:0,template:function(t,e){1&t&&(Ia(0,"p"),_u(1," shared works!\n"),Ta())},styles:[""]}),mw),kw=function t(){tt(this,t)},Cw=function t(){tt(this,t)},Ew=function(){function t(e){var n=this;tt(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach((function(t){var e=t.indexOf(":");if(e>0){var r=t.slice(0,e),i=r.toLowerCase(),o=t.slice(e+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}}))}:function(){n.headers=new Map,Object.keys(e).forEach((function(t){var r=e[t],i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(t,i))}))}:this.headers=new Map}return nt(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(t){return e.applyUpdate(t)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach((function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))}))}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var r=("a"===t.op?this.headers.get(e):void 0)||[];r.push.apply(r,j(n)),this.headers.set(e,r);break;case"d":var i=t.value;if(i){var o=this.headers.get(e);if(!o)return;0===(o=o.filter((function(t){return-1===i.indexOf(t)}))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return t(e.normalizedNames.get(n),e.headers.get(n))}))}}]),t}(),Sw=function(){function t(){tt(this,t)}return nt(t,[{key:"encodeKey",value:function(t){return Iw(t)}},{key:"encodeValue",value:function(t){return Iw(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function Iw(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var Tw=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(tt(this,t),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Sw,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){var n=new Map;return t.length>0&&t.split("&").forEach((function(t){var r=t.indexOf("="),i=V(-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],2),o=i[0],s=i[1],a=n.get(o)||[];a.push(s),n.set(o,a)})),n}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach((function(t){var r=n.fromObject[t];e.map.set(t,Array.isArray(r)?r:[r])}))):this.map=null}return nt(t,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map((function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map((function(e){return n+"="+t.encoder.encodeValue(e)})).join("&")})).filter((function(t){return""!==t})).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(e){return t.map.set(e,t.cloneFrom.map.get(e))})),this.updates.forEach((function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(e.value);-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}})),this.cloneFrom=this.updates=null)}}]),t}();function Aw(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Dw(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Ow(t){return"undefined"!=typeof FormData&&t instanceof FormData}var Pw=function(){function t(e,n,r,i){var o;if(tt(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new Ew),this.params){var s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{var a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new Tw,this.urlWithParams=n}return nt(t,[{key:"serializeBody",value:function(){return null===this.body?null:Aw(this.body)||Dw(this.body)||Ow(this.body)||"string"==typeof this.body?this.body:this.body instanceof Tw?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||Ow(this.body)?null:Dw(this.body)?this.body.type||null:Aw(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Tw?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,u=e.headers||this.headers,c=e.params||this.params;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((function(t,n){return t.set(n,e.setHeaders[n])}),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((function(t,n){return t.set(n,e.setParams[n])}),c)),new t(n,r,o,{params:c,headers:u,reportProgress:a,responseType:i,withCredentials:s})}}]),t}(),xw=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({}),Nw=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";tt(this,t),this.headers=e.headers||new Ew,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300},Rw=function(t){K(n,t);var e=$(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return tt(this,n),(t=e.call(this,r)).type=xw.ResponseHeader,t}return nt(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(Nw),Fw=function(t){K(n,t);var e=$(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return tt(this,n),(t=e.call(this,r)).type=xw.Response,t.body=void 0!==r.body?r.body:null,t}return nt(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(Nw),Mw=function(t){K(n,t);var e=$(n);function n(t){var r;return tt(this,n),(r=e.call(this,t,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),r.error=t.error||null,r}return n}(Nw);function Lw(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var Uw,Vw,jw,Bw,qw,Ww,Hw,zw,Gw,Kw,Qw,$w,Yw,Jw=((Uw=function(){function t(e){tt(this,t),this.handler=e}return nt(t,[{key:"request",value:function(t,e){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t instanceof Pw)n=t;else{var o=void 0;o=i.headers instanceof Ew?i.headers:new Ew(i.headers);var s=void 0;i.params&&(s=i.params instanceof Tw?i.params:new Tw({fromObject:i.params})),n=new Pw(t,e,void 0!==i.body?i.body:null,{headers:o,params:s,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}var a=am(n).pipe(zm((function(t){return r.handler.handle(t)})));if(t instanceof Pw||"events"===i.observe)return a;var u=a.pipe(ym((function(t){return t instanceof Fw})));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(xt((function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body})));case"blob":return u.pipe(xt((function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body})));case"text":return u.pipe(xt((function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body})));case"json":default:return u.pipe(xt((function(t){return t.body})))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(i.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new Tw).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,Lw(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,Lw(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,Lw(n,e))}}]),t}()).\u0275fac=function(t){return new(t||Uw)(He(kw))},Uw.\u0275prov=se({token:Uw,factory:Uw.\u0275fac}),Uw),Xw=function(){function t(e,n){tt(this,t),this.next=e,this.interceptor=n}return nt(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),Zw=new Fe("HTTP_INTERCEPTORS"),tk=((Vw=function(){function t(){tt(this,t)}return nt(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||Vw)},Vw.\u0275prov=se({token:Vw,factory:Vw.\u0275fac}),Vw),ek=/^\)\]\}',?\n/,nk=function t(){tt(this,t)},rk=((Bw=function(){function t(){tt(this,t)}return nt(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}()).\u0275fac=function(t){return new(t||Bw)},Bw.\u0275prov=se({token:Bw,factory:Bw.\u0275fac}),Bw),ik=((jw=function(){function t(e){tt(this,t),this.xhrFactory=e}return nt(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new vt((function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((function(t,e){return r.setRequestHeader(t,e.join(","))})),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var i=t.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(t.responseType){var o=t.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var s=t.serializeBody(),a=null,u=function(){if(null!==a)return a;var e=1223===r.status?204:r.status,n=r.statusText||"OK",i=new Ew(r.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return a=new Rw({headers:i,status:e,statusText:n,url:o})},c=function(){var e=u(),i=e.headers,o=e.status,s=e.statusText,a=e.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof c){var h=c;c=c.replace(ek,"");try{c=""!==c?JSON.parse(c):null}catch(f){c=h,l&&(l=!1,c={error:f,text:c})}}l?(n.next(new Fw({body:c,headers:i,status:o,statusText:s,url:a||void 0})),n.complete()):n.error(new Mw({error:c,headers:i,status:o,statusText:s,url:a||void 0}))},l=function(t){var e=u().url,i=new Mw({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error",url:e||void 0});n.error(i)},h=!1,f=function(e){h||(n.next(u()),h=!0);var i={type:xw.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),"text"===t.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},d=function(t){var e={type:xw.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",c),r.addEventListener("error",l),t.reportProgress&&(r.addEventListener("progress",f),null!==s&&r.upload&&r.upload.addEventListener("progress",d)),r.send(s),n.next({type:xw.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("load",c),t.reportProgress&&(r.removeEventListener("progress",f),null!==s&&r.upload&&r.upload.removeEventListener("progress",d)),r.readyState!==r.DONE&&r.abort()}}))}}]),t}()).\u0275fac=function(t){return new(t||jw)(He(nk))},jw.\u0275prov=se({token:jw,factory:jw.\u0275fac}),jw),ok=new Fe("XSRF_COOKIE_NAME"),sk=new Fe("XSRF_HEADER_NAME"),ak=function t(){tt(this,t)},uk=((Gw=function(){function t(e,n,r){tt(this,t),this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return nt(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=nd(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}()).\u0275fac=function(t){return new(t||Gw)(He(Wh),He(Kl),He(ok))},Gw.\u0275prov=se({token:Gw,factory:Gw.\u0275fac}),Gw),ck=((zw=function(){function t(e,n){tt(this,t),this.tokenService=e,this.headerName=n}return nt(t,[{key:"intercept",value:function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||zw)(He(ak),He(sk))},zw.\u0275prov=se({token:zw,factory:zw.\u0275fac}),zw),lk=((Hw=function(){function t(e,n){tt(this,t),this.backend=e,this.injector=n,this.chain=null}return nt(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get(Zw,[]);this.chain=e.reduceRight((function(t,e){return new Xw(t,e)}),this.backend)}return this.chain.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||Hw)(He(Cw),He(Zs))},Hw.\u0275prov=se({token:Hw,factory:Hw.\u0275fac}),Hw),hk=((Ww=function(){function t(){tt(this,t)}return nt(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:ck,useClass:tk}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:ok,useValue:e.cookieName}:[],e.headerName?{provide:sk,useValue:e.headerName}:[]]}}}]),t}()).\u0275mod=vn({type:Ww}),Ww.\u0275inj=ae({factory:function(t){return new(t||Ww)},providers:[ck,{provide:Zw,useExisting:ck,multi:!0},{provide:ak,useClass:uk},{provide:ok,useValue:"XSRF-TOKEN"},{provide:sk,useValue:"X-XSRF-TOKEN"}]}),Ww),fk=((qw=function t(){tt(this,t)}).\u0275mod=vn({type:qw}),qw.\u0275inj=ae({factory:function(t){return new(t||qw)},providers:[Jw,{provide:kw,useClass:lk},ik,{provide:Cw,useExisting:ik},rk,{provide:nk,useExisting:rk}],imports:[[hk.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),qw),dk=function(t){K(n,t);var e=$(n);function n(){return tt(this,n),e.apply(this,arguments)}return nt(n,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=pk||(pk=document.querySelector("base"))?pk.getAttribute("href"):null;return null==n?null:(e=n,Kw||(Kw=document.createElement("a")),Kw.setAttribute("href",e),"/"===Kw.pathname.charAt(0)?Kw.pathname:"/"+Kw.pathname)}},{key:"resetBaseElement",value:function(){pk=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return nd(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new n,jh||(jh=t)}}]),n}(function(t){K(n,t);var e=$(n);function n(){return tt(this,n),e.call(this)}return nt(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function t(){tt(this,t)}}())),pk=null,vk=new Fe("TRANSITION_ID"),gk=[{provide:Bl,useFactory:function(t,e,n){return function(){n.get(ql).donePromise.then((function(){var n=Bh();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter((function(e){return e.getAttribute("ng-transition")===t})).forEach((function(t){return n.remove(t)}))}))}},deps:[vk,Wh,Zs],multi:!0}],mk=function(){function t(){tt(this,t)}return nt(t,[{key:"addToWindow",value:function(t){Te.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Te.getAllAngularTestabilities=function(){return t.getAllTestabilities()},Te.getAllAngularRootElements=function(){return t.getAllRootElements()},Te.frameworkStabilizers||(Te.frameworkStabilizers=[]),Te.frameworkStabilizers.push((function(t){var e=Te.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach((function(t){t.whenStable(i)}))}))}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?Bh().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){var e;e=new t,bh=e}}]),t}(),yk=new Fe("EventManagerPlugins"),bk=((Qw=function(){function t(e,n){var r=this;tt(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach((function(t){return t.manager=r})),this._plugins=e.slice().reverse()}return nt(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)}}]),t}()).\u0275fac=function(t){return new(t||Qw)(He(yk),He(uh))},Qw.\u0275prov=se({token:Qw,factory:Qw.\u0275fac}),Qw),_k=function(){function t(e){tt(this,t),this._doc=e}return nt(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=Bh().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),wk=((Yw=function(){function t(){tt(this,t),this._stylesSet=new Set}return nt(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||Yw)},Yw.\u0275prov=se({token:Yw,factory:Yw.\u0275fac}),Yw),kk=(($w=function(t){K(n,t);var e=$(n);function n(t){var r;return tt(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return nt(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach((function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))}))}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(t,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(t){return Bh().remove(t)}))}}]),n}(wk)).\u0275fac=function(t){return new(t||$w)(He(Wh))},$w.\u0275prov=se({token:$w,factory:$w.\u0275fac}),$w),Ck={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ek=/%COMP%/g;function Sk(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?Sk(t,i,n):(i=i.replace(Ek,t),n.push(i))}return n}function Ik(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var Tk,Ak,Dk,Ok,Pk=((Tk=function(){function t(e,n,r){tt(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new xk(e)}return nt(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case an.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new Nk(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case an.Native:case an.ShadowDom:return new Rk(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=Sk(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Tk)(He(bk),He(kk),He(Wl))},Tk.\u0275prov=se({token:Tk,factory:Tk.\u0275fac}),Tk),xk=function(){function t(e){tt(this,t),this.eventManager=e,this.data=Object.create(null)}return nt(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(Ck[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=Ck[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=Ck[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,r){r&Vu.DashCase?t.style.setProperty(e,n,r&Vu.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&Vu.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ik(n)):this.eventManager.addEventListener(t,e,Ik(n))}}]),t}(),Nk=function(t){K(n,t);var e=$(n);function n(t,r,i,o){var s;tt(this,n),(s=e.call(this,t)).component=i;var a=Sk(o+"-"+i.id,i.styles,[]);return r.addStyles(a),s.contentAttr="_ngcontent-%COMP%".replace(Ek,o+"-"+i.id),s.hostAttr="_nghost-%COMP%".replace(Ek,o+"-"+i.id),s}return nt(n,[{key:"applyToHost",value:function(t){z(Z(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=z(Z(n.prototype),"createElement",this).call(this,t,e);return z(Z(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(xk),Rk=function(t){K(n,t);var e=$(n);function n(t,r,i,o){var s;tt(this,n),(s=e.call(this,t)).sharedStylesHost=r,s.hostEl=i,s.component=o,s.shadowRoot=o.encapsulation===an.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),s.sharedStylesHost.addHost(s.shadowRoot);for(var a=Sk(o.id,o.styles,[]),u=0;u<a.length;u++){var c=document.createElement("style");c.textContent=a[u],s.shadowRoot.appendChild(c)}return s}return nt(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return z(Z(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return z(Z(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return z(Z(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(z(Z(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(xk),Fk=((Ak=function(t){K(n,t);var e=$(n);function n(t){return tt(this,n),e.call(this,t)}return nt(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(_k)).\u0275fac=function(t){return new(t||Ak)(He(Wh))},Ak.\u0275prov=se({token:Ak,factory:Ak.\u0275fac}),Ak),Mk=["alt","control","meta","shift"],Lk={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Uk={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Vk={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},jk=((Dk=function(t){K(n,t);var e=$(n);function n(t){return tt(this,n),e.call(this,t)}return nt(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return Bh().onAndCancel(t,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(Mk.forEach((function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")})),o+=i,0!=e.length||0===i.length)return null;var s={};return s.domEventName=r,s.fullKey=o,s}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Uk.hasOwnProperty(e)&&(e=Uk[e]))}return Lk[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Mk.forEach((function(r){r!=n&&(0,Vk[r])(t)&&(e+=r+".")})),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded((function(){return e(i)}))}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(_k)).\u0275fac=function(t){return new(t||Dk)(He(Wh))},Dk.\u0275prov=se({token:Dk,factory:Dk.\u0275fac}),Dk),Bk=kh(Rh,"browser",[{provide:Kl,useValue:"browser"},{provide:Gl,useValue:function(){dk.makeCurrent(),mk.init()},multi:!0},{provide:Wh,useFactory:function(){return function(t){Fn=t}(document),document},deps:[]}]),qk=[[],{provide:Vs,useValue:"root"},{provide:fi,useFactory:function(){return new fi},deps:[]},{provide:yk,useClass:Fk,multi:!0,deps:[Wh,uh,Kl]},{provide:yk,useClass:jk,multi:!0,deps:[Wh]},[],{provide:Pk,useClass:Pk,deps:[bk,kk,Wl]},{provide:Uu,useExisting:Pk},{provide:wk,useExisting:kk},{provide:kk,useClass:kk,deps:[Wh]},{provide:mh,useClass:mh,deps:[uh]},{provide:bk,useClass:bk,deps:[yk,uh]},[]],Wk=((Ok=function(){function t(e){if(tt(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return nt(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:Wl,useValue:e.appId},{provide:vk,useExisting:Wl},gk]}}}]),t}()).\u0275mod=vn({type:Ok}),Ok.\u0275inj=ae({factory:function(t){return new(t||Ok)(He(Ok,12))},providers:qk,imports:[dp,Mh]}),Ok);"undefined"!=typeof window&&window;var Hk=function(t){K(n,t);var e=$(n);function n(t,r){var i;return tt(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i.pending=!1,i}return nt(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){K(n,t);var e=$(n);function n(t,r){return tt(this,n),e.call(this)}return nt(n,[{key:"schedule",value:function(t){return this}}]),n}(at)),zk=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;tt(this,t),this.SchedulerAction=e,this.now=n}return nt(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),Gk=new(function(t){K(n,t);var e=$(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zk.now;return tt(this,n),(r=e.call(this,t,(function(){return n.delegate&&n.delegate!==J(r)?n.delegate.now():i()}))).actions=[],r.active=!1,r.scheduled=void 0,r}return nt(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):z(Z(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(zk))(Hk);function Kk(t){return!rt(t)&&t-parseFloat(t)+1>=0}function Qk(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}var $k=new vt(Km);function Yk(t,e,n,r){return W(n)&&(r=n,n=void 0),r?Yk(t,e,n).pipe(xt((function(t){return rt(t)?r.apply(void 0,j(t)):r(t)}))):new vt((function(r){!function t(e,n,r,i,o){var s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var a=e;e.addEventListener(n,r,o),s=function(){return a.removeEventListener(n,r,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var u=e;e.on(n,r),s=function(){return u.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var c=e;e.addListener(n,r),s=function(){return c.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,h=e.length;l<h;l++)t(e[l],n,r,i,o)}i.add(s)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)}))}var Jk=function(){function t(){tt(this,t)}return nt(t,[{key:"call",value:function(t,e){return e.subscribe(new Xk(t))}}]),t}(),Xk=function(t){K(n,t);var e=$(n);function n(t){var r;return tt(this,n),(r=e.call(this,t)).hasFirst=!1,r.observables=[],r.subscriptions=[],r}return nt(n,[{key:"_next",value:function(t){this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=t[n],i=Ot(this,r,r,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}}},{key:"notifyNext",value:function(t,e,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(e)}}]),n}(Pt);function Zk(t,e){return function(n){return n.lift(new tC(t,e))}}var tC=function(){function t(e,n){tt(this,t),this.compare=e,this.keySelector=n}return nt(t,[{key:"call",value:function(t,e){return e.subscribe(new eC(t,this.compare,this.keySelector))}}]),t}(),eC=function(t){K(n,t);var e=$(n);function n(t,r,i){var o;return tt(this,n),(o=e.call(this,t)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return nt(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}]),n}(lt);function nC(t){return function(e){return e.lift(new rC(t))}}var rC=function(){function t(e){tt(this,t),this.notifier=e}return nt(t,[{key:"call",value:function(t,e){var n=new iC(t),r=Ot(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}]),t}(),iC=function(t){K(n,t);var e=$(n);function n(t){var r;return tt(this,n),(r=e.call(this,t)).seenValue=!1,r}return nt(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(Pt);function oC(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new sC(e,n))}}var sC=function(){function t(e,n){tt(this,t),this.observables=e,this.project=n}return nt(t,[{key:"call",value:function(t,e){return e.subscribe(new aC(t,this.observables,this.project))}}]),t}(),aC=function(t){K(n,t);var e=$(n);function n(t,r,i){var o;tt(this,n),(o=e.call(this,t)).observables=r,o.project=i,o.toRespond=[];var s=r.length;o.values=new Array(s);for(var a=0;a<s;a++)o.toRespond.push(a);for(var u=0;u<s;u++){var c=r[u];o.add(Ot(J(o),c,c,u))}return o}return nt(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.values[n]=e;var o=this.toRespond;if(o.length>0){var s=o.indexOf(n);-1!==s&&o.splice(s,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(t){if(0===this.toRespond.length){var e=[t].concat(j(this.values));this.project?this._tryProject(e):this.destination.next(e)}}},{key:"_tryProject",value:function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(Pt),uC=function(){var t=function(){function t(e,n,r){tt(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return nt(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return am(this.value);case"E":return t=this.error,new vt((function(e){return e.error(t)}));case"C":return vm()}var t;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}();return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function cC(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gk,r=(e=t)instanceof Date&&!isNaN(+e)?+t-n.now():Math.abs(t);return function(t){return t.lift(new lC(r,n))}}var lC=function(){function t(e,n){tt(this,t),this.delay=e,this.scheduler=n}return nt(t,[{key:"call",value:function(t,e){return e.subscribe(new hC(t,this.delay,this.scheduler))}}]),t}(),hC=function(t){K(n,t);var e=$(n);function n(t,r,i){var o;return tt(this,n),(o=e.call(this,t)).delay=r,o.scheduler=i,o.queue=[],o.active=!1,o.errored=!1,o}return nt(n,[{key:"_schedule",value:function(t){this.active=!0,this.destination.add(t.schedule(n.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}},{key:"scheduleNotification",value:function(t){if(!0!==this.errored){var e=this.scheduler,n=new fC(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}}},{key:"_next",value:function(t){this.scheduleNotification(uC.createNext(t))}},{key:"_error",value:function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(uC.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){for(var e=t.source,n=e.queue,r=t.scheduler,i=t.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1}}]),n}(lt),fC=function t(e,n){tt(this,t),this.time=e,this.notification=n};function dC(t,e){}function pC(t,e){if(1&t&&(Ia(0,"button",3),_u(1),_a(2,dC,0,0,"ng-template",4),Ta()),2&t){var n=e.$implicit;Ea("ngbPanelToggle",n),lo(1),ku(" ",n.title,""),lo(1),Ea("ngTemplateOutlet",null==n.titleTpl?null:n.titleTpl.templateRef)}}function vC(t,e){}function gC(t,e){}function mC(t,e){if(1&t&&(Ia(0,"div",8),Ia(1,"div",9),_a(2,gC,0,0,"ng-template",4),Ta(),Ta()),2&t){var n=La().$implicit;iu("show",n.isOpen),Wa("id",n.id),ya("aria-labelledby",n.id+"-header"),lo(2),Ea("ngTemplateOutlet",(null==n.contentTpl?null:n.contentTpl.templateRef)||null)}}var yC=function(t,e){return{$implicit:t,opened:e}};function bC(t,e){if(1&t&&(Ia(0,"div"),Ia(1,"div",5),_a(2,vC,0,0,"ng-template",6),Ta(),_a(3,mC,3,5,"div",7),Ta()),2&t){var n=e.$implicit,r=La(),i=wa(1);au("card "+(n.cardClass||"")),lo(1),au("card-header "+(n.type?"bg-"+n.type:r.type?"bg-"+r.type:"")),Ha("id","",n.id,"-header"),lo(1),Ea("ngTemplateOutlet",(null==n.headerTpl?null:n.headerTpl.templateRef)||i)("ngTemplateOutletContext",fl(8,yC,n,n.isOpen)),lo(1),Ea("ngIf",!r.destroyOnHide||n.isOpen)}}function _C(t,e){if(1&t){var n=Pa();Ia(0,"button",1),il(1,2),Ra("click",(function(){return er(n),La().closeHandler()})),Ia(2,"span",3),_u(3,"\xd7"),Ta(),Ta()}}var wC=["*"];function kC(t,e){if(1&t){var n=Pa();Ia(0,"li",7),Ra("click",(function(){er(n);var t=e.$implicit,r=La(2);return r.select(t.id,r.NgbSlideEventSource.INDICATOR)})),Ta()}if(2&t){var r=e.$implicit,i=La(2);iu("active",r.id===i.activeId),Ea("id",r.id)}}function CC(t,e){if(1&t&&(Ia(0,"ol",5),_a(1,kC,1,3,"li",6),Ta()),2&t){var n=La();lo(1),Ea("ngForOf",n.slides)}}function EC(t,e){}function SC(t,e){if(1&t&&(Ia(0,"div",8),_a(1,EC,0,0,"ng-template",9),Ta()),2&t){var n=e.$implicit,r=La();iu("active",n.id===r.activeId),lo(1),Ea("ngTemplateOutlet",n.tplRef)}}function IC(t,e){if(1&t){var n=Pa();Ia(0,"a",10),Ra("click",(function(){er(n);var t=La();return t.prev(t.NgbSlideEventSource.ARROW_LEFT)})),Aa(1,"span",11),Ia(2,"span",12),rl(3,13),Ta(),Ta()}}function TC(t,e){if(1&t){var n=Pa();Ia(0,"a",14),Ra("click",(function(){er(n);var t=La();return t.next(t.NgbSlideEventSource.ARROW_RIGHT)})),Aa(1,"span",15),Ia(2,"span",12),rl(3,16),Ta(),Ta()}}var AC=["defaultDayTemplate"],DC=["content"];function OC(t,e){if(1&t&&Aa(0,"div",7),2&t){var n=e.currentMonth,r=e.selected,i=e.disabled,o=e.focused;Ea("date",e.date)("currentMonth",n)("selected",r)("disabled",i)("focused",o)}}function PC(t,e){if(1&t&&(Ia(0,"div",12),_u(1),Ta()),2&t){var n=La().$implicit,r=La(2);lo(1),Cu(" ",r.i18n.getMonthFullName(n.number,n.year)," ",r.i18n.getYearNumerals(n.year)," ")}}function xC(t,e){if(1&t&&(Ia(0,"div",9),_a(1,PC,2,2,"div",10),Aa(2,"ngb-datepicker-month",11),Ta()),2&t){var n=e.$implicit,r=La(2);lo(1),Ea("ngIf","none"===r.navigation||r.displayMonths>1&&"select"===r.navigation),lo(1),Ea("month",n.firstDate)}}function NC(t,e){1&t&&_a(0,xC,3,2,"div",8),2&t&&Ea("ngForOf",La().model.months)}function RC(t,e){if(1&t){var n=Pa();Ia(0,"ngb-datepicker-navigation",13),Ra("navigate",(function(t){return er(n),La().onNavigateEvent(t)}))("select",(function(t){return er(n),La().onNavigateDateSelect(t)})),Ta()}if(2&t){var r=La();Ea("date",r.model.firstDate)("months",r.model.months)("disabled",r.model.disabled)("showSelect","select"===r.model.navigation)("prevDisabled",r.model.prevDisabled)("nextDisabled",r.model.nextDisabled)("selectBoxes",r.model.selectBoxes)}}function FC(t,e){}function MC(t,e){}function LC(t,e){1&t&&Aa(0,"div",5)}function UC(t,e){if(1&t&&(Ia(0,"div",6),_u(1),Ta()),2&t){var n=e.$implicit,r=La(2);lo(1),ku(" ",r.i18n.getWeekdayShortName(n)," ")}}function VC(t,e){if(1&t&&(Ia(0,"div",2),_a(1,LC,1,0,"div",3),_a(2,UC,2,1,"div",4),Ta()),2&t){var n=La();lo(1),Ea("ngIf",n.datepicker.showWeekNumbers),lo(1),Ea("ngForOf",n.viewModel.weekdays)}}function jC(t,e){if(1&t&&(Ia(0,"div",11),_u(1),Ta()),2&t){var n=La(2).$implicit,r=La();lo(1),wu(r.i18n.getWeekNumerals(n.number))}}function BC(t,e){}function qC(t,e){if(1&t&&_a(0,BC,0,0,"ng-template",14),2&t){var n=La().$implicit;Ea("ngTemplateOutlet",La(3).datepicker.dayTemplate)("ngTemplateOutletContext",n.context)}}function WC(t,e){if(1&t){var n=Pa();Ia(0,"div",12),Ra("click",(function(t){er(n);var r=e.$implicit;return La(3).doSelect(r),t.preventDefault()})),_a(1,qC,1,2,"ng-template",13),Ta()}if(2&t){var r=e.$implicit;iu("disabled",r.context.disabled)("hidden",r.hidden)("ngb-dp-today",r.context.today),Ea("tabindex",r.tabindex),ya("aria-label",r.ariaLabel),lo(1),Ea("ngIf",!r.hidden)}}function HC(t,e){if(1&t&&(Ia(0,"div",8),_a(1,jC,2,1,"div",9),_a(2,WC,2,9,"div",10),Ta()),2&t){var n=La().$implicit,r=La();lo(1),Ea("ngIf",r.datepicker.showWeekNumbers),lo(1),Ea("ngForOf",n.days)}}function zC(t,e){1&t&&_a(0,HC,3,2,"div",7),2&t&&Ea("ngIf",!e.$implicit.collapsed)}function GC(t,e){if(1&t){var n=Pa();Ia(0,"ngb-datepicker-navigation-select",8),Ra("select",(function(t){return er(n),La().select.emit(t)})),Ta()}if(2&t){var r=La();Ea("date",r.date)("disabled",r.disabled)("months",r.selectBoxes.months)("years",r.selectBoxes.years)}}function KC(t,e){1&t&&Aa(0,"div",0)}function QC(t,e){1&t&&Aa(0,"div",0)}function $C(t,e){if(1&t&&(_a(0,KC,1,0,"div",10),Ia(1,"div",11),_u(2),Ta(),_a(3,QC,1,0,"div",10)),2&t){var n=e.$implicit,r=e.index,i=La(2);Ea("ngIf",r>0),lo(2),Cu(" ",i.i18n.getMonthFullName(n.number,n.year)," ",i.i18n.getYearNumerals(n.year)," "),lo(1),Ea("ngIf",r!==i.months.length-1)}}function YC(t,e){1&t&&_a(0,$C,4,4,"ng-template",9),2&t&&Ea("ngForOf",La().months)}var JC=["ngbDatepickerDayView",""],XC=["month"],ZC=["year"];function tE(t,e){if(1&t&&(Ia(0,"option",6),_u(1),Ta()),2&t){var n=e.$implicit,r=La();Ea("value",n),ya("aria-label",r.i18n.getMonthFullName(n,null==r.date?null:r.date.year)),lo(1),wu(r.i18n.getMonthShortName(n,null==r.date?null:r.date.year))}}function eE(t,e){if(1&t&&(Ia(0,"option",6),_u(1),Ta()),2&t){var n=e.$implicit,r=La();Ea("value",n),lo(1),wu(r.i18n.getYearNumerals(n))}}var nE=["dialog"],rE=["ngbNavOutlet",""];function iE(t,e){}var oE=function(t){return{$implicit:t}};function sE(t,e){if(1&t&&(Ia(0,"div",2),_a(1,iE,0,0,"ng-template",3),Ta()),2&t){var n=La().$implicit,r=La();iu("active",n.active),Ea("id",n.panelDomId),ya("role",r.paneRole?r.paneRole:r.nav.roles?"tabpanel":void 0)("aria-labelledby",n.domId),lo(1),Ea("ngTemplateOutlet",(null==n.contentTpl?null:n.contentTpl.templateRef)||null)("ngTemplateOutletContext",hl(7,oE,n.active))}}function aE(t,e){1&t&&_a(0,sE,2,9,"div",1),2&t&&Ea("ngIf",e.$implicit.isPanelInDom())}function uE(t,e){1&t&&(Ia(0,"span",8),rl(1,9),Ta())}function cE(t,e){1&t&&(Ia(0,"span",8),rl(1,10),Ta())}function lE(t,e){1&t&&(Ia(0,"span",8),rl(1,11),Ta())}function hE(t,e){1&t&&(Ia(0,"span",8),rl(1,12),Ta())}function fE(t,e){1&t&&_u(0,"...")}function dE(t,e){1&t&&(Ia(0,"span",14),_u(1,"(current)"),Ta())}function pE(t,e){if(1&t&&(_u(0),_a(1,dE,2,0,"span",13)),2&t){var n=e.$implicit,r=e.currentPage;ku(" ",n," "),lo(1),Ea("ngIf",n===r)}}function vE(t,e){}var gE=function(t,e){return{disabled:t,currentPage:e}};function mE(t,e){if(1&t){var n=Pa();Ia(0,"li",15),Ia(1,"a",16),il(2,17),Ra("click",(function(t){return er(n),La().selectPage(1),t.preventDefault()})),_a(3,vE,0,0,"ng-template",18),Ta(),Ta()}if(2&t){var r=La(),i=wa(1);iu("disabled",r.previousDisabled()),lo(1),ya("tabindex",r.previousDisabled()?"-1":null)("aria-disabled",r.previousDisabled()?"true":null),lo(2),Ea("ngTemplateOutlet",(null==r.tplFirst?null:r.tplFirst.templateRef)||i)("ngTemplateOutletContext",fl(6,gE,r.previousDisabled(),r.page))}}function yE(t,e){}var bE=function(t){return{disabled:t}};function _E(t,e){if(1&t){var n=Pa();Ia(0,"li",15),Ia(1,"a",16),il(2,19),Ra("click",(function(t){er(n);var e=La();return e.selectPage(e.page-1),t.preventDefault()})),_a(3,yE,0,0,"ng-template",18),Ta(),Ta()}if(2&t){var r=La(),i=wa(3);iu("disabled",r.previousDisabled()),lo(1),ya("tabindex",r.previousDisabled()?"-1":null)("aria-disabled",r.previousDisabled()?"true":null),lo(2),Ea("ngTemplateOutlet",(null==r.tplPrevious?null:r.tplPrevious.templateRef)||i)("ngTemplateOutletContext",hl(6,bE,r.previousDisabled()))}}function wE(t,e){}var kE=function(t){return{disabled:!0,currentPage:t}};function CE(t,e){if(1&t&&(Ia(0,"a",22),_a(1,wE,0,0,"ng-template",18),Ta()),2&t){var n=La(2),r=wa(9);lo(1),Ea("ngTemplateOutlet",(null==n.tplEllipsis?null:n.tplEllipsis.templateRef)||r)("ngTemplateOutletContext",hl(2,kE,n.page))}}function EE(t,e){}var SE=function(t,e,n){return{disabled:t,$implicit:e,currentPage:n}};function IE(t,e){if(1&t){var n=Pa();Ia(0,"a",23),Ra("click",(function(t){er(n);var e=La().$implicit;return La().selectPage(e),t.preventDefault()})),_a(1,EE,0,0,"ng-template",18),Ta()}if(2&t){var r=La().$implicit,i=La(),o=wa(11);ya("tabindex",i.disabled?"-1":null)("aria-disabled",i.disabled?"true":null),lo(1),Ea("ngTemplateOutlet",(null==i.tplNumber?null:i.tplNumber.templateRef)||o)("ngTemplateOutletContext",dl(4,SE,i.disabled,r,i.page))}}function TE(t,e){if(1&t&&(Ia(0,"li",15),_a(1,CE,2,4,"a",20),_a(2,IE,2,8,"a",21),Ta()),2&t){var n=e.$implicit,r=La();iu("active",n===r.page)("disabled",r.isEllipsis(n)||r.disabled),ya("aria-current",n===r.page?"page":null),lo(1),Ea("ngIf",r.isEllipsis(n)),lo(1),Ea("ngIf",!r.isEllipsis(n))}}function AE(t,e){}function DE(t,e){if(1&t){var n=Pa();Ia(0,"li",15),Ia(1,"a",16),il(2,24),Ra("click",(function(t){er(n);var e=La();return e.selectPage(e.page+1),t.preventDefault()})),_a(3,AE,0,0,"ng-template",18),Ta(),Ta()}if(2&t){var r=La(),i=wa(5);iu("disabled",r.nextDisabled()),lo(1),ya("tabindex",r.nextDisabled()?"-1":null)("aria-disabled",r.nextDisabled()?"true":null),lo(2),Ea("ngTemplateOutlet",(null==r.tplNext?null:r.tplNext.templateRef)||i)("ngTemplateOutletContext",fl(6,gE,r.nextDisabled(),r.page))}}function OE(t,e){}function PE(t,e){if(1&t){var n=Pa();Ia(0,"li",15),Ia(1,"a",16),il(2,25),Ra("click",(function(t){er(n);var e=La();return e.selectPage(e.pageCount),t.preventDefault()})),_a(3,OE,0,0,"ng-template",18),Ta(),Ta()}if(2&t){var r=La(),i=wa(7);iu("disabled",r.nextDisabled()),lo(1),ya("tabindex",r.nextDisabled()?"-1":null)("aria-disabled",r.nextDisabled()?"true":null),lo(2),Ea("ngTemplateOutlet",(null==r.tplLast?null:r.tplLast.templateRef)||i)("ngTemplateOutletContext",fl(6,gE,r.nextDisabled(),r.page))}}function xE(t,e){1&t&&_u(0),2&t&&wu(La(2).title)}function NE(t,e){}function RE(t,e){if(1&t&&(Ia(0,"h3",3),_a(1,xE,1,1,"ng-template",null,4,jl),_a(3,NE,0,0,"ng-template",5),Ta()),2&t){var n=wa(2),r=La();lo(3),Ea("ngTemplateOutlet",r.isTitleTemplate()?r.title:n)("ngTemplateOutletContext",r.context)}}function FE(t,e){if(1&t&&(Ia(0,"span"),rl(1,3),gl(2,"percent"),Ta()),2&t){var n=La();lo(2),ol(ml(2,1,n.getValue()/n.max)),sl(1)}}function ME(t,e){1&t&&_u(0),2&t&&wu(100===e.fill?"\u2605":"\u2606")}function LE(t,e){}function UE(t,e){if(1&t){var n=Pa();Ia(0,"span",2),_u(1),Ta(),Ia(2,"span",3),Ra("mouseenter",(function(){er(n);var t=e.index;return La().enter(t+1)}))("click",(function(){er(n);var t=e.index;return La().handleClick(t+1)})),_a(3,LE,0,0,"ng-template",4),Ta()}if(2&t){var r=e.index,i=La(),o=wa(1);lo(1),ku("(",r<i.nextRate?"*":" ",")"),lo(1),ru("cursor",i.readonly||i.disabled?"default":"pointer"),lo(1),Ea("ngTemplateOutlet",i.starTemplate||i.starTemplateFromContent||o)("ngTemplateOutletContext",i.contexts[r])}}function VE(t,e){}function jE(t,e){if(1&t){var n=Pa();Ia(0,"li",4),Ia(1,"a",5),Ra("click",(function(t){er(n);var r=e.$implicit;return La().select(r.id),t.preventDefault()})),_u(2),_a(3,VE,0,0,"ng-template",6),Ta(),Ta()}if(2&t){var r=e.$implicit,i=La();lo(1),iu("active",r.id===i.activeId)("disabled",r.disabled),Ea("id",r.id),ya("tabindex",r.disabled?"-1":void 0)("aria-controls",i.destroyOnHide&&r.id!==i.activeId?null:r.id+"-panel")("aria-selected",r.id===i.activeId)("aria-disabled",r.disabled),lo(1),ku(" ",r.title,""),lo(1),Ea("ngTemplateOutlet",(null==r.titleTpl?null:r.titleTpl.templateRef)||null)}}function BE(t,e){}function qE(t,e){if(1&t&&(Ia(0,"div",8),_a(1,BE,0,0,"ng-template",6),Ta()),2&t){var n=La().$implicit,r=La();i=n.id===r.activeId?"active":null,lu(en,uu,ba(Zn(),"tab-pane ",i,""),!0),Ha("id","",n.id,"-panel"),ya("aria-labelledby",n.id),lo(1),Ea("ngTemplateOutlet",(null==n.contentTpl?null:n.contentTpl.templateRef)||null)}var i}function WE(t,e){if(1&t&&_a(0,qE,2,6,"div",7),2&t){var n=e.$implicit,r=La();Ea("ngIf",!r.destroyOnHide||n.id===r.activeId)}}function HE(t,e){if(1&t){var n=Pa();Ia(0,"button",12),Ra("click",(function(){er(n);var t=La();return t.changeHour(t.hourStep)})),Aa(1,"span",13),Ia(2,"span",14),rl(3,15),Ta(),Ta()}if(2&t){var r=La();iu("btn-sm",r.isSmallSize)("btn-lg",r.isLargeSize)("disabled",r.disabled),Ea("disabled",r.disabled)}}function zE(t,e){if(1&t){var n=Pa();Ia(0,"button",12),Ra("click",(function(){er(n);var t=La();return t.changeHour(-t.hourStep)})),Aa(1,"span",16),Ia(2,"span",14),rl(3,17),Ta(),Ta()}if(2&t){var r=La();iu("btn-sm",r.isSmallSize)("btn-lg",r.isLargeSize)("disabled",r.disabled),Ea("disabled",r.disabled)}}function GE(t,e){if(1&t){var n=Pa();Ia(0,"button",12),Ra("click",(function(){er(n);var t=La();return t.changeMinute(t.minuteStep)})),Aa(1,"span",13),Ia(2,"span",14),rl(3,18),Ta(),Ta()}if(2&t){var r=La();iu("btn-sm",r.isSmallSize)("btn-lg",r.isLargeSize)("disabled",r.disabled),Ea("disabled",r.disabled)}}function KE(t,e){if(1&t){var n=Pa();Ia(0,"button",12),Ra("click",(function(){er(n);var t=La();return t.changeMinute(-t.minuteStep)})),Aa(1,"span",16),Ia(2,"span",14),rl(3,19),Ta(),Ta()}if(2&t){var r=La();iu("btn-sm",r.isSmallSize)("btn-lg",r.isLargeSize)("disabled",r.disabled),Ea("disabled",r.disabled)}}function QE(t,e){1&t&&(Ia(0,"div",6),_u(1,":"),Ta())}function $E(t,e){if(1&t){var n=Pa();Ia(0,"button",12),Ra("click",(function(){er(n);var t=La(2);return t.changeSecond(t.secondStep)})),Aa(1,"span",13),Ia(2,"span",14),rl(3,22),Ta(),Ta()}if(2&t){var r=La(2);iu("btn-sm",r.isSmallSize)("btn-lg",r.isLargeSize)("disabled",r.disabled),Ea("disabled",r.disabled)}}function YE(t,e){if(1&t){var n=Pa();Ia(0,"button",12),Ra("click",(function(){er(n);var t=La(2);return t.changeSecond(-t.secondStep)})),Aa(1,"span",16),Ia(2,"span",14),rl(3,23),Ta(),Ta()}if(2&t){var r=La(2);iu("btn-sm",r.isSmallSize)("btn-lg",r.isLargeSize)("disabled",r.disabled),Ea("disabled",r.disabled)}}function JE(t,e){if(1&t){var n=Pa();Ia(0,"div",20),_a(1,$E,4,7,"button",3),Ia(2,"input",4),il(3,21),Ra("change",(function(t){return er(n),La().updateSecond(t.target.value)}))("input",(function(t){return er(n),La().formatInput(t.target)}))("keydown.ArrowUp",(function(t){er(n);var e=La();return e.changeSecond(e.secondStep),t.preventDefault()}))("keydown.ArrowDown",(function(t){er(n);var e=La();return e.changeSecond(-e.secondStep),t.preventDefault()})),Ta(),_a(4,YE,4,7,"button",3),Ta()}if(2&t){var r=La();lo(1),Ea("ngIf",r.spinners),lo(1),iu("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),Ea("value",r.formatMinSec(null==r.model?null:r.model.second))("readOnly",r.readonlyInputs)("disabled",r.disabled),lo(2),Ea("ngIf",r.spinners)}}function XE(t,e){1&t&&Aa(0,"div",6)}function ZE(t,e){if(1&t&&(Da(0),rl(1,28),Oa()),2&t){var n=La(2);lo(1),ol(n.i18n.getAfternoonPeriod()),sl(1)}}function tS(t,e){1&t&&rl(0,29),2&t&&(ol(La(2).i18n.getMorningPeriod()),sl(0))}function eS(t,e){if(1&t){var n=Pa();Ia(0,"div",24),Ia(1,"button",25),Ra("click",(function(){return er(n),La().toggleMeridian()})),_a(2,ZE,2,1,"ng-container",26),_a(3,tS,1,1,"ng-template",null,27,jl),Ta(),Ta()}if(2&t){var r=wa(4),i=La();lo(1),iu("btn-sm",i.isSmallSize)("btn-lg",i.isLargeSize)("disabled",i.disabled),Ea("disabled",i.disabled),lo(1),Ea("ngIf",i.model&&i.model.hour>=12)("ngIfElse",r)}}function nS(t,e){if(1&t&&(Ia(0,"strong",3),_u(1),Ta()),2&t){var n=La();lo(1),wu(n.header)}}function rS(t,e){}function iS(t,e){if(1&t){var n=Pa();Ia(0,"div",4),_a(1,rS,0,0,"ng-template",5),Ia(2,"button",6),il(3,7),Ra("click",(function(){return er(n),La().hide()})),Ia(4,"span",8),_u(5,"\xd7"),Ta(),Ta(),Ta()}if(2&t){var r=La(),i=wa(1);lo(1),Ea("ngTemplateOutlet",r.contentHeaderTpl||i)}}function oS(t,e){if(1&t&&(Ia(0,"span"),_u(1),Ta()),2&t){var n=La().$implicit;au(La().highlightClass),lo(1),wu(n)}}function sS(t,e){1&t&&_u(0),2&t&&wu(La().$implicit)}function aS(t,e){if(1&t&&(_a(0,oS,2,3,"span",1),_a(1,sS,1,1,"ng-template",null,2,jl)),2&t){var n=e.odd,r=wa(2);Ea("ngIf",n)("ngIfElse",r)}}function uS(t,e){if(1&t&&Aa(0,"ngb-highlight",2),2&t){var n=e.term;Ea("result",(0,e.formatter)(e.result))("term",n)}}function cS(t,e){}var lS=function(t,e,n){return{result:t,term:e,formatter:n}};function hS(t,e){if(1&t){var n=Pa();Ia(0,"button",3),Ra("mouseenter",(function(){er(n);var t=e.index;return La().markActive(t)}))("click",(function(){er(n);var t=e.$implicit;return La().select(t)})),_a(1,cS,0,0,"ng-template",4),Ta()}if(2&t){var r=e.$implicit,i=e.index,o=La(),s=wa(1);iu("active",i===o.activeIdx),Ea("id",o.id+"-"+i),lo(1),Ea("ngTemplateOutlet",o.resultTemplate||s)("ngTemplateOutletContext",dl(5,lS,r,o.term,o.formatter))}}function fS(t){return parseInt(""+t,10)}function dS(t){return null!=t?""+t:""}function pS(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Math.max(Math.min(t,e),n)}function vS(t){return"string"==typeof t}function gS(t){return!isNaN(fS(t))}function mS(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}function yS(t){return null!=t}function bS(t){return gS(t)?("0"+t).slice(-2):""}function _S(t,e){return t&&t.className&&t.className.split&&t.className.split(/\s+/).indexOf(e)>=0}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){var e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});var wS,kS,CS,ES,SS,IS,TS,AS,DS,OS,PS,xS,NS,RS,FS,MS,LS,US,VS,jS,BS,qS,WS=((xS=function t(){tt(this,t),this.closeOthers=!1}).\u0275fac=function(t){return new(t||xS)},xS.\u0275prov=se({factory:function(){return new xS},token:xS,providedIn:"root"}),xS),HS=0,zS=((PS=function t(e){tt(this,t),this.templateRef=e}).\u0275fac=function(t){return new(t||PS)(ka(oc))},PS.\u0275dir=mn({type:PS,selectors:[["ng-template","ngbPanelHeader",""]]}),PS),GS=((OS=function t(e){tt(this,t),this.templateRef=e}).\u0275fac=function(t){return new(t||OS)(ka(oc))},OS.\u0275dir=mn({type:OS,selectors:[["ng-template","ngbPanelTitle",""]]}),OS),KS=((DS=function t(e){tt(this,t),this.templateRef=e}).\u0275fac=function(t){return new(t||DS)(ka(oc))},DS.\u0275dir=mn({type:DS,selectors:[["ng-template","ngbPanelContent",""]]}),DS),QS=((AS=function(){function t(){tt(this,t),this.disabled=!1,this.id="ngb-panel-"+HS++,this.isOpen=!1}return nt(t,[{key:"ngAfterContentChecked",value:function(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}]),t}()).\u0275fac=function(t){return new(t||AS)},AS.\u0275dir=mn({type:AS,selectors:[["ngb-panel"]],contentQueries:function(t,e,n){var r;1&t&&(Nl(n,GS,!1),Nl(n,zS,!1),Nl(n,KS,!1)),2&t&&(Dl(r=Ml())&&(e.titleTpls=r),Dl(r=Ml())&&(e.headerTpls=r),Dl(r=Ml())&&(e.contentTpls=r))},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"}}),AS),$S=((TS=function(){function t(e){tt(this,t),this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new yl,this.type=e.type,this.closeOtherPanels=e.closeOthers}return nt(t,[{key:"isExpanded",value:function(t){return this.activeIds.indexOf(t)>-1}},{key:"expand",value:function(t){this._changeOpenState(this._findPanelById(t),!0)}},{key:"expandAll",value:function(){var t=this;this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach((function(e){return t._changeOpenState(e,!0)}))}},{key:"collapse",value:function(t){this._changeOpenState(this._findPanelById(t),!1)}},{key:"collapseAll",value:function(){var t=this;this.panels.forEach((function(e){t._changeOpenState(e,!1)}))}},{key:"toggle",value:function(t){var e=this._findPanelById(t);e&&this._changeOpenState(e,!e.isOpen)}},{key:"ngAfterContentChecked",value:function(){var t=this;vS(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach((function(e){return e.isOpen=!e.disabled&&t.activeIds.indexOf(e.id)>-1})),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0]),this._updateActiveIds())}},{key:"_changeOpenState",value:function(t,e){if(null!=t&&!t.disabled&&t.isOpen!==e){var n=!1;this.panelChange.emit({panelId:t.id,nextState:e,preventDefault:function(){n=!0}}),n||(t.isOpen=e,e&&this.closeOtherPanels&&this._closeOthers(t.id),this._updateActiveIds())}}},{key:"_closeOthers",value:function(t){this.panels.forEach((function(e){e.id!==t&&(e.isOpen=!1)}))}},{key:"_findPanelById",value:function(t){return this.panels.find((function(e){return e.id===t}))||null}},{key:"_updateActiveIds",value:function(){this.activeIds=this.panels.filter((function(t){return t.isOpen&&!t.disabled})).map((function(t){return t.id}))}}]),t}()).\u0275fac=function(t){return new(t||TS)(ka(WS))},TS.\u0275cmp=hn({type:TS,selectors:[["ngb-accordion"]],contentQueries:function(t,e,n){var r;1&t&&Nl(n,QS,!1),2&t&&Dl(r=Ml())&&(e.panels=r)},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(t,e){2&t&&ya("aria-multiselectable",!e.closeOtherPanels)},inputs:{activeIds:"activeIds",destroyOnHide:"destroyOnHide",type:"type",closeOtherPanels:["closeOthers","closeOtherPanels"]},outputs:{panelChange:"panelChange"},exportAs:["ngbAccordion"],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"btn","btn-link",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel","class","collapse",3,"id","show",4,"ngIf"],["role","tabpanel",1,"collapse",3,"id"],[1,"card-body"]],template:function(t,e){1&t&&(_a(0,pC,3,3,"ng-template",0,1,jl),_a(2,bC,4,11,"ng-template",2)),2&t&&(lo(2),Ea("ngForOf",e.panels))},directives:function(){return[zS,ld,YS,Dd,fd]},encapsulation:2}),TS),YS=((IS=function(){function t(e,n){tt(this,t),this.accordion=e,this.panel=n}return nt(t,[{key:"ngbPanelToggle",set:function(t){t&&(this.panel=t)}}]),t}()).\u0275fac=function(t){return new(t||IS)(ka($S),ka(QS,9))},IS.\u0275dir=mn({type:IS,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(t,e){1&t&&Ra("click",(function(){return e.accordion.toggle(e.panel.id)})),2&t&&(Eu("disabled",e.panel.disabled),ya("aria-expanded",e.panel.isOpen)("aria-controls",e.panel.id),iu("collapsed",!e.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"}}),IS),JS=((SS=function t(){tt(this,t)}).\u0275mod=vn({type:SS}),SS.\u0275inj=ae({factory:function(t){return new(t||SS)},imports:[[dp]]}),SS),XS=((ES=function t(){tt(this,t),this.dismissible=!0,this.type="warning"}).\u0275fac=function(t){return new(t||ES)},ES.\u0275prov=se({factory:function(){return new ES},token:ES,providedIn:"root"}),ES),ZS=((CS=function(){function t(e,n,r){tt(this,t),this._renderer=n,this._element=r,this.close=new yl,this.dismissible=e.dismissible,this.type=e.type}return nt(t,[{key:"closeHandler",value:function(){this.close.emit()}},{key:"ngOnChanges",value:function(t){var e=t.type;e&&!e.firstChange&&(this._renderer.removeClass(this._element.nativeElement,"alert-"+e.previousValue),this._renderer.addClass(this._element.nativeElement,"alert-"+e.currentValue))}},{key:"ngOnInit",value:function(){this._renderer.addClass(this._element.nativeElement,"alert-"+this.type)}}]),t}()).\u0275fac=function(t){return new(t||CS)(ka(XS),ka(ju),ka(Mu))},CS.\u0275cmp=hn({type:CS,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert"],hostVars:2,hostBindings:function(t,e){2&t&&iu("alert-dismissible",e.dismissible)},inputs:{dismissible:"dismissible",type:"type"},outputs:{close:"close"},features:[On],ngContentSelectors:wC,decls:2,vars:1,consts:function(){return[["type","button","class","close",3,"click",4,"ngIf",6,"aria-label"],["type","button",1,"close",3,"click",6,"aria-label"],["aria-label",$localize(M())],["aria-hidden","true"]]},template:function(t,e){1&t&&(Va(),qa(0),_a(1,_C,4,0,"button",0)),2&t&&(lo(1),Ea("ngIf",e.dismissible))},directives:[fd],styles:["ngb-alert{display:block}"],encapsulation:2,changeDetection:0}),CS),tI=((kS=function t(){tt(this,t)}).\u0275mod=vn({type:kS}),kS.\u0275inj=ae({factory:function(t){return new(t||kS)},imports:[[dp]]}),kS),eI=((wS=function t(){tt(this,t)}).\u0275fac=function(t){return new(t||wS)},wS.\u0275dir=mn({type:wS,selectors:[["","ngbButtonLabel",""]],hostVars:8,hostBindings:function(t,e){2&t&&iu("btn",!0)("active",e.active)("disabled",e.disabled)("focus",e.focused)}}),wS),nI={provide:Ep,useExisting:be((function(){return rI})),multi:!0},rI=((NS=function(){function t(e,n){tt(this,t),this._label=e,this._cd=n,this.disabled=!1,this.valueChecked=!0,this.valueUnChecked=!1,this.onChange=function(t){},this.onTouched=function(){}}return nt(t,[{key:"onInputChange",value:function(t){var e=t.target.checked?this.valueChecked:this.valueUnChecked;this.onChange(e),this.onTouched(),this.writeValue(e)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this.disabled=t,this._label.disabled=t}},{key:"writeValue",value:function(t){this.checked=t===this.valueChecked,this._label.active=this.checked,this._cd.markForCheck()}},{key:"focused",set:function(t){this._label.focused=t,t||this.onTouched()}}]),t}()).\u0275fac=function(t){return new(t||NS)(ka(eI),ka(Ms))},NS.\u0275dir=mn({type:NS,selectors:[["","ngbButton","","type","checkbox"]],hostVars:2,hostBindings:function(t,e){1&t&&Ra("change",(function(t){return e.onInputChange(t)}))("focus",(function(){return e.focused=!0}))("blur",(function(){return e.focused=!1})),2&t&&Eu("checked",e.checked)("disabled",e.disabled)},inputs:{disabled:"disabled",valueChecked:"valueChecked",valueUnChecked:"valueUnChecked"},features:[xu([nI])]}),NS),iI={provide:Ep,useExisting:be((function(){return sI})),multi:!0},oI=0,sI=((VS=function(){function t(){tt(this,t),this._radios=new Set,this._value=null,this.name="ngb-radio-"+oI++,this.onChange=function(t){},this.onTouched=function(){}}return nt(t,[{key:"onRadioChange",value:function(t){this.writeValue(t.value),this.onChange(t.value)}},{key:"onRadioValueUpdate",value:function(){this._updateRadiosValue()}},{key:"register",value:function(t){this._radios.add(t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._disabled=t,this._updateRadiosDisabled()}},{key:"unregister",value:function(t){this._radios.delete(t)}},{key:"writeValue",value:function(t){this._value=t,this._updateRadiosValue()}},{key:"_updateRadiosValue",value:function(){var t=this;this._radios.forEach((function(e){return e.updateValue(t._value)}))}},{key:"_updateRadiosDisabled",value:function(){this._radios.forEach((function(t){return t.updateDisabled()}))}},{key:"disabled",get:function(){return this._disabled},set:function(t){this.setDisabledState(t)}}]),t}()).\u0275fac=function(t){return new(t||VS)},VS.\u0275dir=mn({type:VS,selectors:[["","ngbRadioGroup",""]],hostAttrs:["role","radiogroup"],inputs:{name:"name"},features:[xu([iI])]}),VS),aI=((US=function(){function t(e,n,r,i,o){tt(this,t),this._group=e,this._label=n,this._renderer=r,this._element=i,this._cd=o,this._value=null,this._group.register(this),this.updateDisabled()}return nt(t,[{key:"ngOnDestroy",value:function(){this._group.unregister(this)}},{key:"onChange",value:function(){this._group.onRadioChange(this)}},{key:"updateValue",value:function(t){this.value!==t&&this._cd.markForCheck(),this._checked=this.value===t,this._label.active=this._checked}},{key:"updateDisabled",value:function(){this._label.disabled=this.disabled}},{key:"value",set:function(t){this._value=t;var e=t?t.toString():"";this._renderer.setProperty(this._element.nativeElement,"value",e),this._group.onRadioValueUpdate()},get:function(){return this._value}},{key:"disabled",set:function(t){this._disabled=!1!==t,this.updateDisabled()},get:function(){return this._group.disabled||this._disabled}},{key:"focused",set:function(t){this._label&&(this._label.focused=t),t||this._group.onTouched()}},{key:"checked",get:function(){return this._checked}},{key:"nameAttr",get:function(){return this.name||this._group.name}}]),t}()).\u0275fac=function(t){return new(t||US)(ka(sI),ka(eI),ka(ju),ka(Mu),ka(Ms))},US.\u0275dir=mn({type:US,selectors:[["","ngbButton","","type","radio"]],hostVars:3,hostBindings:function(t,e){1&t&&Ra("change",(function(){return e.onChange()}))("focus",(function(){return e.focused=!0}))("blur",(function(){return e.focused=!1})),2&t&&Eu("checked",e.checked)("disabled",e.disabled)("name",e.nameAttr)},inputs:{value:"value",disabled:"disabled",name:"name"}}),US),uI=((LS=function t(){tt(this,t)}).\u0275mod=vn({type:LS}),LS.\u0275inj=ae({factory:function(t){return new(t||LS)}}),LS),cI=((MS=function t(){tt(this,t),this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}).\u0275fac=function(t){return new(t||MS)},MS.\u0275prov=se({factory:function(){return new MS},token:MS,providedIn:"root"}),MS),lI=0,hI=((FS=function t(e){tt(this,t),this.tplRef=e,this.id="ngb-slide-"+lI++}).\u0275fac=function(t){return new(t||FS)(ka(oc))},FS.\u0275dir=mn({type:FS,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"}}),FS),fI=((RS=function(){function t(e,n,r,i){tt(this,t),this._platformId=n,this._ngZone=r,this._cd=i,this.NgbSlideEventSource=pI,this._destroy$=new wt,this._interval$=new um(0),this._mouseHover$=new um(!1),this._pauseOnHover$=new um(!1),this._pause$=new um(!1),this._wrap$=new um(!1),this.slide=new yl,this.interval=e.interval,this.wrap=e.wrap,this.keyboard=e.keyboard,this.pauseOnHover=e.pauseOnHover,this.showNavigationArrows=e.showNavigationArrows,this.showNavigationIndicators=e.showNavigationIndicators}return nt(t,[{key:"mouseEnter",value:function(){this._mouseHover$.next(!0)}},{key:"mouseLeave",value:function(){this._mouseHover$.next(!1)}},{key:"ngAfterContentInit",value:function(){var t=this;"browser"===this._platformId&&this._ngZone.runOutsideAngular((function(){var e=lm([t.slide.pipe(xt((function(t){return t.current})),Vm(t.activeId)),t._wrap$,t.slides.changes.pipe(Vm(null))]).pipe(xt((function(e){var n=V(e,2),r=n[0],i=n[1],o=t.slides.toArray(),s=t._getSlideIdxById(r);return i?o.length>1:s<o.length-1})),Zk());lm([t._pause$,t._pauseOnHover$,t._mouseHover$,t._interval$,e]).pipe(xt((function(t){var e=V(t,5),n=e[0],r=e[1],i=e[2],o=e[3],s=e[4];return n||r&&i||!s?0:o})),Zk(),xm((function(t){return t>0?function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=-1;return Kk(e)?r=Number(e)<1?1:Number(e):Ct(e)&&(n=e),Ct(n)||(n=Gk),new vt((function(e){var i=Kk(t)?t:+t-n.now();return n.schedule(Qk,i,{index:0,period:r,subscriber:e})}))}(t,t):$k})),nC(t._destroy$)).subscribe((function(){return t._ngZone.run((function(){return t.next(pI.TIMER)}))}))})),this.slides.changes.pipe(nC(this._destroy$)).subscribe((function(){return t._cd.markForCheck()}))}},{key:"ngAfterContentChecked",value:function(){var t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}},{key:"ngOnDestroy",value:function(){this._destroy$.next()}},{key:"select",value:function(t,e){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),e)}},{key:"prev",value:function(t){this._cycleToSelected(this._getPrevSlide(this.activeId),dI.RIGHT,t)}},{key:"next",value:function(t){this._cycleToSelected(this._getNextSlide(this.activeId),dI.LEFT,t)}},{key:"pause",value:function(){this._pause$.next(!0)}},{key:"cycle",value:function(){this._pause$.next(!1)}},{key:"_cycleToSelected",value:function(t,e,n){var r=this._getSlideById(t);r&&r.id!==this.activeId&&(this.slide.emit({prev:this.activeId,current:r.id,direction:e,paused:this._pause$.value,source:n}),this.activeId=r.id),this._cd.markForCheck()}},{key:"_getSlideEventDirection",value:function(t,e){return this._getSlideIdxById(t)>this._getSlideIdxById(e)?dI.RIGHT:dI.LEFT}},{key:"_getSlideById",value:function(t){return this.slides.find((function(e){return e.id===t}))||null}},{key:"_getSlideIdxById",value:function(t){var e=this._getSlideById(t);return null!=e?this.slides.toArray().indexOf(e):-1}},{key:"_getNextSlide",value:function(t){var e=this.slides.toArray(),n=this._getSlideIdxById(t);return n===e.length-1?this.wrap?e[0].id:e[e.length-1].id:e[n+1].id}},{key:"_getPrevSlide",value:function(t){var e=this.slides.toArray(),n=this._getSlideIdxById(t);return 0===n?this.wrap?e[e.length-1].id:e[0].id:e[n-1].id}},{key:"interval",set:function(t){this._interval$.next(t)},get:function(){return this._interval$.value}},{key:"wrap",set:function(t){this._wrap$.next(t)},get:function(){return this._wrap$.value}},{key:"pauseOnHover",set:function(t){this._pauseOnHover$.next(t)},get:function(){return this._pauseOnHover$.value}}]),t}()).\u0275fac=function(t){return new(t||RS)(ka(cI),ka(Kl),ka(uh),ka(Ms))},RS.\u0275cmp=hn({type:RS,selectors:[["ngb-carousel"]],contentQueries:function(t,e,n){var r;1&t&&Nl(n,hI,!1),2&t&&Dl(r=Ml())&&(e.slides=r)},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:2,hostBindings:function(t,e){1&t&&Ra("keydown.arrowLeft",(function(){return e.keyboard&&e.prev(e.NgbSlideEventSource.ARROW_LEFT)}))("keydown.arrowRight",(function(){return e.keyboard&&e.next(e.NgbSlideEventSource.ARROW_RIGHT)}))("mouseenter",(function(){return e.mouseEnter()}))("mouseleave",(function(){return e.mouseLeave()})),2&t&&ru("display","block")},inputs:{interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators",activeId:"activeId"},outputs:{slide:"slide"},exportAs:["ngbCarousel"],decls:5,vars:4,consts:function(){return[["class","carousel-indicators",4,"ngIf"],[1,"carousel-inner"],["class","carousel-item",3,"active",4,"ngFor","ngForOf"],["class","carousel-control-prev","role","button",3,"click",4,"ngIf"],["class","carousel-control-next","role","button",3,"click",4,"ngIf"],[1,"carousel-indicators"],[3,"id","active","click",4,"ngFor","ngForOf"],[3,"id","click"],[1,"carousel-item"],[3,"ngTemplateOutlet"],["role","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"sr-only"],$localize(F()),["role","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],$localize(R())]},template:function(t,e){1&t&&(_a(0,CC,2,1,"ol",0),Ia(1,"div",1),_a(2,SC,2,3,"div",2),Ta(),_a(3,IC,4,0,"a",3),_a(4,TC,4,0,"a",4)),2&t&&(Ea("ngIf",e.showNavigationIndicators),lo(2),Ea("ngForOf",e.slides),lo(1),Ea("ngIf",e.showNavigationArrows),lo(1),Ea("ngIf",e.showNavigationArrows))},directives:[fd,ld,Dd],encapsulation:2,changeDetection:0}),RS),dI=function(t){return t[t.LEFT="left"]="LEFT",t[t.RIGHT="right"]="RIGHT",t}({}),pI=function(t){return t.TIMER="timer",t.ARROW_LEFT="arrowLeft",t.ARROW_RIGHT="arrowRight",t.INDICATOR="indicator",t}({}),vI=((qS=function t(){tt(this,t)}).\u0275mod=vn({type:qS}),qS.\u0275inj=ae({factory:function(t){return new(t||qS)},imports:[[dp]]}),qS),gI=((BS=function t(){tt(this,t),this.collapsed=!1}).\u0275fac=function(t){return new(t||BS)},BS.\u0275dir=mn({type:BS,selectors:[["","ngbCollapse",""]],hostVars:4,hostBindings:function(t,e){2&t&&iu("collapse",!0)("show",!e.collapsed)},inputs:{collapsed:["ngbCollapse","collapsed"]},exportAs:["ngbCollapse"]}),BS),mI=((jS=function t(){tt(this,t)}).\u0275mod=vn({type:jS}),jS.\u0275inj=ae({factory:function(t){return new(t||jS)}}),jS),yI=function(){function t(e,n,r){tt(this,t),this.year=mS(e)?e:null,this.month=mS(n)?n:null,this.day=mS(r)?r:null}return nt(t,[{key:"equals",value:function(t){return null!=t&&this.year===t.year&&this.month===t.month&&this.day===t.day}},{key:"before",value:function(t){return!!t&&(this.year===t.year?this.month===t.month?this.day!==t.day&&this.day<t.day:this.month<t.month:this.year<t.year)}},{key:"after",value:function(t){return!!t&&(this.year===t.year?this.month===t.month?this.day!==t.day&&this.day>t.day:this.month>t.month:this.year>t.year)}}],[{key:"from",value:function(e){return e instanceof t?e:e?new t(e.year,e.month,e.day):null}}]),t}();function bI(t){return new yI(t.getFullYear(),t.getMonth()+1,t.getDate())}function _I(t){var e=new Date(t.year,t.month-1,t.day,12);return isNaN(e.getTime())||e.setFullYear(t.year),e}function wI(){return new SI}var kI,CI,EI=((CI=function t(){tt(this,t)}).\u0275fac=function(t){return new(t||CI)},CI.\u0275prov=se({factory:wI,token:CI,providedIn:"root"}),CI),SI=((kI=function(t){K(n,t);var e=$(n);function n(){return tt(this,n),e.apply(this,arguments)}return nt(n,[{key:"getDaysPerWeek",value:function(){return 7}},{key:"getMonths",value:function(){return[1,2,3,4,5,6,7,8,9,10,11,12]}},{key:"getWeeksPerMonth",value:function(){return 6}},{key:"getNext",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"d",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=_I(t),i=!0,o=r.getMonth();switch(e){case"y":r.setFullYear(r.getFullYear()+n);break;case"m":o+=n,r.setMonth(o),(o%=12)<0&&(o+=12);break;case"d":r.setDate(r.getDate()+n),i=!1;break;default:return t}return i&&r.getMonth()!==o&&r.setDate(0),bI(r)}},{key:"getPrev",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"d",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this.getNext(t,e,-n)}},{key:"getWeekday",value:function(t){var e=_I(t).getDay();return 0===e?7:e}},{key:"getWeekNumber",value:function(t,e){7===e&&(e=0);var n=_I(t[(11-e)%7]);n.setDate(n.getDate()+4-(n.getDay()||7));var r=n.getTime();return n.setMonth(0),n.setDate(1),Math.floor(Math.round((r-n.getTime())/864e5)/7)+1}},{key:"getToday",value:function(){return bI(new Date)}},{key:"isValid",value:function(t){if(!(t&&mS(t.year)&&mS(t.month)&&mS(t.day)))return!1;if(0===t.year)return!1;var e=_I(t);return!isNaN(e.getTime())&&e.getFullYear()===t.year&&e.getMonth()+1===t.month&&e.getDate()===t.day}}]),n}(EI)).\u0275fac=function(t){return MO(t||kI)},kI.\u0275prov=se({token:kI,factory:function(t){return kI.\u0275fac(t)}}),kI);function II(t,e){return!function(t,e){return!t&&!e||!!t&&!!e&&t.equals(e)}(t,e)}function TI(t,e){return!(!t&&!e||t&&e&&t.year===e.year&&t.month===e.month)}function AI(t,e,n){return t&&e&&t.before(e)?e:t&&n&&t.after(n)?n:t||null}function DI(t,e){var n=e.minDate,r=e.maxDate,i=e.disabled,o=e.markDisabled;return!(null==t||i||o&&o(t,{year:t.year,month:t.month})||n&&t.before(n)||r&&t.after(r))}var OI,PI,xI,NI,RI=((xI=function(){function t(){tt(this,t)}return nt(t,[{key:"getDayNumerals",value:function(t){return""+t.day}},{key:"getWeekNumerals",value:function(t){return""+t}},{key:"getYearNumerals",value:function(t){return""+t}}]),t}()).\u0275fac=function(t){return new(t||xI)},xI.\u0275prov=se({factory:function(){return t=He(Yl),new FI(t);var t},token:xI,providedIn:"root"}),xI),FI=((PI=function(t){K(n,t);var e=$(n);function n(t){var r;tt(this,n),(r=e.call(this))._locale=t;var i=wf(t,gf.Standalone,mf.Short);return r._weekdaysShort=i.map((function(t,e){return i[(e+1)%7]})),r._monthsShort=kf(t,gf.Standalone,mf.Abbreviated),r._monthsFull=kf(t,gf.Standalone,mf.Wide),r}return nt(n,[{key:"getWeekdayShortName",value:function(t){return this._weekdaysShort[t-1]||""}},{key:"getMonthShortName",value:function(t){return this._monthsShort[t-1]||""}},{key:"getMonthFullName",value:function(t){return this._monthsFull[t-1]||""}},{key:"getDayAriaLabel",value:function(t){return Uf(new Date(t.year,t.month-1,t.day),"fullDate",this._locale)}}]),n}(RI)).\u0275fac=function(t){return new(t||PI)(He(Yl))},PI.\u0275prov=se({token:PI,factory:function(t){return PI.\u0275fac(t)}}),PI),MI=((OI=function(){function t(e,n){var r=this;tt(this,t),this._calendar=e,this._i18n=n,this._VALIDATORS={dayTemplateData:function(t){if(r._state.dayTemplateData!==t)return{dayTemplateData:t}},displayMonths:function(t){if(mS(t=fS(t))&&t>0&&r._state.displayMonths!==t)return{displayMonths:t}},disabled:function(t){if(r._state.disabled!==t)return{disabled:t}},firstDayOfWeek:function(t){if(mS(t=fS(t))&&t>=0&&r._state.firstDayOfWeek!==t)return{firstDayOfWeek:t}},focusVisible:function(t){if(r._state.focusVisible!==t&&!r._state.disabled)return{focusVisible:t}},markDisabled:function(t){if(r._state.markDisabled!==t)return{markDisabled:t}},maxDate:function(t){var e=r.toValidDate(t,null);if(II(r._state.maxDate,e))return{maxDate:e}},minDate:function(t){var e=r.toValidDate(t,null);if(II(r._state.minDate,e))return{minDate:e}},navigation:function(t){if(r._state.navigation!==t)return{navigation:t}},outsideDays:function(t){if(r._state.outsideDays!==t)return{outsideDays:t}}},this._model$=new wt,this._dateSelect$=new wt,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]}}}return nt(t,[{key:"set",value:function(t){var e=this,n=Object.keys(t).map((function(n){return e._VALIDATORS[n](t[n])})).reduce((function(t,e){return Object.assign(Object.assign({},t),e)}),{});Object.keys(n).length>0&&this._nextState(n)}},{key:"focus",value:function(t){var e=this.toValidDate(t,null);null!=e&&!this._state.disabled&&II(this._state.focusDate,e)&&this._nextState({focusDate:t})}},{key:"focusSelect",value:function(){DI(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}},{key:"open",value:function(t){var e=this.toValidDate(t,this._calendar.getToday());null==e||this._state.disabled||this._state.firstDate&&!TI(this._state.firstDate,e)||this._nextState({firstDate:e})}},{key:"select",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.toValidDate(t,null);null==n||this._state.disabled||(II(this._state.selectedDate,n)&&this._nextState({selectedDate:n}),e.emitEvent&&DI(n,this._state)&&this._dateSelect$.next(n))}},{key:"toValidDate",value:function(t,e){var n=yI.from(t);return void 0===e&&(e=this._calendar.getToday()),this._calendar.isValid(n)?n:e}},{key:"getMonth",value:function(t){var e,n=B(this._state.months);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(t.month===r.number&&t.year===r.year)return r}}catch(i){n.e(i)}finally{n.f()}throw new Error("month ".concat(t.month," of year ").concat(t.year," not found"))}},{key:"_nextState",value:function(t){var e=this._updateState(t);this._patchContexts(e),this._state=e,this._model$.next(this._state)}},{key:"_patchContexts",value:function(t){var e=t.months,n=t.displayMonths,r=t.selectedDate,i=t.focusDate,o=t.focusVisible,s=t.disabled,a=t.outsideDays;t.months.forEach((function(t){t.weeks.forEach((function(u){u.days.forEach((function(u){i&&(u.context.focused=i.equals(u.date)&&o),u.tabindex=!s&&i&&u.date.equals(i)&&i.month===t.number?0:-1,!0===s&&(u.context.disabled=!0),void 0!==r&&(u.context.selected=null!==r&&r.equals(u.date)),t.number!==u.date.month&&(u.hidden="hidden"===a||"collapsed"===a||n>1&&u.date.after(e[0].firstDate)&&u.date.before(e[n-1].lastDate))}))}))}))}},{key:"_updateState",value:function(t){var e,n,r,i,o=Object.assign({},this._state,t),s=o.firstDate;if(("minDate"in t||"maxDate"in t)&&(function(t,e){if(e&&t&&e.before(t))throw new Error("'maxDate' ".concat(e," should be greater than 'minDate' ").concat(t))}(o.minDate,o.maxDate),o.focusDate=AI(o.focusDate,o.minDate,o.maxDate),o.firstDate=AI(o.firstDate,o.minDate,o.maxDate),s=o.focusDate),"disabled"in t&&(o.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(s=o.selectedDate),"focusVisible"in t)return o;if("focusDate"in t&&(o.focusDate=AI(o.focusDate,o.minDate,o.maxDate),s=o.focusDate,0!==o.months.length&&o.focusDate&&!o.focusDate.before(o.firstDate)&&!o.focusDate.after(o.lastDate)))return o;if("firstDate"in t&&(o.firstDate=AI(o.firstDate,o.minDate,o.maxDate),s=o.firstDate),s){var a=function(t,e,n,r,i){var o=n.displayMonths,s=n.months,a=s.splice(0,s.length);return Array.from({length:o},(function(n,r){var o=Object.assign(t.getNext(e,"m",r),{day:1});if(s[r]=null,!i){var u=a.findIndex((function(t){return t.firstDate.equals(o)}));-1!==u&&(s[r]=a.splice(u,1)[0])}return o})).forEach((function(e,i){null===s[i]&&(s[i]=function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=n.dayTemplateData,s=n.minDate,a=n.maxDate,u=n.firstDayOfWeek,c=n.markDisabled,l=n.outsideDays,h=t.getToday();i.firstDate=null,i.lastDate=null,i.number=e.month,i.year=e.year,i.weeks=i.weeks||[],i.weekdays=i.weekdays||[],e=function(t,e,n){var r=t.getDaysPerWeek(),i=new yI(e.year,e.month,1),o=t.getWeekday(i)%r;return t.getPrev(i,"d",(r+o-n)%r)}(t,e,u);for(var f=0;f<t.getWeeksPerMonth();f++){var d=i.weeks[f];d||(d=i.weeks[f]={number:0,days:[],collapsed:!0});for(var p=d.days,v=0;v<t.getDaysPerWeek();v++){0===f&&(i.weekdays[v]=t.getWeekday(e));var g=new yI(e.year,e.month,e.day),m=t.getNext(g),y=r.getDayAriaLabel(g),b=!!(s&&g.before(s)||a&&g.after(a));!b&&c&&(b=c(g,{month:i.number,year:i.year}));var _=g.equals(h),w=o?o(g,{month:i.number,year:i.year}):void 0;null===i.firstDate&&g.month===i.number&&(i.firstDate=g),g.month===i.number&&m.month!==i.number&&(i.lastDate=g);var k=p[v];k||(k=p[v]={}),k.date=g,k.context=Object.assign(k.context||{},{$implicit:g,date:g,data:w,currentMonth:i.number,currentYear:i.year,disabled:b,focused:!1,selected:!1,today:_}),k.tabindex=-1,k.ariaLabel=y,k.hidden=!1,e=m}d.number=t.getWeekNumber(p.map((function(t){return t.date})),u),d.collapsed="collapsed"===l&&p[0].date.month!==i.number&&p[p.length-1].date.month!==i.number}return i}(t,e,n,r,a.shift()||{}))})),s}(this._calendar,s,o,this._i18n,"dayTemplateData"in t||"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t);o.months=a,o.firstDate=a[0].firstDate,o.lastDate=a[a.length-1].lastDate,"selectedDate"in t&&!DI(o.selectedDate,o)&&(o.selectedDate=null),"firstDate"in t&&(!o.focusDate||o.focusDate.before(o.firstDate)||o.focusDate.after(o.lastDate))&&(o.focusDate=s);var u=!this._state.firstDate||this._state.firstDate.year!==o.firstDate.year,c=!this._state.firstDate||this._state.firstDate.month!==o.firstDate.month;"select"===o.navigation?(("minDate"in t||"maxDate"in t||0===o.selectBoxes.years.length||u)&&(o.selectBoxes.years=function(t,e,n){if(!t)return[];for(var r=e?Math.max(e.year,t.year-500):t.year-10,i=(n?Math.min(n.year,t.year+500):t.year+10)-r+1,o=Array(i),s=0;s<i;s++)o[s]=r+s;return o}(o.firstDate,o.minDate,o.maxDate)),("minDate"in t||"maxDate"in t||0===o.selectBoxes.months.length||u)&&(o.selectBoxes.months=function(t,e,n,r){if(!e)return[];var i=t.getMonths(e.year);if(n&&e.year===n.year){var o=i.findIndex((function(t){return t===n.month}));i=i.slice(o)}if(r&&e.year===r.year){var s=i.findIndex((function(t){return t===r.month}));i=i.slice(0,s+1)}return i}(this._calendar,o.firstDate,o.minDate,o.maxDate))):o.selectBoxes={years:[],months:[]},"arrows"!==o.navigation&&"select"!==o.navigation||!(c||u||"minDate"in t||"maxDate"in t||"disabled"in t)||(o.prevDisabled=o.disabled||(e=this._calendar,n=o.firstDate,r=o.minDate,i=Object.assign(e.getPrev(n,"m"),{day:1}),null!=r&&(i.year===r.year&&i.month<r.month||i.year<r.year&&1===r.month)),o.nextDisabled=o.disabled||function(t,e,n){var r=Object.assign(t.getNext(e,"m"),{day:1});return null!=n&&r.after(n)}(this._calendar,o.lastDate,o.maxDate))}return o}},{key:"model$",get:function(){return this._model$.pipe(ym((function(t){return t.months.length>0})))}},{key:"dateSelect$",get:function(){return this._dateSelect$.pipe(ym((function(t){return null!==t})))}}]),t}()).\u0275fac=function(t){return new(t||OI)(He(EI),He(RI))},OI.\u0275prov=se({token:OI,factory:function(t){return OI.\u0275fac(t)}}),OI),LI=function(t){return t[t.PREV=0]="PREV",t[t.NEXT=1]="NEXT",t}({}),UI=((NI=function t(){tt(this,t),this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekdays=!0,this.showWeekNumbers=!1}).\u0275fac=function(t){return new(t||NI)},NI.\u0275prov=se({factory:function(){return new NI},token:NI,providedIn:"root"}),NI);function VI(){return new QI}var jI,BI,qI,WI,HI,zI,GI,KI=((BI=function t(){tt(this,t)}).\u0275fac=function(t){return new(t||BI)},BI.\u0275prov=se({factory:VI,token:BI,providedIn:"root"}),BI),QI=((jI=function(t){K(n,t);var e=$(n);function n(){return tt(this,n),e.apply(this,arguments)}return nt(n,[{key:"fromModel",value:function(t){return t&&mS(t.year)&&mS(t.month)&&mS(t.day)?{year:t.year,month:t.month,day:t.day}:null}},{key:"toModel",value:function(t){return t&&mS(t.year)&&mS(t.month)&&mS(t.day)?{year:t.year,month:t.month,day:t.day}:null}}]),n}(KI)).\u0275fac=function(t){return LO(t||jI)},jI.\u0275prov=se({token:jI,factory:function(t){return jI.\u0275fac(t)}}),jI),$I={provide:Ep,useExisting:be((function(){return JI})),multi:!0},YI=((WI=function t(e){tt(this,t),this.templateRef=e}).\u0275fac=function(t){return new(t||WI)(ka(oc))},WI.\u0275dir=mn({type:WI,selectors:[["ng-template","ngbDatepickerContent",""]]}),WI),JI=((qI=function(){function t(e,n,r,i,o,s,a,u){var c=this;tt(this,t),this._service=e,this._calendar=n,this.i18n=r,this._elementRef=s,this._ngbDateAdapter=a,this._ngZone=u,this._controlValue=null,this._destroyed$=new wt,this._publicState={},this.navigate=new yl,this.dateSelect=new yl,this.select=this.dateSelect,this.onChange=function(t){},this.onTouched=function(){},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekdays","showWeekNumbers","startDate"].forEach((function(t){return c[t]=i[t]})),e.dateSelect$.pipe(nC(this._destroyed$)).subscribe((function(t){c.dateSelect.emit(t)})),e.model$.pipe(nC(this._destroyed$)).subscribe((function(t){var e=t.firstDate,n=c.model?c.model.firstDate:null;c._publicState={maxDate:t.maxDate,minDate:t.minDate,firstDate:t.firstDate,lastDate:t.lastDate,focusedDate:t.focusDate,months:t.months.map((function(t){return t.firstDate}))};var r=!1;if(e.equals(n)||(c.navigate.emit({current:n?{year:n.year,month:n.month}:null,next:{year:e.year,month:e.month},preventDefault:function(){return r=!0}}),!r||null===n)){var i=t.selectedDate,s=t.focusDate,a=c.model?c.model.focusDate:null;c.model=t,II(i,c._controlValue)&&(c._controlValue=i,c.onTouched(),c.onChange(c._ngbDateAdapter.toModel(i))),II(s,a)&&a&&t.focusVisible&&c.focus(),o.markForCheck()}else c._service.open(n)}))}return nt(t,[{key:"focusDate",value:function(t){this._service.focus(yI.from(t))}},{key:"focusSelect",value:function(){this._service.focusSelect()}},{key:"focus",value:function(){var t=this;this._ngZone.onStable.asObservable().pipe(Fm(1)).subscribe((function(){var e=t._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');e&&e.focus()}))}},{key:"navigateTo",value:function(t){this._service.open(yI.from(t?t.day?t:Object.assign(Object.assign({},t),{day:1}):null))}},{key:"ngAfterViewInit",value:function(){var t=this;this._ngZone.runOutsideAngular((function(){var e=Yk(t._contentEl.nativeElement,"focusin"),n=Yk(t._contentEl.nativeElement,"focusout"),r=t._elementRef.nativeElement;qt(e,n).pipe(ym((function(t){var e=t.target,n=t.relatedTarget;return!(_S(e,"ngb-dp-day")&&_S(n,"ngb-dp-day")&&r.contains(e)&&r.contains(n))})),nC(t._destroyed$)).subscribe((function(e){var n=e.type;return t._ngZone.run((function(){return t._service.set({focusVisible:"focusin"===n})}))}))}))}},{key:"ngOnDestroy",value:function(){this._destroyed$.next()}},{key:"ngOnInit",value:function(){var t=this;if(void 0===this.model){var e={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].forEach((function(n){return e[n]=t[n]})),this._service.set(e),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}},{key:"ngOnChanges",value:function(t){var e=this,n={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].filter((function(e){return e in t})).forEach((function(t){return n[t]=e[t]})),this._service.set(n),"startDate"in t){var r=t.startDate,i=r.currentValue;TI(r.previousValue,i)&&this.navigateTo(this.startDate)}}},{key:"onDateSelect",value:function(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})}},{key:"onNavigateDateSelect",value:function(t){this._service.open(t)}},{key:"onNavigateEvent",value:function(t){switch(t){case LI.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case LI.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._service.set({disabled:t})}},{key:"writeValue",value:function(t){this._controlValue=yI.from(this._ngbDateAdapter.fromModel(t)),this._service.select(this._controlValue)}},{key:"state",get:function(){return this._publicState}},{key:"calendar",get:function(){return this._calendar}}]),t}()).\u0275fac=function(t){return new(t||qI)(ka(MI),ka(EI),ka(RI),ka(UI),ka(Ms),ka(Mu),ka(KI),ka(uh))},qI.\u0275cmp=hn({type:qI,selectors:[["ngb-datepicker"]],contentQueries:function(t,e,n){var r;1&t&&Rl(n,YI,!0),2&t&&Dl(r=Ml())&&(e.contentTemplate=r.first)},viewQuery:function(t,e){var n;1&t&&(Ol(AC,!0),Ol(DC,!0)),2&t&&(Dl(n=Ml())&&(e._defaultDayTemplate=n.first),Dl(n=Ml())&&(e._contentEl=n.first))},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekdays:"showWeekdays",showWeekNumbers:"showWeekNumbers",startDate:"startDate"},outputs:{navigate:"navigate",dateSelect:"dateSelect",select:"select"},exportAs:["ngbDatepicker"],features:[xu([$I,MI]),On],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(t,e){if(1&t&&(_a(0,OC,1,5,"ng-template",null,0,jl),_a(2,NC,1,1,"ng-template",null,1,jl),Ia(4,"div",2),_a(5,RC,1,7,"ngb-datepicker-navigation",3),Ta(),Ia(6,"div",4,5),_a(8,FC,0,0,"ng-template",6),Ta(),_a(9,MC,0,0,"ng-template",6)),2&t){var n=wa(3);lo(5),Ea("ngIf","none"!==e.navigation),lo(1),iu("ngb-dp-months",!e.contentTemplate),lo(2),Ea("ngTemplateOutlet",(null==e.contentTemplate?null:e.contentTemplate.templateRef)||n),lo(1),Ea("ngTemplateOutlet",e.footerTemplate)}},directives:function(){return[fd,Dd,iA,ld,tT,eT]},styles:["ngb-datepicker{border:1px solid #dfdfdf;border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}.ngb-dp-body{z-index:1050}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-months{display:-ms-flexbox;display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}"],encapsulation:2,changeDetection:0}),qI),XI=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({}),ZI=((GI=function(){function t(){tt(this,t)}return nt(t,[{key:"processKey",value:function(t,e){var n=e.state,r=e.calendar;switch(t.which){case XI.PageUp:e.focusDate(r.getPrev(n.focusedDate,t.shiftKey?"y":"m",1));break;case XI.PageDown:e.focusDate(r.getNext(n.focusedDate,t.shiftKey?"y":"m",1));break;case XI.End:e.focusDate(t.shiftKey?n.maxDate:n.lastDate);break;case XI.Home:e.focusDate(t.shiftKey?n.minDate:n.firstDate);break;case XI.ArrowLeft:e.focusDate(r.getPrev(n.focusedDate,"d",1));break;case XI.ArrowUp:e.focusDate(r.getPrev(n.focusedDate,"d",r.getDaysPerWeek()));break;case XI.ArrowRight:e.focusDate(r.getNext(n.focusedDate,"d",1));break;case XI.ArrowDown:e.focusDate(r.getNext(n.focusedDate,"d",r.getDaysPerWeek()));break;case XI.Enter:case XI.Space:e.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}}]),t}()).\u0275fac=function(t){return new(t||GI)},GI.\u0275prov=se({factory:function(){return new GI},token:GI,providedIn:"root"}),GI),tT=((zI=function(){function t(e,n,r,i){tt(this,t),this.i18n=e,this.datepicker=n,this._keyboardService=r,this._service=i}return nt(t,[{key:"onKeyDown",value:function(t){this._keyboardService.processKey(t,this.datepicker)}},{key:"doSelect",value:function(t){t.context.disabled||t.hidden||this.datepicker.onDateSelect(t.date)}},{key:"month",set:function(t){this.viewModel=this._service.getMonth(t)}}]),t}()).\u0275fac=function(t){return new(t||zI)(ka(RI),ka(JI),ka(ZI),ka(MI))},zI.\u0275cmp=hn({type:zI,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(t,e){1&t&&Ra("keydown",(function(t){return e.onKeyDown(t)}))},inputs:{month:"month"},decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(_a(0,VC,3,2,"div",0),_a(1,zC,1,1,"ng-template",1)),2&t&&(Ea("ngIf",e.datepicker.showWeekdays),lo(1),Ea("ngForOf",e.viewModel.weeks))},directives:[fd,ld,Dd],styles:['ngb-datepicker-month{display:block}.ngb-dp-week-number,.ngb-dp-weekday{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:#5bc0de;color:var(--info)}.ngb-dp-week{border-radius:.25rem;display:-ms-flexbox;display:flex}.ngb-dp-weekdays{border-bottom:1px solid rgba(0,0,0,.125);border-radius:0;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-day,.ngb-dp-week-number,.ngb-dp-weekday{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}'],encapsulation:2}),zI),eT=((HI=function(){function t(e){tt(this,t),this.i18n=e,this.navigation=LI,this.months=[],this.navigate=new yl,this.select=new yl}return nt(t,[{key:"onClickPrev",value:function(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}},{key:"onClickNext",value:function(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}]),t}()).\u0275fac=function(t){return new(t||HI)(ka(RI))},HI.\u0275cmp=hn({type:HI,selectors:[["ngb-datepicker-navigation"]],inputs:{months:"months",date:"date",disabled:"disabled",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},decls:10,vars:4,consts:function(){return[[1,"ngb-dp-arrow"],["type","button",1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click",6,"aria-label","title"],["aria-label",$localize(N()),"title",$localize(x())],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["aria-label",$localize(P()),"title",$localize(O())],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(t,e){1&t&&(Ia(0,"div",0),Ia(1,"button",1),il(2,2),Ra("click",(function(t){return e.onClickPrev(t)})),Aa(3,"span",3),Ta(),Ta(),_a(4,GC,1,4,"ngb-datepicker-navigation-select",4),_a(5,YC,1,1,void 0,5),Ia(6,"div",6),Ia(7,"button",1),il(8,7),Ra("click",(function(t){return e.onClickNext(t)})),Aa(9,"span",3),Ta(),Ta()),2&t&&(lo(1),Ea("disabled",e.prevDisabled),lo(3),Ea("ngIf",e.showSelect),lo(1),Ea("ngIf",!e.showSelect),lo(2),Ea("disabled",e.nextDisabled))},directives:function(){return[fd,oA,ld]},styles:["ngb-datepicker-navigation{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;-webkit-transform:rotate(-135deg);transform:rotate(-135deg)}.right .ngb-dp-navigation-chevron{-webkit-transform:rotate(45deg);transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{-ms-flex-pack:end;justify-content:flex-end}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:-ms-flexbox;display:flex;-ms-flex:1 1 9rem;flex:1 1 9rem}"],encapsulation:2,changeDetection:0}),HI),nT=function(t,e){return!!e&&e.some((function(e){return e.contains(t)}))},rT=function(t,e){return!e||null!=function(t,e){return e?void 0===t.closest?null:t.closest(e):null}(t,e)},iT="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function oT(t,e,n,r,i,o,s,a){var u;n&&t.runOutsideAngular((u=function(){var u=Yk(e,"keydown").pipe(nC(i),ym((function(t){return t.which===XI.Escape})),Qm((function(t){return t.preventDefault()}))),c=Yk(e,"mousedown").pipe(xt((function(t){var e=t.target;return 2!==t.button&&!nT(e,s)&&("inside"===n?nT(e,o)&&rT(e,a):"outside"===n?!nT(e,o):rT(e,a)||!nT(e,o))})),nC(i)),l=Yk(e,"mouseup").pipe(oC(c),ym((function(t){var e=V(t,2);e[0];return e[1]})),cC(0),nC(i));(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){if(!rt(e[0]))return e[0];e=e[0]}return Bt(e,void 0).lift(new Jk)})([u.pipe(xt((function(t){return 0}))),l.pipe(xt((function(t){return 1})))]).subscribe((function(e){return t.run((function(){return r(e)}))}))},iT?function(){return setTimeout((function(){return u()}),100)}:u))}var sT=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function aT(t){var e=Array.from(t.querySelectorAll(sT)).filter((function(t){return-1!==t.tabIndex}));return[e[0],e[e.length-1]]}var uT=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.runOutsideAngular((function(){var t=Yk(e,"focusin").pipe(nC(n),xt((function(t){return t.target})));Yk(e,"keydown").pipe(nC(n),ym((function(t){return t.which===XI.Tab})),oC(t)).subscribe((function(t){var n=V(t,2),r=n[0],i=n[1],o=V(aT(e),2),s=o[0],a=o[1];i!==s&&i!==e||!r.shiftKey||(a.focus(),r.preventDefault()),i!==a||r.shiftKey||(s.focus(),r.preventDefault())})),r&&Yk(e,"click").pipe(nC(n),oC(t),xt((function(t){return t[1]}))).subscribe((function(t){return t.focus()}))}))},cT=/\s+/,lT=new(function(){function t(){tt(this,t)}return nt(t,[{key:"getAllStyles",value:function(t){return window.getComputedStyle(t)}},{key:"getStyle",value:function(t,e){return this.getAllStyles(t)[e]}},{key:"isStaticPositioned",value:function(t){return"static"===(this.getStyle(t,"position")||"static")}},{key:"offsetParent",value:function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}},{key:"position",value:function(t){var e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))e={top:(e=t.getBoundingClientRect()).top,bottom:e.bottom,left:e.left,right:e.right,height:e.height,width:e.width};else{var i=this.offsetParent(t);e=this.offset(t,!1),i!==document.documentElement&&(r=this.offset(i,!1)),r.top+=i.clientTop,r.left+=i.clientLeft}return e.top-=r.top,e.bottom-=r.top,e.left-=r.left,e.right-=r.left,n&&(e.top=Math.round(e.top),e.bottom=Math.round(e.bottom),e.left=Math.round(e.left),e.right=Math.round(e.right)),e}},{key:"offset",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft,o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}},{key:"positionElements",value:function(t,e,n,r){var i=V(n.split("-"),2),o=i[0],s=void 0===o?"top":o,a=i[1],u=void 0===a?"center":a,c=r?this.offset(t,!1):this.position(t,!1),l=this.getAllStyles(e),h=parseFloat(l.marginTop),f=parseFloat(l.marginBottom),d=parseFloat(l.marginLeft),p=parseFloat(l.marginRight),v=0,g=0;switch(s){case"top":v=c.top-(e.offsetHeight+h+f);break;case"bottom":v=c.top+c.height;break;case"left":g=c.left-(e.offsetWidth+d+p);break;case"right":g=c.left+c.width}switch(u){case"top":v=c.top;break;case"bottom":v=c.top+c.height-e.offsetHeight;break;case"left":g=c.left;break;case"right":g=c.left+c.width-e.offsetWidth;break;case"center":"top"===s||"bottom"===s?g=c.left+c.width/2-e.offsetWidth/2:v=c.top+c.height/2-e.offsetHeight/2}e.style.transform="translate(".concat(Math.round(g),"px, ").concat(Math.round(v),"px)");var m=e.getBoundingClientRect(),y=document.documentElement,b=window.innerHeight||y.clientHeight,_=window.innerWidth||y.clientWidth;return m.left>=0&&m.top>=0&&m.right<=_&&m.bottom<=b}}]),t}());function hT(t,e,n,r,i){var o=Array.isArray(n)?n:n.split(cT),s=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],a=e.classList,u=function(t){var e=V(t.split("-"),2),n=e[0],r=e[1],o=[];return i&&(o.push("".concat(i,"-").concat(n)),r&&o.push("".concat(i,"-").concat(n,"-").concat(r)),o.forEach((function(t){a.add(t)}))),o};i&&s.forEach((function(t){a.remove("".concat(i,"-").concat(t))}));var c=o.findIndex((function(t){return"auto"===t}));c>=0&&s.forEach((function(t){null==o.find((function(e){return-1!==e.search("^"+t)}))&&o.splice(c++,1,t)}));var l=e.style;l.position="absolute",l.top="0",l.left="0",l["will-change"]="transform";var h,f=null,d=!1,p=B(o);try{for(p.s();!(h=p.n()).done;){var v=u(f=h.value);if(lT.positionElements(t,e,f,r)){d=!0;break}i&&v.forEach((function(t){a.remove(t)}))}}catch(g){p.e(g)}finally{p.f()}return d||(u(f=o[0]),lT.positionElements(t,e,f,r)),f}function fT(){return new ZT}var dT,pT,vT,gT,mT,yT,bT,_T,wT,kT,CT,ET,ST,IT,TT,AT,DT,OT,PT,xT,NT,RT,FT,MT,LT,UT,VT,jT,BT,qT,WT,HT,zT,GT,KT,QT,$T,YT,JT,XT=((vT=function t(){tt(this,t)}).\u0275fac=function(t){return new(t||vT)},vT.\u0275prov=se({factory:fT,token:vT,providedIn:"root"}),vT),ZT=((pT=function(t){K(n,t);var e=$(n);function n(){return tt(this,n),e.apply(this,arguments)}return nt(n,[{key:"parse",value:function(t){if(null!=t){var e=t.trim().split("-");if(1===e.length&&gS(e[0]))return{year:fS(e[0]),month:null,day:null};if(2===e.length&&gS(e[0])&&gS(e[1]))return{year:fS(e[0]),month:fS(e[1]),day:null};if(3===e.length&&gS(e[0])&&gS(e[1])&&gS(e[2]))return{year:fS(e[0]),month:fS(e[1]),day:fS(e[2])}}return null}},{key:"format",value:function(t){return t?"".concat(t.year,"-").concat(gS(t.month)?bS(t.month):"","-").concat(gS(t.day)?bS(t.day):""):""}}]),n}(XT)).\u0275fac=function(t){return UO(t||pT)},pT.\u0275prov=se({token:pT,factory:function(t){return pT.\u0275fac(t)}}),pT),tA=((dT=function(t){K(n,t);var e=$(n);function n(){var t;return tt(this,n),(t=e.apply(this,arguments)).autoClose=!0,t.placement=["bottom-left","bottom-right","top-left","top-right"],t.restoreFocus=!0,t}return n}(UI)).\u0275fac=function(t){return VO(t||dT)},dT.\u0275prov=se({factory:function(){return new dT},token:dT,providedIn:"root"}),dT),eA={provide:Ep,useExisting:be((function(){return rA})),multi:!0},nA={provide:Vp,useExisting:be((function(){return rA})),multi:!0},rA=((_T=function(){function t(e,n,r,i,o,s,a,u,c,l,h){var f=this;tt(this,t),this._parserFormatter=e,this._elRef=n,this._vcRef=r,this._renderer=i,this._cfr=o,this._ngZone=s,this._calendar=a,this._dateAdapter=u,this._document=c,this._changeDetector=l,this._cRef=null,this._disabled=!1,this._elWithFocus=null,this._model=null,this.dateSelect=new yl,this.navigate=new yl,this.closed=new yl,this._onChange=function(t){},this._onTouched=function(){},this._validatorChange=function(){},["autoClose","container","positionTarget","placement"].forEach((function(t){return f[t]=h[t]})),this._zoneSubscription=s.onStable.subscribe((function(){return f._updatePopupPosition()}))}return nt(t,[{key:"registerOnChange",value:function(t){this._onChange=t}},{key:"registerOnTouched",value:function(t){this._onTouched=t}},{key:"registerOnValidatorChange",value:function(t){this._validatorChange=t}},{key:"setDisabledState",value:function(t){this.disabled=t}},{key:"validate",value:function(t){var e=t.value;if(null!=e){var n=this._fromDateStruct(this._dateAdapter.fromModel(e));if(!n)return{ngbDate:{invalid:e}};if(this.minDate&&n.before(yI.from(this.minDate)))return{ngbDate:{minDate:{minDate:this.minDate,actual:e}}};if(this.maxDate&&n.after(yI.from(this.maxDate)))return{ngbDate:{maxDate:{maxDate:this.maxDate,actual:e}}}}return null}},{key:"writeValue",value:function(t){this._model=this._fromDateStruct(this._dateAdapter.fromModel(t)),this._writeModelValue(this._model)}},{key:"manualDateChange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t!==this._inputValue;n&&(this._inputValue=t,this._model=this._fromDateStruct(this._parserFormatter.parse(t))),!n&&e||this._onChange(this._model?this._dateAdapter.toModel(this._model):""===t?null:t),e&&this._model&&this._writeModelValue(this._model)}},{key:"isOpen",value:function(){return!!this._cRef}},{key:"open",value:function(){var t=this;if(!this.isOpen()){var e=this._cfr.resolveComponentFactory(JI);this._cRef=this._vcRef.createComponent(e),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef.instance),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange((function(e){t.writeValue(e),t._onChange(e),t._onTouched()})),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,uT(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),this._cRef.instance.focus(),oT(this._ngZone,this._document,this.autoClose,(function(){return t.close()}),this.closed,[],[this._elRef.nativeElement,this._cRef.location.nativeElement])}}},{key:"close",value:function(){if(this.isOpen()){this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null,this.closed.emit(),this._changeDetector.markForCheck();var t=this._elWithFocus;vS(this.restoreFocus)?t=this._document.querySelector(this.restoreFocus):void 0!==this.restoreFocus&&(t=this.restoreFocus),t&&t.focus?t.focus():this._document.body.focus()}}},{key:"toggle",value:function(){this.isOpen()?this.close():this.open()}},{key:"navigateTo",value:function(t){this.isOpen()&&this._cRef.instance.navigateTo(t)}},{key:"onBlur",value:function(){this._onTouched()}},{key:"onFocus",value:function(){this._elWithFocus=this._elRef.nativeElement}},{key:"ngOnChanges",value:function(t){(t.minDate||t.maxDate)&&(this._validatorChange(),this.isOpen()&&(t.minDate&&(this._cRef.instance.minDate=this.minDate),t.maxDate&&(this._cRef.instance.maxDate=this.maxDate),this._cRef.instance.ngOnChanges(t)))}},{key:"ngOnDestroy",value:function(){this.close(),this._zoneSubscription.unsubscribe()}},{key:"_applyDatepickerInputs",value:function(t){var e=this;["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekdays","showWeekNumbers"].forEach((function(n){void 0!==e[n]&&(t[n]=e[n])})),t.startDate=this.startDate||this._model}},{key:"_applyPopupStyling",value:function(t){this._renderer.addClass(t,"dropdown-menu"),this._renderer.addClass(t,"show"),"body"===this.container&&this._renderer.addClass(t,"ngb-dp-body")}},{key:"_subscribeForDatepickerOutputs",value:function(t){var e=this;t.navigate.subscribe((function(t){return e.navigate.emit(t)})),t.dateSelect.subscribe((function(t){e.dateSelect.emit(t),!0!==e.autoClose&&"inside"!==e.autoClose||e.close()}))}},{key:"_writeModelValue",value:function(t){var e=this._parserFormatter.format(t);this._inputValue=e,this._renderer.setProperty(this._elRef.nativeElement,"value",e),this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(t)),this._onTouched())}},{key:"_fromDateStruct",value:function(t){var e=t?new yI(t.year,t.month,t.day):null;return this._calendar.isValid(e)?e:null}},{key:"_updatePopupPosition",value:function(){if(this._cRef){var t;if(t=vS(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?this.positionTarget:this._elRef.nativeElement,this.positionTarget&&!t)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");hT(t,this._cRef.location.nativeElement,this.placement,"body"===this.container)}}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=""===t||t&&"false"!==t,this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}}]),t}()).\u0275fac=function(t){return new(t||_T)(ka(XT),ka(Mu),ka(ac),ka(ju),ka(Fu),ka(uh),ka(EI),ka(KI),ka(Wh),ka(Ms),ka(tA))},_T.\u0275dir=mn({type:_T,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(t,e){1&t&&Ra("input",(function(t){return e.manualDateChange(t.target.value)}))("change",(function(t){return e.manualDateChange(t.target.value,!0)}))("focus",(function(){return e.onFocus()}))("blur",(function(){return e.onBlur()})),2&t&&Eu("disabled",e.disabled)},inputs:{disabled:"disabled",autoClose:"autoClose",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",restoreFocus:"restoreFocus",showWeekdays:"showWeekdays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],features:[xu([eA,nA,{provide:UI,useExisting:tA}]),On]}),_T),iA=((bT=function(){function t(e){tt(this,t),this.i18n=e}return nt(t,[{key:"isMuted",value:function(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}]),t}()).\u0275fac=function(t){return new(t||bT)(ka(RI))},bT.\u0275cmp=hn({type:bT,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(t,e){2&t&&iu("bg-primary",e.selected)("text-white",e.selected)("text-muted",e.isMuted())("outside",e.isMuted())("active",e.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},attrs:JC,decls:1,vars:1,template:function(t,e){1&t&&_u(0),2&t&&wu(e.i18n.getDayNumerals(e.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:0 0}[ngbDatepickerDayView].outside{opacity:.5}"],encapsulation:2,changeDetection:0}),bT),oA=((yT=function(){function t(e,n){tt(this,t),this.i18n=e,this._renderer=n,this.select=new yl,this._month=-1,this._year=-1}return nt(t,[{key:"changeMonth",value:function(t){this.select.emit(new yI(this.date.year,fS(t),1))}},{key:"changeYear",value:function(t){this.select.emit(new yI(fS(t),this.date.month,1))}},{key:"ngAfterViewChecked",value:function(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}]),t}()).\u0275fac=function(t){return new(t||yT)(ka(RI),ka(ju))},yT.\u0275cmp=hn({type:yT,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(t,e){var n;1&t&&(Ol(XC,!0,Mu),Ol(ZC,!0,Mu)),2&t&&(Dl(n=Ml())&&(e.monthSelect=n.first),Dl(n=Ml())&&(e.yearSelect=n.first))},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},decls:8,vars:4,consts:function(){return[[1,"custom-select",3,"disabled","change",6,"aria-label","title"],["month",""],["aria-label",$localize(D()),"title",$localize(A())],[3,"value",4,"ngFor","ngForOf"],["year",""],["aria-label",$localize(T()),"title",$localize(I())],[3,"value"]]},template:function(t,e){1&t&&(Ia(0,"select",0,1),il(2,2),Ra("change",(function(t){return e.changeMonth(t.target.value)})),_a(3,tE,2,3,"option",3),Ta(),Ia(4,"select",0,4),il(6,5),Ra("change",(function(t){return e.changeYear(t.target.value)})),_a(7,eE,2,2,"option",3),Ta()),2&t&&(Ea("disabled",e.disabled),lo(3),Ea("ngForOf",e.months),lo(1),Ea("disabled",e.disabled),lo(3),Ea("ngForOf",e.years))},directives:[ld,lv,gv],styles:["ngb-datepicker-navigation-select>.custom-select{-ms-flex:1 1 auto;flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.custom-select:focus{z-index:1}ngb-datepicker-navigation-select>.custom-select::-ms-value{background-color:transparent!important}"],encapsulation:2,changeDetection:0}),yT),sA=((mT=function t(){tt(this,t)}).\u0275mod=vn({type:mT}),mT.\u0275inj=ae({factory:function(t){return new(t||mT)},imports:[[dp,qg]]}),mT),aA=((gT=function t(){tt(this,t),this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}).\u0275fac=function(t){return new(t||gT)},gT.\u0275prov=se({factory:function(){return new gT},token:gT,providedIn:"root"}),gT),uA=((DT=function t(){tt(this,t)}).\u0275fac=function(t){return new(t||DT)},DT.\u0275dir=mn({type:DT,selectors:[["",8,"navbar"]]}),DT),cA=((AT=function(){function t(e){tt(this,t),this.elementRef=e,this._disabled=!1}return nt(t,[{key:"disabled",set:function(t){this._disabled=""===t||!0===t},get:function(){return this._disabled}}]),t}()).\u0275fac=function(t){return new(t||AT)(ka(Mu))},AT.\u0275dir=mn({type:AT,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:2,hostBindings:function(t,e){2&t&&iu("disabled",e.disabled)},inputs:{disabled:"disabled"}}),AT),lA=((TT=function t(e,n){tt(this,t),this.dropdown=e,this.placement="bottom",this.isOpen=!1,this.nativeElement=n.nativeElement}).\u0275fac=function(t){return new(t||TT)(ka(be((function(){return dA}))),ka(Mu))},TT.\u0275dir=mn({type:TT,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(t,e,n){var r;1&t&&Nl(n,cA,!1),2&t&&Dl(r=Ml())&&(e.menuItems=r)},hostVars:5,hostBindings:function(t,e){1&t&&Ra("keydown.ArrowUp",(function(t){return e.dropdown.onKeyDown(t)}))("keydown.ArrowDown",(function(t){return e.dropdown.onKeyDown(t)}))("keydown.Home",(function(t){return e.dropdown.onKeyDown(t)}))("keydown.End",(function(t){return e.dropdown.onKeyDown(t)}))("keydown.Enter",(function(t){return e.dropdown.onKeyDown(t)}))("keydown.Space",(function(t){return e.dropdown.onKeyDown(t)}))("keydown.Tab",(function(t){return e.dropdown.onKeyDown(t)}))("keydown.Shift.Tab",(function(t){return e.dropdown.onKeyDown(t)})),2&t&&(ya("x-placement",e.placement),iu("dropdown-menu",!0)("show",e.dropdown.isOpen()))}}),TT),hA=((IT=function t(e,n){tt(this,t),this.dropdown=e,this.nativeElement=n.nativeElement}).\u0275fac=function(t){return new(t||IT)(ka(be((function(){return dA}))),ka(Mu))},IT.\u0275dir=mn({type:IT,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:["aria-haspopup","true",1,"dropdown-toggle"],hostVars:1,hostBindings:function(t,e){2&t&&ya("aria-expanded",e.dropdown.isOpen())}}),IT),fA=((ST=wT=function(t){K(n,t);var e=$(n);function n(t,r){return tt(this,n),e.call(this,t,r)}return n}(hA)).\u0275fac=function(t){return new(t||ST)(ka(be((function(){return dA}))),ka(Mu))},ST.\u0275dir=mn({type:ST,selectors:[["","ngbDropdownToggle",""]],hostAttrs:["aria-haspopup","true",1,"dropdown-toggle"],hostVars:1,hostBindings:function(t,e){1&t&&Ra("click",(function(){return e.dropdown.toggle()}))("keydown.ArrowUp",(function(t){return e.dropdown.onKeyDown(t)}))("keydown.ArrowDown",(function(t){return e.dropdown.onKeyDown(t)}))("keydown.Home",(function(t){return e.dropdown.onKeyDown(t)}))("keydown.End",(function(t){return e.dropdown.onKeyDown(t)}))("keydown.Tab",(function(t){return e.dropdown.onKeyDown(t)}))("keydown.Shift.Tab",(function(t){return e.dropdown.onKeyDown(t)})),2&t&&ya("aria-expanded",e.dropdown.isOpen())},features:[xu([{provide:hA,useExisting:be((function(){return wT}))}]),ra]}),ST),dA=((ET=function(){function t(e,n,r,i,o,s,a){var u=this;tt(this,t),this._changeDetector=e,this._document=r,this._ngZone=i,this._elementRef=o,this._renderer=s,this._closed$=new wt,this._bodyContainer=null,this._open=!1,this.openChange=new yl,this.placement=n.placement,this.container=n.container,this.autoClose=n.autoClose,this.display=a?"static":"dynamic",this._zoneSubscription=i.onStable.subscribe((function(){u._positionMenu()}))}return nt(t,[{key:"ngAfterContentInit",value:function(){var t=this;this._ngZone.onStable.pipe(Fm(1)).subscribe((function(){t._applyPlacementClasses(),t._open&&t._setCloseHandlers()}))}},{key:"ngOnChanges",value:function(t){t.container&&this._open&&this._applyContainer(this.container),t.placement&&!t.placement.isFirstChange&&this._applyPlacementClasses()}},{key:"isOpen",value:function(){return this._open}},{key:"open",value:function(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&this._anchor.nativeElement.focus())}},{key:"_setCloseHandlers",value:function(){var t=this;oT(this._ngZone,this._document,this.autoClose,(function(e){t.close(),0===e&&t._anchor.nativeElement.focus()}),this._closed$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}},{key:"close",value:function(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}},{key:"toggle",value:function(){this.isOpen()?this.close():this.open()}},{key:"ngOnDestroy",value:function(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()}},{key:"onKeyDown",value:function(t){var e=this,n=t.which,r=this._getMenuElements(),i=-1,o=null,s=this._isEventFromToggle(t);if(!s&&r.length&&r.forEach((function(n,r){n.contains(t.target)&&(o=n),n===e._document.activeElement&&(i=r)})),n!==XI.Space&&n!==XI.Enter){if(n!==XI.Tab){if(s||o){if(this.open(),r.length){switch(n){case XI.ArrowDown:i=Math.min(i+1,r.length-1);break;case XI.ArrowUp:if(this._isDropup()&&-1===i){i=r.length-1;break}i=Math.max(i-1,0);break;case XI.Home:i=0;break;case XI.End:i=r.length-1}r[i].focus()}t.preventDefault()}}else if(t.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===t.target)return void("body"!==this.container||t.shiftKey?t.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){var a=this._menu.nativeElement.querySelectorAll(sT);t.shiftKey&&t.target===a[0]?(this._anchor.nativeElement.focus(),t.preventDefault()):t.shiftKey||t.target!==a[a.length-1]||(this._anchor.nativeElement.focus(),this.close())}else Yk(t.target,"focusout").pipe(Fm(1)).subscribe((function(t){var n=t.relatedTarget;e._elementRef.nativeElement.contains(n)||e.close()}))}}else!o||!0!==this.autoClose&&"inside"!==this.autoClose||Yk(o,"click").pipe(Fm(1)).subscribe((function(){return e.close()}))}},{key:"_isDropup",value:function(){return this._elementRef.nativeElement.classList.contains("dropup")}},{key:"_isEventFromToggle",value:function(t){return this._anchor.nativeElement.contains(t.target)}},{key:"_getMenuElements",value:function(){var t=this._menu;return null==t?[]:t.menuItems.filter((function(t){return!t.disabled})).map((function(t){return t.elementRef.nativeElement}))}},{key:"_positionMenu",value:function(){var t=this._menu;this.isOpen()&&t&&this._applyPlacementClasses("dynamic"===this.display?hT(this._anchor.nativeElement,this._bodyContainer||this._menu.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))}},{key:"_getFirstPlacement",value:function(t){return Array.isArray(t)?t[0]:t.split(" ")[0]}},{key:"_resetContainer",value:function(){var t=this._renderer;if(this._menu){var e=this._menu.nativeElement;t.appendChild(this._elementRef.nativeElement,e),t.removeStyle(e,"position"),t.removeStyle(e,"transform")}this._bodyContainer&&(t.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}},{key:"_applyContainer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this._resetContainer(),"body"===t){var e=this._renderer,n=this._menu.nativeElement,r=this._bodyContainer=this._bodyContainer||e.createElement("div");e.setStyle(r,"position","absolute"),e.setStyle(n,"position","static"),e.setStyle(r,"z-index","1050"),e.appendChild(r,n),e.appendChild(this._document.body,r)}}},{key:"_applyPlacementClasses",value:function(t){var e=this._menu;if(e){t||(t=this._getFirstPlacement(this.placement));var n=this._renderer,r=this._elementRef.nativeElement;n.removeClass(r,"dropup"),n.removeClass(r,"dropdown"),e.placement="static"===this.display?null:t;var i=-1!==t.search("^top")?"dropup":"dropdown";n.addClass(r,i);var o=this._bodyContainer;o&&(n.removeClass(o,"dropup"),n.removeClass(o,"dropdown"),n.addClass(o,i))}}}]),t}()).\u0275fac=function(t){return new(t||ET)(ka(Ms),ka(aA),ka(Wh),ka(uh),ka(Mu),ka(ju),ka(uA,8))},ET.\u0275dir=mn({type:ET,selectors:[["","ngbDropdown",""]],contentQueries:function(t,e,n){var r;1&t&&(Nl(n,lA,!0),Nl(n,hA,!0)),2&t&&(Dl(r=Ml())&&(e._menu=r.first),Dl(r=Ml())&&(e._anchor=r.first))},hostVars:2,hostBindings:function(t,e){2&t&&iu("show",e.isOpen())},inputs:{_open:["open","_open"],placement:"placement",container:"container",autoClose:"autoClose",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[On]}),ET),pA=((CT=function t(){tt(this,t)}).\u0275mod=vn({type:CT}),CT.\u0275inj=ae({factory:function(t){return new(t||CT)}}),CT),vA=((kT=function t(){tt(this,t),this.backdrop=!0,this.keyboard=!0}).\u0275fac=function(t){return new(t||kT)},kT.\u0275prov=se({factory:function(){return new kT},token:kT,providedIn:"root"}),kT),gA=function t(e,n,r){tt(this,t),this.nodes=e,this.viewRef=n,this.componentRef=r},mA=function(){function t(e,n,r,i,o,s){tt(this,t),this._type=e,this._injector=n,this._viewContainerRef=r,this._renderer=i,this._componentFactoryResolver=o,this._applicationRef=s,this._windowRef=null,this._contentRef=null}return nt(t,[{key:"open",value:function(t,e){return this._windowRef||(this._contentRef=this._getContentRef(t,e),this._windowRef=this._viewContainerRef.createComponent(this._componentFactoryResolver.resolveComponentFactory(this._type),this._viewContainerRef.length,this._injector,this._contentRef.nodes)),this._windowRef}},{key:"close",value:function(){var t;this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null,(null===(t=this._contentRef)||void 0===t?void 0:t.viewRef)&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null))}},{key:"_getContentRef",value:function(t,e){if(t){if(t instanceof oc){var n=t.createEmbeddedView(e);return this._applicationRef.attachView(n),new gA([n.rootNodes],n)}return new gA([[this._renderer.createText(""+t)]])}return new gA([])}}]),t}(),yA=function(){},bA=((PT=function(){function t(e){tt(this,t),this._document=e}return nt(t,[{key:"compensate",value:function(){var t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):yA}},{key:"_adjustBody",value:function(t){var e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=r+t+"px",function(){return e.style["padding-right"]=n}}},{key:"_isPresent",value:function(t){var e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}},{key:"_getWidth",value:function(){var t=this._document.createElement("div");t.className="modal-scrollbar-measure";var e=this._document.body;e.appendChild(t);var n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}]),t}()).\u0275fac=function(t){return new(t||PT)(He(Wh))},PT.\u0275prov=se({factory:function(){return new PT(He(Wh))},token:PT,providedIn:"root"}),PT),_A=((OT=function t(){tt(this,t)}).\u0275fac=function(t){return new(t||OT)},OT.\u0275cmp=hn({type:OT,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:2,hostBindings:function(t,e){2&t&&au("modal-backdrop fade show"+(e.backdropClass?" "+e.backdropClass:""))},inputs:{backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),OT),wA=function(){function t(){tt(this,t)}return nt(t,[{key:"close",value:function(t){}},{key:"dismiss",value:function(t){}}]),t}(),kA=function(){function t(e,n,r,i){var o=this;tt(this,t),this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=r,this._beforeDismiss=i,e.instance.dismissEvent.subscribe((function(t){o.dismiss(t)})),this.result=new Promise((function(t,e){o._resolve=t,o._reject=e})),this.result.then(null,(function(){}))}return nt(t,[{key:"close",value:function(t){this._windowCmptRef&&(this._resolve(t),this._removeModalElements())}},{key:"_dismiss",value:function(t){this._reject(t),this._removeModalElements()}},{key:"dismiss",value:function(t){var e=this;if(this._windowCmptRef)if(this._beforeDismiss){var n=this._beforeDismiss();n&&n.then?n.then((function(n){!1!==n&&e._dismiss(t)}),(function(){})):!1!==n&&this._dismiss(t)}else this._dismiss(t)}},{key:"_removeModalElements",value:function(){var t=this._windowCmptRef.location.nativeElement;if(t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._backdropCmptRef){var e=this._backdropCmptRef.location.nativeElement;e.parentNode.removeChild(e),this._backdropCmptRef.destroy()}this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._backdropCmptRef=null,this._contentRef=null}},{key:"componentInstance",get:function(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}}]),t}(),CA=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({}),EA=((MT=function(){function t(e,n,r){tt(this,t),this._document=e,this._elRef=n,this._zone=r,this._closed$=new wt,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new yl}return nt(t,[{key:"dismiss",value:function(t){this.dismissEvent.emit(t)}},{key:"ngOnInit",value:function(){this._elWithFocus=this._document.activeElement}},{key:"ngAfterViewInit",value:function(){var t=this,e=this._elRef.nativeElement;if(this._zone.runOutsideAngular((function(){Yk(e,"keydown").pipe(nC(t._closed$),ym((function(e){return e.which===XI.Escape&&t.keyboard}))).subscribe((function(e){return requestAnimationFrame((function(){e.defaultPrevented||t._zone.run((function(){return t.dismiss(CA.ESC)}))}))}));var n=!1;Yk(t._dialogEl.nativeElement,"mousedown").pipe(nC(t._closed$),Qm((function(){return n=!1})),xm((function(){return Yk(e,"mouseup").pipe(nC(t._closed$),Fm(1))})),ym((function(t){var n=t.target;return e===n}))).subscribe((function(){n=!0})),Yk(e,"click").pipe(nC(t._closed$)).subscribe((function(r){var i=r.target;!0!==t.backdrop||e!==i||n||t._zone.run((function(){return t.dismiss(CA.BACKDROP_CLICK)})),n=!1}))})),!e.contains(document.activeElement)){var n=e.querySelector("[ngbAutofocus]"),r=aT(e)[0];(n||r||e).focus()}}},{key:"ngOnDestroy",value:function(){var t,e=this,n=this._document.body,r=this._elWithFocus;t=r&&r.focus&&n.contains(r)?r:n,this._zone.runOutsideAngular((function(){setTimeout((function(){return t.focus()})),e._elWithFocus=null})),this._closed$.next()}}]),t}()).\u0275fac=function(t){return new(t||MT)(ka(Wh),ka(Mu),ka(uh))},MT.\u0275cmp=hn({type:MT,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){var n;1&t&&Ol(nE,!0),2&t&&Dl(n=Ml())&&(e._dialogEl=n.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:5,hostBindings:function(t,e){2&t&&(ya("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),au("modal fade show d-block"+(e.windowClass?" "+e.windowClass:"")))},inputs:{backdrop:"backdrop",keyboard:"keyboard",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:wC,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(Va(),Ia(0,"div",0,1),Ia(2,"div",2),qa(3),Ta(),Ta()),2&t&&au("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}"],encapsulation:2}),MT),SA=((FT=function(){function t(e,n,r,i,o,s){var a=this;tt(this,t),this._applicationRef=e,this._injector=n,this._document=r,this._scrollBar=i,this._rendererFactory=o,this._ngZone=s,this._activeWindowCmptHasChanged=new wt,this._ariaHiddenValues=new Map,this._backdropAttributes=["backdropClass"],this._modalRefs=[],this._windowAttributes=["ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new yl,this._activeWindowCmptHasChanged.subscribe((function(){if(a._windowCmpts.length){var t=a._windowCmpts[a._windowCmpts.length-1];uT(a._ngZone,t.location.nativeElement,a._activeWindowCmptHasChanged),a._revertAriaHidden(),a._setAriaHidden(t.location.nativeElement)}}))}return nt(t,[{key:"open",value:function(t,e,n,r){var i=this,o=r.container instanceof HTMLElement?r.container:yS(r.container)?this._document.querySelector(r.container):this._document.body,s=this._rendererFactory.createRenderer(null,null),a=this._scrollBar.compensate(),u=function(){i._modalRefs.length||(s.removeClass(i._document.body,"modal-open"),i._revertAriaHidden())};if(!o)throw new Error('The specified modal container "'.concat(r.container||"body",'" was not found in the DOM.'));var c=new wA,l=this._getContentRef(t,r.injector||e,n,c,r),h=!1!==r.backdrop?this._attachBackdrop(t,o):void 0,f=this._attachWindowComponent(t,o,l),d=new kA(f,l,h,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(f),d.result.then(a,a),d.result.then(u,u),c.close=function(t){d.close(t)},c.dismiss=function(t){d.dismiss(t)},this._applyWindowOptions(f.instance,r),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),h&&h.instance&&this._applyBackdropOptions(h.instance,r),d}},{key:"dismissAll",value:function(t){this._modalRefs.forEach((function(e){return e.dismiss(t)}))}},{key:"hasOpenModals",value:function(){return this._modalRefs.length>0}},{key:"_attachBackdrop",value:function(t,e){var n=t.resolveComponentFactory(_A).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}},{key:"_attachWindowComponent",value:function(t,e,n){var r=t.resolveComponentFactory(EA).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}},{key:"_applyWindowOptions",value:function(t,e){this._windowAttributes.forEach((function(n){yS(e[n])&&(t[n]=e[n])}))}},{key:"_applyBackdropOptions",value:function(t,e){this._backdropAttributes.forEach((function(n){yS(e[n])&&(t[n]=e[n])}))}},{key:"_getContentRef",value:function(t,e,n,r,i){return n?n instanceof oc?this._createFromTemplateRef(n,r):vS(n)?this._createFromString(n):this._createFromComponent(t,e,n,r,i):new gA([])}},{key:"_createFromTemplateRef",value:function(t,e){var n=t.createEmbeddedView({$implicit:e,close:function(t){e.close(t)},dismiss:function(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new gA([n.rootNodes],n)}},{key:"_createFromString",value:function(t){var e=this._document.createTextNode(""+t);return new gA([[e]])}},{key:"_createFromComponent",value:function(t,e,n,r,i){var o=t.resolveComponentFactory(n),s=Zs.create({providers:[{provide:wA,useValue:r}],parent:e}),a=o.create(s),u=a.location.nativeElement;return i.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(a.hostView),new gA([[u]],a.hostView,a)}},{key:"_setAriaHidden",value:function(t){var e=this,n=t.parentElement;n&&t!==this._document.body&&(Array.from(n.children).forEach((function(n){n!==t&&"SCRIPT"!==n.nodeName&&(e._ariaHiddenValues.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))})),this._setAriaHidden(n))}},{key:"_revertAriaHidden",value:function(){this._ariaHiddenValues.forEach((function(t,e){t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")})),this._ariaHiddenValues.clear()}},{key:"_registerModalRef",value:function(t){var e=this,n=function(){var n=e._modalRefs.indexOf(t);n>-1&&(e._modalRefs.splice(n,1),e._activeInstances.emit(e._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(n,n)}},{key:"_registerWindowCmpt",value:function(t){var e=this;this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy((function(){var n=e._windowCmpts.indexOf(t);n>-1&&(e._windowCmpts.splice(n,1),e._activeWindowCmptHasChanged.next())}))}},{key:"activeInstances",get:function(){return this._activeInstances}}]),t}()).\u0275fac=function(t){return new(t||FT)(He(Th),He(Zs),He(Wh),He(bA),He(Uu),He(uh))},FT.\u0275prov=se({factory:function(){return new FT(He(Th),He(Me),He(Wh),He(bA),He(Uu),He(uh))},token:FT,providedIn:"root"}),FT),IA=((RT=function(){function t(e,n,r,i){tt(this,t),this._moduleCFR=e,this._injector=n,this._modalStack=r,this._config=i}return nt(t,[{key:"open",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},this._config,e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}},{key:"dismissAll",value:function(t){this._modalStack.dismissAll(t)}},{key:"hasOpenModals",value:function(){return this._modalStack.hasOpenModals()}},{key:"activeInstances",get:function(){return this._modalStack.activeInstances}}]),t}()).\u0275fac=function(t){return new(t||RT)(He(Fu),He(Zs),He(SA),He(vA))},RT.\u0275prov=se({factory:function(){return new RT(He(Fu),He(Me),He(SA),He(vA))},token:RT,providedIn:"root"}),RT),TA=((NT=function t(){tt(this,t)}).\u0275mod=vn({type:NT}),NT.\u0275inj=ae({factory:function(t){return new(t||NT)},providers:[IA]}),NT),AA=((xT=function t(){tt(this,t),this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!1}).\u0275fac=function(t){return new(t||xT)},xT.\u0275prov=se({factory:function(){return new xT},token:xT,providedIn:"root"}),xT),DA=function(t){return yS(t)&&""!==t},OA=0,PA=((JT=function t(e){tt(this,t),this.templateRef=e}).\u0275fac=function(t){return new(t||JT)(ka(oc))},JT.\u0275dir=mn({type:JT,selectors:[["ng-template","ngbNavContent",""]]}),JT),xA=((YT=function(){function t(e,n){tt(this,t),this.elementRef=n,this.disabled=!1,this._nav=e}return nt(t,[{key:"ngAfterContentChecked",value:function(){this.contentTpl=this.contentTpls.first}},{key:"ngOnInit",value:function(){yS(this.domId)||(this.domId="ngb-nav-"+OA++)}},{key:"isPanelInDom",value:function(){return(yS(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}},{key:"active",get:function(){return this._nav.activeId===this.id}},{key:"id",get:function(){return DA(this._id)?this._id:this.domId}},{key:"panelDomId",get:function(){return this.domId+"-panel"}}]),t}()).\u0275fac=function(t){return new(t||YT)(ka(be((function(){return NA}))),ka(Mu))},YT.\u0275dir=mn({type:YT,selectors:[["","ngbNavItem",""]],contentQueries:function(t,e,n){var r;1&t&&Nl(n,PA,!1),2&t&&Dl(r=Ml())&&(e.contentTpls=r)},hostVars:2,hostBindings:function(t,e){2&t&&iu("nav-item",!0)},inputs:{disabled:"disabled",domId:"domId",destroyOnHide:"destroyOnHide",_id:["ngbNavItem","_id"]},exportAs:["ngbNavItem"]}),YT),NA=(($T=function(){function t(e,n,r,i){tt(this,t),this.role=e,this._cd=r,this._document=i,this.activeIdChange=new yl,this.navChange=new yl,this.destroyOnHide=n.destroyOnHide,this.orientation=n.orientation,this.roles=n.roles,this.keyboard=n.keyboard}return nt(t,[{key:"click",value:function(t){t.disabled||this._updateActiveId(t.id)}},{key:"onKeyDown",value:function(t){var e=this;if("tablist"===this.roles&&this.keyboard){var n=t.which,r=this.links.filter((function(t){return!t.navItem.disabled})),i=r.length,o=-1;if(r.forEach((function(t,n){t.elRef.nativeElement===e._document.activeElement&&(o=n)})),i){switch(n){case XI.ArrowLeft:if("vertical"===this.orientation)return;o=(o-1+i)%i;break;case XI.ArrowRight:if("vertical"===this.orientation)return;o=(o+1)%i;break;case XI.ArrowDown:if("horizontal"===this.orientation)return;o=(o+1)%i;break;case XI.ArrowUp:if("horizontal"===this.orientation)return;o=(o-1+i)%i;break;case XI.Home:o=0;break;case XI.End:o=i-1}"changeWithArrows"===this.keyboard&&this.select(r[o].navItem.id),r[o].elRef.nativeElement.focus(),t.preventDefault()}}}},{key:"select",value:function(t){this._updateActiveId(t,!1)}},{key:"ngAfterContentInit",value:function(){if(!yS(this.activeId)){var t=this.items.first?this.items.first.id:null;DA(t)&&(this._updateActiveId(t,!1),this._cd.detectChanges())}}},{key:"_updateActiveId",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.activeId!==t){var n=!1;e&&this.navChange.emit({activeId:this.activeId,nextId:t,preventDefault:function(){n=!0}}),n||(this.activeId=t,this.activeIdChange.emit(t))}}}]),t}()).\u0275fac=function(t){return new(t||$T)(Ca("role"),ka(AA),ka(Ms),ka(Wh))},$T.\u0275dir=mn({type:$T,selectors:[["","ngbNav",""]],contentQueries:function(t,e,n){var r;1&t&&(Nl(n,xA,!1),Nl(n,RA,!0)),2&t&&(Dl(r=Ml())&&(e.items=r),Dl(r=Ml())&&(e.links=r))},hostVars:6,hostBindings:function(t,e){1&t&&Ra("keydown.arrowLeft",(function(t){return e.onKeyDown(t)}))("keydown.arrowRight",(function(t){return e.onKeyDown(t)}))("keydown.arrowDown",(function(t){return e.onKeyDown(t)}))("keydown.arrowUp",(function(t){return e.onKeyDown(t)}))("keydown.Home",(function(t){return e.onKeyDown(t)}))("keydown.End",(function(t){return e.onKeyDown(t)})),2&t&&(ya("aria-orientation","vertical"===e.orientation&&"tablist"===e.roles?"vertical":void 0)("role",e.role?e.role:e.roles?"tablist":void 0),iu("nav",!0)("flex-column","vertical"===e.orientation))},inputs:{destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard",activeId:"activeId"},outputs:{activeIdChange:"activeIdChange",navChange:"navChange"},exportAs:["ngbNav"]}),$T),RA=((QT=function(){function t(e,n,r,i){tt(this,t),this.role=e,this.navItem=n,this.nav=r,this.elRef=i}return nt(t,[{key:"hasNavItemClass",value:function(){return this.navItem.elementRef.nativeElement.nodeType===Node.COMMENT_NODE}}]),t}()).\u0275fac=function(t){return new(t||QT)(Ca("role"),ka(xA),ka(NA),ka(Mu))},QT.\u0275dir=mn({type:QT,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostVars:14,hostBindings:function(t,e){1&t&&Ra("click",(function(t){return e.nav.click(e.navItem),t.preventDefault()})),2&t&&(Eu("id",e.navItem.domId),ya("role",e.role?e.role:e.nav.roles?"tab":void 0)("tabindex",e.navItem.disabled?-1:void 0)("aria-controls",e.navItem.isPanelInDom()?e.navItem.panelDomId:null)("aria-selected",e.navItem.active)("aria-disabled",e.navItem.disabled),iu("nav-link",!0)("nav-item",e.hasNavItemClass())("active",e.navItem.active)("disabled",e.navItem.disabled))}}),QT),FA=((KT=function t(){tt(this,t)}).\u0275fac=function(t){return new(t||KT)},KT.\u0275cmp=hn({type:KT,selectors:[["","ngbNavOutlet",""]],hostVars:2,hostBindings:function(t,e){2&t&&iu("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},attrs:rE,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["class","tab-pane",3,"id","active",4,"ngIf"],[1,"tab-pane",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&_a(0,aE,1,1,"ng-template",0),2&t&&Ea("ngForOf",e.nav.items)},directives:[ld,fd,Dd],encapsulation:2}),KT),MA=((GT=function t(){tt(this,t)}).\u0275mod=vn({type:GT}),GT.\u0275inj=ae({factory:function(t){return new(t||GT)},imports:[[dp]]}),GT),LA=((zT=function t(){tt(this,t),this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}).\u0275fac=function(t){return new(t||zT)},zT.\u0275prov=se({factory:function(){return new zT},token:zT,providedIn:"root"}),zT),UA=((HT=function t(e){tt(this,t),this.templateRef=e}).\u0275fac=function(t){return new(t||HT)(ka(oc))},HT.\u0275dir=mn({type:HT,selectors:[["ng-template","ngbPaginationEllipsis",""]]}),HT),VA=((WT=function t(e){tt(this,t),this.templateRef=e}).\u0275fac=function(t){return new(t||WT)(ka(oc))},WT.\u0275dir=mn({type:WT,selectors:[["ng-template","ngbPaginationFirst",""]]}),WT),jA=((qT=function t(e){tt(this,t),this.templateRef=e}).\u0275fac=function(t){return new(t||qT)(ka(oc))},qT.\u0275dir=mn({type:qT,selectors:[["ng-template","ngbPaginationLast",""]]}),qT),BA=((BT=function t(e){tt(this,t),this.templateRef=e}).\u0275fac=function(t){return new(t||BT)(ka(oc))},BT.\u0275dir=mn({type:BT,selectors:[["ng-template","ngbPaginationNext",""]]}),BT),qA=((jT=function t(e){tt(this,t),this.templateRef=e}).\u0275fac=function(t){return new(t||jT)(ka(oc))},jT.\u0275dir=mn({type:jT,selectors:[["ng-template","ngbPaginationNumber",""]]}),jT),WA=((VT=function t(e){tt(this,t),this.templateRef=e}).\u0275fac=function(t){return new(t||VT)(ka(oc))},VT.\u0275dir=mn({type:VT,selectors:[["ng-template","ngbPaginationPrevious",""]]}),VT),HA=((UT=function(){function t(e){tt(this,t),this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new yl(!0),this.disabled=e.disabled,this.boundaryLinks=e.boundaryLinks,this.directionLinks=e.directionLinks,this.ellipses=e.ellipses,this.maxSize=e.maxSize,this.pageSize=e.pageSize,this.rotate=e.rotate,this.size=e.size}return nt(t,[{key:"hasPrevious",value:function(){return this.page>1}},{key:"hasNext",value:function(){return this.page<this.pageCount}},{key:"nextDisabled",value:function(){return!this.hasNext()||this.disabled}},{key:"previousDisabled",value:function(){return!this.hasPrevious()||this.disabled}},{key:"selectPage",value:function(t){this._updatePages(t)}},{key:"ngOnChanges",value:function(t){this._updatePages(this.page)}},{key:"isEllipsis",value:function(t){return-1===t}},{key:"_applyEllipses",value:function(t,e){this.ellipses&&(t>0&&(t>2?this.pages.unshift(-1):2===t&&this.pages.unshift(2),this.pages.unshift(1)),e<this.pageCount&&(e<this.pageCount-2?this.pages.push(-1):e===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}},{key:"_applyRotation",value:function(){var t=0,e=this.pageCount,n=Math.floor(this.maxSize/2);return this.page<=n?e=this.maxSize:this.pageCount-this.page<n?t=this.pageCount-this.maxSize:(t=this.page-n-1,e=this.page+(this.maxSize%2==0?n-1:n)),[t,e]}},{key:"_applyPagination",value:function(){var t=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[t,t+this.maxSize]}},{key:"_setPageInRange",value:function(t){var e=this.page;this.page=pS(t,this.pageCount,1),this.page!==e&&gS(this.collectionSize)&&this.pageChange.emit(this.page)}},{key:"_updatePages",value:function(t){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),gS(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(var e=1;e<=this.pageCount;e++)this.pages.push(e);if(this._setPageInRange(t),this.maxSize>0&&this.pageCount>this.maxSize){var n,r,i=this.pageCount;r=(n=V(this.rotate?this._applyRotation():this._applyPagination(),2))[0],i=n[1],this.pages=this.pages.slice(r,i),this._applyEllipses(r,i)}}}]),t}()).\u0275fac=function(t){return new(t||UT)(ka(LA))},UT.\u0275cmp=hn({type:UT,selectors:[["ngb-pagination"]],contentQueries:function(t,e,n){var r;1&t&&(Nl(n,UA,!0),Nl(n,VA,!0),Nl(n,jA,!0),Nl(n,BA,!0),Nl(n,qA,!0),Nl(n,WA,!0)),2&t&&(Dl(r=Ml())&&(e.tplEllipsis=r.first),Dl(r=Ml())&&(e.tplFirst=r.first),Dl(r=Ml())&&(e.tplLast=r.first),Dl(r=Ml())&&(e.tplNext=r.first),Dl(r=Ml())&&(e.tplNumber=r.first),Dl(r=Ml())&&(e.tplPrevious=r.first))},hostAttrs:["role","navigation"],inputs:{page:"page",disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",maxSize:"maxSize",pageSize:"pageSize",rotate:"rotate",size:"size",collectionSize:"collectionSize"},outputs:{pageChange:"pageChange"},features:[On],decls:18,vars:7,consts:function(){return[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["class","page-item",3,"disabled",4,"ngIf"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],["aria-hidden","true"],$localize(S()),$localize(E()),$localize(C()),$localize(k()),["class","sr-only",4,"ngIf"],[1,"sr-only"],[1,"page-item"],["href","",1,"page-link",3,"click",6,"aria-label"],["aria-label",$localize(w())],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-label",$localize(_())],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",$localize(b())],["aria-label",$localize(y())]]},template:function(t,e){1&t&&(_a(0,uE,2,0,"ng-template",null,0,jl),_a(2,cE,2,0,"ng-template",null,1,jl),_a(4,lE,2,0,"ng-template",null,2,jl),_a(6,hE,2,0,"ng-template",null,3,jl),_a(8,fE,1,0,"ng-template",null,4,jl),_a(10,pE,2,2,"ng-template",null,5,jl),Ia(12,"ul"),_a(13,mE,4,9,"li",6),_a(14,_E,4,8,"li",6),_a(15,TE,3,7,"li",7),_a(16,DE,4,9,"li",6),_a(17,PE,4,9,"li",6),Ta()),2&t&&(lo(12),au("pagination"+(e.size?" pagination-"+e.size:"")),lo(1),Ea("ngIf",e.boundaryLinks),lo(1),Ea("ngIf",e.directionLinks),lo(1),Ea("ngForOf",e.pages),lo(1),Ea("ngIf",e.directionLinks),lo(1),Ea("ngIf",e.boundaryLinks))},directives:[fd,ld,Dd],encapsulation:2,changeDetection:0}),UT),zA=((LT=function t(){tt(this,t)}).\u0275mod=vn({type:LT}),LT.\u0275inj=ae({factory:function(t){return new(t||LT)},imports:[[dp]]}),LT),GA=function(){function t(e,n){tt(this,t),this.open=e,this.close=n,n||(this.close=e)}return nt(t,[{key:"isManual",value:function(){return"manual"===this.open||"manual"===this.close}}]),t}(),KA={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},QA=function(t){return t>0?cC(t):function(t){return t}};function $A(t,e,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:KA,n=(t||"").trim();if(0===n.length)return[];var r=n.split(/\s+/).map((function(t){return t.split(":")})).map((function(t){var n=e[t[0]]||t;return new GA(n[0],n[1])})),i=r.filter((function(t){return t.isManual()}));if(i.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===i.length&&r.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return r}(n);if(1===u.length&&u[0].isManual())return function(){};var c=function(t,e,n,r){return new vt((function(i){var o=[],s=function(){return i.next(!0)},a=function(){return i.next(!1)},u=function(){return i.next(!r())};return n.forEach((function(n){n.open===n.close?o.push(t.listen(e,n.open,u)):o.push(t.listen(e,n.open,s),t.listen(e,n.close,a))})),function(){o.forEach((function(t){return t()}))}}))}(t,e,u,r).pipe(function(t,e,n){return function(r){var i=null,o=r.pipe(xt((function(t){return{open:t}})),ym((function(t){var e=n();return e===t.open||i&&i.open!==e?(i&&i.open!==t.open&&(i=null),!1):(i=t,!0)})),Yt());return qt(o.pipe(ym((function(t){return t.open})),QA(t)),o.pipe(ym((function(t){return!t.open})),QA(e))).pipe(ym((function(t){return t===i&&(i=null,t.open!==n())})),xt((function(t){return t.open})))}}(s,a,r)).subscribe((function(t){return t?i():o()}));return function(){return c.unsubscribe()}}var YA,JA,XA,ZA,tD,eD,nD,rD,iD,oD,sD,aD,uD,cD,lD,hD,fD,dD=((rD=function t(){tt(this,t),this.autoClose=!0,this.placement="auto",this.triggers="click",this.disablePopover=!1,this.openDelay=0,this.closeDelay=0}).\u0275fac=function(t){return new(t||rD)},rD.\u0275prov=se({factory:function(){return new rD},token:rD,providedIn:"root"}),rD),pD=0,vD=((nD=function(){function t(){tt(this,t)}return nt(t,[{key:"isTitleTemplate",value:function(){return this.title instanceof oc}}]),t}()).\u0275fac=function(t){return new(t||nD)},nD.\u0275cmp=hn({type:nD,selectors:[["ngb-popover-window"]],hostAttrs:["role","tooltip"],hostVars:3,hostBindings:function(t,e){2&t&&(Eu("id",e.id),au("popover"+(e.popoverClass?" "+e.popoverClass:"")))},inputs:{title:"title",id:"id",popoverClass:"popoverClass",context:"context"},ngContentSelectors:wC,decls:4,vars:1,consts:[[1,"arrow"],["class","popover-header",4,"ngIf"],[1,"popover-body"],[1,"popover-header"],["simpleTitle",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(Va(),Aa(0,"div",0),_a(1,RE,4,2,"h3",1),Ia(2,"div",2),qa(3),Ta()),2&t&&(lo(1),Ea("ngIf",null!=e.title))},directives:[fd,Dd],styles:["ngb-popover-window.bs-popover-bottom>.arrow,ngb-popover-window.bs-popover-top>.arrow{left:50%;margin-left:-.5rem}ngb-popover-window.bs-popover-bottom-left>.arrow,ngb-popover-window.bs-popover-top-left>.arrow{left:2em}ngb-popover-window.bs-popover-bottom-right>.arrow,ngb-popover-window.bs-popover-top-right>.arrow{left:auto;right:2em}ngb-popover-window.bs-popover-left>.arrow,ngb-popover-window.bs-popover-right>.arrow{top:50%;margin-top:-.5rem}ngb-popover-window.bs-popover-left-top>.arrow,ngb-popover-window.bs-popover-right-top>.arrow{top:.7em}ngb-popover-window.bs-popover-left-bottom>.arrow,ngb-popover-window.bs-popover-right-bottom>.arrow{top:auto;bottom:.7em}"],encapsulation:2,changeDetection:0}),nD),gD=((eD=function(){function t(e,n,r,i,o,s,a,u,c,l){var h=this;tt(this,t),this._elementRef=e,this._renderer=n,this._ngZone=a,this._document=u,this._changeDetector=c,this.shown=new yl,this.hidden=new yl,this._ngbPopoverWindowId="ngb-popover-"+pD++,this._windowRef=null,this.autoClose=s.autoClose,this.placement=s.placement,this.triggers=s.triggers,this.container=s.container,this.disablePopover=s.disablePopover,this.popoverClass=s.popoverClass,this.openDelay=s.openDelay,this.closeDelay=s.closeDelay,this._popupService=new mA(vD,r,o,n,i,l),this._zoneSubscription=a.onStable.subscribe((function(){h._windowRef&&hT(h._elementRef.nativeElement,h._windowRef.location.nativeElement,h.placement,"body"===h.container,"bs-popover")}))}return nt(t,[{key:"_isDisabled",value:function(){return!!this.disablePopover||!this.ngbPopover&&!this.popoverTitle}},{key:"open",value:function(t){var e=this;this._windowRef||this._isDisabled()||(this._windowRef=this._popupService.open(this.ngbPopover,t),this._windowRef.instance.title=this.popoverTitle,this._windowRef.instance.context=t,this._windowRef.instance.popoverClass=this.popoverClass,this._windowRef.instance.id=this._ngbPopoverWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbPopoverWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),oT(this._ngZone,this._document,this.autoClose,(function(){return e.close()}),this.hidden,[this._windowRef.location.nativeElement]),this.shown.emit())}},{key:"close",value:function(){this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(),this._windowRef=null,this.hidden.emit(),this._changeDetector.markForCheck())}},{key:"toggle",value:function(){this._windowRef?this.close():this.open()}},{key:"isOpen",value:function(){return null!=this._windowRef}},{key:"ngOnInit",value:function(){this._unregisterListenersFn=$A(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}},{key:"ngOnChanges",value:function(t){var e=t.ngbPopover,n=t.popoverTitle,r=t.disablePopover,i=t.popoverClass;i&&this.isOpen()&&(this._windowRef.instance.popoverClass=i.currentValue),(e||n||r)&&this._isDisabled()&&this.close()}},{key:"ngOnDestroy",value:function(){this.close(),this._unregisterListenersFn&&this._unregisterListenersFn(),this._zoneSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||eD)(ka(Mu),ka(ju),ka(Zs),ka(Fu),ka(ac),ka(dD),ka(uh),ka(Wh),ka(Ms),ka(Th))},eD.\u0275dir=mn({type:eD,selectors:[["","ngbPopover",""]],inputs:{autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disablePopover:"disablePopover",popoverClass:"popoverClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbPopover:"ngbPopover",popoverTitle:"popoverTitle"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbPopover"],features:[On]}),eD),mD=((tD=function t(){tt(this,t)}).\u0275mod=vn({type:tD}),tD.\u0275inj=ae({factory:function(t){return new(t||tD)},imports:[[dp]]}),tD),yD=((ZA=function t(){tt(this,t),this.max=100,this.animated=!1,this.striped=!1,this.showValue=!1}).\u0275fac=function(t){return new(t||ZA)},ZA.\u0275prov=se({factory:function(){return new ZA},token:ZA,providedIn:"root"}),ZA),bD=((XA=function(){function t(e){tt(this,t),this.value=0,this.max=e.max,this.animated=e.animated,this.striped=e.striped,this.textType=e.textType,this.type=e.type,this.showValue=e.showValue,this.height=e.height}return nt(t,[{key:"getValue",value:function(){return pS(this.value,this.max)}},{key:"getPercentValue",value:function(){return 100*this.getValue()/this.max}},{key:"max",set:function(t){this._max=!gS(t)||t<=0?100:t},get:function(){return this._max}}]),t}()).\u0275fac=function(t){return new(t||XA)(ka(yD))},XA.\u0275cmp=hn({type:XA,selectors:[["ngb-progressbar"]],inputs:{value:"value",max:"max",animated:"animated",striped:"striped",textType:"textType",type:"type",showValue:"showValue",height:"height"},ngContentSelectors:wC,decls:4,vars:13,consts:function(){return[[1,"progress"],["role","progressbar","aria-valuemin","0"],[4,"ngIf"],$localize(m(),"\ufffd0\ufffd")]},template:function(t,e){var n,r,i,o;1&t&&(Va(),Ia(0,"div",0),Ia(1,"div",1),_a(2,FE,3,3,"span",2),qa(3),Ta(),Ta()),2&t&&(ru("height",e.height),lo(1),n=e.type?" bg-"+e.type:"",r=e.textType?" text-"+e.textType:"",i=e.animated?" progress-bar-animated":"",o=e.striped?" progress-bar-striped":"",lu(en,uu,function(t,e,n,r,i,o,s,a,u,c){var l=ma(t,cr(),n,i,s,u);return hr(4),l?"progress-bar"+Br(n)+Br(i)+"\n      "+Br(s)+Br(u):oo}(Zn(),0,n,0,r,0,i,0,o),!0),ru("width",e.getPercentValue(),"%"),ya("aria-valuenow",e.getValue())("aria-valuemax",e.max),lo(1),Ea("ngIf",e.showValue))},directives:[fd],pipes:[op],encapsulation:2,changeDetection:0}),XA),_D=((JA=function t(){tt(this,t)}).\u0275mod=vn({type:JA}),JA.\u0275inj=ae({factory:function(t){return new(t||JA)},imports:[[dp]]}),JA),wD=((YA=function t(){tt(this,t),this.max=10,this.readonly=!1,this.resettable=!1}).\u0275fac=function(t){return new(t||YA)},YA.\u0275prov=se({factory:function(){return new YA},token:YA,providedIn:"root"}),YA),kD={provide:Ep,useExisting:be((function(){return CD})),multi:!0},CD=((hD=function(){function t(e,n){tt(this,t),this._changeDetectorRef=n,this.contexts=[],this.disabled=!1,this.hover=new yl,this.leave=new yl,this.rateChange=new yl(!0),this.onChange=function(t){},this.onTouched=function(){},this.max=e.max,this.readonly=e.readonly}return nt(t,[{key:"ariaValueText",value:function(){return"".concat(this.nextRate," out of ").concat(this.max)}},{key:"enter",value:function(t){this.readonly||this.disabled||this._updateState(t),this.hover.emit(t)}},{key:"handleBlur",value:function(){this.onTouched()}},{key:"handleClick",value:function(t){this.readonly||this.disabled||this.update(this.resettable&&this.rate===t?0:t)}},{key:"handleKeyDown",value:function(t){switch(t.which){case XI.ArrowDown:case XI.ArrowLeft:this.update(this.rate-1);break;case XI.ArrowUp:case XI.ArrowRight:this.update(this.rate+1);break;case XI.Home:this.update(0);break;case XI.End:this.update(this.max);break;default:return}t.preventDefault()}},{key:"ngOnChanges",value:function(t){t.rate&&this.update(this.rate)}},{key:"ngOnInit",value:function(){this.contexts=Array.from({length:this.max},(function(t,e){return{fill:0,index:e}})),this._updateState(this.rate)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"reset",value:function(){this.leave.emit(this.nextRate),this._updateState(this.rate)}},{key:"setDisabledState",value:function(t){this.disabled=t}},{key:"update",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=pS(t,this.max,0);this.readonly||this.disabled||this.rate===n||(this.rate=n,this.rateChange.emit(this.rate)),e&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}},{key:"writeValue",value:function(t){this.update(t,!1),this._changeDetectorRef.markForCheck()}},{key:"_getFillValue",value:function(t){var e=this.nextRate-t;return e>=1?100:e<1&&e>0?parseInt((100*e).toFixed(2),10):0}},{key:"_updateState",value:function(t){var e=this;this.nextRate=t,this.contexts.forEach((function(t,n){return t.fill=e._getFillValue(n)}))}}]),t}()).\u0275fac=function(t){return new(t||hD)(ka(wD),ka(Ms))},hD.\u0275cmp=hn({type:hD,selectors:[["ngb-rating"]],contentQueries:function(t,e,n){var r;1&t&&Nl(n,oc,!0),2&t&&Dl(r=Ml())&&(e.starTemplateFromContent=r.first)},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(t,e){1&t&&Ra("blur",(function(){return e.handleBlur()}))("keydown",(function(t){return e.handleKeyDown(t)}))("mouseleave",(function(){return e.reset()})),2&t&&(Eu("tabindex",e.disabled?-1:0),ya("aria-valuemax",e.max)("aria-valuenow",e.nextRate)("aria-valuetext",e.ariaValueText())("aria-disabled",!!e.readonly||null))},inputs:{max:"max",readonly:"readonly",rate:"rate",resettable:"resettable",starTemplate:"starTemplate"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},features:[xu([kD]),On],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"sr-only"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(_a(0,ME,1,1,"ng-template",null,0,jl),_a(2,UE,4,5,"ng-template",1)),2&t&&(lo(2),Ea("ngForOf",e.contexts))},directives:[ld,Dd],encapsulation:2,changeDetection:0}),hD),ED=((lD=function t(){tt(this,t)}).\u0275mod=vn({type:lD}),lD.\u0275inj=ae({factory:function(t){return new(t||lD)},imports:[[dp]]}),lD),SD=((cD=function t(){tt(this,t),this.justify="start",this.orientation="horizontal",this.type="tabs"}).\u0275fac=function(t){return new(t||cD)},cD.\u0275prov=se({factory:function(){return new cD},token:cD,providedIn:"root"}),cD),ID=0,TD=((uD=function t(e){tt(this,t),this.templateRef=e}).\u0275fac=function(t){return new(t||uD)(ka(oc))},uD.\u0275dir=mn({type:uD,selectors:[["ng-template","ngbTabTitle",""]]}),uD),AD=((aD=function t(e){tt(this,t),this.templateRef=e}).\u0275fac=function(t){return new(t||aD)(ka(oc))},aD.\u0275dir=mn({type:aD,selectors:[["ng-template","ngbTabContent",""]]}),aD),DD=((sD=function(){function t(){tt(this,t),this.id="ngb-tab-"+ID++,this.disabled=!1}return nt(t,[{key:"ngAfterContentChecked",value:function(){this.titleTpl=this.titleTpls.first,this.contentTpl=this.contentTpls.first}}]),t}()).\u0275fac=function(t){return new(t||sD)},sD.\u0275dir=mn({type:sD,selectors:[["ngb-tab"]],contentQueries:function(t,e,n){var r;1&t&&(Nl(n,TD,!1),Nl(n,AD,!1)),2&t&&(Dl(r=Ml())&&(e.titleTpls=r),Dl(r=Ml())&&(e.contentTpls=r))},inputs:{id:"id",disabled:"disabled",title:"title"}}),sD),OD=((oD=function(){function t(e){tt(this,t),this.destroyOnHide=!0,this.tabChange=new yl,this.type=e.type,this.justify=e.justify,this.orientation=e.orientation}return nt(t,[{key:"select",value:function(t){var e=this._getTabById(t);if(e&&!e.disabled&&this.activeId!==e.id){var n=!1;this.tabChange.emit({activeId:this.activeId,nextId:e.id,preventDefault:function(){n=!0}}),n||(this.activeId=e.id)}}},{key:"ngAfterContentChecked",value:function(){var t=this._getTabById(this.activeId);this.activeId=t?t.id:this.tabs.length?this.tabs.first.id:null}},{key:"_getTabById",value:function(t){var e=this.tabs.filter((function(e){return e.id===t}));return e.length?e[0]:null}},{key:"justify",set:function(t){this.justifyClass="fill"===t||"justified"===t?"nav-"+t:"justify-content-"+t}}]),t}()).\u0275fac=function(t){return new(t||oD)(ka(SD))},oD.\u0275cmp=hn({type:oD,selectors:[["ngb-tabset"]],contentQueries:function(t,e,n){var r;1&t&&Nl(n,DD,!1),2&t&&Dl(r=Ml())&&(e.tabs=r)},inputs:{destroyOnHide:"destroyOnHide",type:"type",justify:"justify",orientation:"orientation",activeId:"activeId"},outputs:{tabChange:"tabChange"},exportAs:["ngbTabset"],decls:4,vars:4,consts:[["role","tablist"],["class","nav-item",4,"ngFor","ngForOf"],[1,"tab-content"],["ngFor","",3,"ngForOf"],[1,"nav-item"],["href","","role","tab",1,"nav-link",3,"id","click"],[3,"ngTemplateOutlet"],["role","tabpanel",3,"class","id",4,"ngIf"],["role","tabpanel",3,"id"]],template:function(t,e){1&t&&(Ia(0,"ul",0),_a(1,jE,4,11,"li",1),Ta(),Ia(2,"div",2),_a(3,WE,1,1,"ng-template",3),Ta()),2&t&&(au("nav nav-"+e.type+("horizontal"==e.orientation?" "+e.justifyClass:" flex-column")),lo(1),Ea("ngForOf",e.tabs),lo(2),Ea("ngForOf",e.tabs))},directives:[ld,Dd,fd],encapsulation:2}),oD),PD=((iD=function t(){tt(this,t)}).\u0275mod=vn({type:iD}),iD.\u0275inj=ae({factory:function(t){return new(t||iD)},imports:[[dp]]}),iD),xD=function(){function t(e,n,r){tt(this,t),this.hour=fS(e),this.minute=fS(n),this.second=fS(r)}return nt(t,[{key:"changeHour",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.updateHour((isNaN(this.hour)?0:this.hour)+t)}},{key:"updateHour",value:function(t){this.hour=gS(t)?(t<0?24+t:t)%24:NaN}},{key:"changeMinute",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.updateMinute((isNaN(this.minute)?0:this.minute)+t)}},{key:"updateMinute",value:function(t){gS(t)?(this.minute=t%60<0?60+t%60:t%60,this.changeHour(Math.floor(t/60))):this.minute=NaN}},{key:"changeSecond",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.updateSecond((isNaN(this.second)?0:this.second)+t)}},{key:"updateSecond",value:function(t){gS(t)?(this.second=t<0?60+t%60:t%60,this.changeMinute(Math.floor(t/60))):this.second=NaN}},{key:"isValid",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return gS(this.hour)&&gS(this.minute)&&(!t||gS(this.second))}},{key:"toString",value:function(){return"".concat(this.hour||0,":").concat(this.minute||0,":").concat(this.second||0)}}]),t}(),ND=((fD=function t(){tt(this,t),this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}).\u0275fac=function(t){return new(t||fD)},fD.\u0275prov=se({factory:function(){return new fD},token:fD,providedIn:"root"}),fD);function RD(){return new XD}var FD,MD,LD,UD,VD,jD,BD,qD,WD,HD,zD,GD,KD,QD,$D,YD,JD=((UD=function t(){tt(this,t)}).\u0275fac=function(t){return new(t||UD)},UD.\u0275prov=se({factory:RD,token:UD,providedIn:"root"}),UD),XD=((LD=function(t){K(n,t);var e=$(n);function n(){return tt(this,n),e.apply(this,arguments)}return nt(n,[{key:"fromModel",value:function(t){return t&&mS(t.hour)&&mS(t.minute)?{hour:t.hour,minute:t.minute,second:mS(t.second)?t.second:null}:null}},{key:"toModel",value:function(t){return t&&mS(t.hour)&&mS(t.minute)?{hour:t.hour,minute:t.minute,second:mS(t.second)?t.second:null}:null}}]),n}(JD)).\u0275fac=function(t){return jO(t||LD)},LD.\u0275prov=se({token:LD,factory:function(t){return LD.\u0275fac(t)}}),LD),ZD=((MD=function t(){tt(this,t)}).\u0275fac=function(t){return new(t||MD)},MD.\u0275prov=se({factory:function(){return t=He(Yl),new tO(t);var t},token:MD,providedIn:"root"}),MD),tO=((FD=function(t){K(n,t);var e=$(n);function n(t){var r;return tt(this,n),(r=e.call(this))._periods=_f(t,gf.Standalone,mf.Narrow),r}return nt(n,[{key:"getMorningPeriod",value:function(){return this._periods[0]}},{key:"getAfternoonPeriod",value:function(){return this._periods[1]}}]),n}(ZD)).\u0275fac=function(t){return new(t||FD)(He(Yl))},FD.\u0275prov=se({token:FD,factory:function(t){return FD.\u0275fac(t)}}),FD),eO=/[^0-9]/g,nO={provide:Ep,useExisting:be((function(){return rO})),multi:!0},rO=((YD=function(){function t(e,n,r,i){tt(this,t),this._config=e,this._ngbTimeAdapter=n,this._cd=r,this.i18n=i,this.onChange=function(t){},this.onTouched=function(){},this.meridian=e.meridian,this.spinners=e.spinners,this.seconds=e.seconds,this.hourStep=e.hourStep,this.minuteStep=e.minuteStep,this.secondStep=e.secondStep,this.disabled=e.disabled,this.readonlyInputs=e.readonlyInputs,this.size=e.size}return nt(t,[{key:"writeValue",value:function(t){var e=this._ngbTimeAdapter.fromModel(t);this.model=e?new xD(e.hour,e.minute,e.second):new xD,this.seconds||e&&gS(e.second)||(this.model.second=0),this._cd.markForCheck()}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this.disabled=t}},{key:"changeHour",value:function(t){this.model.changeHour(t),this.propagateModelChange()}},{key:"changeMinute",value:function(t){this.model.changeMinute(t),this.propagateModelChange()}},{key:"changeSecond",value:function(t){this.model.changeSecond(t),this.propagateModelChange()}},{key:"updateHour",value:function(t){var e=this.model.hour>=12,n=fS(t);this.model.updateHour(this.meridian&&(e&&n<12||!e&&12===n)?n+12:n),this.propagateModelChange()}},{key:"updateMinute",value:function(t){this.model.updateMinute(fS(t)),this.propagateModelChange()}},{key:"updateSecond",value:function(t){this.model.updateSecond(fS(t)),this.propagateModelChange()}},{key:"toggleMeridian",value:function(){this.meridian&&this.changeHour(12)}},{key:"formatInput",value:function(t){t.value=t.value.replace(eO,"")}},{key:"formatHour",value:function(t){return gS(t)?bS(this.meridian?t%12==0?12:t%12:t%24):bS(NaN)}},{key:"formatMinSec",value:function(t){return bS(gS(t)?t:NaN)}},{key:"ngOnChanges",value:function(t){t.seconds&&!this.seconds&&this.model&&!gS(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}},{key:"propagateModelChange",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t&&this.onTouched(),this.model.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}},{key:"hourStep",set:function(t){this._hourStep=mS(t)?t:this._config.hourStep},get:function(){return this._hourStep}},{key:"minuteStep",set:function(t){this._minuteStep=mS(t)?t:this._config.minuteStep},get:function(){return this._minuteStep}},{key:"secondStep",set:function(t){this._secondStep=mS(t)?t:this._config.secondStep},get:function(){return this._secondStep}},{key:"isSmallSize",get:function(){return"small"===this.size}},{key:"isLargeSize",get:function(){return"large"===this.size}}]),t}()).\u0275fac=function(t){return new(t||YD)(ka(ND),ka(JD),ka(Ms),ka(ZD))},YD.\u0275cmp=hn({type:YD,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},features:[xu([nO]),On],decls:18,vars:25,consts:function(){return[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric",1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","input","keydown.ArrowUp","keydown.ArrowDown",6,"placeholder","aria-label"],["placeholder",$localize(g()),"aria-label",$localize(v())],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["placeholder",$localize(p()),"aria-label",$localize(d())],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"sr-only"],$localize(f()),[1,"chevron","ngb-tp-chevron","bottom"],$localize(h()),$localize(l()),$localize(c()),[1,"ngb-tp-input-container","ngb-tp-second"],["placeholder",$localize(u()),"aria-label",$localize(a())],$localize(s()),$localize(o()),[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],$localize(i(),"\ufffd0\ufffd"),$localize(r(),"\ufffd0\ufffd")]},template:function(t,e){1&t&&(Ia(0,"fieldset",0),Ia(1,"div",1),Ia(2,"div",2),_a(3,HE,4,7,"button",3),Ia(4,"input",4),il(5,5),Ra("change",(function(t){return e.updateHour(t.target.value)}))("input",(function(t){return e.formatInput(t.target)}))("keydown.ArrowUp",(function(t){return e.changeHour(e.hourStep),t.preventDefault()}))("keydown.ArrowDown",(function(t){return e.changeHour(-e.hourStep),t.preventDefault()})),Ta(),_a(6,zE,4,7,"button",3),Ta(),Ia(7,"div",6),_u(8,":"),Ta(),Ia(9,"div",7),_a(10,GE,4,7,"button",3),Ia(11,"input",4),il(12,8),Ra("change",(function(t){return e.updateMinute(t.target.value)}))("input",(function(t){return e.formatInput(t.target)}))("keydown.ArrowUp",(function(t){return e.changeMinute(e.minuteStep),t.preventDefault()}))("keydown.ArrowDown",(function(t){return e.changeMinute(-e.minuteStep),t.preventDefault()})),Ta(),_a(13,KE,4,7,"button",3),Ta(),_a(14,QE,2,0,"div",9),_a(15,JE,5,9,"div",10),_a(16,XE,1,0,"div",9),_a(17,eS,5,9,"div",11),Ta(),Ta()),2&t&&(iu("disabled",e.disabled),Ea("disabled",e.disabled),lo(3),Ea("ngIf",e.spinners),lo(1),iu("form-control-sm",e.isSmallSize)("form-control-lg",e.isLargeSize),Ea("value",e.formatHour(null==e.model?null:e.model.hour))("readOnly",e.readonlyInputs)("disabled",e.disabled),lo(2),Ea("ngIf",e.spinners),lo(4),Ea("ngIf",e.spinners),lo(1),iu("form-control-sm",e.isSmallSize)("form-control-lg",e.isLargeSize),Ea("value",e.formatMinSec(null==e.model?null:e.model.minute))("readOnly",e.readonlyInputs)("disabled",e.disabled),lo(2),Ea("ngIf",e.spinners),lo(1),Ea("ngIf",e.seconds),lo(1),Ea("ngIf",e.seconds),lo(1),Ea("ngIf",e.meridian),lo(1),Ea("ngIf",e.meridian))},directives:[fd],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron::before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;-webkit-transform:rotate(135deg);transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-meridian,.ngb-tp-minute,.ngb-tp-second{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:distribute;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}'],encapsulation:2}),YD),iO=(($D=function t(){tt(this,t)}).\u0275mod=vn({type:$D}),$D.\u0275inj=ae({factory:function(t){return new(t||$D)},imports:[[dp]]}),$D),oO=((QD=function t(){tt(this,t),this.autohide=!0,this.delay=500,this.ariaLive="polite"}).\u0275fac=function(t){return new(t||QD)},QD.\u0275prov=se({factory:function(){return new QD},token:QD,providedIn:"root"}),QD),sO=((KD=function t(){tt(this,t)}).\u0275fac=function(t){return new(t||KD)},KD.\u0275dir=mn({type:KD,selectors:[["","ngbToastHeader",""]]}),KD),aO=((GD=function(){function t(e,n){tt(this,t),this.ariaLive=e,this.contentHeaderTpl=null,this.hideOutput=new yl,null==this.ariaLive&&(this.ariaLive=n.ariaLive),this.delay=n.delay,this.autohide=n.autohide}return nt(t,[{key:"ngAfterContentInit",value:function(){this._init()}},{key:"ngOnChanges",value:function(t){"autohide"in t&&(this._clearTimeout(),this._init())}},{key:"hide",value:function(){this._clearTimeout(),this.hideOutput.emit()}},{key:"_init",value:function(){var t=this;this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout((function(){return t.hide()}),this.delay))}},{key:"_clearTimeout",value:function(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}]),t}()).\u0275fac=function(t){return new(t||GD)(Ca("aria-live"),ka(oO))},GD.\u0275cmp=hn({type:GD,selectors:[["ngb-toast"]],contentQueries:function(t,e,n){var r;1&t&&Rl(n,sO,!0,oc),2&t&&Dl(r=Ml())&&(e.contentHeaderTpl=r.first)},hostAttrs:["role","alert","aria-atomic","true"],hostVars:5,hostBindings:function(t,e){2&t&&(ya("aria-live",e.ariaLive),iu("toast",!0)("show",!0))},inputs:{delay:"delay",autohide:"autohide",header:"header"},outputs:{hideOutput:"hide"},exportAs:["ngbToast"],features:[On],ngContentSelectors:wC,decls:5,vars:1,consts:function(){return[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"mr-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button",1,"close",3,"click",6,"aria-label"],["aria-label",$localize(n())],["aria-hidden","true"]]},template:function(t,e){1&t&&(Va(),_a(0,nS,2,1,"ng-template",null,0,jl),_a(2,iS,6,1,"ng-template",1),Ia(3,"div",2),qa(4),Ta()),2&t&&(lo(2),Ea("ngIf",e.contentHeaderTpl||e.header))},directives:[fd,Dd],styles:[".ngb-toasts{position:fixed;top:0;right:0;margin:.5em;z-index:1200}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}"],encapsulation:2}),GD),uO=((zD=function t(){tt(this,t)}).\u0275mod=vn({type:zD}),zD.\u0275inj=ae({factory:function(t){return new(t||zD)},imports:[[dp]]}),zD),cO=((HD=function t(){tt(this,t),this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}).\u0275fac=function(t){return new(t||HD)},HD.\u0275prov=se({factory:function(){return new HD},token:HD,providedIn:"root"}),HD),lO=0,hO=((WD=function t(){tt(this,t)}).\u0275fac=function(t){return new(t||WD)},WD.\u0275cmp=hn({type:WD,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:3,hostBindings:function(t,e){2&t&&(Eu("id",e.id),au("tooltip show"+(e.tooltipClass?" "+e.tooltipClass:"")))},inputs:{id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:wC,decls:3,vars:0,consts:[[1,"arrow"],[1,"tooltip-inner"]],template:function(t,e){1&t&&(Va(),Aa(0,"div",0),Ia(1,"div",1),qa(2),Ta())},styles:["ngb-tooltip-window.bs-tooltip-bottom .arrow,ngb-tooltip-window.bs-tooltip-top .arrow{left:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-bottom-left .arrow,ngb-tooltip-window.bs-tooltip-top-left .arrow{left:1em}ngb-tooltip-window.bs-tooltip-bottom-right .arrow,ngb-tooltip-window.bs-tooltip-top-right .arrow{left:auto;right:.8rem}ngb-tooltip-window.bs-tooltip-left .arrow,ngb-tooltip-window.bs-tooltip-right .arrow{top:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-left-top .arrow,ngb-tooltip-window.bs-tooltip-right-top .arrow{top:.4rem}ngb-tooltip-window.bs-tooltip-left-bottom .arrow,ngb-tooltip-window.bs-tooltip-right-bottom .arrow{top:auto;bottom:.4rem}"],encapsulation:2,changeDetection:0}),WD),fO=((qD=function(){function t(e,n,r,i,o,s,a,u,c,l){var h=this;tt(this,t),this._elementRef=e,this._renderer=n,this._ngZone=a,this._document=u,this._changeDetector=c,this.shown=new yl,this.hidden=new yl,this._ngbTooltipWindowId="ngb-tooltip-"+lO++,this._windowRef=null,this.autoClose=s.autoClose,this.placement=s.placement,this.triggers=s.triggers,this.container=s.container,this.disableTooltip=s.disableTooltip,this.tooltipClass=s.tooltipClass,this.openDelay=s.openDelay,this.closeDelay=s.closeDelay,this._popupService=new mA(hO,r,o,n,i,l),this._zoneSubscription=a.onStable.subscribe((function(){h._windowRef&&hT(h._elementRef.nativeElement,h._windowRef.location.nativeElement,h.placement,"body"===h.container,"bs-tooltip")}))}return nt(t,[{key:"open",value:function(t){var e=this;this._windowRef||!this._ngbTooltip||this.disableTooltip||(this._windowRef=this._popupService.open(this._ngbTooltip,t),this._windowRef.instance.tooltipClass=this.tooltipClass,this._windowRef.instance.id=this._ngbTooltipWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),oT(this._ngZone,this._document,this.autoClose,(function(){return e.close()}),this.hidden,[this._windowRef.location.nativeElement]),this.shown.emit())}},{key:"close",value:function(){null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(),this._windowRef=null,this.hidden.emit(),this._changeDetector.markForCheck())}},{key:"toggle",value:function(){this._windowRef?this.close():this.open()}},{key:"isOpen",value:function(){return null!=this._windowRef}},{key:"ngOnInit",value:function(){this._unregisterListenersFn=$A(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}},{key:"ngOnChanges",value:function(t){var e=t.tooltipClass;e&&this.isOpen()&&(this._windowRef.instance.tooltipClass=e.currentValue)}},{key:"ngOnDestroy",value:function(){this.close(),this._unregisterListenersFn&&this._unregisterListenersFn(),this._zoneSubscription.unsubscribe()}},{key:"ngbTooltip",set:function(t){this._ngbTooltip=t,!t&&this._windowRef&&this.close()},get:function(){return this._ngbTooltip}}]),t}()).\u0275fac=function(t){return new(t||qD)(ka(Mu),ka(ju),ka(Zs),ka(Fu),ka(ac),ka(cO),ka(uh),ka(Wh),ka(Ms),ka(Th))},qD.\u0275dir=mn({type:qD,selectors:[["","ngbTooltip",""]],inputs:{autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[On]}),qD),dO=((BD=function t(){tt(this,t)}).\u0275mod=vn({type:BD}),BD.\u0275inj=ae({factory:function(t){return new(t||BD)}}),BD),pO=((jD=function(){function t(){tt(this,t),this.highlightClass="ngb-highlight"}return nt(t,[{key:"ngOnChanges",value:function(t){var e=dS(this.result),n=(Array.isArray(this.term)?this.term:[this.term]).map((function(t){return dS(t).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")})).filter((function(t){return t}));this.parts=n.length?e.split(new RegExp("(".concat(n.join("|"),")"),"gmi")):[e]}}]),t}()).\u0275fac=function(t){return new(t||jD)},jD.\u0275cmp=hn({type:jD,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term"},features:[On],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(t,e){1&t&&_a(0,aS,3,2,"ng-template",0),2&t&&Ea("ngForOf",e.parts)},directives:[ld,fd],styles:[".ngb-highlight{font-weight:700}"],encapsulation:2,changeDetection:0}),jD),vO=((VD=function(){function t(){tt(this,t),this.activeIdx=0,this.focusFirst=!0,this.formatter=dS,this.selectEvent=new yl,this.activeChangeEvent=new yl}return nt(t,[{key:"hasActive",value:function(){return this.activeIdx>-1&&this.activeIdx<this.results.length}},{key:"getActive",value:function(){return this.results[this.activeIdx]}},{key:"markActive",value:function(t){this.activeIdx=t,this._activeChanged()}},{key:"next",value:function(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()}},{key:"prev",value:function(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()}},{key:"resetActive",value:function(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()}},{key:"select",value:function(t){this.selectEvent.emit(t)}},{key:"ngOnInit",value:function(){this.resetActive()}},{key:"_activeChanged",value:function(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)}}]),t}()).\u0275fac=function(t){return new(t||VD)},VD.\u0275cmp=hn({type:VD,selectors:[["ngb-typeahead-window"]],hostAttrs:["role","listbox",1,"dropdown-menu","show"],hostVars:1,hostBindings:function(t,e){1&t&&Ra("mousedown",(function(t){return t.preventDefault()})),2&t&&Eu("id",e.id)},inputs:{focusFirst:"focusFirst",formatter:"formatter",id:"id",results:"results",term:"term",resultTemplate:"resultTemplate"},outputs:{selectEvent:"select",activeChangeEvent:"activeChange"},exportAs:["ngbTypeaheadWindow"],decls:3,vars:1,consts:[["rt",""],["ngFor","",3,"ngForOf"],[3,"result","term"],["type","button","role","option",1,"dropdown-item",3,"id","mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(_a(0,uS,1,2,"ng-template",null,0,jl),_a(2,hS,2,9,"ng-template",1)),2&t&&(lo(2),Ea("ngForOf",e.results))},directives:[ld,pO,Dd],encapsulation:2}),VD),gO=new Fe("live announcer delay",{providedIn:"root",factory:function(){return 100}});function mO(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.body.querySelector("#ngb-live");return null==n&&e&&((n=t.createElement("div")).setAttribute("id","ngb-live"),n.setAttribute("aria-live","polite"),n.setAttribute("aria-atomic","true"),n.classList.add("sr-only"),t.body.appendChild(n)),n}var yO,bO,_O,wO,kO,CO,EO,SO,IO,TO,AO=((bO=function(){function t(e,n){tt(this,t),this._document=e,this._delay=n}return nt(t,[{key:"ngOnDestroy",value:function(){var t=mO(this._document);t&&t.parentElement.removeChild(t)}},{key:"say",value:function(t){var e=mO(this._document,!0),n=this._delay;if(null!=e){e.textContent="";var r=function(){return e.textContent=t};null===n?r():setTimeout(r,n)}}}]),t}()).\u0275fac=function(t){return new(t||bO)(He(Wh),He(gO))},bO.\u0275prov=se({factory:function(){return new bO(He(Wh),He(gO))},token:bO,providedIn:"root"}),bO),DO=((yO=function t(){tt(this,t),this.editable=!0,this.focusFirst=!0,this.showHint=!1,this.placement=["bottom-left","bottom-right","top-left","top-right"]}).\u0275fac=function(t){return new(t||yO)},yO.\u0275prov=se({factory:function(){return new yO},token:yO,providedIn:"root"}),yO),OO={provide:Ep,useExisting:be((function(){return xO})),multi:!0},PO=0,xO=((wO=function(){function t(e,n,r,i,o,s,a,u,c,l,h,f){var d=this;tt(this,t),this._elementRef=e,this._renderer=r,this._live=u,this._document=c,this._ngZone=l,this._changeDetector=h,this._subscription=null,this._closed$=new wt,this._inputValueBackup=null,this._windowRef=null,this.autocomplete="off",this.placement="bottom-left",this.selectItem=new yl,this.activeDescendant=null,this.popupId="ngb-typeahead-"+PO++,this._onTouched=function(){},this._onChange=function(t){},this.container=s.container,this.editable=s.editable,this.focusFirst=s.focusFirst,this.showHint=s.showHint,this.placement=s.placement,this._valueChanges=Yk(e.nativeElement,"input").pipe(xt((function(t){return t.target.value}))),this._resubscribeTypeahead=new um(null),this._popupService=new mA(vO,i,n,r,o,f),this._zoneSubscription=a.onStable.subscribe((function(){d.isPopupOpen()&&hT(d._elementRef.nativeElement,d._windowRef.location.nativeElement,d.placement,"body"===d.container)}))}return nt(t,[{key:"ngOnInit",value:function(){var t=this,e=this._valueChanges.pipe(Qm((function(e){t._inputValueBackup=t.showHint?e:null,t._onChange(t.editable?e:void 0)}))).pipe(this.ngbTypeahead),n=this._resubscribeTypeahead.pipe(xm((function(){return e})));this._subscription=this._subscribeToUserInput(n)}},{key:"ngOnDestroy",value:function(){this._closePopup(),this._unsubscribeFromUserInput(),this._zoneSubscription.unsubscribe()}},{key:"registerOnChange",value:function(t){this._onChange=t}},{key:"registerOnTouched",value:function(t){this._onTouched=t}},{key:"writeValue",value:function(t){this._writeInputValue(this._formatItemForInput(t)),this.showHint&&(this._inputValueBackup=t)}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"dismissPopup",value:function(){this.isPopupOpen()&&(this._resubscribeTypeahead.next(null),this._closePopup(),this.showHint&&null!==this._inputValueBackup&&this._writeInputValue(this._inputValueBackup),this._changeDetector.markForCheck())}},{key:"isPopupOpen",value:function(){return null!=this._windowRef}},{key:"handleBlur",value:function(){this._resubscribeTypeahead.next(null),this._onTouched()}},{key:"handleKeyDown",value:function(t){if(this.isPopupOpen())switch(t.which){case XI.ArrowDown:t.preventDefault(),this._windowRef.instance.next(),this._showHint();break;case XI.ArrowUp:t.preventDefault(),this._windowRef.instance.prev(),this._showHint();break;case XI.Enter:case XI.Tab:var e=this._windowRef.instance.getActive();yS(e)&&(t.preventDefault(),t.stopPropagation(),this._selectResult(e)),this._closePopup()}}},{key:"_openPopup",value:function(){var t=this;this.isPopupOpen()||(this._inputValueBackup=this._elementRef.nativeElement.value,this._windowRef=this._popupService.open(),this._windowRef.instance.id=this.popupId,this._windowRef.instance.selectEvent.subscribe((function(e){return t._selectResultClosePopup(e)})),this._windowRef.instance.activeChangeEvent.subscribe((function(e){return t.activeDescendant=e})),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._changeDetector.markForCheck(),oT(this._ngZone,this._document,"outside",(function(){return t.dismissPopup()}),this._closed$,[this._elementRef.nativeElement,this._windowRef.location.nativeElement]))}},{key:"_closePopup",value:function(){this._closed$.next(),this._popupService.close(),this._windowRef=null,this.activeDescendant=null}},{key:"_selectResult",value:function(t){var e=!1;this.selectItem.emit({item:t,preventDefault:function(){e=!0}}),this._resubscribeTypeahead.next(null),e||(this.writeValue(t),this._onChange(t))}},{key:"_selectResultClosePopup",value:function(t){this._selectResult(t),this._closePopup()}},{key:"_showHint",value:function(){var t;if(this.showHint&&(null===(t=this._windowRef)||void 0===t?void 0:t.instance.hasActive())&&null!=this._inputValueBackup){var e=this._inputValueBackup.toLowerCase(),n=this._formatItemForInput(this._windowRef.instance.getActive());e===n.substr(0,this._inputValueBackup.length).toLowerCase()?(this._writeInputValue(this._inputValueBackup+n.substr(this._inputValueBackup.length)),this._elementRef.nativeElement.setSelectionRange.apply(this._elementRef.nativeElement,[this._inputValueBackup.length,n.length])):this._writeInputValue(n)}}},{key:"_formatItemForInput",value:function(t){return null!=t&&this.inputFormatter?this.inputFormatter(t):dS(t)}},{key:"_writeInputValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",dS(t))}},{key:"_subscribeToUserInput",value:function(t){var e=this;return t.subscribe((function(t){t&&0!==t.length?(e._openPopup(),e._windowRef.instance.focusFirst=e.focusFirst,e._windowRef.instance.results=t,e._windowRef.instance.term=e._elementRef.nativeElement.value,e.resultFormatter&&(e._windowRef.instance.formatter=e.resultFormatter),e.resultTemplate&&(e._windowRef.instance.resultTemplate=e.resultTemplate),e._windowRef.instance.resetActive(),e._windowRef.changeDetectorRef.detectChanges(),e._showHint()):e._closePopup();var n=t?t.length:0;e._live.say(0===n?"No results available":"".concat(n," result").concat(1===n?"":"s"," available"))}))}},{key:"_unsubscribeFromUserInput",value:function(){this._subscription&&this._subscription.unsubscribe(),this._subscription=null}}]),t}()).\u0275fac=function(t){return new(t||wO)(ka(Mu),ka(ac),ka(ju),ka(Zs),ka(Fu),ka(DO),ka(uh),ka(AO),ka(Wh),ka(uh),ka(Ms),ka(Th))},wO.\u0275dir=mn({type:wO,selectors:[["input","ngbTypeahead",""]],hostAttrs:["autocapitalize","off","autocorrect","off","role","combobox","aria-multiline","false"],hostVars:7,hostBindings:function(t,e){1&t&&Ra("blur",(function(){return e.handleBlur()}))("keydown",(function(t){return e.handleKeyDown(t)})),2&t&&(Eu("autocomplete",e.autocomplete),ya("aria-autocomplete",e.showHint?"both":"list")("aria-activedescendant",e.activeDescendant)("aria-owns",e.isPopupOpen()?e.popupId:null)("aria-expanded",e.isPopupOpen()),iu("open",e.isPopupOpen()))},inputs:{autocomplete:"autocomplete",placement:"placement",container:"container",editable:"editable",focusFirst:"focusFirst",showHint:"showHint",inputFormatter:"inputFormatter",ngbTypeahead:"ngbTypeahead",resultFormatter:"resultFormatter",resultTemplate:"resultTemplate"},outputs:{selectItem:"selectItem"},exportAs:["ngbTypeahead"],features:[xu([OO])]}),wO),NO=((_O=function t(){tt(this,t)}).\u0275mod=vn({type:_O}),_O.\u0275inj=ae({factory:function(t){return new(t||_O)},imports:[[dp]]}),_O),RO=[JS,tI,uI,vI,mI,sA,pA,TA,MA,zA,mD,_D,ED,iO,uO,dO,NO,PD],FO=((kO=function t(){tt(this,t)}).\u0275mod=vn({type:kO}),kO.\u0275inj=ae({factory:function(t){return new(t||kO)},imports:[RO,JS,tI,uI,vI,mI,sA,pA,TA,MA,zA,mD,_D,ED,iO,uO,dO,NO,PD]}),kO),MO=ui(SI),LO=ui(QI),UO=ui(ZT),VO=ui(tA),jO=ui(XD),BO=((CO=function(){function t(){tt(this,t),this.imageIsUploading=!1,this.imageUploaded=!1,this.imageSubject=new wt}return nt(t,[{key:"emitImage",value:function(){this.imageSubject.next(this.imagePreviewUrl)}},{key:"uploadFile",value:function(t,e){return this.imageIsUploading=!0,new Promise((function(n,r){var i=Date.now().toString(),o=e.child(i+t.name).put(t);o.on(nm.storage.TaskEvent.STATE_CHANGED,(function(t){switch(console.log("Upload is "+t.bytesTransferred/t.totalBytes*100+"% done"),t.state){case nm.storage.TaskState.PAUSED:console.log("Upload is paused");break;case nm.storage.TaskState.RUNNING:console.log("Upload is running")}}),(function(t){console.log("Erreur de chargement : ",t),r()}),(function(){console.log("Chargement termin\xe9"),o.snapshot.ref.getDownloadURL().then((function(t){console.log("ImageLink :",t),n(t)}))}))}))}},{key:"getImagePreview",value:function(t){var e=this;if(t){var n=new FileReader;this.imageToUpload=t,n.readAsDataURL(t),n.onload=function(){e.imagePreviewUrl=n.result.toString(),e.emitImage()}}}},{key:"deleteImageFromDB",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||CO)},CO.\u0275prov=se({token:CO,factory:CO.\u0275fac,providedIn:"root"}),CO),qO=q("mrSG"),WO=function(){function t(e,n,r){tt(this,t),this._id=e,this._name=n,this._subCategories=r}return nt(t,[{key:"subCategories",get:function(){return this._subCategories},set:function(t){this._subCategories=t}},{key:"id",get:function(){return this._id},set:function(t){this._id=t}},{key:"name",get:function(){return this._name},set:function(t){this._name=t}}],[{key:"categoryFromJson",value:function(e){if(null==e)return null;var n=Object.keys(e)[0],r=e[n];return new t(n,r.name,this.categoriesFromJson(r.sub_categories))}},{key:"categoriesFromJson",value:function(e){return null==e?null:Object.keys(e).map((function(n){var r=t.categoryFromJson(e[n]);return r.id=n,r}))}}]),t}(),HO=function(){function t(e,n,r,i,o,s,a,u,c,l,h,f,d,p,v,g,m){tt(this,t),this._id=e,this._type=n,this._title=r,this._category=i,this._tags=o,this._catchPhrase=s,this._description=a,this._price=u,this._iAuthors=c,this._creationDate=l,this._published=h,this._searchContent=f,this._data=d,this._consultationLink=p,this._imageLink=v,this._videoLink=g,this._srcLink=m}return nt(t,[{key:"setMainiAuthor",value:function(t){this.iAuthors&&(this.iAuthors[0]=t)}},{key:"getMainiAuthor",value:function(){if(this.iAuthors)return this.iAuthors[0]}},{key:"getMainiAuthorName",value:function(){if(this.iAuthors)return this.iAuthors[0].firstname+" "+this.iAuthors[0].lastname}},{key:"consultationLink",get:function(){return this._consultationLink},set:function(t){this._consultationLink=t}},{key:"tags",get:function(){return this._tags},set:function(t){this._tags=t}},{key:"data",get:function(){return this._data},set:function(t){this._data=t}},{key:"srcLink",get:function(){return this._srcLink},set:function(t){this._srcLink=t}},{key:"type",get:function(){return this._type},set:function(t){this._type=t}},{key:"searchContent",get:function(){return this._searchContent},set:function(t){this._searchContent=t}},{key:"catchPhrase",get:function(){return this._catchPhrase},set:function(t){this._catchPhrase=t}},{key:"published",get:function(){return this._published},set:function(t){this._published=t}},{key:"iAuthors",get:function(){return this._iAuthors},set:function(t){this._iAuthors=t}},{key:"creationDate",get:function(){return this._creationDate},set:function(t){this._creationDate=t}},{key:"category",get:function(){return this._category},set:function(t){this._category=t}},{key:"title",get:function(){return this._title},set:function(t){this._title=t}},{key:"id",get:function(){return this._id},set:function(t){this._id=t}},{key:"description",get:function(){return this._description},set:function(t){this._description=t}},{key:"price",get:function(){return this._price},set:function(t){this._price=t}},{key:"imageLink",get:function(){return this._imageLink},set:function(t){this._imageLink=t}},{key:"videoLink",get:function(){return this._videoLink},set:function(t){this._videoLink=t}}],[{key:"getILocationFromJson",value:function(t){return null==t?null:(console.log(t),{location:t.location,address:t.address,zip:t.zip,city:t.city,country:t.country})}},{key:"getIDatesFromJson",value:function(t){return null==t?null:(console.log(t),{startDate:t.startDate,endDate:t.endDate})}}]),t}(),zO=function(t){K(n,t);var e=$(n);function n(t,r,i,o,s,a,u,c,l,h,f,d,p,v,g,m,y,b){var _;return tt(this,n),(_=e.call(this,t,r,i,o,s,a,u,c,f,d,p,v,g,m,y,b))._location=l,_._dates=h,_}return nt(n,[{key:"dates",get:function(){return this._dates},set:function(t){this._dates=t}},{key:"location",get:function(){return this._location},set:function(t){this._location=t}}],[{key:"getIEventsItemFromJson",value:function(t){if(null==t)return null;console.log(t);var e=[];return Object.keys(t).map((function(n){var r=t[n];if("event"===r.type){var i={consultationLink:r.consultationLink||null,data:r.data||null,type:r.type||null,id:n||null,title:r.title||null,category:WO.categoryFromJson(r.category)||null,tags:im.tagsFromJson(t.tags)||null,catchPhrase:r.catchPhrase||null,price:r.price||null,imageLink:r.imageLink||null,iAuthors:null,published:r.published||null,location:HO.getILocationFromJson(r.location)||null,dates:HO.getIDatesFromJson(r.dates)||null,nbRatings:null,globalNote:null};return e.push(i),i}})),e.length<=0?null:e}},{key:"eventFromJson",value:function(t){return null==t?null:new n(t[0]||null,t.type||null,t.title||null,null,im.tagsFromJson(t.tags)||null,t.catchPhrase||null,t.description||null,t.price||null,this.getILocationFromJson(t.location)||null,this.getIDatesFromJson(t.dates)||null,null,t.creationDate||null,t.published||null,t.searchContent||null,t.data||null,t.consultationLink||null,t.imageLink||null,t.videoLink||null)}},{key:"eventsFromJson",value:function(t){return null==t?[]:Object.keys(t).map((function(e){var r=n.eventFromJson(t[e]);return r.id=e,r}))}},{key:"iEventFromJson",value:function(t){return null==t?null:(console.log(t),{consultationLink:t.consultationLink||null,data:t.data||null,type:t.type||null,id:t[0]||null,title:t.title||null,category:null,tags:im.tagsFromJson(t.tags)||null,price:t.price||null,imageLink:t.imageLink||null,catchPhrase:t.catchPhrase||null,iAuthors:[],published:t.published||null,location:this.getILocationFromJson(t.location)||null,dates:this.getIDatesFromJson(t.dates)||null,nbRatings:null,globalNote:null})}}]),n}(HO),GO=function(){function t(e,n){tt(this,t),this._id=e,this._title=n}return nt(t,[{key:"title",get:function(){return this._title},set:function(t){this._title=t}},{key:"id",get:function(){return this._id},set:function(t){this._id=t}}],[{key:"chaptersFromJson",value:function(e){return null==e?null:(console.log("chaptersFromJson",e),Object.keys(e).map((function(n){return t.chapterFromJson(e[n])})))}},{key:"chapterFromJson",value:function(e){return null===e&&void 0===e?null:(console.log("chapterFromJson",e),new t(e[0],e.title))}}]),t}(),KO=function(){function t(e,n,r,i){tt(this,t),this._id=e,this._title=n,this._description=r,this._chapters=i}return nt(t,[{key:"id",get:function(){return this._id},set:function(t){this._id=t}},{key:"chapters",get:function(){return this._chapters},set:function(t){this._chapters=t}},{key:"description",get:function(){return this._description},set:function(t){this._description=t}},{key:"title",get:function(){return this._title},set:function(t){this._title=t}}],[{key:"modulesFromJson",value:function(e){return null==e?null:(console.warn("modulesFromJson",e),Object.keys(e).map((function(n){var r=t.moduleFromJson(e[n]);return r.id=n,r})))}},{key:"moduleFromJson",value:function(e){return console.warn("moduleFromJson",e),null===e&&void 0===e?null:new t(e[0],e.title,e.description,GO.chaptersFromJson(e[rm.CHAPTERS.substr(1)]))}}]),t}(),QO=function(){function t(e,n,r,i,o,s,a){tt(this,t),this._id=e,this._title=n,this._note=r,this._comment=i,this._publicationDate=o,this._user=s,this._course=a}return nt(t,[{key:"title",get:function(){return this._title},set:function(t){this._title=t}},{key:"course",get:function(){return this._course},set:function(t){this._course=t}},{key:"user",get:function(){return this._user},set:function(t){this._user=t}},{key:"publicationDate",get:function(){return this._publicationDate},set:function(t){this._publicationDate=t}},{key:"note",get:function(){return this._note},set:function(t){this._note=t}},{key:"comment",get:function(){return this._comment},set:function(t){this._comment=t}},{key:"id",get:function(){return this._id},set:function(t){this._id=t}}],[{key:"getGlobalNote",value:function(t){if(t){var e,n={one:0,two:0,three:0,four:0,five:0},r=B(t);try{for(r.s();!(e=r.n()).done;){switch(e.value.note){case 1:n.one++;break;case 2:n.two++;break;case 3:n.three++;break;case 4:n.four++;break;case 5:n.five++}}}catch(s){r.e(s)}finally{r.f()}var i=null,o=1*n.one+2*n.two+3*n.three+4*n.four+5*n.five;return 0===o?i=0:(i=o/(n.one+n.two+n.three+n.four+n.five),i=Math.round(10*i)/10),i}}},{key:"ratingFromJson",value:function(e){return null===e&&void 0===e?null:new t(e[0]||null,e.title||null,e.note||null,e.comment||null,e.publicationDate||null,null,null)}},{key:"ratingsFromJson",value:function(e){return null==e?null:(console.log(e),Object.keys(e).map((function(n){var r=t.ratingFromJson(e[n]);return r.id=n,r})))}}]),t}(),$O=function(t){K(n,t);var e=$(n);function n(t,r,i,o,s,a,u,c,l,h,f,d,p,v,g,m,y,b,_,w,k,C,E){var S;return tt(this,n),(S=e.call(this,t,r,i,o,s,a,u,c,l,h,f,p,v,g,_,w,k))._modules=d,S._skillsToAcquire=m,S._ratings=y,S._nbClick=b,S._nbRatings=C,S._globalNote=E,S.calculateGlobalRating(),S}return nt(n,[{key:"getICourse",value:function(){return{type:this.type||null,data:this.data||null,consultationLink:this.consultationLink||null,id:this.id||null,title:this.title||null,price:this.price||null,category:this.category||null,tags:this.tags||null,iAuthors:this.iAuthors||null,imageLink:this.imageLink||null,published:this.published||null,nbRatings:this.nbRatings||null,globalNote:this.globalNote||null,catchPhrase:this.catchPhrase||null,location:null,dates:null}}},{key:"calculateGlobalRating",value:function(){this.ratings?(this.nbRatings=this.ratings.length,this.globalNote=QO.getGlobalNote(this.ratings)):(this.nbRatings=0,this.globalNote=0)}},{key:"modules",get:function(){return this._modules},set:function(t){this._modules=t}},{key:"nbClick",get:function(){return this._nbClick},set:function(t){this._nbClick=t}},{key:"globalNote",get:function(){return this._globalNote},set:function(t){this._globalNote=t}},{key:"nbRatings",get:function(){return this._nbRatings},set:function(t){this._nbRatings=t}},{key:"skillsToAcquire",get:function(){return this._skillsToAcquire},set:function(t){this._skillsToAcquire=t}},{key:"ratings",get:function(){return this._ratings},set:function(t){this._ratings=t}}],[{key:"iCoursesFromJson",value:function(t){if(console.log("-----------",t),null==t)return null;console.log("\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0",t);var e=[];return Object.keys(t).map((function(n){var r=t[n];if("course"===r.type){var i=this.iCourseFromJson(r);return e.push(i),i}})),e.length<=0?null:e}},{key:"iCourseFromJson",value:function(t){return console.log("-----------",t),null==t?null:(console.log("\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0\xb0",t),"course"===t.type?{consultationLink:t.consultationLink||null,data:t.data||null,type:t.type||null,id:t[0]||null,title:t.title||null,catchPhrase:t.catchPhrase||null,category:null,tags:im.tagsFromJson(t.tags)||null,price:t.price||null,imageLink:t.imageLink||null,nbRatings:t.nbRatings||null,globalNote:t.globalNote||null,iAuthors:[],published:t.published||null,location:null,dates:null}:void 0)}},{key:"courseFromJson",value:function(t){return null==t?null:(console.log(t),new n(t[0],t.type||null,t.title||null,null,im.tagsFromJson(t.tags)||null,t.catchPhrase||null,t.description||null,t.price||null,[],t.creationDate||null,t.published||null,KO.modulesFromJson(t[rm.MODULES.substr(1)])||null,t.searchContent||null,t.data||null,t.consultationLink||null,t.skillsToAcquire||null,QO.ratingsFromJson(t.ratings)||null,t.views||null,t.imageLink||null,t.videoLink||null))}},{key:"coursesFromJson",value:function(t){if(console.log(t),null==t)return null;var e=Object.keys(t).map((function(e){var r=t[e];console.log(t);var i=n.courseFromJson(r);return i.id=e,i}));return console.log("courses",e),e}}]),n}(HO),YO=function(){function t(e,n,r,i,o,s,a,u,c,l,h,f,d,p,v){tt(this,t),this._id=e,this._firstname=n,this._lastname=r,this._mail=i,this._password=o,this._ppLink=s,this._tel=a,this._title=u,this._bio=c,this._role=l,this._accessLevel=h,this._data=f,this._courses=d,this._events=p,this._itemsId=v}return nt(t,[{key:"getIUser",value:function(){return{id:this.id||null,firstname:this.firstname||null,lastname:this.lastname||null,title:this.title||null,ppLink:this.ppLink||null,bio:this.bio||null,data:this.data||null,iCourses:this.courses||null,iEvents:this.events||null,itemId:this.itemsId||null}}},{key:"getName",value:function(){return this.firstname+" "+this.lastname}},{key:"itemsId",get:function(){return this._itemsId},set:function(t){this._itemsId=t}},{key:"role",get:function(){return this._role},set:function(t){this._role=t}},{key:"data",get:function(){return this._data},set:function(t){this._data=t}},{key:"accessLevel",get:function(){return this._accessLevel},set:function(t){this._accessLevel=t}},{key:"ppLink",get:function(){return this._ppLink},set:function(t){this._ppLink=t}},{key:"events",get:function(){return this._events},set:function(t){this._events=t}},{key:"courses",get:function(){return this._courses},set:function(t){this._courses=t}},{key:"id",get:function(){return this._id},set:function(t){this._id=t}},{key:"bio",get:function(){return this._bio},set:function(t){this._bio=t}},{key:"title",get:function(){return this._title},set:function(t){this._title=t}},{key:"tel",get:function(){return this._tel},set:function(t){this._tel=t}},{key:"password",get:function(){return this._password},set:function(t){this._password=t}},{key:"mail",get:function(){return this._mail},set:function(t){this._mail=t}},{key:"lastname",get:function(){return this._lastname},set:function(t){this._lastname=t}},{key:"firstname",get:function(){return this._firstname},set:function(t){this._firstname=t}}],[{key:"usersFromJson",value:function(e){return null==e?null:Object.keys(e).map((function(n){var r=t.userFromJson(e[n]);return r.id=n,r}))}},{key:"userFromJson",value:function(e){return e?(console.warn("userFromJson",e.items),new t(null,e.firstname||null,e.lastname||null,e.mail||null,e.password||null,e.ppLink||null,e.tel||null,e.title||null,e.bio||null,e.role||null,e.accessLevel||null,e.data||null,null,null,e.items?Array.from(Object.keys(e.items)):null)):null}},{key:"iUserFromJson",value:function(t){return t?{id:t[0]||null,firstname:t.firstname||null,lastname:t.lastname||null,title:t.title||null,ppLink:t.ppLink||null,bio:t.bio||null,data:t.data||null,iCourses:t.courses||null,iEvents:t.events||null,itemId:Array.from(Object.keys(t.items))||null}:null}}]),t}(),JO=q("ds6q"),XO=((TO=function(){function t(){tt(this,t),this.users=[],this.usersSubject=new JO.Subject,this.usersDB=nm.database().ref(rm.USERS)}return nt(t,[{key:"emitUsers",value:function(){this.usersSubject.next(this.users)}},{key:"addNewUserToDB",value:function(t){return t.id||(t.id=this.usersDB.push().key),this.usersDB.child(t.id).set({data:t.data,firstname:t.firstname,lastname:t.lastname,mail:t.mail,password:t.password,tel:t.tel,title:t.title,bio:t.bio,ppLink:t.ppLink,accessLevel:t.accessLevel,role:t.role}).then((function(){return!0})).catch((function(t){return console.log(t),!1}))}},{key:"updateUserAccessLevel",value:function(t,e){t&&e&&this.usersDB.child(t).set({accessLevel:e})}},{key:"updateInfoUser",value:function(t){this.usersDB.child(t.id).update({firstname:t.firstname,lastname:t.lastname,ppLink:t.ppLink,title:t.title,mail:t.mail,tel:t.tel,bio:t.bio}).then((function(){nm.auth().currentUser.updateEmail(t.mail),nm.auth().signInWithEmailAndPassword(nm.auth().currentUser.email,t.password).then((function(e){e.user.updateEmail(t.mail)}))})).then((function(){t.courses&&t.courses.forEach((function(e){console.log("updateUserCourses",e,t.courses),e&&nm.database().ref(rm.ITEMS).child(e.id).child(rm.AUTHORS).child(t.id).update({firstname:t.firstname,lastname:t.lastname,ppLink:t.ppLink,title:t.title}).catch((function(t){return console.log(t),!1}))}))})).then((function(){t.events&&t.events.forEach((function(e){console.log("updateUserEvents",e,t.courses),e&&nm.database().ref(rm.ITEMS).child(e.id).child(rm.AUTHORS).child(t.id).update({firstname:t.firstname,lastname:t.lastname,ppLink:t.ppLink,title:t.title})}))})).catch((function(t){return console.log(t),!1}))}},{key:"getUsersFromDB",value:function(){var t=this;this.usersDB.once("value").then((function(e){t.users=e.val()?YO.usersFromJson(e.val()):[],t.emitUsers()}))}},{key:"getSingleUserFromDBWithId",value:function(t){return this.usersDB.child(t).once("value").then((function(t){return console.log(t.val()),YO.userFromJson(t.val())}))}}],[{key:"addAuthorsWithReference",value:function(t,e){var n=!0;return e.forEach((function(e){n&&(e.title||(e.title=""),t.child(rm.AUTHORS).child(e.id).set({firstname:e.firstname,lastname:e.lastname,title:e.title,ppLink:e.ppLink}).then((function(){n=!0})).catch((function(t){console.log(t),n=!1})))})),n}},{key:"addUsersIdByReference",value:function(t,e){var n=0;return e.forEach((function(e){e&&t.child(rm.USERS.substr(1)).set(U({},e.id,n)).catch((function(t){return console.log(t),!1})),n++})),!0}},{key:"addUserIdByReference",value:function(t,e,n){if(e)return t.child(rm.USERS.substr(1)).set(U({},e.id,n)).catch((function(t){return console.log(t),null}))}},{key:"addItemIdInAuthorDB",value:function(t,e){if(t&&e){console.log("saveCourseInAuthorsDB",t.iAuthors);var n=nm.database().ref(rm.USERS).child(e).child(rm.ITEMS);return n.once("value").then((function(e){return e?n.update(U({},t.id,0)).then((function(){return!0})).catch((function(t){return!1})):n.set(U({},t.id,0)).then((function(){return!0})).catch((function(t){return!1}))}))}return!1}},{key:"addItemInAuthorsDB",value:function(t,e){if(t&&e){console.log("saveCourseInAuthorsDB",t.iAuthors);var n=nm.database().ref(rm.USERS),r=!1;return t.iAuthors.forEach((function(e){console.log("saveCourseInAuthorsDB",e),n.child(e.id).child(rm.ITEMS).child(t.id).set(U({},t.id,0)).then((function(){r=!0}),(function(t){return!1}))})),r}return!1}},{key:"addAuthorsWithReferenceAndAuthID",value:function(t,e,n){var r=!0;return e.forEach((function(e){r&&n!==e.id&&(e.title||(e.title=""),t.child(rm.AUTHORS).child(e.id).set({firstname:e.firstname,lastname:e.lastname,title:e.title,ppLink:e.ppLink}).then((function(){r=!0})).catch((function(t){console.log(t),r=!1})))})),r}},{key:"updateUserIdByReference",value:function(t,e,n){if(e)return t.child(rm.USERS.substr(1)).update(U({},e.id,n)).catch((function(t){return console.log(t),null}))}},{key:"getUserByMail",value:function(t,e){return nm.database().ref(rm.USERS).orderByChild("email").equalTo(t).once("value").then(e)}},{key:"getiUserFromDBWithId",value:function(t){return t?nm.database().ref(rm.USERS).child(t).once("value").then((function(t){console.warn("userItemsJson",t.val());var e=YO.iUserFromJson(t.val());return console.warn("userItemsJson",e.itemId),e})):null}}]),t}()).\u0275fac=function(t){return new(t||TO)},TO.\u0275prov=se({token:TO,factory:TO.\u0275fac,providedIn:"root"}),TO),ZO=((IO=function(){function t(e){tt(this,t),this.datepipe=e,this.ratingsDB=nm.database().ref(rm.RATINGS),this.userRatingsDB=nm.database().ref(rm.USERS),this.courseRatingsDB=nm.database().ref(rm.ITEMS)}return nt(t,[{key:"addRatingInDB",value:function(t,e){var n=this;if(t)return t.publicationDate=this.datepipe.transform(Date.now().toString(),"dd/MM/yyyy"),this.addRatingWithReference(this.ratingsDB,t).then((function(t){return n.addRatingInCourseDB(t,(function(t){return t?n.addRatingInUserDB(t,e):null}))}))}},{key:"addRatingInCourseDB",value:function(t,e){if(!t)return null;var n=this.courseRatingsDB.child(t.course.id).child(rm.RATINGS);this.addRatingWithReference(n,t).then(e)}},{key:"addRatingInUserDB",value:function(t,e){if(t){var n=this.userRatingsDB.child(t.user.id).child(rm.RATINGS);return this.addRatingWithReference(n,t).then(e)}return null}},{key:"addRatingWithReference",value:function(t,e){return e.id?t.update(U({},e.id,"0")).then((function(){return e})).catch((function(t){return console.log(t),null})):(e.id=t.push().key,t.child(e.id).set({title:e.title,note:e.note,comment:e.comment,publicationDate:e.publicationDate,user:e.user.id,course:e.course.id}).then((function(){return e})).catch((function(t){return console.log(t),null})))}},{key:"updateRating",value:function(t,e){if(!t)return null;t.publicationDate=this.datepipe.transform(Date.now().toString(),"dd/MM/yyyy"),this.ratingsDB.child(t.id).update({title:t.title,note:t.note,comment:t.comment,publicationDate:t.publicationDate}).then((function(){return t})).then(e)}},{key:"removeRating",value:function(t,e){var n=this;this.courseRatingsDB.child(t.course.id).child(rm.RATINGS).child(t.id).remove().then((function(){n.userRatingsDB.child(t.user.id).child(rm.RATINGS).child(t.id).remove().then((function(){n.ratingsDB.child(t.id).remove().then(e)}))}))}}],[{key:"getRatingsFromJSON",value:function(t,e,n){return Object(qO.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=Object.keys(t).map((function(t){return new Promise((function(r){var i;nm.database().ref(rm.RATINGS).child(t).once("value").then((function(o){if(o.val()){console.log(o.val()),(i=QO.ratingFromJson(o.val())).id=t;var s=o.val().user,a=o.val().course;!n&&s?XO.getiUserFromDBWithId(s).then((function(t){t&&(t.id=s,i.user=t,r(i))})):i.user=n,!e&&a?nm.database().ref(rm.ITEMS).child(a).once("value").then((function(t){var e;return console.log(t.val()),(e=$O.iCourseFromJson(t.val())).id=a,i.course=e,e})):i.course=e,r(i)}}))}))})),r.next=3,Promise.all(i);case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}),r)})))}}]),t}()).\u0275fac=function(t){return new(t||IO)(He(Qd))},IO.\u0275prov=se({token:IO,factory:IO.\u0275fac,providedIn:"root"}),IO),tP=((SO=function(){function t(){tt(this,t),this.categories=[],this.categoriesSubject=new wt}return nt(t,[{key:"emitCategories",value:function(){this.categoriesSubject.next(this.categories)}},{key:"addCategoriesToDB",value:function(){nm.database().ref(rm.CATEGORIES).push()}},{key:"addCategoryToDB",value:function(t){var e=this,n=nm.database().ref(rm.CATEGORIES),r=n.push().key;return n.child(r).set({name:t.name}).then((function(){return e.categories.push(t),t}))}},{key:"addSubCategoryToDB",value:function(t,e){var n=this,r=nm.database().ref(rm.CATEGORIES).child(t.id),i=r.push().key;return r.child(i).set({name:e.name}).then((function(){return n.categories.find((function(e){return e.id===t.id})).subCategories.push(e),e}))}},{key:"createNewCategory",value:function(t){this.categories.push(t),this.addCategoriesToDB(),this.emitCategories()}},{key:"getCategoriesFromDB",value:function(){var t=this;return nm.database().ref(rm.CATEGORIES).once("value").then((function(e){var n=[];return e.forEach((function(t){var e=[];t.forEach((function(t){t.hasChild("name")&&e.push(new WO(t.key,t.child("name").val(),[]))})),n.push(new WO(t.key,t.child("name").val(),e))})),t.categories=Array.from(n),t.emitCategories(),Array.from(t.categories)}))}},{key:"setValueOfSingleCategoryFromDB",value:function(t,e){nm.database().ref(rm.CATEGORIES+t).set({value:e},(function(t){}))}},{key:"removeCategory",value:function(t){var e=this.categories.findIndex((function(e){if(e===t)return!0}));this.categories.splice(e,1),this.addCategoriesToDB(),this.emitCategories()}}],[{key:"getSingleCategoryBySubCategoryId",value:function(t){var e=nm.database().ref(rm.CATEGORIES);return new Promise((function(n,r){e.orderByKey().on("child_added",(function(r){r.forEach((function(i){if(i.key===t){e.off();var o=new WO(r.key,r.val().name,[]);o.subCategories.push(new WO(i.key,i.val().name,[])),n(o)}}))}))}))}},{key:"addCategoryWithReference",value:function(t,e){return t.child(rm.CATEGORY).child(e.id).set({name:e.name}).then((function(){return t.child(rm.CATEGORY).child(e.id).child("sub_category").child(e.subCategories[0].id).set({name:e.subCategories[0].name}).then((function(){return!0}))})).catch((function(t){return console.log(t),!1}))}}]),t}()).\u0275fac=function(t){return new(t||SO)},SO.\u0275prov=se({token:SO,factory:SO.\u0275fac,providedIn:"root"}),SO),eP=((EO=function(){function t(){tt(this,t),this.items=[],this.itemsSubject=new wt,this.itemSubject=new wt,this._lastItemCreated=null,this.db=nm.database().ref(),this.itemsDB=this.db.child(rm.ITEMS),this.itemsViewDB=this.db.child(rm.ITEMS_VIEW)}return nt(t,[{key:"emitItems",value:function(){this.itemsSubject.next(this.items)}},{key:"emitItem",value:function(t){this.itemSubject.next(t)}},{key:"addNewCourseInDBByAdmin",value:function(t){var e=this.itemsDB.push().key,n=this.itemsDB.child(e);return t.id=e,this._lastItemCreated=t,t.searchContent=this.setSearchContent(t),n.set({type:rm.COURSE.substr(1),data:t.data,searchContent:t.searchContent,title:t.title,description:t.description,price:t.price,creationDate:t.creationDate,imageLink:t.imageLink,videoLink:t.videoLink,published:t.published,catchPhrase:t.catchPhrase,skillsToAcquire:t.skillsToAcquire,category:t.category.id,consultationLink:t.consultationLink,subCategory:t.category.subCategories?t.category.subCategories[0].id:""}).then((function(){var e=0;t.iAuthors.forEach((function(r){(e?XO.updateUserIdByReference(n,r,e):XO.addUserIdByReference(n,r,e)).then((function(){return XO.addItemIdInAuthorDB(t,r.id)?null:t})),e++}))})).catch((function(t){return console.error(t),null}))}},{key:"addNewItemToDB",value:function(t){var e=this.itemsDB.push().key,n=this.itemsDB.child(e);t.id=e,this._lastItemCreated=t,t.searchContent=this.setSearchContent(t);var r=null;if(t instanceof $O)r=this.addNewCourseToDB(n,t);else{if(!(t instanceof zO))return null;r=this.addNewEventToDB(n,t)}return r.then((function(){var e=0;t.iAuthors.forEach((function(r){XO.addUserIdByReference(n,r,e).then((function(){return XO.addItemIdInAuthorDB(t,r.id)?null:t})),e++})),om.addTagsWithReference(n,t.tags).catch((function(t){return console.error(t),null}))})).catch((function(t){return console.error(t),null}))}},{key:"addNewCourseToDB",value:function(t,e){return t.set({type:rm.COURSE.substr(1),data:!1,searchContent:e.searchContent,title:e.title,description:e.description,price:e.price,creationDate:e.creationDate,imageLink:e.imageLink,videoLink:e.videoLink,published:e.published,catchPhrase:e.catchPhrase,skillsToAcquire:e.skillsToAcquire,category:e.category?e.category.id:"",subCategory:e.category&&e.category.subCategories?e.category.subCategories[0].id:"",consultationLink:e.consultationLink})}},{key:"addNewEventToDB",value:function(t,e){return t.set({type:rm.EVENT.substr(1),data:!1,searchContent:e.searchContent,title:e.title,description:e.description,price:e.price,creationDate:e.creationDate,imageLink:e.imageLink,videoLink:e.videoLink,published:e.published,location:e.location,dates:e.dates,catchPhrase:e.catchPhrase,consultationLink:e.consultationLink})}},{key:"addItemIdInAuthorDB",value:function(t,e){if(t){var n=nm.database().ref(rm.USERS).child(e).child(rm.ITEMS).child(t.id),r="";return t instanceof $O?r=rm.COURSE.substr(1):t instanceof zO&&(r=rm.EVENT.substr(1)),n.set({type:r}).then((function(){return!0}),(function(t){return!1}))}}},{key:"addItemView",value:function(t,e,n){var r=this.itemsViewDB.child(t),i=r.push().key;r.child(i).set({date:e.date,user:e.user.id,hour:e.heure}).then(n)}},{key:"addCourseContent",value:function(t,e,n){var r=this,i=[];t.forEach((function(t){i.push(new Promise((function(n){var i=r.itemsDB.child(e).child(rm.MODULES);r.addModuleWithReference(i,t).then((function(t){r.addChaptersWithReference(i,t,(function(e){t.chapters=e,n(t)}))}))})))})),Promise.all(i).then((function(t){return t})).then(n).catch((function(t){return console.error(t),null}))}},{key:"addModuleWithReference",value:function(t,e){return new Promise((function(n,r){t&&e||r(),e.id=t.push().key,t.child(e.id).set({title:e.title,description:e.description}).then((function(){n(e)}))}))}},{key:"addChaptersWithReference",value:function(t,e,n){var r=this,i=[],o=t.child(e.id).child(rm.CHAPTERS);e.chapters.forEach((function(t){i.push(new Promise((function(e){r.addChapterWithReference(o,t).then((function(t){e(t)}))})))})),Promise.all(i).then((function(t){return t})).then(n).catch((function(t){return console.error(t),null}))}},{key:"addChapterWithReference",value:function(t,e){return new Promise((function(n,r){t&&e||r(),e.id=t.push().key,t.child(e.id).set({title:e.title}).then((function(){n(e)}))}))}},{key:"addTags",value:function(t,e,n,r){t&&e&&e.length&&om.addTagsWithReference(this.itemsDB.child(t),e).then(n).catch(r)}},{key:"getItemsFromDB",value:function(t){var e=this;this.itemsDB.on("child_added",(function(n){e.getSingleItemFromJSONByIdWithTags(n,t)}))}},{key:"getSingleItemFromDBById",value:function(t,e){var n=this;return this.itemsDB.child(t).once("value").then((function(t){return n.getSingleItemFromJSONByIdWithTags(t,e)}))}},{key:"getSingleItemFromJSONByIdWithTags",value:function(t,e){return Object(qO.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,i,o,s,a=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=null,t.val()[rm.ITEM_TYPE.substr(1)]===rm.COURSE.substr(1)?r=$O.courseFromJson(t.val()):t.val()[rm.ITEM_TYPE.substr(1)]===rm.EVENT.substr(1)&&(r=zO.eventFromJson(t.val())),r&&(r.id=t.key,i=t.val()[rm.USERS.substring(1)],o=t.val()[rm.RATINGS.substring(1)],s=Object.keys(i).map((function(t){return new Promise((function(e){XO.getiUserFromDBWithId(t).then((function(n){return Object(qO.__awaiter)(a,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.id=t,r.t0=n.itemId&&n.itemId.length,!r.t0){r.next=5;break}return r.next=5,this.getiItemsByIUser(n);case 5:e(n);case 6:case"end":return r.stop()}}),r,this)})))}))}))})),Promise.all(s).then((function(t){return r.iAuthors=t,r})).then((function(t){if(o&&t instanceof $O){var e=t;return ZO.getRatingsFromJSON(o,e.getICourse(),null).then((function(t){return e.ratings=t,e.globalNote=QO.getGlobalNote(t),e}))}return t})).catch((function(t){return console.error(t),null})).then(e));case 2:case"end":return n.stop()}}),n)})))}},{key:"getiItemsByIUser",value:function(t){return Object(qO.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&t.itemId&&t.itemId.length)){e.next=5;break}return n=Object.keys(t.itemId).map((function(e){return r.getiItemFromDBWithId(t.itemId[e]).then((function(e){if(e)return e.iAuthors=[t],e}))})),e.next=4,Promise.all(n).then((function(e){if(e&&e.length)return t.iCourses=e.filter((function(t){return t.type===rm.COURSE.substr(1)})),t.iEvents=e.filter((function(t){return t.type===rm.EVENT.substr(1)})),t}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))}},{key:"getSingleItemFromJSONById",value:function(t,e,n){return Object(qO.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function r(){var i,o,s,a,u,c=this;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i=null,t.val()[rm.ITEM_TYPE.substr(1)]===rm.COURSE.substr(1)?i=$O.courseFromJson(t.val()):t.val()[rm.ITEM_TYPE.substr(1)]===rm.EVENT.substr(1)&&(i=zO.eventFromJson(t.val())),i&&(i.id=t.key,o=t.val()[rm.USERS.substring(1)],s=t.val()[rm.RATINGS.substring(1)],a=t.val()[rm.SUB_CATEGORY.substring(1)],u=Object.keys(o).map((function(t){return new Promise((function(e){XO.getiUserFromDBWithId(t).then((function(r){var i=YO.iUserFromJson(r);i.id=t;var o=r[rm.ITEMS.substring(1)];c.joinItemsByJSON(o,(function(t){i.iCourses=t,e(i)}),n)}))}))})),tP.getSingleCategoryBySubCategoryId(a).then((function(t){return i.category=t,i})).then((function(t){return Promise.all(u).then((function(e){return t.iAuthors=e,t})).catch(n)})).then((function(t){if(s&&t instanceof $O){var e=t;return ZO.getRatingsFromJSON(s,e.getICourse(),null).then((function(t){return e.ratings=t,e.globalNote=QO.getGlobalNote(t),e}))}return t})).then(e));case 2:case"end":return r.stop()}}),r)})))}},{key:"getItemsByTag",value:function(t,e){var n=this;this.itemsDB.orderByChild(rm.TAGS.substr(1)).equalTo(t.id).on("child_added",(function(t){t&&n.getSingleItemFromJSONByIdWithTags(t,e)}))}},{key:"getiItemFromDBWithId",value:function(t){var e=this;return t?new Promise((function(n,r){return nm.database().ref(rm.ITEMS).child(t).once("value").then((function(t){return Object(qO.__awaiter)(e,void 0,void 0,regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getiItemFromUser(t);case 2:r=e.sent,n(r);case 4:case"end":return e.stop()}}),e,this)})))}))})):null}},{key:"joinItemsByJSON",value:function(t,e,n){if(t){var r=Object.keys(t).map((function(t){return new Promise((function(t){}))}));Promise.all(r).then((function(t){return t})).then(e).catch(n)}}},{key:"getiItemFromJSONByIdWithTags",value:function(t,e,n){return Object(qO.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function r(){var i,o,s,a,u=this;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=null,t.val()[rm.ITEM_TYPE.substr(1)]===rm.COURSE.substr(1)?i=$O.iCourseFromJson(t.val()):t.val()[rm.ITEM_TYPE.substr(1)]===rm.EVENT.substr(1)&&(i=zO.iEventFromJson(t.val())),!i){r.next=7;break}if(i.id=t.key,o=t.val()[rm.USERS.substring(1)],s=t.val()[rm.RATINGS.substring(1)],!o||!o.length){r.next=7;break}return a=Object.keys(o).map((function(t){return new Promise((function(e){XO.getiUserFromDBWithId(t).then((function(r){if(r){var i=YO.iUserFromJson(r);i.id=t;var o=r[rm.ITEMS.substring(1)];o.length&&u.joinItemsByJSON(o,(function(t){i.iCourses=t,e(i)}),n)}})).catch(n)}))})),r.abrupt("return",Promise.all(a).then((function(t){if(t&&t.length)return i.iAuthors=t,i})).then((function(t){return s&&"course"===t.type?ZO.getRatingsFromJSON(s,i,null).then((function(t){return i.nbRatings=t.length,i.globalNote=QO.getGlobalNote(t),i})):t})).catch(n).then(e));case 7:case"end":return r.stop()}}),r)})))}},{key:"getiItemFromUser",value:function(t){if(t){var e=null;if(t.val()[rm.ITEM_TYPE.substr(1)]===rm.COURSE.substr(1)?e=$O.iCourseFromJson(t.val()):t.val()[rm.ITEM_TYPE.substr(1)]===rm.EVENT.substr(1)&&(e=zO.iEventFromJson(t.val())),e){e.id=t.key;var n=t.val()[rm.RATINGS.substring(1)];return n&&"course"===e.type?ZO.getRatingsFromJSON(n,e,null).then((function(t){return e.nbRatings=t.length,e.globalNote=QO.getGlobalNote(t),e})):e}}}},{key:"updateItemPrimaryInfoInDB",value:function(t,e,n){var r=this,i=nm.database().ref(rm.ITEMS).child(t.id);t.searchContent=this.setSearchContent(t),i.update({searchContent:t.searchContent||null,title:t.title||null,price:t.price||null,imageLink:t.imageLink||null,videoLink:t.videoLink||null,catchPhrase:t.catchPhrase||null,consultationLink:t.consultationLink||null}).then((function(){r.updateTags(t.tags,t.id,e,n)}))}},{key:"updateItemPrimaryInfoInAuthorsDB",value:function(t){t.iAuthors&&t.iAuthors.forEach((function(e){e&&nm.database().ref(rm.USERS).child(e.id).child(rm.ITEMS).child(t.id).update({title:t.title,price:t.price,imageLink:t.imageLink,published:t.published})}))}},{key:"updateItemDescriptionInDB",value:function(t,e,n){t&&t.description&&t.description.length&&(t.searchContent=this.setSearchContent(t),nm.database().ref(rm.ITEMS).child(t.id).update({description:t.description||null}).then(e).catch(n))}},{key:"updateSkillsToAcquireInDB",value:function(t,e,n,r){nm.database().ref(rm.ITEMS).child(t).update({skillsToAcquire:e||null}).catch(r).then(n)}},{key:"updateCourseContent",value:function(t,e,n){var r=this;this.removeModules(e,(function(){r.addCourseContent(t,e,n)}))}},{key:"updateTags",value:function(t,e,n,r){var i=this;e&&t&&t.length&&this.removeTags(e,(function(){i.addTags(e,t,n,r)}))}},{key:"removeItem",value:function(t){t.imageLink&&nm.storage().refFromURL(t.imageLink).delete().then((function(){console.log("Photo supprim\xe9e")})).catch((function(t){console.log("fichier non trouv\xe9 : ",t)}));var e=this.items.findIndex((function(e){if(e===t)return!0}));this.items.splice(e,1),this.emitItems()}},{key:"removeModules",value:function(t,e){this.itemsDB.child(t).child(rm.MODULES).remove().then(e)}},{key:"removeTags",value:function(t,e){om.removeTagsWithReference(this.itemsDB.child(t),e)}},{key:"setSearchContent",value:function(t){if(!t)return null;var e="";return t.title&&(e=e.concat(t.title)),t.iAuthors&&t.iAuthors.length&&t.iAuthors.forEach((function(t){e=e.concat("/",t.firstname+" "+t.lastname)})),t.description&&(e=e.concat("/",t.description)),t.catchPhrase&&(e=e.concat("/",t.catchPhrase)),t.tags&&t.tags.length&&t.tags.forEach((function(t){e=e.concat("/",t.name)})),e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLocaleLowerCase()}},{key:"lastItemCreated",get:function(){return this._lastItemCreated}}],[{key:"addIEventWithReference",value:function(t,e){return t.set({type:rm.EVENT.substr(1),title:e.title,imageLink:e.imageLink,price:e.price,published:e.published,location:e.location,dates:e.dates}).then((function(){return tP.addCategoryWithReference(t,e.category).then((function(n){return!!n&&!!XO.addAuthorsWithReference(t,e.iAuthors)&&void 0})).then((function(){return!0})).catch((function(t){return console.error(t),!1})),!0}))}},{key:"addIEventsWithReference",value:function(t,e){var n=!0;return e.forEach((function(e){n&&this.saveIEventWithReference(t,e).then((function(){n=!0})).catch((function(t){console.error(t),n=!1}))})),n}},{key:"addICourseWithReference",value:function(t,e){return t.child(e.id).set({type:rm.COURSE.substr(1),title:e.title,price:e.price,imageLink:e.imageLink,published:e.published}).then((function(){tP.addCategoryWithReference(t,e.category).then((function(n){return!!n&&!!XO.addAuthorsWithReference(t,e.iAuthors)}))}))}},{key:"getiItemsByIUser",value:function(t,e){return Object(qO.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,i=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t&&t.itemId&&t.itemId.length)){n.next=5;break}return r=Object.keys(t.itemId).map((function(e){return i.getiItemFromDBWithId(t.itemId[e]).then((function(e){if(e)return e.iAuthors=[t],e}))})),n.next=4,Promise.all(r).then((function(t){if(t&&t.length&&e&&e.length)return t.filter((function(t){return t.type===e}))}));case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)})))}},{key:"getiItemFromDBWithId",value:function(t){var e=this;return t?new Promise((function(n,r){return nm.database().ref(rm.ITEMS).child(t).once("value").then((function(t){return Object(qO.__awaiter)(e,void 0,void 0,regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getiItemFromUser(t);case 2:r=e.sent,n(r);case 4:case"end":return e.stop()}}),e,this)})))}))})):null}},{key:"getiItemFromUser",value:function(t){if(t){var e=null;if(t.val()[rm.ITEM_TYPE.substr(1)]===rm.COURSE.substr(1)?e=$O.iCourseFromJson(t.val()):t.val()[rm.ITEM_TYPE.substr(1)]===rm.EVENT.substr(1)&&(e=zO.iEventFromJson(t.val())),e){e.id=t.key;var n=t.val()[rm.RATINGS.substring(1)];return n&&"course"===e.type?ZO.getRatingsFromJSON(n,e,null).then((function(t){return e.nbRatings=t.length,e.globalNote=QO.getGlobalNote(t),e})):e}}}}]),t}()).\u0275fac=function(t){return new(t||EO)},EO.\u0275prov=se({token:EO,factory:EO.\u0275fac,providedIn:"root"}),EO);function nP(t,e){1&t&&Aa(0,"app-course-list",5),2&t&&Ea("course",La().$implicit)}function rP(t,e){1&t&&Aa(0,"app-event-list",6),2&t&&Ea("event",La().$implicit)}function iP(t,e){1&t&&Aa(0,"hr",7)}function oP(t,e){if(1&t&&(Ia(0,"div",1),_a(1,nP,1,1,"app-course-list",2),_a(2,rP,1,1,"app-event-list",3),_a(3,iP,1,0,"hr",4),Ta()),2&t){var n=e.$implicit,r=e.last,i=La();lo(1),Ea("ngIf",i.isCourse(n)),lo(1),Ea("ngIf",i.isEvent(n)),lo(1),Ea("ngIf",!r)}}var sP,aP=((sP=function(){function t(e,n,r){tt(this,t),this.router=e,this.itemService=n,this.searchService=r,console.log(this.items)}return nt(t,[{key:"ngOnInit",value:function(){console.log(this.items)}},{key:"consultCategory",value:function(t){t&&this.searchService.search(t,"","","")}},{key:"onConsultTag",value:function(t){t&&this.searchService.search("",t.name,"","")}},{key:"onConsultCourse",value:function(t){t&&this.router.navigate([sm.COURSE,t.id])}},{key:"onConsultEvent",value:function(t){t&&this.router.navigate([sm.EVENT,t.id])}},{key:"onConsultCategory",value:function(t){t&&this.searchService.search(t,"","","")}},{key:"isCourse",value:function(t){return"course"===t.type}},{key:"isEvent",value:function(t){return"event"===t.type}},{key:"onDeleteItem",value:function(t){this.itemService.removeItem(t)}},{key:"ngOnDestroy",value:function(){null!=this.itemsSubscription&&this.itemsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||sP)(ka(y_),ka(eP),ka(Y_))},sP.\u0275cmp=hn({type:sP,selectors:[["app-item-list"]],inputs:{items:"items"},decls:1,vars:1,consts:[["class","item-list my-3",4,"ngFor","ngForOf"],[1,"item-list","my-3"],[3,"course",4,"ngIf"],[3,"event",4,"ngIf"],["class","separator-line",4,"ngIf"],[3,"course"],[3,"event"],[1,"separator-line"]],template:function(t,e){1&t&&_a(0,oP,4,3,"div",0),2&t&&Ea("ngForOf",e.items)},styles:[".separator-line[_ngcontent-%COMP%]{margin-top:.2rem;margin-bottom:.2rem}"]}),sP),uP=function(t){return{"font-size":t}};function cP(t,e){if(1&t&&(Ia(0,"span",3),_u(1),Ta()),2&t){var n=La();Ea("ngStyle",hl(2,uP,.95*n.size+"em")),lo(1),ku("\u2009",n.globalNote,"")}}function lP(t,e){if(1&t&&(Ia(0,"span",3),_u(1,"\u2009-"),Ta()),2&t){var n=La();Ea("ngStyle",hl(1,uP,.95*n.size+"em"))}}function hP(t,e){if(1&t&&(Ia(0,"span",4),_u(1),Ta()),2&t){var n=La();Ea("ngStyle",hl(2,uP,.85*n.size+"em")),lo(1),ku("\u2009(",n.nbRatings,")")}}function fP(t,e){if(1&t&&(Ia(0,"span",4),_u(1),Ta()),2&t){var n=La();Ea("ngStyle",hl(2,uP,.85*n.size+"em")),lo(1),ku("\u2009(",n.nbRatings," avis)")}}var dP,pP=((dP=function(){function t(){tt(this,t),this.nbRatings=0,this.globalNote=0,this.size=1.6}return nt(t,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(t){}}]),t}()).\u0275fac=function(t){return new(t||dP)},dP.\u0275cmp=hn({type:dP,selectors:[["app-rating"]],inputs:{style:"style",nbRatings:"nbRatings",globalNote:"globalNote",size:"size"},features:[On],decls:6,vars:7,consts:[[1,"fa","fa-star","icon-star",3,"ngStyle"],["class","avrg-rating",3,"ngStyle",4,"ngIf"],["class","nb-rating",3,"ngStyle",4,"ngIf"],[1,"avrg-rating",3,"ngStyle"],[1,"nb-rating",3,"ngStyle"]],template:function(t,e){1&t&&(Ia(0,"span"),Aa(1,"i",0),_a(2,cP,2,4,"span",1),_a(3,lP,2,3,"span",1),_a(4,hP,2,4,"span",2),_a(5,fP,2,4,"span",2),Ta()),2&t&&(lo(1),Ea("ngStyle",hl(5,uP,e.size+"em")),lo(1),Ea("ngIf",e.globalNote),lo(1),Ea("ngIf",!e.globalNote),lo(1),Ea("ngIf",0===e.style),lo(1),Ea("ngIf",1===e.style))},directives:[Ad,fd],styles:[".avrg-rating[_ngcontent-%COMP%], .icon-star[_ngcontent-%COMP%]{color:#fcc632}.avrg-rating[_ngcontent-%COMP%]{font-weight:500}.nb-rating[_ngcontent-%COMP%]{font-weight:400;color:#464545}"]}),dP);function vP(t,e){1&t&&Aa(0,"img",12),2&t&&Ea("src",La(2).course.imageLink,zi)}function gP(t,e){if(1&t){var n=Pa();Ia(0,"app-rating",13),Ra("click",(function(){er(n);var t=La(2);return t.onConsultCourse(t.course)})),Ta()}if(2&t){var r=La(2);ou(0),Ea("nbRatings",r.course.nbRatings)("globalNote",r.course.globalNote)("size",1)}}function mP(t,e){if(1&t&&(Ia(0,"div",14),Ia(1,"span",15),Ia(2,"a",16),_u(3),Ta(),Ta(),Ta()),2&t){var n=La(2);lo(2),Ea("href","/user/"+n.course.iAuthors[0].id,zi),lo(1),Cu(" ",n.course.iAuthors[0].firstname," ",n.course.iAuthors[0].lastname," ")}}function yP(t,e){1&t&&(Ia(0,"span"),_u(1,"\xa0\u2022\xa0"),Ta())}function bP(t,e){if(1&t){var n=Pa();Ia(0,"span",20),Ia(1,"span",21),Ra("click",(function(){er(n);var t=e.$implicit;return La(3).onConsultTag(t)})),_u(2),Ta(),_a(3,yP,2,0,"span",22),Ta()}if(2&t){var r=e.$implicit,i=e.index,o=La(3);lo(2),wu(r.name),lo(1),Ea("ngIf",o.course.tags.length>1&&o.course.tags.length-1>i)}}function _P(t,e){if(1&t&&(Ia(0,"div",17),Aa(1,"span",18),_a(2,bP,4,2,"span",19),Ta()),2&t){var n=La(2);lo(2),Ea("ngForOf",n.course.tags)}}function wP(t,e){if(1&t){var n=Pa();Ia(0,"div",1),Ia(1,"div",2),Ra("click",(function(){er(n);var t=La();return t.onConsultCourse(t.course)})),_a(2,vP,1,1,"img",3),Ta(),Ia(3,"div",4),Ia(4,"div",5),Ra("click",(function(){er(n);var t=La();return t.onConsultCourse(t.course)})),Ia(5,"h5"),_u(6),Ta(),Ia(7,"p"),_u(8),Ta(),Ta(),_a(9,gP,1,5,"app-rating",6),_a(10,mP,4,3,"div",7),Aa(11,"hr",8),_a(12,_P,3,1,"div",9),Ta(),Ia(13,"div",10),Ra("click",(function(){er(n);var t=La();return t.onConsultCourse(t.course)})),Ia(14,"h4",11),_u(15),Ta(),Ta(),Ta()}if(2&t){var r=La();lo(2),Ea("ngIf",r.course.imageLink),lo(4),wu(r.course.title),lo(2),wu(r.course.catchPhrase),lo(1),Ea("ngIf",r.course.globalNote),lo(1),Ea("ngIf",r.course.iAuthors.length),lo(2),Ea("ngIf",r.course.tags),lo(3),ku(" ",r.course.price," \u20ac ")}}var kP,CP=((kP=function(t){K(n,t);var e=$(n);function n(t,r,i){return tt(this,n),e.call(this,t,r,i)}return nt(n,[{key:"ngOnInit",value:function(){console.log("CourseListComponent",this.course)}},{key:"consultCourse",value:function(t){t&&this.router.navigate([rm.COURSE,t.id])}},{key:"consultCategory",value:function(t){t&&this.searchService.search(t,"","","")}},{key:"onConsultTag",value:function(t){t&&this.searchService.search("",t.name,"","")}}]),n}(aP)).\u0275fac=function(t){return new(t||kP)(ka(y_),ka(eP),ka(Y_))},kP.\u0275cmp=hn({type:kP,selectors:[["app-course-list"]],inputs:{course:"course"},features:[ra],decls:1,vars:1,consts:[["class","row my-4",4,"ngIf"],[1,"row","my-4"],[1,"item-list-img","item-click","col-3",3,"click"],["class","img",3,"src",4,"ngIf"],[1,"col-7"],[1,"item-click",3,"click"],[3,"style","nbRatings","globalNote","size","click",4,"ngIf"],["class","course-section-auteur",4,"ngIf"],[1,"separator-line"],["class","course-tags",4,"ngIf"],[1,"col-2","align-self-center","item-click",3,"click"],[1,"course-price"],[1,"img",3,"src"],[3,"nbRatings","globalNote","size","click"],[1,"course-section-auteur"],[1,"course-author-name"],[1,"item-p",3,"href"],[1,"course-tags"],["data-icon","heroicons-solid:hashtag","data-inline","false",1,"iconify","mr-1","my-auto",2,"color","#2E7B9C"],["class","course-tag",4,"ngFor","ngForOf"],[1,"course-tag"],[1,"item-p","item-click",3,"click"],[4,"ngIf"]],template:function(t,e){1&t&&_a(0,wP,16,7,"div",0),2&t&&Ea("ngIf",e.course)},directives:[fd,pP,ld],styles:[".item-list[_ngcontent-%COMP%]{height:10rem}.item-list-img[_ngcontent-%COMP%]{height:90%;width:90%;margin-left:auto;margin-right:auto}.item-click[_ngcontent-%COMP%]{cursor:pointer}.item-list-img[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{border-radius:.3rem .3rem .3rem .3rem;-moz-border-radius:.3rem .3rem .3rem .3rem;-webkit-border-radius:.3rem .3rem .3rem .3rem;width:100%;height:100%;-o-object-fit:contain;object-fit:contain}.item-p[_ngcontent-%COMP%]{font-size:.8rem;color:#2e77ca;text-decoration:underline}.item-p[_ngcontent-%COMP%]:focus, .item-p[_ngcontent-%COMP%]:hover{color:#4880c0;text-decoration:none}.separator-line[_ngcontent-%COMP%]{margin-top:.2rem;margin-bottom:.2rem}"]}),kP);function EP(t,e){if(1&t){var n=Pa();Ia(0,"div",1),Ra("click",(function(){er(n);var t=La();return t.onConsultEvent(t.event)})),Ia(1,"div",2),Aa(2,"img",3),Ta(),Ia(3,"div",4),Ia(4,"h5"),_u(5),Ta(),Ia(6,"span",5),_u(7),Ta(),Ia(8,"div",6),Ia(9,"span"),_u(10,"Par :"),Ta(),Aa(11,"img",7),Ia(12,"span",8),_u(13),Ta(),Ta(),Ia(14,"div"),Ia(15,"span"),_u(16),Ta(),Ia(17,"span"),_u(18),Ta(),Ta(),Ta(),Ia(19,"div",9),Ia(20,"span",10),_u(21),Ta(),Ta(),Ta()}if(2&t){var r=La();lo(2),Ea("src",r.event.imageLink,zi),lo(3),wu(r.event.title),lo(2),wu(r.event.category.name),lo(6),wu(r.event.getMainiAuthorName()),lo(3),Cu("Date : ",r.event.dates.startDate," - ",r.event.dates.endDate,""),lo(2),ku("Lieu : ",r.event.location.country,""),lo(3),ku("",r.event.price," \u20ac")}}var SP,IP=((SP=function(t){K(n,t);var e=$(n);function n(t,r,i){var o;return tt(this,n),o=e.call(this,t,r,i),console.log(o.event),o}return nt(n,[{key:"ngOnInit",value:function(){}}]),n}(aP)).\u0275fac=function(t){return new(t||SP)(ka(y_),ka(eP),ka(Y_))},SP.\u0275cmp=hn({type:SP,selectors:[["app-event-list"]],inputs:{event:"event"},features:[ra],decls:1,vars:1,consts:[["class","row list-group-event mb-3",3,"click",4,"ngIf"],[1,"row","list-group-event","mb-3",3,"click"],[1,"col-3"],[1,"event-img",3,"src"],[1,"col-7"],[1,"event-category"],[1,"event-section-auteur"],["src","","alt","","width","15","height","15",1,"event-img-author"],[1,"event-author-name"],[1,"col-2"],[1,"event-price"]],template:function(t,e){1&t&&_a(0,EP,22,8,"div",0),2&t&&Ea("ngIf",e.event)},directives:[fd],styles:[".event-img[_ngcontent-%COMP%]{width:14vw;height:11.84vw}.list-group-event[_ngcontent-%COMP%]{box-shadow:0 4px 4px rgba(0,0,0,.25);border-radius:6px}"]}),SP);function TP(t,e){1&t&&(Ia(0,"span"),_u(1,"..."),Ta())}function AP(t,e){if(1&t){var n=Pa();Ia(0,"app-rating",12),Ra("click",(function(){er(n);var t=La(3);return t.onConsultCourse(t.iItem)})),Ta()}if(2&t){var r=La(3);ou(0),Ea("nbRatings",r.iItem.nbRatings)("globalNote",r.iItem.globalNote)("size",.9)}}function DP(t,e){if(1&t&&(Ia(0,"div",8),_a(1,AP,1,5,"app-rating",11),Ta()),2&t){var n=La(2);lo(1),Ea("ngIf",n.iItem.globalNote)}}var OP=function(t,e){return{width:t,height:e}};function PP(t,e){if(1&t){var n=Pa();Ia(0,"div",1),Ra("click",(function(){return er(n),La().onConsultItem()})),Aa(1,"img",2),Ia(2,"div",3),Ia(3,"p",4),_u(4),_a(5,TP,2,0,"span",5),Ta(),Ta(),Ia(6,"div",6),Ia(7,"div",7),Ia(8,"div",8),Ia(9,"span",9),Ia(10,"b"),_u(11),Ta(),Ta(),Ta(),_a(12,DP,2,1,"div",10),Ta(),Ta(),Ta()}if(2&t){var r=La();Ea("ngStyle",fl(7,OP,r.width,r.height)),lo(1),Ea("src",r.iItem.imageLink,zi),lo(2),ya("title",r.iItem.title),lo(1),ku(" ",r.iItem.title.substr(0,20),""),lo(1),Ea("ngIf",r.iItem.title.substr(20)),lo(6),ku("",r.iItem.price," \u20ac"),lo(1),Ea("ngIf",r.iItem.globalNote)}}var xP,NP=((xP=function(t){K(n,t);var e=$(n);function n(t,r,i){return tt(this,n),e.call(this,t,r,i)}return nt(n,[{key:"ngOnInit",value:function(){console.log("ngOnInit",this.iItem)}},{key:"getMainAuthor",value:function(){if(this.iItem&&this.iItem.iAuthors)return this.iItem.iAuthors[0].firstname+" "+this.iItem.iAuthors[0].lastname}},{key:"getCategory",value:function(){if(this.iItem&&this.iItem.category)return this.iItem.category.name}},{key:"onConsultItem",value:function(){this.iItem&&("event"===this.iItem.type?this.router.navigate([sm.EVENT,this.iItem.id]):"course"===this.iItem.type&&this.router.navigate([sm.COURSE,this.iItem.id]))}}]),n}(aP)).\u0275fac=function(t){return new(t||xP)(ka(y_),ka(eP),ka(Y_))},xP.\u0275cmp=hn({type:xP,selectors:[["app-item-card"]],inputs:{iItem:"iItem",width:"width",height:"height"},features:[ra],decls:1,vars:1,consts:[["class","card item-card shadow-sm",3,"ngStyle","click",4,"ngIf"],[1,"card","item-card","shadow-sm",3,"ngStyle","click"],["height","50%","width","100%",1,"item-img","card-img-top",3,"src"],[1,"card-body","align-items-center"],[1,"card-title"],[4,"ngIf"],[1,"card-footer"],[1,"row","justify-content-center","align-items-center"],[1,"col-auto"],[1,"card-item-price"],["class","col-auto",4,"ngIf"],[3,"style","nbRatings","globalNote","size","click",4,"ngIf"],[3,"nbRatings","globalNote","size","click"]],template:function(t,e){1&t&&_a(0,PP,13,10,"div",0),2&t&&Ea("ngIf",e.iItem)},directives:[fd,Ad,pP],styles:[".item-card[_ngcontent-%COMP%]{cursor:pointer}"]}),xP),RP=["container"],FP=function(t,e,n){return{"col-6":t,"d-md-block":e,"d-none":n}};function MP(t,e){if(1&t&&(Ia(0,"div",13),Aa(1,"app-item-card",14),Ta()),2&t){var n=e.$implicit,r=e.index,i=La(2);Ea("ngClass",dl(4,FP,2!==r,2===r,2===r)),lo(1),Ea("iItem",n)("width","100%")("height",i.cardItemHeight)}}var LP=function(t){return{active:t}};function UP(t,e){if(1&t&&(Ia(0,"div",10),Ia(1,"div",11),_a(2,MP,2,8,"div",12),Ta(),Ta()),2&t){var n=e.$implicit;Ea("ngClass",hl(2,LP,0===e.index)),lo(2),Ea("ngForOf",n)}}var VP,jP=((VP=function(){function t(e){tt(this,t),this.itemService=e,this.item_type="course"}return nt(t,[{key:"ngAfterViewInit",value:function(){console.log("ngOnInit"),this.convert1DTo2DArray()}},{key:"ngOnInit",value:function(){console.log("ngOnInit")}},{key:"ngOnChanges",value:function(t){console.log("ngOnChanges",t)}},{key:"convert1DTo2DArray",value:function(){if(!this.iItems)return null;for(var t=[],e=Array.from(this.iItems),n=+this.carousel.nativeElement.width-150,r=3,i=n/r;i<145&&i>185&&r>=1;)console.log("nbCarouselCol",r,i),i<145?(i=145,r--):i>185&&(i=185,r++),i=n/r,console.log("nbCarouselCol",r,i);for(this.cardItemWidth=i+"px",this.cardItemHeight="16.5em";e.length;)t.push(e.splice(0,r));console.log(t),this.iItems2d=t}}]),t}()).\u0275fac=function(t){return new(t||VP)(ka(eP))},VP.\u0275cmp=hn({type:VP,selectors:[["app-items-carousel"]],viewQuery:function(t,e){var n;1&t&&Pl(RP,!0),2&t&&Dl(n=Ml())&&(e.carousel=n.first)},inputs:{iItems:"iItems",iAuthor:"iAuthor",item_type:"item_type"},features:[On],decls:14,vars:1,consts:[[1,"items-carousel","mx-3"],["id","carouselExampleIndicators","data-ride","carousel",1,"carousel","slide","container"],["id","w-cart",1,"carousel-inner"],["class","carousel-item",3,"ngClass",4,"ngFor","ngForOf"],["href","#carouselExampleIndicators","role","button","data-slide","prev",1,"carousel-control","carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"sr-only"],["href","#carouselExampleIndicators","role","button","data-slide","next",1,"carousel-control","carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["container",""],[1,"carousel-item",3,"ngClass"],[1,"row","justify-content-around"],["class","col-md-3",3,"ngClass",4,"ngFor","ngForOf"],[1,"col-md-3",3,"ngClass"],[3,"iItem","width","height"]],template:function(t,e){1&t&&(Ia(0,"div",0),Ia(1,"div",1),Ia(2,"div",2),_a(3,UP,3,4,"div",3),Ta(),Ia(4,"a",4),Aa(5,"span",5),Ia(6,"span",6),_u(7,"Previous"),Ta(),Ta(),Ia(8,"a",7),Aa(9,"span",8),Ia(10,"span",6),_u(11,"Next"),Ta(),Ta(),Ta(),Ta(),Aa(12,"div",null,9)),2&t&&(lo(3),Ea("ngForOf",e.iItems2d))},directives:[ld,ad,NP],styles:[".carousel-item[_ngcontent-%COMP%]{flex-grow:1;flex-shrink:0;flex-basis:450px}.carousel-indicators[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:grey;position:relative;top:70px}.carousel-control[_ngcontent-%COMP%]{margin:0!important;padding:0!important;width:15px}.carousel-control-next-icon[_ngcontent-%COMP%], .carousel-control-prev-icon[_ngcontent-%COMP%]{background-color:grey;font-size:xx-large}.carousel-control-prev-icon[_ngcontent-%COMP%]{position:relative;right:10px}.carousel-control-next-icon[_ngcontent-%COMP%]{position:relative;left:10px}"]}),VP),BP=["star"];function qP(t,e){if(1&t){var n=Pa();Ia(0,"button",21),Ra("click",(function(){er(n);var t=e.$implicit;return La().selectNote(t)})),Aa(1,"i",22,23),Ta()}}function WP(t,e){1&t&&(Ia(0,"div",24),_u(1,"R\xe9sumer votre avis en quelques mots"),Ta())}function HP(t,e){1&t&&(Ia(0,"div",24),_u(1," Qu'est-ce que vous avez aim\xe9 ou pas aim\xe9 ? "),Ta())}var zP,GP,KP=function(t){return{"is-invalid":t}},QP=((GP=function(){function t(e,n,r,i,o){tt(this,t),this.formBuilder=e,this._NgbActiveModal=n,this.ratingService=r,this.renderer=i,this.changeDetectorRef=o,this.notes=[1,2,3,4,5]}return nt(t,[{key:"ngOnInit",value:function(){this.ratingForm=this.formBuilder.group({title:["",[qp.required]],comment:["",[qp.required]]})}},{key:"ngAfterViewInit",value:function(){this.fillForm(),this.changeDetectorRef.detectChanges()}},{key:"fillForm",value:function(){this.rating&&(this.ratingForm.patchValue({title:this.rating.title,comment:this.rating.comment},{emitEvent:!1}),this.user=this.rating.user,this.course=this.rating.course,this.selectNote(this.rating.note))}},{key:"selectNote",value:function(t){var e=this,n=0;this.stars.forEach((function(r){++n<=t?e.renderer.setStyle(r.nativeElement,"color","#fcc632"):n>t&&e.renderer.setStyle(r.nativeElement,"color","#e2e3e4")})),this.note=t}},{key:"shouldShowRequiredError",value:function(t){return!this.ratingForm.get(t).valid&&this.ratingForm.get(t).touched}},{key:"passBack",value:function(){var t=this;console.log("passBack",this.note,this.course,this.user),this.note&&this.course&&this.user&&(this.rating?(console.log("passBack",this.rating),this.getRatingFormValues(this.rating),this.ratingService.updateRating(this.rating,(function(e){console.warn("close modal no val",e),e&&(console.warn("close modal",e),t.activeModal.close(e))}))):(this.rating=new QO(null,null,null,null,null,null,null),this.getRatingFormValues(this.rating),this.ratingService.addRatingInDB(this.rating,(function(e){console.warn("close modal no val",e),e&&(console.warn("close modal",e),t.activeModal.close(e))}))))}},{key:"getRatingFormValues",value:function(t){t.note=this.note,t.title=this.ratingForm.get("title").value,t.comment=this.ratingForm.get("comment").value,t.user=this.user,t.course=this.course}},{key:"activeModal",get:function(){return this._NgbActiveModal}}]),t}()).\u0275fac=function(t){return new(t||GP)(ka(Bg),ka(wA),ka(ZO),ka(ju),ka(Ms))},GP.\u0275cmp=hn({type:GP,selectors:[["app-createRating"]],viewQuery:function(t,e){var n;1&t&&Pl(BP,!0),2&t&&Dl(n=Ml())&&(e.stars=n)},inputs:{course:"course",user:"user",rating:"rating"},decls:39,vars:13,consts:[["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],["role","form",1,"form-item",3,"formGroup"],[1,"note","my-3"],[2,"color","rgb(247, 103, 103)"],[1,"notes-btn","text-center","w-100"],["class","btn",3,"click",4,"ngFor","ngForOf"],[1,"separation-line"],[1,"form-group","my-3"],["for","title"],["popTitleContent",""],["id","title","formControlName","title","type","text","placeholder","R\xe9sumer votre avis en quelques mots","triggers","manual","container","body","required","",1,"form-control",3,"ngClass","ngbPopover","autoClose","click"],["popoverTitle","ngbPopover"],["for","comment"],["popCommentContent",""],["placeholder","Qu'est-ce que vous avez aim\xe9 ou pas aim\xe9 ?","formControlName","comment","id","comment","rows","5","triggers","manual","container","body","required","",1,"form-control",3,"ngClass","ngbPopover","autoClose","click"],["popoverComment","ngbPopover"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","button",3,"disabled","click"],[1,"btn",3,"click"],[1,"review-star","fa","fa-star"],["star",""],[1,"text-secondary"]],template:function(t,e){if(1&t){var n=Pa();Ia(0,"div",0),Ia(1,"div",1),Ia(2,"div",2),Ia(3,"form",3),Ia(4,"div",4),Ia(5,"h4"),_u(6," Note g\xe9n\xe9rale "),Ia(7,"span",5),_u(8,"*"),Ta(),Ta(),Ia(9,"div",6),_a(10,qP,3,0,"button",7),Ta(),Ta(),Aa(11,"hr",8),Ia(12,"div",9),Ia(13,"label",10),Ia(14,"h4"),_u(15," Titre "),Ia(16,"span",5),_u(17,"*"),Ta(),Ta(),Ta(),_a(18,WP,2,0,"ng-template",null,11,jl),Ia(20,"input",12,13),Ra("click",(function(){er(n);var t=wa(21);return e.shouldShowRequiredError("title")&&t.open()})),Ta(),Ta(),Aa(22,"hr",8),Ia(23,"div",9),Ia(24,"label",14),Ia(25,"h4"),_u(26," Commentaire "),Ia(27,"span",5),_u(28,"*"),Ta(),Ta(),Ta(),_a(29,HP,2,0,"ng-template",null,15,jl),Ia(31,"textarea",16,17),Ra("click",(function(){er(n);var t=wa(32);return e.shouldShowRequiredError("comment")&&t.open()})),_u(33,"          "),Ta(),Ta(),Ta(),Ta(),Ia(34,"div",18),Ia(35,"button",19),Ra("click",(function(){return e.activeModal.close()})),_u(36,"Annuler"),Ta(),Ia(37,"button",20),Ra("click",(function(){return e.passBack()})),_u(38," Enregistrer "),Ta(),Ta(),Ta(),Ta()}if(2&t){var r=wa(19),i=wa(30);lo(3),Ea("formGroup",e.ratingForm),lo(7),Ea("ngForOf",e.notes),lo(10),Ea("ngClass",hl(9,KP,e.shouldShowRequiredError("title")))("ngbPopover",r)("autoClose","outside"),lo(11),Ea("ngClass",hl(11,KP,e.shouldShowRequiredError("comment")))("ngbPopover",i)("autoClose","outside"),lo(6),Ea("disabled",e.ratingForm.invalid&&!e.note)}},directives:[rg,Mp,ug,ld,Dp,Fp,Ig,Dg,ad,gD],styles:[".review-star[_ngcontent-%COMP%]{color:#e2e3e4;font-size:2.2rem}.notes-btn[_ngcontent-%COMP%]{display:inline-block;margin-left:auto;margin-right:auto}"]}),GP),$P=((zP=function(){function t(e,n){tt(this,t),this.userService=e,this.router=n,this.isConnected=new wt,this.hasAuthResult=!1,this._authUser=new YO(null,null,null,null,null,null,null,null,null,null,null,null,null,null)}return nt(t,[{key:"getAuth",value:function(){return this.isConnected.asObservable()}},{key:"createAccountWithEmailAndPassword",value:function(t,e){return new Promise((function(n,r){nm.auth().createUserWithEmailAndPassword(t,e).then((function(){n()})).catch((function(t){r(t.code)}))}))}},{key:"createAccountWith",value:function(t){var e=this;return new Promise((function(n,r){t&&e.userService.addNewUserToDB(t).then((function(t){t?n():r()})).catch((function(t){r(t.code)}))}))}},{key:"sendEmailVerification",value:function(){return new Promise((function(t,e){var n=nm.auth().currentUser.email;nm.auth().sendSignInLinkToEmail(n,{url:"https://netskills.herokuapp.com/auth",handleCodeInApp:!0}).then((function(){window.localStorage.setItem("netSkillsEmailForSignIn",n),t()})).catch((function(t){console.error(t.message),e(t)}))}))}},{key:"isEmailVerificationLink",value:function(){return new Promise((function(t,e){nm.auth().isSignInWithEmailLink(window.location.href)?t(!0):e(!1)}))}},{key:"emailVerification",value:function(t){return new Promise((function(e,n){console.error("authService emailVerification"),nm.auth().signInWithEmailLink(t,window.location.href).then((function(t){window.localStorage.removeItem("netSkillsEmailForSignIn"),console.error("signInWithEmailLink"),e(t)})).catch((function(t){n(t)}))}))}},{key:"signInUser",value:function(t,e){var n=this;return nm.auth().signInWithEmailAndPassword(t,e).then((function(t){if(console.warn(t),t.user)return t.user.emailVerified?t.user:(n.sendEmailVerification(),"auth/email-not-verified")})).catch((function(t){return console.error(t),t}))}},{key:"googleSignIn",value:function(t){var e=new nm.auth.GoogleAuthProvider;return nm.auth().signInWithPopup(e).then(t)}},{key:"facebookSignIn",value:function(t){var e=new nm.auth.FacebookAuthProvider;return nm.auth().signInWithPopup(e).then(t)}},{key:"authStateChanged",value:function(){var t=this;return console.log("authStateChangeds"),new Promise((function(e,n){nm.auth().onAuthStateChanged((function(n){n?n.emailVerified?t.getCurrentUserDataWithId(n.uid).then((function(n){n?(t.hasAuthResult=!0,t.isAuth=n,t.isConnected.next(!0),e(!0)):(t.isAuth=!1,t.isConnected.next(!1),e(!1))})):(t.isAuth=!1,t.isConnected.next(!1),e(!1)):(t.isAuth=!1,t.hasAuthResult=!0,t.isConnected.next(!1),e(!1))}))}))}},{key:"getCurrentUserDataWithId",value:function(t){var e=this;return this.userService.getSingleUserFromDBWithId(t).then((function(n){return n?(n.id=t,e._authUser=n,!0):(e.signOutUser(),!1)}))}},{key:"updatePasswordWith",value:function(t,e){return new Promise((function(n,r){t||t.length||r(),e||(e=nm.auth().currentUser),e.updatePassword(t).then((function(){n()})).catch((function(t){r(t)}))}))}},{key:"confirmPasswordReset",value:function(t,e){return new Promise((function(n,r){e||r(),nm.auth().confirmPasswordReset(t,e).then((function(){n()})).catch((function(t){r(t)}))}))}},{key:"sendMailPasswordReinitialisation",value:function(t){return new Promise((function(e,n){var r=nm.auth();nm.auth().useDeviceLanguage(),r.sendPasswordResetEmail(t,{url:"https://localhost:4200/auth",handleCodeInApp:!0}).then((function(){e()})).catch((function(t){console.error(t.message),n(t)}))}))}},{key:"signOutUser",value:function(){var t=this;return nm.auth().signOut().then((function(){return t.isAuth=!1,t._authUser=null,!0})).catch((function(t){return console.error(t),!1}))}},{key:"authUser",get:function(){return this._authUser}},{key:"isAuth",get:function(){return this._isAuth},set:function(t){this._isAuth=t}},{key:"preSignUpUser",get:function(){return this._preSignUpUser},set:function(t){this._preSignUpUser=t}}]),t}()).\u0275fac=function(t){return new(t||zP)(He(XO),He(y_))},zP.\u0275prov=se({token:zP,factory:zP.\u0275fac,providedIn:"root"}),zP),YP=["ratingDeletingcontent"];function JP(t,e){1&t&&(Ia(0,"div",2),Ia(1,"button",3),Ra("click",(function(){return(0,e.dismiss)(!1)})),Ia(2,"span",4),_u(3,"\xd7"),Ta(),Ta(),Ta(),Ia(4,"div",5),Ia(5,"p"),Ia(6,"b"),_u(7,"Voulez-vous supprimer votre avis ?"),Ta(),Ta(),Ta(),Ia(8,"div",6),Ia(9,"button",7),Ra("click",(function(){return(0,e.dismiss)(!1)})),_u(10,"Annuler"),Ta(),Ia(11,"button",8),Ra("click",(function(){return(0,e.close)(!0)})),_u(12,"Supprimer"),Ta(),Ta())}function XP(t,e){if(1&t&&Aa(0,"app-user-avatar",24),2&t){var n=La().$implicit;Ea("photoUrl",n.user.ppLink)("name",n.user.firstname+" "+n.user.lastname)}}function ZP(t,e){if(1&t&&(Ia(0,"div",25),Ia(1,"small",26),Ia(2,"b"),_u(3),Ta(),Ta(),Ta()),2&t){var n=La().$implicit;lo(3),ku(" ",n.user.firstname," ")}}function tx(t,e){if(1&t){var n=Pa();Ia(0,"div",27),Ia(1,"button",28),Ra("click",(function(){er(n);var t=La().$implicit;return La().updateRatingCourseModal(t)})),_u(2," Modifier "),Ta(),Ia(3,"button",29),Ra("click",(function(){er(n);var t=La(),e=t.$implicit,r=t.index;return La().deleteRating(e,r)})),_u(4," Supprimer "),Ta(),Ta()}}function ex(t,e){if(1&t&&(Ia(0,"div",9),Ia(1,"div",10),Ia(2,"div",11),_a(3,XP,1,2,"app-user-avatar",12),Ta(),_a(4,ZP,4,1,"div",13),Ta(),Ia(5,"div",14),Ia(6,"div",15),Aa(7,"i",16),Ia(8,"b",17),_u(9),Ta(),Ia(10,"span",18),_u(11,"-"),Ta(),Ia(12,"b",19),_u(13),Ta(),Ta(),Ia(14,"div",20),Ia(15,"small",21),_u(16),Ta(),Ta(),Ia(17,"p",22),_u(18),Ta(),_a(19,tx,5,0,"div",23),Ta(),Ta()),2&t){var n=e.$implicit,r=La();lo(3),Ea("ngIf",n.user),lo(1),Ea("ngIf",n.user),lo(5),wu(n.note),lo(4),wu(n.title),lo(3),ku("Le ",n.publicationDate,""),lo(2),ku(" ",n.comment," "),lo(1),Ea("ngIf",r.authService.authUser&&n.user&&n.user.id===r.authService.authUser.id)}}var nx,rx,ix=((nx=function(){function t(e,n,r){tt(this,t),this._authService=e,this.ratingService=n,this.modalService=r,this.newRatings=new yl,this.durationPublicationDate=""}return nt(t,[{key:"ngOnInit",value:function(){}},{key:"displayDurationPublicationDate",value:function(t){return(new Date).getTime()-new Date(this.ratings[t].publicationDate).getTime()}},{key:"updateRatingCourseModal",value:function(t){var e=this;if(this.authService.isAuth&&t.user.id===this.authService.authUser.id){var n=this.modalService.open(QP);n.componentInstance.course=t.course,n.componentInstance.user=t.user,n.componentInstance.rating=t,n.result.then((function(n){n&&(t=n,e.newRatings.next(!0))})).catch((function(t){console.log(t)}))}}},{key:"deleteRating",value:function(t,e){var n=this;this.authService.isAuth&&t.user.id===this.authService.authUser.id&&this.modalService.open(this.ratingDeletingModalContent).result.then((function(r){r&&n.ratingService.removeRating(t,(function(){n.ratings.splice(e,1),n.newRatings.next(!0)}))}))}},{key:"authService",get:function(){return this._authService}}]),t}()).\u0275fac=function(t){return new(t||nx)(ka($P),ka(ZO),ka(IA))},nx.\u0275cmp=hn({type:nx,selectors:[["app-rating-list"]],viewQuery:function(t,e){var n;1&t&&Pl(YP,!0),2&t&&Dl(n=Ml())&&(e.ratingDeletingModalContent=n.first)},inputs:{ratings:"ratings"},outputs:{newRatings:"newRatings"},decls:3,vars:1,consts:[["ratingDeletingcontent",""],["class","row rating-list align-self-center justify-content-center mb-4",4,"ngFor","ngForOf"],[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","text-center"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"row","rating-list","align-self-center","justify-content-center","mb-4"],[1,"col-2","rating-user-info","text-center"],[1,"user-img"],[3,"photoUrl","name",4,"ngIf"],["class","rating-user-name",4,"ngIf"],[1,"col-10","rating-content-info"],[1,"my-1"],[1,"fa","fa-star","icon-star","mr-1"],[1,"rating-note"],[1,"mx-1"],[1,"rating-title","mb-2"],[1,"mb-1"],[1,"publication-date"],[1,"rating-comment"],["class","btns-rating mt-3",4,"ngIf"],[3,"photoUrl","name"],[1,"rating-user-name"],[1,"user-name"],[1,"btns-rating","mt-3"],[1,"btn","btn-outline-secondary","btn-sm","mr-2",3,"click"],[1,"btn","btn-outline-danger","btn-sm","mr-2",3,"click"]],template:function(t,e){1&t&&(_a(0,JP,13,0,"ng-template",null,0,jl),_a(2,ex,20,7,"div",1)),2&t&&(lo(2),Ea("ngForOf",e.ratings))},directives:[ld,fd,vw],styles:[".user-img[_ngcontent-%COMP%]{height:3rem;width:3rem;margin-left:auto;margin-right:auto;margin-bottom:1em}.icon-star[_ngcontent-%COMP%]{color:#fcc632;font-size:1.1em}.rating-note[_ngcontent-%COMP%]{color:#fcc632;font-size:1.4em;font-weight:500}"]}),nx),ox=function(t){return{height:t}},sx=((rx=function(){function t(e,n,r,i){tt(this,t),this.categoryService=e,this.searchService=n,this.formBuilder=r,this.route=i,this.sortByName="",this.item="",this.query="",this.categoryValues=[],this.searchForm=this.formBuilder.group({category:[""],search:[""]})}return nt(t,[{key:"ngOnInit",value:function(){var t=this;console.log("SearchBarComponent ngOnInit"),this.categoryService.getCategoriesFromDB().then((function(e){t.categoryValues=e?Array.from(e):[],t.categoryValues.splice(0,0,new WO(Vh.ID,Vh.NAME,null)),t.idCategorySelected=t.categoryValues[0].id})).then((function(){t.route.queryParams.subscribe((function(e){if(e[Uh.CATEGORY]||e[Uh.QUERY]||e[Uh.ITEM]||e[Uh.SORT_OPTION]){var n=e[Uh.CATEGORY]?e[Uh.CATEGORY]:"";t.query=e[Uh.QUERY]?e[Uh.QUERY]:"",t.item=e[Uh.ITEM]?e[Uh.ITEM]:"",t.sortByName=e[Uh.SORT_OPTION]?e[Uh.SORT_OPTION]:"",console.error("route.queryParams",n,t.query),t.fillSearchForm(n),t.searchQuery()}}))}))}},{key:"getHeight",value:function(){switch(this.height){case"lg":return"3.2rem";case"md":return"2.8rem";case"sm":return"4rem"}}},{key:"getSelectType",value:function(){return Zg}},{key:"getSelectRadius",value:function(){return tm}},{key:"onSelectCategoryById",value:function(t){t&&(console.error("eeee fillSearchForm",t),this.idCategorySelected=t)}},{key:"fillSearchForm",value:function(t){var e,n=this;t?(e=this.categoryValues.find((function(e){return e.id===t})))?this.idCategorySelected=e.id:this.categoryValues.forEach((function(e){e.subCategories&&(e=e.subCategories.find((function(e){return e.id===t})))&&(n.idCategorySelected=e.id)})):this.idCategorySelected=Vh.ID,console.error("eeee fillSearchForm",t,this.idCategorySelected),this.query&&this.searchForm.patchValue({search:this.query})}},{key:"searchQuery",value:function(){this.query=this.searchForm.get("search").value,this.searchService.search(this.idCategorySelected,this.query,this.sortByName,this.item)}}]),t}()).\u0275fac=function(t){return new(t||rx)(ka(tP),ka(Y_),ka(Bg),ka(tb))},rx.\u0275cmp=hn({type:rx,selectors:[["app-search-bar"]],inputs:{height:"height"},decls:9,vars:13,consts:[["action","",1,"search-form","my-auto","nav-search",3,"formGroup","ngSubmit"],[1,"form-group","has-feedback"],[1,"input-group","mb-3","er"],[1,"input-group-prepend"],["id","courseCategory",1,"search-bar-elem",3,"width","height","categorySelectId","categoryValues","selectType","selectRadius","idCategorySelected"],["type","text","formControlName","search","name","search","id","search","placeholder","Rechercher","autocomplete","off",1,"form-control","input-search","search-bar-elem",3,"ngStyle"],[1,"icon-search-b","input-group-append"],["id","basic-addon1",1,"icon-search","input-group-text","search-bar-elem",3,"ngStyle","click"],["data-inline","false","data-icon","bi:search",1,"iconify"]],template:function(t,e){1&t&&(Ia(0,"form",0),Ra("ngSubmit",(function(){return e.searchQuery()})),Ia(1,"div",1),Ia(2,"div",2),Ia(3,"div",3),Ia(4,"app-categories-select",4),Ra("idCategorySelected",(function(t){return e.onSelectCategoryById(t)})),Ta(),Ta(),Aa(5,"input",5),Ia(6,"div",6),Ia(7,"span",7),Ra("click",(function(){return e.searchQuery()})),Aa(8,"span",8),Ta(),Ta(),Ta(),Ta(),Ta()),2&t&&(Ea("formGroup",e.searchForm),lo(4),Ea("width","md")("height",e.height)("categorySelectId",e.idCategorySelected)("categoryValues",e.categoryValues)("selectType",e.getSelectType().CAT_AND_SUB)("selectRadius",e.getSelectRadius().LEFT),lo(1),Ea("ngStyle",hl(9,ox,e.getHeight())),lo(2),Ea("ngStyle",hl(11,ox,e.getHeight())))},directives:[rg,Mp,ug,em,Dp,Fp,Ig,Ad],styles:[".icon-search[_ngcontent-%COMP%]{cursor:pointer;color:#2e7b9c;font-size:1.3rem;background-color:#fff;border-left:0;border-radius:0 3rem 3rem 0;-moz-border-radius:0 3rem 3rem 0;-webkit-border-radius:0 3rem 3rem 0}.input-search[_ngcontent-%COMP%]{border-right:0}"]}),rx);function ax(t,e){if(1&t){var n=Pa();Ia(0,"div",4),Ra("click",(function(){er(n);var t=La().$implicit;return La().onConsultUser(t)})),Ia(1,"div",5),Ia(2,"div",6),Aa(3,"app-user-avatar",7),Ta(),Ta(),Ia(4,"div",8),Ia(5,"div",9),Ia(6,"h5"),_u(7),Ta(),Ia(8,"div",10),Ia(9,"span",11),_u(10),Ta(),Ta(),Ta(),Ta(),Ta()}if(2&t){var r=La().$implicit,i=La();lo(3),Ea("photoUrl",i.userHasPpLink(r)?"":r.ppLink)("name",r.firstname+" "+r.lastname),lo(4),Cu("",r.firstname," ",r.lastname,""),lo(3),ku(" ",r.title," ")}}function ux(t,e){if(1&t&&(Ia(0,"div",1),_a(1,ax,11,5,"div",2),Aa(2,"hr",3),Ta()),2&t){var n=e.$implicit;lo(1),Ea("ngIf",n)}}var cx,lx=((cx=function(){function t(e){tt(this,t),this.router=e}return nt(t,[{key:"ngOnInit",value:function(){}},{key:"onConsultUser",value:function(t){t&&!t.data&&this.router.navigate([sm.USER,t.id])}},{key:"getTheSartOfDescription",value:function(t){return t.bio?t.bio.substring(0,30):""}},{key:"userHasPpLink",value:function(t){return!!t&&t.ppLink===rm.DEFAULT_PP_USER}}]),t}()).\u0275fac=function(t){return new(t||cx)(ka(y_))},cx.\u0275cmp=hn({type:cx,selectors:[["app-user-list"]],inputs:{users:"users"},decls:1,vars:1,consts:[["class","item-list my-3",4,"ngFor","ngForOf"],[1,"item-list","my-3"],["class","row align-items-center my-4",3,"click",4,"ngIf"],[1,"separator-line"],[1,"row","align-items-center","my-4",3,"click"],[1,"item-list-img","item-list-click","col-3"],[1,"user-img"],[3,"photoUrl","name"],[1,"col-9"],[1,"item-list-click"],[1,"item-section-title"],[1,"instructor-title"]],template:function(t,e){1&t&&_a(0,ux,3,1,"div",0),2&t&&Ea("ngForOf",e.users)},directives:[ld,fd,vw],styles:[".item-list[_ngcontent-%COMP%]{height:8rem}.item-list-img[_ngcontent-%COMP%]{height:7rem;width:100%;margin-left:auto;margin-right:auto}.user-img[_ngcontent-%COMP%]{height:5.8rem;width:5.8rem;margin-left:auto}.user-img[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:contain;object-fit:contain}.item-p[_ngcontent-%COMP%]{font-size:.8rem}.item-list-click[_ngcontent-%COMP%]{cursor:pointer}.separator-line[_ngcontent-%COMP%]{margin-top:.2rem;margin-bottom:.2rem}"]}),cx);function hx(t,e){if(1&t&&(Da(0),Aa(1,"span",2),Oa()),2&t){var n=La();lo(1),Ea("innerHTML",n.i.text,Hi)}}function fx(t,e){1&t&&(Da(0,void 0,void 0),Oa())}var dx,px,vx,gx,mx,yx,bx,_x,wx=function(t){return{$implicit:t}},kx=function(t){return t[t.ing=0]="ing",t[t.pause=1]="pause",t[t.stop=2]="stop",t[t.done=3]="done",t}({}),Cx=((mx=function(){function t(e){tt(this,t),this.ngZone=e,this.fns=[],this.commands=[],this.ing=!1}return nt(t,[{key:"start",value:function(){var t=this;!0!==this.ing&&(this.ing=!0,this.nextTime=+new Date,this.ngZone.runOutsideAngular((function(){t.process()})))}},{key:"process",value:function(){for(var t=this;this.commands.length;)this.commands.shift()();var e=+new Date-this.nextTime,n=1+Math.floor(e/100);e=100-e%100,this.nextTime+=100*n;for(var r=0,i=this.fns.length;r<i;r+=2){var o=this.fns[r+1];if(0===o)this.fns[r](n);else{o+=2*n-1;var s=Math.floor(o/20);s>0&&this.fns[r](s),this.fns[r+1]=o%20+1}}this.ing&&setTimeout((function(){return t.process()}),e)}},{key:"add",value:function(t,e){var n=this;return this.commands.push((function(){n.fns.push(t),n.fns.push(1e3===e?1:0),n.ing=!0})),this}},{key:"remove",value:function(t){var e=this;return this.commands.push((function(){var n=e.fns.indexOf(t);-1!==n&&e.fns.splice(n,2),e.ing=e.fns.length>0})),this}}]),t}()).\u0275fac=function(t){return new(t||mx)(He(uh))},mx.\u0275prov=se({token:mx,factory:function(t){return mx.\u0275fac(t)}}),mx),Ex=((gx=function t(e){var n=this;tt(this,t),this.locale=e,this.demand=!1,this.leftTime=0,this.format="HH:mm:ss",this.timezone="+0000",this.formatDate=function(t){var e=t.date,r=t.formatStr,i=t.timezone;return Uf(new Date(e),r,n.locale,i||n.timezone||"+0000")}}).\u0275fac=function(t){return new(t||gx)(He(Yl))},gx.\u0275prov=se({factory:function(){return new gx(He(Yl))},token:gx,providedIn:"root"}),gx),Sx=((vx=function(){function t(e,n,r,i,o){tt(this,t),this.locale=e,this.timer=n,this.defCog=r,this.cdr=i,this.ngZone=o,this.frequency=1e3,this._notify={},this.status=kx.ing,this.isDestroy=!1,this.i={},this.left=0,this.event=new yl}return nt(t,[{key:"begin",value:function(){this.status=kx.ing,this.callEvent("start")}},{key:"restart",value:function(){this.status!==kx.stop&&this.destroy(),this.init(),this.callEvent("restart")}},{key:"stop",value:function(){this.status!==kx.stop&&(this.status=kx.stop,this.destroy(),this.callEvent("stop"))}},{key:"pause",value:function(){this.status!==kx.stop&&this.status!==kx.pause&&(this.status=kx.pause,this.callEvent("pause"))}},{key:"resume",value:function(){this.status!==kx.stop&&this.status===kx.pause&&(this.status=kx.ing,this.callEvent("resume"))}},{key:"callEvent",value:function(t){this.event.emit({action:t,left:this.left,status:this.status,text:this.i.text})}},{key:"init",value:function(){var t=this,e=this.locale,n=this.defCog,r=this.config=Object.assign(Object.assign(Object.assign({},new Ex(e)),n),this.config),i=this.frequency=~r.format.indexOf("S")?100:1e3;this.status=r.demand?kx.pause:kx.ing,this.getLeft();var o=this.reflow;this.reflow=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o.apply(t,[e,n])},Array.isArray(r.notify)&&r.notify.forEach((function(e){if(e<1)throw new Error("The notify config must be a positive integer.");e*=1e3,t._notify[e-=e%i]=!0})),this.timer.add(this.reflow,i).start(),this.reflow(0,!0)}},{key:"destroy",value:function(){return this.timer.remove(this.reflow),this}},{key:"reflow",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.isDestroy){var r=this.status,i=this.config,o=this._notify;if(n||r===kx.ing){var s=this.left=this.left-this.frequency*e;this.i={value:s,text:i.formatDate({date:s,formatStr:i.format,timezone:i.timezone})},"function"==typeof i.prettyText&&(this.i.text=i.prettyText(this.i.text)),this.cdr.detectChanges(),(0===i.notify||o[s])&&this.ngZone.run((function(){t.callEvent("notify")})),s<1&&this.ngZone.run((function(){t.status=kx.done,t.callEvent("done"),t.destroy()}))}}}},{key:"getLeft",value:function(){var t=this.config,e=this.frequency,n=1e3*t.leftTime,r=t.stopTime;!n&&r&&(n=r-(new Date).getTime()),this.left=n-n%e}},{key:"ngOnInit",value:function(){this.init(),this.config.demand||this.begin()}},{key:"ngOnDestroy",value:function(){this.isDestroy=!0,this.destroy()}},{key:"ngOnChanges",value:function(t){t.config.firstChange||this.restart()}}]),t}()).\u0275fac=function(t){return new(t||vx)(ka(Yl),ka(Cx),ka(Ex),ka(Ms),ka(uh))},vx.\u0275cmp=hn({type:vx,selectors:[["countdown"]],hostVars:2,hostBindings:function(t,e){2&t&&iu("count-down",!0)},inputs:{config:"config",render:"render"},outputs:{event:"event"},features:[On],decls:2,vars:5,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(t,e){1&t&&(_a(0,hx,2,1,"ng-container",0),_a(1,fx,1,0,"ng-container",1)),2&t&&(Ea("ngIf",!e.render),lo(1),Ea("ngTemplateOutlet",e.render)("ngTemplateOutletContext",hl(3,wx,e.i)))},directives:[fd,Dd],encapsulation:2,changeDetection:0}),vx),Ix=((px=function t(){tt(this,t)}).\u0275mod=vn({type:px}),px.\u0275inj=ae({factory:function(t){return new(t||px)},providers:[Cx],imports:[[dp]]}),px),Tx=((dx=function(){function t(){tt(this,t)}return nt(t,null,[{key:"forRoot",value:function(){return{ngModule:t,providers:[BO,eP,XO]}}}]),t}()).\u0275mod=vn({type:dx}),dx.\u0275inj=ae({factory:function(t){return new(t||dx)},imports:[[fk,Wk,dp,qg,Wg,FO,Ix],fk,Wk,dp,qg,Wg,FO,Ix]}),dx);yx=[ad,ud,ld,fd,Dd,Ad,Cd,Ed,Sd,Id,Td,rg,lv,gv,Dp,Zp,iv,Ip,cv,vv,nv,Fp,Mp,Dg,Fg,Lg,Vg,Og,Ng,ng,Zv,$v,sg,ug,Ig,lg,fg,$S,QS,GS,KS,zS,YS,ZS,eI,rI,sI,aI,fI,hI,gI,JI,YI,rA,tT,dA,hA,fA,lA,cA,uA,PA,NA,xA,RA,FA,HA,UA,VA,jA,BA,qA,WA,gD,bD,CD,rO,aO,sO,fO,xO,pO,OD,DD,AD,TD,Sx,ww,aP,IP,CP,lx,jP,NP,pP,ix,em,sx,_w,vw,uw,ew],bx=[Wd,Kd,Hd,Xd,fp,ip,op,Gd,sp,Qd,Yd,Jd,Zd],(_x=aP.\u0275cmp).directiveDefs=function(){return yx.map(fn)},_x.pipeDefs=function(){return bx.map(dn)};var Ax,Dx,Ox,Px,xx,Nx,Rx=function(t){return t[t.ADMIN=10]="ADMIN",t[t.STANDARD=1]="STANDARD",t}({}),Fx=function(){return["/admin/new"]},Mx=function(t){return{active:t}},Lx=function(t,e){return{active:t,show:e}},Ux=((Ox=function(){function t(e,n,r,i,o,s,a){tt(this,t),this.formBuilder=e,this.categoryService=n,this.userService=r,this.authService=i,this.itemService=o,this.imageService=s,this.datePipe=a,this.userSelectedId="",this.categorySelectedId="",this.subCategorySelectedId="",this.subCategoryValues=[],this.activeTab="course",this.courseForm=this.formBuilder.group({courseTitle:["",[qp.required]],courseCatchPhrase:["",[qp.required]],courseDescription:["",[qp.required]],coursePrice:["",[qp.required]],courseImageLink:[""]}),this.categoryForm=this.formBuilder.group({categoryName:["",[qp.required]]}),this.subcategoryForm=this.formBuilder.group({subcategoryName:["",[qp.required]]}),this.userForm=this.formBuilder.group({userFirstname:["",[qp.required]],userLastname:["",[qp.required]],userTitle:["",[qp.required]],userBio:["",[qp.required]],userWebSiteLink:["",[qp.required]]})}return nt(t,[{key:"ngOnInit",value:function(){this.getInstructorsFromService(),this.getCategoriesFromService(),this.getImagePreviewFromService()}},{key:"ngAfterViewInit",value:function(){this.courseForm.addControl("instructorSelectForm",this.userSelectComponent.userSelectForm),this.userSelectComponent.userSelectForm.setParent(this.courseForm),this.courseForm.addControl("categorySelectForm",this.categorySelectComponent.categorySelectForm),this.categorySelectComponent.categorySelectForm.setParent(this.courseForm),this.courseForm.addControl("subCategorySelectForm",this.subCategorySelectComponent.categorySelectForm),this.subCategorySelectComponent.categorySelectForm.setParent(this.courseForm),this.subcategoryForm.addControl("categoryForSubSelectForm",this.categoryForSubSelectComponent.categorySelectForm),this.categoryForSubSelectComponent.categorySelectForm.setParent(this.subcategoryForm)}},{key:"getImagePreviewFromService",value:function(){var t=this;console.log("getImagePreviewFromService ItemMediaFormComponent"),this.imagePreviewSubscription=this.imageService.imageSubject.subscribe((function(e){console.log("imagePreviewSubscription :",e),t.urlImagePreview=e}),(function(t){return console.error("Observer got an error: "+t)}),(function(){console.log("Observer got a complete notification")}))}},{key:"getInstructorsFromService",value:function(){var t=this;console.log("getInstructorsFromService"),this.userSubscription=this.userService.usersSubject.subscribe((function(e){console.warn(e),t.userValues=e,t.userSelected=t.userValues?t.userValues[0]:null,t.userSelectedId=t.userSelected?t.userSelected.id:""}),(function(t){return console.error("Observer got an error: "+t)}),(function(){console.log("Observer got a complete notification")})),this.userService.getUsersFromDB()}},{key:"getCategoriesFromService",value:function(){var t=this;console.log("getCategoriesFromService ItemCategoryFormComponent"),this.categorySubscription=this.categoryService.categoriesSubject.subscribe((function(e){console.warn(e),t.categoryValues=e,t.categorySelected=t.categoryValues[0],t.categorySelectedId=t.categoryValues.length?t.categoryValues[0].id:"",t.subCategorySelected=t.categorySelected.subCategories.length?t.categorySelected.subCategories[0]:null,t.subCategorySelectedId=t.subCategorySelected?t.subCategorySelected.id:""}),(function(t){return console.error("Observer got an error: "+t)}),(function(){console.log("Observer got a complete notification")})),this.categoryService.getCategoriesFromDB()}},{key:"onSelectCategoryById",value:function(t){t&&(this.categorySelected=this.categoryValues.find((function(e){return e.id===t})),this.subCategoryValues=this.categorySelected?this.categorySelected.subCategories:[],this.subCategorySelectedId=this.subCategoryValues.length?this.subCategoryValues[0].id:"",console.warn("onSelectCategoryById",this.categorySelected.name))}},{key:"onSelectSubCategoryById",value:function(t){console.warn("onSelectSubCategoryById",t),t&&(this.subCategorySelected=this.subCategoryValues.find((function(e){return e.id===t})),this.subCategorySelectedId=this.subCategorySelected?this.subCategorySelected.id:"")}},{key:"onSelectCategoryForSubById",value:function(t){console.warn("onSelectCategoryForSubById",t),t&&(this.categorySelectedForSub=this.categoryValues.find((function(e){return e.id===t})))}},{key:"onSelectUser",value:function(t){console.warn("selectInstructor",t.lastname),t&&(this.userSelected=t)}},{key:"displayPanel",value:function(t){this.activeTab=t}},{key:"onCreateCategory",value:function(){var t=this;console.log("onCreateCategory");var e=this.categoryForm.get("categoryName").value;this.categoryService.addCategoryToDB(new WO(null,e,[])).then((function(e){e?(t.categoryForm.patchValue({categoryName:""}),alert("SUCCESS!! :-)\n\n"+JSON.stringify(e,null,4)),t.categoryForm.reset()):alert("FAILED!! :-(\n\n")}))}},{key:"onCreateSubCategory",value:function(){var t=this;console.log("onCreateSubCategory");var e=this.categorySelectedForSub;console.warn("categorySelectedForSub",this.categorySelectedForSub);var n=this.subcategoryForm.get("subcategoryName").value;this.categoryService.addSubCategoryToDB(e,new WO(null,n,[])).then((function(e){e?(t.subcategoryForm.patchValue({subcategoryName:""}),alert("SUCCESS!! :-)\n\n"+JSON.stringify(e,null,4)),t.subcategoryForm.reset()):alert("FAILED!! :-(\n\n")}))}},{key:"onCreateCourse",value:function(){var t=this;console.log("onCreateCourse");var e=this.courseForm.get("courseTitle").value,n=this.courseForm.get("courseCatchPhrase").value,r=this.categorySelected,i=this.subCategorySelected;console.warn("categorySelected",this.categorySelected);var o=this.courseForm.get("courseDescription").value,s=this.courseForm.get("coursePrice").value,a=[this.userSelected.getIUser(),this.authService.authUser.getIUser()],u=(this.courseForm.get("courseSrcLink"),[]),c=this.datePipe.transform(Date.now().toString(),"dd/MM/yyyy"),l=[];if(this.imageService.imageToUpload){var h=nm.storage().ref("images").child("courses");this.imageService.uploadFile(this.imageService.imageToUpload,h).then((function(h){h&&""!==h?(console.log("Image Link :",h),t.createCourse(new $O(null,"course",e,new WO(r.id,r.name,[i]),l,n,o,s,a,c,!0,[],null,!0,null,u,[],0,h,"",""))):t.createCourse(new $O(null,"course",e,new WO(r.id,r.name,[i]),l,n,o,s,a,c,!0,[],null,!0,null,u,[],0,rm.DEFAULT_IMG_COURSE,"",""))}),(function(t){console.log(t)}))}else this.createCourse(new $O(null,"course",e,new WO(r.id,r.name,[i]),l,n,o,s,a,c,!0,[],null,!0,null,u,[],0,rm.DEFAULT_IMG_COURSE,"",""))}},{key:"createCourse",value:function(t){var e=this;this.itemService.addNewCourseInDBByAdmin(t).then((function(t){t?(alert("SUCCESS!! :-)\n\n"+JSON.stringify(t,null,4)),e.courseForm.reset()):alert("FAILED!! :-(\n\n")}))}},{key:"onCreateUser",value:function(){var t=this;console.error("onCreateInstructor",this.categorySelectComponent.idCategorySelected);var e=this.userForm.get("userFirstname").value,n=this.userForm.get("userLastname").value,r=this.userForm.get("userTitle").value,i=this.userForm.get("userBio").value;this.userService.addNewUserToDB(new YO(null,e,n,null,null,null,null,r,i,"Autre",Rx.STANDARD,!0,[],[])).then((function(e){e?(alert("SUCCESS!! :-)\n\n"+JSON.stringify(t.userForm.value,null,4)),t.userForm.reset()):alert("FAILED!! :-(\n\n"+JSON.stringify(t.userForm.value,null,4))}))}},{key:"onPreviewImage",value:function(t){t.target.files&&t.target.files[0]?this.imageService.getImagePreview(t.target.files[0]):this.urlImagePreview=null}},{key:"getSelectType",value:function(){return Zg}},{key:"ngOnDestroy",value:function(){null!=this.imagePreviewSubscription&&this.imagePreviewSubscription.unsubscribe(),null!=this.categorySubscription&&this.categorySubscription.unsubscribe(),null!=this.userSubscription&&this.userSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||Ox)(ka(Bg),ka(tP),ka(XO),ka($P),ka(eP),ka(BO),ka(Qd))},Ox.\u0275cmp=hn({type:Ox,selectors:[["app-new-element"]],viewQuery:function(t,e){var n;1&t&&(Pl(_w,!0),Pl(em,!0),Pl(em,!0),Pl(em,!0)),2&t&&(Dl(n=Ml())&&(e.userSelectComponent=n.first),Dl(n=Ml())&&(e.categorySelectComponent=n.first),Dl(n=Ml())&&(e.subCategorySelectComponent=n.first),Dl(n=Ml())&&(e.categoryForSubSelectComponent=n.first))},decls:107,vars:47,consts:[[1,"container"],[1,"my-5"],["id","pills-tab","role","tablist",1,"nav","nav-pills","nav-justified","nav-admin-h","border","border-primary","rounded","mb-3"],[1,"nav-item",3,"routerLink","fragment"],["id","pills-course-tab","data-toggle","pill","role","tab","aria-controls","pills-course","aria-selected","false",1,"nav-link","active",3,"ngClass","click"],["id","pills-category-tab","data-toggle","pill","role","tab","aria-controls","pills-category","aria-selected","false",1,"nav-link",3,"ngClass","click"],["id","pills-instructor-tab","data-toggle","pill","role","tab","aria-controls","pills-instructor","aria-selected","true",1,"nav-link",3,"ngClass","click"],["id","pills-tabContent",1,"tab-content"],["id","course","role","tabpanel","aria-labelledby","pills-course-tab",1,"tab-pane","fade","active",3,"ngClass"],["role","form",3,"formGroup"],["for","courseTitle",1,"sr-only"],["type","text","id","courseTitle","formControlName","courseTitle","placeholder","Titre...",1,"form-control","mb-3"],["for","courseCatchPhrase",1,"sr-only"],["type","text","id","courseCatchPhrase","formControlName","courseCatchPhrase","placeholder","Phrase d'accroche...",1,"form-control","mb-3"],[1,"form-group","row","mb-3"],[1,"col-sm-8"],["for","courseUser",1,"sr-only"],["id","courseUser",3,"height","userSelectId","userValues","userSelected"],[1,"col-sm-4"],[1,"btn","btn-primary","btn-block",3,"click"],["for","courseCategory",1,"sr-only"],["id","courseCategory",3,"height","categorySelectId","categoryValues","idCategorySelected"],["for","courseSubCategory",1,"sr-only"],["id","courseSubCategory",3,"height","categorySelectId","categoryValues","idCategorySelected"],["for","courseDescription",1,"sr-only"],["id","courseDescription","formControlName","courseDescription","rows","5","placeholder","Descritpion...",1,"form-control","mb-3"],["for","coursePrice",1,"sr-only"],["type","number","id","coursePrice","formControlName","coursePrice","min","1","pattern","\\d+","placeholder","Prix...",1,"form-control","mb-3"],["for","courseSrcLink",1,"sr-only"],["type","text","id","courseSrcLink","formControlName","courseSrcLink","placeholder","Lien...",1,"form-control","mb-3"],["for","courseImgLink",1,"sr-only"],["type","file","formControlName","courseImageLink","id","courseImageLink","accept","image/*",1,"form-control-file",3,"change"],[1,"mt-3"],[1,"border",2,"max-width","400px",3,"src"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block","mt-3",3,"disabled","click"],["id","category","role","tabpanel","aria-labelledby","pills-category-tab",1,"tab-pane","fade",3,"ngClass"],[1,"subcategory","mb-4"],["for","categoryName",1,"sr-only"],["type","text","id","categoryName","formControlName","categoryName","placeholder","Name...",1,"form-control","mb-3"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block",3,"disabled","click"],[1,"subcategory","mt-4"],[1,"mb-3"],["for","subCategory",1,""],["id","subCategory",3,"height","categorySelectId","categoryValues","idCategorySelected"],["for","subcategoryName",1,"sr-only"],["type","text","id","subcategoryName","formControlName","subcategoryName","placeholder","Name...",1,"form-control","btn-lg","btn-block","mb-3"],["id","#instructor","role","tabpanel","aria-labelledby","pills-instructor-tab",1,"tab-pane","fade",3,"ngClass"],["for","userFirstname",1,"sr-only"],["type","text","id","userFirstname","formControlName","userFirstname","placeholder","Pr\xe9nom...",1,"form-control","mb-3"],["for","userLastname",1,"sr-only"],["type","text","id","userLastname","formControlName","userLastname","placeholder","Nom...",1,"form-control","mb-3"],["for","userTitle",1,"sr-only"],["type","text","id","userTitle","formControlName","userTitle","placeholder","Titre...",1,"form-control","mb-3"],["for","userBio",1,"sr-only"],["id","userBio","formControlName","userBio","rows","5","placeholder","Bio...",1,"form-control","mb-3"]],template:function(t,e){1&t&&(Ia(0,"div",0),Ia(1,"div",1),Ia(2,"ul",2),Ia(3,"li",3),Ia(4,"a",4),Ra("click",(function(){return e.displayPanel("course")})),_u(5,"Formation"),Ta(),Ta(),Ia(6,"li",3),Ia(7,"a",5),Ra("click",(function(){return e.displayPanel("category")})),_u(8,"Cat\xe9gorie"),Ta(),Ta(),Ia(9,"li",3),Ia(10,"a",6),Ra("click",(function(){return e.displayPanel("instructor")})),_u(11,"Formateur"),Ta(),Ta(),Ta(),Ia(12,"div",7),Ia(13,"div",8),Ia(14,"h3"),_u(15,"Formation"),Ta(),Ia(16,"form",9),Ia(17,"label",10),_u(18,"Title"),Ta(),Aa(19,"input",11),Ia(20,"label",12),_u(21,"Phrase d'accroche"),Ta(),Aa(22,"input",13),Ia(23,"div",14),Ia(24,"div",15),Ia(25,"label",16),_u(26,"Formateur"),Ta(),Ia(27,"app-user-select",17),Ra("userSelected",(function(t){return e.onSelectUser(t)})),Ta(),Ta(),Ia(28,"div",18),Ia(29,"button",19),Ra("click",(function(){return e.displayPanel("instructor")})),_u(30," Ajouter un formateur "),Ta(),Ta(),Ta(),Ia(31,"div",14),Ia(32,"div",15),Ia(33,"label",20),_u(34,"Cat\xe9gorie"),Ta(),Ia(35,"app-categories-select",21),Ra("idCategorySelected",(function(t){return e.onSelectCategoryById(t)})),Ta(),Ta(),Ia(36,"div",18),Ia(37,"button",19),Ra("click",(function(){return e.displayPanel("category")})),_u(38," Ajouter une cat\xe9gorie "),Ta(),Ta(),Ta(),Ia(39,"div",14),Ia(40,"div",15),Ia(41,"label",22),_u(42,"Sous-cat\xe9gorie"),Ta(),Ia(43,"app-categories-select",23),Ra("idCategorySelected",(function(t){return e.onSelectSubCategoryById(t)})),Ta(),Ta(),Ia(44,"div",18),Ia(45,"button",19),Ra("click",(function(){return e.displayPanel("category")})),_u(46," Ajouter une sous-cat\xe9gorie "),Ta(),Ta(),Ta(),Ia(47,"label",24),_u(48,"Description"),Ta(),Ia(49,"textarea",25),_u(50,"          "),Ta(),Ia(51,"label",26),_u(52,"Prix"),Ta(),Aa(53,"input",27),Ia(54,"label",28),_u(55,"Lien url"),Ta(),Aa(56,"input",29),Ia(57,"label",30),_u(58,"Image"),Ta(),Ia(59,"input",31),Ra("change",(function(t){return e.onPreviewImage(t)})),Ta(),Ia(60,"div",32),Aa(61,"img",33),Ta(),Ia(62,"button",34),Ra("click",(function(){return e.onCreateCourse()})),_u(63," Ajouter une formation "),Ta(),Ta(),Ta(),Ia(64,"div",35),Ia(65,"div",36),Ia(66,"h3"),_u(67,"Cat\xe9gorie"),Ta(),Ia(68,"form",9),Ia(69,"label",37),_u(70,"Nom de la cat\xe9gorie"),Ta(),Aa(71,"input",38),Ia(72,"button",39),Ra("click",(function(){return e.onCreateCategory()})),_u(73," Ajouter la cat\xe9gorie "),Ta(),Ta(),Ta(),Aa(74,"hr"),Ia(75,"div",40),Ia(76,"h3"),_u(77,"Sous-cat\xe9gorie"),Ta(),Ia(78,"form",9),Ia(79,"div",41),Ia(80,"label",42),_u(81," S\xe9lectionner une cat\xe9gorie"),Ta(),Ia(82,"app-categories-select",43),Ra("idCategorySelected",(function(t){return e.onSelectCategoryForSubById(t)})),Ta(),Ta(),Ia(83,"label",44),_u(84,"Nom de la sous-cat\xe9gorie"),Ta(),Aa(85,"input",45),Ia(86,"button",39),Ra("click",(function(){return e.onCreateSubCategory()})),_u(87," Ajouter la sous-cat\xe9gorie "),Ta(),Ta(),Ta(),Ta(),Ia(88,"div",46),Ia(89,"h3"),_u(90,"Formateur"),Ta(),Ia(91,"form",9),Ia(92,"label",47),_u(93,"Pr\xe9nom"),Ta(),Aa(94,"input",48),Ia(95,"label",49),_u(96,"Nom"),Ta(),Aa(97,"input",50),Ia(98,"label",51),_u(99,"Titre"),Ta(),Aa(100,"input",52),Ia(101,"label",53),_u(102,"Bio"),Ta(),Ia(103,"textarea",54),_u(104,"          "),Ta(),Ia(105,"button",39),Ra("click",(function(){return e.onCreateUser()})),_u(106," Ajouter un Formateur "),Ta(),Ta(),Ta(),Ta(),Ta(),Ta()),2&t&&(lo(3),Ea("routerLink",ll(29,Fx))("fragment","course"),lo(1),Ea("ngClass",hl(30,Mx,"course"===e.activeTab)),lo(2),Ea("routerLink",ll(32,Fx))("fragment","category"),lo(1),Ea("ngClass",hl(33,Mx,"category"===e.activeTab)),lo(2),Ea("routerLink",ll(35,Fx))("fragment","instructor"),lo(1),Ea("ngClass",hl(36,Mx,"instructor"===e.activeTab)),lo(3),Ea("ngClass",fl(38,Lx,"course"===e.activeTab,"course"===e.activeTab)),lo(3),Ea("formGroup",e.courseForm),lo(11),Ea("userSelectId",e.userSelectedId)("userValues",e.userValues),lo(8),Ea("categorySelectId",e.categorySelectedId)("categoryValues",e.categoryValues),lo(8),Ea("categorySelectId",e.subCategorySelectedId)("categoryValues",e.subCategoryValues),lo(18),Ea("src",e.urlImagePreview,zi),lo(1),Ea("disabled",e.courseForm.invalid),lo(2),Ea("ngClass",fl(41,Lx,"category"===e.activeTab,"category"===e.activeTab)),lo(4),Ea("formGroup",e.categoryForm),lo(4),Ea("disabled",e.categoryForm.invalid),lo(6),Ea("formGroup",e.subcategoryForm),lo(4),Ea("categorySelectId",e.categorySelectedId)("categoryValues",e.categoryValues),lo(4),Ea("disabled",e.subcategoryForm.invalid),lo(2),Ea("ngClass",fl(44,Lx,"instructor"===e.activeTab,"instructor"===e.activeTab)),lo(3),Ea("formGroup",e.userForm),lo(14),Ea("disabled",e.userForm.invalid))},directives:[b_,ad,rg,Mp,ug,Dp,Fp,Ig,_w,em,Zp,Vg],styles:[".nav-admin-h[_ngcontent-%COMP%]{width:70%;margin-left:auto;margin-right:auto;border:1px solid #8b4513}"]}),Ox),Vx=((Dx=function(){function t(e,n){tt(this,t),this.router=e,this.authService=n}return nt(t,[{key:"canActivate",value:function(){var t=this;return new Promise((function(e,n){nm.auth().onAuthStateChanged((function(n){t.authService.getCurrentUserDataWithId(n.uid).then((function(n){n&&Rx.ADMIN===t.authService.authUser.accessLevel?e(!0):t.router.navigate([sm.HOME])}))}))}))}}]),t}()).\u0275fac=function(t){return new(t||Dx)(He(y_),He($P))},Dx.\u0275prov=se({token:Dx,factory:Dx.\u0275fac,providedIn:"root"}),Dx),jx=((Ax=function(){function t(){tt(this,t)}return nt(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Ax)},Ax.\u0275cmp=hn({type:Ax,selectors:[["app-admin"]],decls:1,vars:0,template:function(t,e){1&t&&Aa(0,"router-outlet")},directives:[T_],styles:[""]}),Ax),Bx=[{path:sm.ADMIN.substr(1),component:jx,canActivate:[Vx],children:[{path:sm.ADMIN_NEW_ELEMENT.substr(1),component:Ux,canActivate:[Vx]}]}],qx=V_.forChild(Bx),Wx=((Nx=function t(){tt(this,t)}).\u0275mod=vn({type:Nx}),Nx.\u0275inj=ae({factory:function(t){return new(t||Nx)},imports:[[Tx,qx]]}),Nx),Hx=((xx=function(){function t(e,n){tt(this,t),this.router=e,this.authService=n}return nt(t,[{key:"canActivate",value:function(){var t=this;return new Promise((function(e,n){t.AuthSubscription=t.authService.getAuth().subscribe((function(n){n?(t.router.navigate([sm.FEED]),e(!1)):e(!0)}))}))}}]),t}()).\u0275fac=function(t){return new(t||xx)(He(y_),He($P))},xx.\u0275prov=se({token:xx,factory:xx.\u0275fac,providedIn:"root"}),xx),zx=((Px=function(){function t(){tt(this,t)}return nt(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Px)},Px.\u0275cmp=hn({type:Px,selectors:[["app-page-not-found"]],decls:2,vars:0,template:function(t,e){1&t&&(Ia(0,"h2"),_u(1,"Erreur page non trouv\xe9 !"),Ta())},styles:[""]}),Px),Gx=q("kScs");function Kx(t,e){1&t&&(Ia(0,"div",19),Ia(1,"p",20),_u(2," Pour finaliser, votre inscription, veuillez cliquer sur le lien de confirmation qui a \xe9t\xe9 envoy\xe9 sur votre boite mail. "),Ta(),Ta())}function Qx(t,e){if(1&t){var n=Pa();Ia(0,"div",21),Ra("click",(function(){er(n);var t=La();return t.hidePassword=!t.hidePassword})),Ia(1,"div",22),Aa(2,"span",23),Ta(),Ta()}}function $x(t,e){if(1&t){var n=Pa();Ia(0,"div",21),Ra("click",(function(){er(n);var t=La();return t.hidePassword=!t.hidePassword})),Ia(1,"div",22),Aa(2,"span",24),Ta(),Ta()}}var Yx,Jx,Xx,Zx,tN=function(t){return{"is-invalid":t}},eN=function(t){return t.EMAIL_INVALID="auth/invalid-email",t.USER_DISABLED="auth/user-disabled",t.USER_NOT_FOUND="auth/user-not-found",t.WRONG_PASSWORD="auth/wrong-password",t}({}),nN=((Zx=function(){function t(e,n,r){tt(this,t),this.formBuilder=e,this.authService=n,this.router=r,this.hidePassword=!0,this.errorPasswordMessage="",this.errorPassword=!1,this.errorEmailMessage="",this.errorEmail=!1}return nt(t,[{key:"ngOnInit",value:function(){this.initForm()}},{key:"initForm",value:function(){this.signInForm=this.formBuilder.group({email:["",[qp.required,qp.email]],password:["",[qp.required]]})}},{key:"goToSignUp",value:function(){this.router.navigate([sm.SIGNUP])}},{key:"onSignIn",value:function(){var t=this;console.log(this.signInForm.value);var e=this.signInForm.get("email").value,n=(new Gx.Md5).appendStr(this.signInForm.get("password").value).end();this.authService.signInUser(e,n.toString()).then((function(){t.router.navigate([sm.FEED])})).catch((function(e){console.error(e),t.displayError(e.code)}))}},{key:"checkPassword",value:function(){var t=this.signInForm.get(["password"]).value;this.errorPassword=t.length<8&&t.length>30||!this.hasLowerCase(t)||!this.hasUpperCase(t)}},{key:"hasLowerCase",value:function(t){var e;for(e=0;e<t.length;e++)if(t.charAt(e)>="a"&&t.charAt(e)<="z")return!0;return!1}},{key:"hasUpperCase",value:function(t){var e;for(e=0;e<t.length;e++)if(t.charAt(e)>="A"&&t.charAt(e)<="Z")return!0;return!1}},{key:"shouldShowRequiredError",value:function(t){return!this.signInForm.get(t).valid&&this.signInForm.get(t).touched}},{key:"shouldShowSignInError",value:function(t){switch(t){case"email":return this.errorEmail;case"password":return this.errorPassword}}},{key:"forbidOtherCharacters",value:function(t){return/[0-9a-zA-Z!@#$%&:=+\xa3\u20ac*\[\]()_\-?]/.test(t)}},{key:"displayError",value:function(t){switch(t){case eN.EMAIL_INVALID:this.errorMessage="L'adresse email est invalide";break;case eN.USER_DISABLED:this.errorMessage="Ce compte a \xe9t\xe9 d\xe9sactiv\xe9";break;case eN.USER_NOT_FOUND:this.errorMessage="L'adresse email est inexistante";break;case eN.WRONG_PASSWORD:this.errorMessage="Le mot de passe est invalide, veuillez r\xe9essayer"}}},{key:"getRoute",value:function(){return sm}}]),t}()).\u0275fac=function(t){return new(t||Zx)(ka(Bg),ka($P),ka(y_))},Zx.\u0275cmp=hn({type:Zx,selectors:[["app-login-box"]],decls:34,vars:14,consts:[["class","alert alert-success p-4","role","alert",4,"ngIf"],[1,"signin-block","text-center","px-4","py-3","rounded","shadow"],[1,"mb-3"],[1,"signin-form",3,"formGroup"],[1,"form-group","mb-3"],["for","email",1,"sr-only"],[2,"color","rgb(247, 103, 103)"],["type","email","formControlName","email","id","email","aria-describedby","emailHelp","placeholder","Email","type","input","tabindex","1","autocapitalize","off","autocorrect","off","autofocus","autofocus","autocomplete","email","required","",1,"form-control","form-control-lg",3,"ngClass","click"],["id","emailHelp",1,"form-text","text-muted"],[1,"form-group","mb-4"],["for","password",1,"sr-only"],[1,"input-group"],["formControlName","password","id","password","minlength","8","maxlength","30","aria-describedby","passwordHelp","placeholder","Mot de passe","type","input","autocomplete","current-password","ng-hide","true","required","",1,"form-control","form-control-lg",3,"type","ngClass","keyup","keydown","click"],["class","input-group-append",3,"click",4,"ngIf"],["type","submit",1,"btn-login","btn","btn-primary","btn-lg","btn-block",3,"disabled","click"],[1,"text-danger","my-2"],["routerLinkActive","router-link-active",3,"routerLink"],[1,"my-4"],["type","submit",1,"btn","btn-success","btn-lg","btn-block",3,"click"],["role","alert",1,"alert","alert-success","p-4"],[1,"text-justify","text-success"],[1,"input-group-append",3,"click"],[1,"input-group-text"],["data-icon","ic:outline-visibility-off","data-inline","false",1,"iconify"],["data-icon","ic:outline-visibility","data-inline","false",1,"iconify"]],template:function(t,e){1&t&&(_a(0,Kx,3,0,"div",0),Ia(1,"div",1),Ia(2,"h5",2),_u(3,"Se connecter"),Ta(),Ia(4,"form",3),Ia(5,"div",4),Ia(6,"label",5),_u(7," Adresse mail "),Ia(8,"span",6),_u(9,"*"),Ta(),Ta(),Ia(10,"input",7),Ra("click",(function(){return e.shouldShowRequiredError("email")||e.shouldShowSignInError("email")})),Ta(),Ia(11,"small",8),_u(12," Nous ne partagerons jamais votre e-mail. "),Ta(),Ta(),Ia(13,"div",9),Ia(14,"label",10),_u(15," Mot de passe "),Ia(16,"span",6),_u(17,"*"),Ta(),Ta(),Ia(18,"div",11),Ia(19,"input",12),Ra("keyup",(function(){return e.checkPassword()}))("keydown",(function(t){return e.forbidOtherCharacters(t.key)}))("click",(function(){return e.shouldShowRequiredError("password")||e.shouldShowSignInError("password")})),Ta(),_a(20,Qx,3,0,"div",13),_a(21,$x,3,0,"div",13),Ta(),Ta(),Ia(22,"button",14),Ra("click",(function(){return e.onSignIn()})),_u(23," Se connecter "),Ta(),Ta(),Ia(24,"p",15),_u(25),Ta(),Ia(26,"a",16),_u(27," Mot de passe oubli\xe9 ? "),Ta(),Aa(28,"hr",17),Ia(29,"button",18),Ra("click",(function(){return e.goToSignUp()})),_u(30," Cr\xe9er un compte "),Ta(),Ia(31,"p"),Ia(32,"small"),_u(33,"C'est facile, rapide et s\xe9curis\xe9"),Ta(),Ta(),Ta()),2&t&&(Ea("ngIf",e.isVerificationEmailSent),lo(4),Ea("formGroup",e.signInForm),lo(6),Ea("ngClass",hl(10,tN,e.shouldShowRequiredError("email")||e.shouldShowSignInError("email"))),lo(9),Ea("type",e.hidePassword?"password":"text")("ngClass",hl(12,tN,e.shouldShowRequiredError("password")||e.shouldShowSignInError("password"))),lo(1),Ea("ngIf",e.hidePassword),lo(1),Ea("ngIf",!e.hidePassword),lo(1),Ea("disabled",e.signInForm.invalid||e.errorEmail||e.errorPassword),lo(3),ku(" ",e.errorMessage," "),lo(1),Ea("routerLink",e.getRoute().PASSWORD_FORGOTTEN))},directives:[fd,rg,Mp,ug,Dp,Fp,Ig,Dg,ad,Fg,Lg,__,I_],styles:["h3[_ngcontent-%COMP%]{font-weight:800}h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{text-align:center;font-size:large}h4[_ngcontent-%COMP%]{font-weight:400}input[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{font-size:small}button[_ngcontent-%COMP%]{font-size:medium}.signin-block-signup[_ngcontent-%COMP%]{padding-top:2vh;padding-bottom:2vh;margin-top:2vh;font-size:medium}"]}),Zx),rN=((Xx=function(){function t(e,n,r){tt(this,t),this.authService=e,this.searchService=n,this.router=r}return nt(t,[{key:"ngOnInit",value:function(){this.isAuthentifiedGoToFeedPage()}},{key:"isAuthentifiedGoToFeedPage",value:function(){this.authService.isAuth&&this.router.navigate(["/feed"])}},{key:"onSearchCourses",value:function(){this.searchService.search(Vh.ID,"","",Lh.COURSES)}},{key:"onSearchEvents",value:function(){this.searchService.search(Vh.ID,"","",Lh.EVENTS)}},{key:"goToCreateItems",value:function(){this.router.navigate([sm.NEW_COURSE])}},{key:"onSearchByCategory",value:function(t){t&&(console.warn("onSearchByCategory",t),this.searchService.search(t,"","",""))}}]),t}()).\u0275fac=function(t){return new(t||Xx)(ka($P),ka(Y_),ka(y_))},Xx.\u0275cmp=hn({type:Xx,selectors:[["app-home"]],decls:69,vars:1,consts:[["id","home",1,"container-fluid"],["id","menu-home",1,"container-fluid"],[1,"row","menu-search-home","h-100","align-items-center","justify-content-center","text-center"],[1,"section-menu-home","col-lg-6"],[1,"section-search","section-search-courses","row","align-items-center","justify-content-center","shadow",3,"click"],[1,"section-search-icon","col-lg-3"],["data-icon","vaadin:academy-cap","data-inline","false",1,"iconify",2,"color","#2E7B9C"],[1,"col-lg-7"],[1,"section-search-title"],[1,"col-lg-2"],["data-icon","ic:round-keyboard-arrow-right","data-inline","false",1,"iconify","arrow-search-section"],[1,"section-search","section-search-events","row","align-items-center","justify-content-center","shadow",3,"click"],["data-icon","carbon:event","data-inline","false",1,"iconify",2,"color","#fcc632"],["data-icon","uil:file-share-alt","data-inline","false",1,"iconify",2,"color","#28a745"],[1,"sub-section-home","login-section","col-lg-4"],["id","search-home",1,"container-fluid","text-center"],[1,"sb-section"],[1,"mb-4"],[3,"height"],[1,"row","categories-card-row","align-items-center","justify-content-center","text-center"],[1,"card","card-cat",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/levelup-78020.appspot.com/o/images%2Fcategories%2Fmorning-brew%20copie.jpg?alt=media&token=1e9433e0-32de-4675-8d7a-9b0211df6e66","alt","Card image cap",1,"card-img"],[1,"card-body"],[1,"card-title"],["src","https://firebasestorage.googleapis.com/v0/b/levelup-78020.appspot.com/o/images%2Fcategories%2Fpiggy-bank-on-blue%20copie.jpg?alt=media&token=1d4c85f4-e838-4fb4-9614-1c85a8e686a8","alt","Card image cap",1,"card-img"],["src","https://firebasestorage.googleapis.com/v0/b/levelup-78020.appspot.com/o/images%2Fcategories%2Fmorning-brew-TN9xs4RUJSA-unsplash%20copie.jpg?alt=media&token=2d2c89d8-13e0-4e93-b8db-8a1456b67afe","alt","Card image cap",1,"card-img"],["src","https://firebasestorage.googleapis.com/v0/b/levelup-78020.appspot.com/o/images%2Fcategories%2Fdigital-marketing-4297723_1920.jpg?alt=media&token=79aab845-d0cd-4f8a-b2d8-1c43d931dedd","alt","Card image cap",1,"card-img"],["src","https://firebasestorage.googleapis.com/v0/b/levelup-78020.appspot.com/o/images%2Fcategories%2Fone-little-sprout-growing%20copie.jpg?alt=media&token=7afdece3-9f1a-466e-9fee-8e1b716e5a4b","alt","Card image cap",1,"card-img"]],template:function(t,e){1&t&&(Ia(0,"div",0),Ia(1,"div",1),Ia(2,"div",2),Ia(3,"div",3),Ia(4,"div",4),Ra("click",(function(){return e.onSearchCourses()})),Ia(5,"div",5),Aa(6,"span",6),Ta(),Ia(7,"div",7),Ia(8,"div",8),Ia(9,"span"),_u(10," Rechercher des formations "),Ta(),Ta(),Ta(),Ia(11,"div",9),Aa(12,"span",10),Ta(),Ta(),Ia(13,"div",11),Ra("click",(function(){return e.onSearchEvents()})),Ia(14,"div",5),Aa(15,"span",12),Ta(),Ia(16,"div",7),Ia(17,"div",8),Ia(18,"span"),_u(19," Rechercher des \xe9v\xe8nements "),Ta(),Ta(),Ta(),Ia(20,"div",9),Aa(21,"span",10),Ta(),Ta(),Ia(22,"div",4),Ra("click",(function(){return e.goToCreateItems()})),Ia(23,"div",5),Aa(24,"span",13),Ta(),Ia(25,"div",7),Ia(26,"div",8),Ia(27,"span"),_u(28," Partager ses comp\xe9tences "),Ta(),Ta(),Ta(),Ia(29,"div",9),Aa(30,"span",10),Ta(),Ta(),Ta(),Ia(31,"div",14),Aa(32,"app-login-box"),Ta(),Ta(),Ta(),Ia(33,"div",15),Ia(34,"div",16),Ia(35,"h2",17),_u(36,"Trouver la formation qu'il vous faut !"),Ta(),Aa(37,"app-search-bar2",18),Ta(),Ia(38,"div",19),Ia(39,"div",9),Ia(40,"div",20),Ra("click",(function(){return e.onSearchByCategory("-MHvryPfH-MOyssgoMqa")})),Aa(41,"img",21),Ia(42,"div",22),Ia(43,"span",23),_u(44,"Immobilier"),Ta(),Ta(),Ta(),Ta(),Ia(45,"div",9),Ia(46,"div",20),Ra("click",(function(){return e.onSearchByCategory("-MHvuItTTJtQ9IuVgUko")})),Aa(47,"img",24),Ia(48,"div",22),Ia(49,"span",23),_u(50,"Bourse"),Ta(),Ta(),Ta(),Ta(),Ia(51,"div",9),Ia(52,"div",20),Ra("click",(function(){return e.onSearchByCategory("-MHvuqc1OyxbAH0TjRzW")})),Aa(53,"img",25),Ia(54,"div",22),Ia(55,"span",23),_u(56,"Business en ligne"),Ta(),Ta(),Ta(),Ta(),Ia(57,"div",9),Ia(58,"div",20),Ra("click",(function(){return e.onSearchByCategory("-MHvuNekuEHm_q_p32xJ")})),Aa(59,"img",26),Ia(60,"div",22),Ia(61,"span",23),_u(62,"Marketing"),Ta(),Ta(),Ta(),Ta(),Ia(63,"div",9),Ia(64,"div",20),Ra("click",(function(){return e.onSearchByCategory("-MHvt40kvWCsFUEY6g09")})),Aa(65,"img",27),Ia(66,"div",22),Ia(67,"span",23),_u(68,"D\xe9veloppement personnel"),Ta(),Ta(),Ta(),Ta(),Ta(),Ta(),Ta()),2&t&&(lo(37),Ea("height","lg"))},directives:[nN,ew],styles:["#home[_ngcontent-%COMP%]{padding:0}.sb-section[_ngcontent-%COMP%]{padding-top:25vh;width:68%}.categories-card-row[_ngcontent-%COMP%], .sb-section[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.categories-card-row[_ngcontent-%COMP%]{width:90%;margin-top:10vh}.padding-0[_ngcontent-%COMP%]{padding-right:0;padding-left:0}.card-cat[_ngcontent-%COMP%]{height:10em;width:10em}.card-body[_ngcontent-%COMP%], .card-cat[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.card-img[_ngcontent-%COMP%]{height:60%}.card-title[_ngcontent-%COMP%]{font-weight:500;font-size:small;margin-left:auto;margin-right:auto}.card-cat[_ngcontent-%COMP%]:hover{cursor:pointer}#menu-home[_ngcontent-%COMP%]{padding-top:5vh;padding-bottom:5vh;background-color:#fff;border-bottom:1px solid #2e7b9c}.section-menu-home[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:auto}.menu-search-home[_ngcontent-%COMP%]{margin:5vh auto;width:95%}.section-search-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.1em;font-weight:380;width:90%}#search-home[_ngcontent-%COMP%]{height:83vh}.subtitle[_ngcontent-%COMP%]{font-family:inherit}.section-search[_ngcontent-%COMP%]{background-color:#fff;height:5em;width:85%;cursor:pointer;border-radius:2rem;-moz-border-radius:2rem;-webkit-border-radius:2rem}.section-search-img[_ngcontent-%COMP%]{width:8vw;height:8vw}.section-search-icon[_ngcontent-%COMP%]{font-size:2.4em}.section-search[_ngcontent-%COMP%]:focus, .section-search[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.btn-search[_ngcontent-%COMP%]:hover, .section-search[_ngcontent-%COMP%]:focus{background-color:rgba(224,221,221,.356)}.section-search-events[_ngcontent-%COMP%]{margin-top:10vh;margin-bottom:10vh}.arrow-search-section[_ngcontent-%COMP%]{font-size:2em}"]}),Xx),iN=((Jx=function(){function t(){tt(this,t),this.minPrice="0",this.maxPrice="7000",this.ratingMin="0",this.itemList=[]}return nt(t,[{key:"filterItemList",value:function(){var t=this;if(this.itemList.length){var e=[];return this.itemList.forEach((function(n){t.filterItem(n)&&e.push(n)})),e}return[]}},{key:"filterItem",value:function(t){var e=!0;switch(t.type){case rm.COURSE.substr(1):e=this.filterItemByPrice(t)&&(!(t instanceof $O)||this.filterItemByRating(t));break;case rm.EVENT.substr(1):}return e}},{key:"filterItemByPrice",value:function(t){return!!(+this.minPrice&&!+this.maxPrice&&t.price>=+this.minPrice)||!!(!+this.minPrice&&+this.maxPrice&&t.price<=+this.maxPrice)||!+this.minPrice&&!+this.maxPrice||!!(+this.minPrice&&+this.maxPrice&&t.price>=+this.minPrice&&t.price<=+this.maxPrice)}},{key:"filterItemByRating",value:function(t){return console.error("RATING FILTER"),0==+this.ratingMin||!!(this.ratingMin&&t.globalNote&&t.globalNote>=+this.ratingMin)}},{key:"filterByDates",value:function(t){return console.error("DATE FILTER"),!(!(this.ratingMin&&t instanceof $O&&t.globalNote)||t.globalNote>=+this.ratingMin)}},{key:"filterByLocation",value:function(t){console.error("RATING FILTER"),t.forEach((function(e){console.error("zezeze",t.indexOf(e))}))}}]),t}()).\u0275fac=function(t){return new(t||Jx)},Jx.\u0275prov=se({token:Jx,factory:Jx.\u0275fac,providedIn:"root"}),Jx),oN=((Yx=function(){function t(e){var n=this;tt(this,t),this.router=e,this.currentUrl=null,this._previousUrl=[],this.currentUrl=this.router.url,e.events.subscribe((function(t){t instanceof ey&&(n.previousUrl.push(n.currentUrl),n.currentUrl=t.url,console.log("ertjgkhjlk:",n.previousUrl,n.currentUrl))}))}return nt(t,[{key:"getCurrentUrl",value:function(){return this.currentUrl}},{key:"getPreviousUrl",value:function(){return this.previousUrl[0]}},{key:"getPreviousUrlWithPosition",value:function(t){return this.previousUrl[t]}},{key:"getLastPreviousUrl",value:function(){return this.previousUrl[this.previousUrl.length-1]}},{key:"previousUrl",get:function(){return this._previousUrl}}]),t}()).\u0275fac=function(t){return new(t||Yx)(He(y_))},Yx.\u0275prov=se({token:Yx,factory:Yx.\u0275fac,providedIn:"root"}),Yx),sN=["popContentRate"],aN=["popContentPrice"];function uN(t,e){if(1&t){var n=Pa();Ia(0,"div",11),Ia(1,"div",12),Ia(2,"label",13),_u(3,"Prix min :"),Ta(),Ia(4,"div",14),Ia(5,"input",15),Ra("change",(function(t){return er(n),La().onSetMinPrice(t.target.value)})),Ta(),Ia(6,"div",16),Ia(7,"span",17),_u(8,"\u20ac"),Ta(),Ta(),Ta(),Ta(),Ia(9,"div",12),Ia(10,"label",18),_u(11,"Prix max :"),Ta(),Ia(12,"div",14),Ia(13,"input",19),Ra("change",(function(t){return er(n),La().onSetMaxPrice(t.target.value)})),Ta(),Ia(14,"div",16),Ia(15,"span",17),_u(16,"\u20ac"),Ta(),Ta(),Ta(),Ta(),Ta(),Ia(17,"div",20),Ia(18,"button",21),Ra("click",(function(){return er(n),La().onSetPriceRange()})),_u(19," Valider "),Ta(),Ia(20,"button",22),Ra("click",(function(){return er(n),La().onCancelPriceRange()})),_u(21," Annuler "),Ta(),Ta()}if(2&t){var r=La();lo(5),Ea("value",r.minPrice),lo(8),Ea("value",r.maxPrice)}}function cN(t,e){if(1&t){var n=Pa();Ia(0,"div",23),Ia(1,"input",24),Ra("ngModelChange",(function(t){return er(n),La().ratingMin=t})),Ta(),Ia(2,"label",25),Aa(3,"i",26),Aa(4,"i",26),Aa(5,"i",26),Aa(6,"i",26),Aa(7,"i",27),Ia(8,"span",28),_u(9,"4.5 et plus"),Ta(),Ta(),Ta(),Ia(10,"div",29),Ia(11,"input",30),Ra("ngModelChange",(function(t){return er(n),La().ratingMin=t})),Ta(),Ia(12,"label",31),Aa(13,"i",26),Aa(14,"i",26),Aa(15,"i",26),Aa(16,"i",26),Aa(17,"i",32),Ia(18,"span",28),_u(19,"4.0 et plus"),Ta(),Ta(),Ta(),Ia(20,"div",29),Ia(21,"input",33),Ra("ngModelChange",(function(t){return er(n),La().ratingMin=t})),Ta(),Ia(22,"label",34),Aa(23,"i",26),Aa(24,"i",26),Aa(25,"i",26),Aa(26,"i",27),Aa(27,"i",32),Ia(28,"span",28),_u(29,"3.5 et plus"),Ta(),Ta(),Ta(),Ia(30,"div",29),Ia(31,"input",35),Ra("ngModelChange",(function(t){return er(n),La().ratingMin=t})),Ta(),Ia(32,"label",36),Aa(33,"i",26),Aa(34,"i",26),Aa(35,"i",26),Aa(36,"i",32),Aa(37,"i",32),Ia(38,"span",28),_u(39,"3.0 et plus"),Ta(),Ta(),Ta(),Ia(40,"div",20),Ia(41,"button",21),Ra("click",(function(){return er(n),La().onSetRatingRange()})),_u(42," Valider "),Ta(),Ia(43,"button",22),Ra("click",(function(){return er(n),La().onCancelRatingRange()})),_u(44," Annuler "),Ta(),Ta()}if(2&t){var r=La();lo(1),Ea("ngModel",r.ratingMin),lo(10),Ea("ngModel",r.ratingMin),lo(10),Ea("ngModel",r.ratingMin),lo(10),Ea("ngModel",r.ratingMin)}}function lN(t,e){1&t&&Aa(0,"div",23)}function hN(t,e){1&t&&Aa(0,"div",23)}function fN(t,e){1&t&&(Ia(0,"h5",37),_u(1," Filtres "),Ta())}function dN(t,e){if(1&t&&(Ia(0,"button",38),_u(1),Ta()),2&t){var n=La();Ea("ngbPopover",wa(1))("autoClose","outside"),lo(1),ku(" ",n.btnPriceName," ")}}function pN(t,e){if(1&t&&(Ia(0,"button",39),_u(1),Ta()),2&t){var n=La();Ea("ngbPopover",wa(3))("autoClose","outside"),lo(1),ku(" ",n.btnRatingName," ")}}function vN(t,e){1&t&&(Ia(0,"button",40),_u(1," Dates "),Ta()),2&t&&(La(),Ea("ngbPopover",wa(5))("autoClose","outside"))}function gN(t,e){1&t&&(Ia(0,"button",41),_u(1," Localisation "),Ta()),2&t&&(La(),Ea("ngbPopover",wa(7))("autoClose","outside"))}var mN,yN=((mN=function(){function t(e,n,r,i){tt(this,t),this.categoryService=e,this.itemService=n,this.filterService=r,this.formBuilder=i,this.items=new yl,this.itemList=[],this.resultsItem=[],this.resultsCourse=[],this.resultsEvent=[],this.minPrice="0",this.maxPrice="7000",this.btnPriceName="Prix",this.ratingMin="0",this.btnRatingName="Avis",this.filterForm=this.formBuilder.group({category:[""],search:[""]}),this.mapCategories=new Map,this.categoriesValues=[],this.idCategorySelected=null}return nt(t,[{key:"ngOnInit",value:function(){}},{key:"sortItemsFromDB",value:function(t){if(!t)return null;this.resultsItem=Object.keys(t).map((function(e){var n,r=t[e];return console.log(t),console.error(r),"course"===r.type?n=$O.courseFromJson(r):"event"===r.type&&(n=zO.eventFromJson(r)),n.id=e,n}))}},{key:"filterItems",value:function(){if(this.activeTab&&this.itemList){var t=Array.from(this.itemList),e=t.filter((function(t,e,n){return(this.minPrice||this.maxPrice)&&!(t.price>=+this.minPrice&&t.price<=+this.maxPrice)}));console.warn("hrgezretry",e),t.forEach((function(t){}))}}},{key:"filterByPrice",value:function(t){var e=this,n=Array.from(t),r=0;console.error("PRICE FILTER",n),t.forEach((function(n){console.error("zezeze",t.indexOf(n)),!e.minPrice&&!e.maxPrice||n.price>=+e.minPrice&&n.price<=+e.maxPrice?n instanceof $O?e.resultsCourse.push(n):n instanceof zO&&e.resultsEvent.push(n):(e.resultsItem.splice(e.resultsCourse.indexOf(n)-r,1),r++)}))}},{key:"filterItemByPrice",value:function(t){}},{key:"filterByRating",value:function(t){var e=this;console.error("RATING FILTER"),t.forEach((function(n){console.error("zezeze",t.indexOf(n)),e.ratingMin&&n instanceof $O&&n.globalNote&&!(n.globalNote>=+e.ratingMin)&&e.resultsCourse.push(n)}))}},{key:"filterByDates",value:function(t){var e=this;console.error("DATE FILTER"),t.forEach((function(n){console.error("zezeze",t.indexOf(n)),e.ratingMin&&n instanceof $O&&n.globalNote&&!(n.globalNote>=+e.ratingMin)&&("course"===n.type?e.resultsCourse.push(n):"event"===n.type&&e.resultsEvent.push(n))}))}},{key:"filterByLocation",value:function(t){console.error("RATING FILTER"),t.forEach((function(e){console.error("zezeze",t.indexOf(e))}))}},{key:"onFilter",value:function(){this.items.emit(!0)}},{key:"filterResults",value:function(){var t=this;if(!this.resultsItem)return[];console.error("rhexcjvkbhnj",this.resultsItem);var e=0,n=Array.from(this.resultsItem);e=0,console.error("MIDDLE FILTER",n),this.filterByPrice(n),console.error("END FILTER",n),this.resultsItem=Array.from(n);var r=Array.from(this.resultsCourse);e=0,console.error("MIDDLE FILTER",r),n.forEach((function(i){console.error("zezeze",n.indexOf(i)),t.ratingMin&&i instanceof $O&&i.globalNote&&!(i.globalNote>=+t.ratingMin)&&(console.log("splice : ",r.splice(t.resultsCourse.indexOf(i)-e,1)),t.resultsItem.splice(t.resultsCourse.indexOf(i)-e,1),e++)})),console.error("END FILTER",r),this.resultsCourse=Array.from(r)}},{key:"emitResults",value:function(){this.items.emit(!0)}},{key:"onSetMinPrice",value:function(t){console.error(t),this.minPrice=t,this.filterService.minPrice=t}},{key:"onSetMaxPrice",value:function(t){console.error(t),this.maxPrice=t,this.filterService.maxPrice=t}},{key:"onRestoreCategoryForm",value:function(t){this.categoryService.getCategoriesFromDB(),this.catRestored=t}},{key:"selectCategory",value:function(t){this.idCategorySelected=t}},{key:"onSetPriceRange",value:function(){console.log("onSetPriceRange min:",+this.minPrice),console.log("onSetPriceRange max:",+this.maxPrice),this.minPrice||(this.minPrice="0"),this.maxPrice||(this.maxPrice="0"),this.minPrice&&this.maxPrice&&this.minPrice<this.maxPrice?this.btnPriceName=this.minPrice+" - "+this.maxPrice+" \u20ac":this.minPrice&&!this.maxPrice?this.btnPriceName=this.minPrice+" \u20ac et plus":!this.minPrice&&this.maxPrice?this.btnPriceName=this.maxPrice+" \u20ac et moins":this.minPrice||this.maxPrice||(this.btnPriceName="Prix"),this.items.emit(!0)}},{key:"onCancelPriceRange",value:function(){this.minPrice="0",this.maxPrice="0",this.btnPriceName="Prix",this.filterService.minPrice=this.minPrice,this.filterService.maxPrice=this.maxPrice,this.items.emit(!0)}},{key:"onSetRatingRange",value:function(){+this.ratingMin&&(this.btnRatingName=this.ratingMin+" et plus",console.log("Value rating is : ",this.ratingMin))}},{key:"onCancelRatingRange",value:function(){this.ratingMin="0",this.btnRatingName="Avis"}},{key:"isCourseList",value:function(){if(this.activeTab)return this.activeTab===Lh.COURSES}},{key:"isEventList",value:function(){if(this.activeTab)return this.activeTab===Lh.EVENTS}},{key:"isUserList",value:function(){if(this.activeTab)return this.activeTab===Lh.USERS}},{key:"ngOnDestroy",value:function(){null!=this.categorySubscription&&this.categorySubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||mN)(ka(tP),ka(eP),ka(iN),ka(Bg))},mN.\u0275cmp=hn({type:mN,selectors:[["app-filter"]],viewQuery:function(t,e){var n;1&t&&(Pl(sN,!0),Pl(aN,!0)),2&t&&(Dl(n=Ml())&&(e.popContentRate=n.first),Dl(n=Ml())&&(e.popContentPrice=n.first))},inputs:{activeTab:"activeTab",itemList:"itemList"},outputs:{items:"items"},decls:15,vars:5,consts:[["popContentPrice",""],["popContentRate",""],["popContentDate",""],["popContentLocation",""],[1,"container-filter","mt-3"],[1,"filter-row"],["class","filter-text mr-3",4,"ngIf"],["type","button","class","btn-filter btn btn-outline-secondary","placement","bottom","popoverTitle","Prix",3,"ngbPopover","autoClose",4,"ngIf"],["type","button","class","btn-filter btn btn-outline-secondary ml-3","placement","bottom","popoverTitle","Avis",3,"ngbPopover","autoClose",4,"ngIf"],["type","button","class","btn-filter btn btn-outline-secondary ml-3","placement","bottom","popoverTitle","Date",3,"ngbPopover","autoClose",4,"ngIf"],["type","button","class","btn-filter btn btn-outline-secondary ml-3","placement","bottom","popoverTitle","Localisation",3,"ngbPopover","autoClose",4,"ngIf"],[1,"form-row"],[1,"col"],["for","min-price"],[1,"input-group"],["id","min-price","name","min-price","type","number","placeholder","Min","aria-label","Euro",1,"form-control",3,"value","change"],[1,"input-group-append"],[1,"input-group-text"],["for","max-price"],["id","max-price","name","max-price","type","number","placeholder","Max","aria-label","Euro",1,"form-control",3,"value","change"],[1,"mt-4"],["type","button",1,"btn-template-ok","btn","btn-primary",3,"click"],["type","button",1,"btn-template-cancel","btn","btn-outline-secondary",3,"click"],[1,"form-check"],["type","radio","name","gridRadios","id","gridRadios1","value","4.5",1,"form-check-input",3,"ngModel","ngModelChange"],["for","gridRadios1",1,"form-check-label"],[1,"fa","fa-star","icon-star"],[1,"fa","fa-star-half-o","icon-star"],[1,"ml-3"],[1,"form-check","mt-3"],["type","radio","name","gridRadios","id","gridRadios2","value","4.0",1,"form-check-input",3,"ngModel","ngModelChange"],["for","gridRadios2",1,"form-check-label"],[1,"fa","fa-star-o","icon-star"],["type","radio","name","gridRadios","id","gridRadios3","value","3.5",1,"form-check-input",3,"ngModel","ngModelChange"],["for","gridRadios3",1,"form-check-label"],["type","radio","name","gridRadios","id","gridRadios4","value","3.0",1,"form-check-input",3,"ngModel","ngModelChange"],["for","gridRadios4",1,"form-check-label"],[1,"filter-text","mr-3"],["type","button","placement","bottom","popoverTitle","Prix",1,"btn-filter","btn","btn-outline-secondary",3,"ngbPopover","autoClose"],["type","button","placement","bottom","popoverTitle","Avis",1,"btn-filter","btn","btn-outline-secondary","ml-3",3,"ngbPopover","autoClose"],["type","button","placement","bottom","popoverTitle","Date",1,"btn-filter","btn","btn-outline-secondary","ml-3",3,"ngbPopover","autoClose"],["type","button","placement","bottom","popoverTitle","Localisation",1,"btn-filter","btn","btn-outline-secondary","ml-3",3,"ngbPopover","autoClose"]],template:function(t,e){1&t&&(_a(0,uN,22,2,"ng-template",null,0,jl),_a(2,cN,45,4,"ng-template",null,1,jl),_a(4,lN,1,0,"ng-template",null,2,jl),_a(6,hN,1,0,"ng-template",null,3,jl),Ia(8,"div",4),Ia(9,"div",5),_a(10,fN,2,0,"h5",6),_a(11,dN,2,3,"button",7),_a(12,pN,2,3,"button",8),_a(13,vN,2,2,"button",9),_a(14,gN,2,2,"button",10),Ta(),Ta()),2&t&&(lo(10),Ea("ngIf",!e.isUserList()),lo(1),Ea("ngIf",!e.isUserList()),lo(1),Ea("ngIf",e.isCourseList()),lo(1),Ea("ngIf",e.isEventList()),lo(1),Ea("ngIf",e.isEventList()))},directives:[fd,nv,Dp,Fp,ng,gD],styles:[".icon-star[_ngcontent-%COMP%]{color:#2e7b9c;font-size:1.6em}.filter-text[_ngcontent-%COMP%]{display:inline-block}.btn-filter[_ngcontent-%COMP%]{border-radius:500px;-moz-border-radius:500px;-webkit-border-radius:500px}.btn-template-ok[_ngcontent-%COMP%]{background-color:#2e7b9c;width:55%;margin-right:5%}.btn-template-cancel[_ngcontent-%COMP%]{width:40%}"]}),mN);function bN(t,e){if(1&t&&(Ia(0,"span"),_u(1),Ta()),2&t){var n=La();lo(1),ku('"',n.query,'"')}}function _N(t,e){if(1&t){var n=Pa();Ia(0,"button",19),Ra("click",(function(){er(n);var t=e.$implicit;return La(2).onSearchByCategory(t.id)})),_u(1),Ta()}if(2&t){var r=e.$implicit;lo(1),ku(" ",r.name," ")}}function wN(t,e){if(1&t&&(Ia(0,"div",17),_a(1,_N,2,1,"button",18),Aa(2,"hr"),Ta()),2&t){var n=La();lo(1),Ea("ngForOf",n.categoriesToDisplay)}}function kN(t,e){1&t&&Aa(0,"app-item-list",20),2&t&&Ea("items",La().coursesList)}function CN(t,e){1&t&&Aa(0,"app-item-list",20),2&t&&Ea("items",La().eventsList)}function EN(t,e){1&t&&Aa(0,"app-user-list",21),2&t&&Ea("users",La().usersList)}var SN,IN,TN,AN,DN=function(t){return{active:t}},ON=function(t,e){return{active:t,show:e}},PN=((AN=function(){function t(e,n,r,i,o,s,a){tt(this,t),this.itemService=e,this.searchService=n,this.filterService=r,this.categoryService=i,this.previousRouteService=o,this.router=s,this.route=a,this.activeTab=Lh.COURSES,this.categoryName="",this.query="",this.sortOptions=[],this.categoriesToDisplay=[],this.categoryValues=[],this.itemsList=[],this.coursesList=[],this.eventsList=[],this.usersList=[]}return nt(t,[{key:"ngOnInit",value:function(){var t=this;console.error("SearchComponent ngOnInit",this.searchService.currentSearchQuery),this.getSearchQueryFromService(),this.mySubscription=this.router.events.subscribe((function(e){e instanceof ey&&(console.info("poiuytrezsdfghjk***********:",t.searchService.currentSearchQuery),console.info("URL:",t.previousRouteService.getLastPreviousUrl(),"eeee",t.previousRouteService.getCurrentUrl()),t.previousRouteService.getLastPreviousUrl().includes(sm.RESULTS)&&t.previousRouteService.getCurrentUrl()!==t.previousRouteService.getLastPreviousUrl()&&t.searchService.currentSearchQuery&&t.searchService.searchSubject.next(t.searchService.currentSearchQuery))})),this.previousRouteService.getPreviousUrl().includes(sm.RESULTS)||(console.info("poiuytrezsdfghjk%%%%%%%%%%%:",this.searchService.currentSearchQuery),this.searchService.currentSearchQuery&&this.searchService.searchSubject.next(this.searchService.currentSearchQuery))}},{key:"getSearchQueryFromService",value:function(){var t=this;console.log("getSearchQueryFromService"),this.searchSubscription=this.searchService.searchSubject.subscribe((function(e){e&&(console.error("getSearchQueryFromService",e),t.searchCourses(e))}),(function(t){return console.error("Observer got an error: "+t)}),(function(){console.log("Observer got a complete notification")}))}},{key:"getNbResults",value:function(){return this.coursesList&&this.eventsList&&this.usersList?this.coursesList.length+this.eventsList.length+this.usersList.length:0}},{key:"displayPanel",value:function(t){this.activeTab=t}},{key:"setCategoriesNav",value:function(t){var e;t?t===Vh.ID?(this.categoryName=Vh.NAME,e=new WO(Vh.ID,Vh.NAME,[])):(e=this.categoryService.categories.find((function(e){return e.id===t})))?this.categoryName=e.name:this.categoryService.categories.some((function(n){var r=n.subCategories.find((function(e){return e.id===t}));return r&&(e=n,this.categoryName=r.name),r}),this):(t=Vh.ID,this.categoryName=Vh.NAME),this.categoriesToDisplay=this.getCategoriesToDisplay(e)}},{key:"setTagsNav",value:function(t){var e;t?t===Vh.ID?(this.categoryName=Vh.NAME,e=new WO(Vh.ID,Vh.NAME,[])):(e=this.categoryService.categories.find((function(e){return e.id===t})))?this.categoryName=e.name:this.categoryService.categories.some((function(n){var r=n.subCategories.find((function(e){return e.id===t}));return r&&(e=n,this.categoryName=r.name),r}),this):(t=Vh.ID,this.categoryName=Vh.NAME),this.categoriesToDisplay=this.getCategoriesToDisplay(e)}},{key:"searchCourses",value:function(t){var e=this,n=t.categoryId;switch(this.query=t.query,this.setCategoriesNav(n),console.error("searchCourses",t,this.categoryName),this.itemsList=[],this.coursesList=[],this.eventsList=[],this.usersList=[],t.item){case Lh.COURSES:this.displayPanel(Lh.COURSES);break;case Lh.EVENTS:this.displayPanel(Lh.EVENTS);break;case Lh.USERS:this.displayPanel(Lh.USERS);break;case Lh.ITEMS:this.displayPanel(Lh.ITEMS);break;default:this.displayPanel(Lh.COURSES)}n&&"0"!==n||this.itemService.getItemsFromDB((function(n){e.selectResult(n,t.query)}))}},{key:"selectResult",value:function(t,e){t&&(this.filterService.itemList.push(t),e&&this.filterSingleItemWithQuery(t,this.query)||this.allocateItem(t))}},{key:"allocateItem",value:function(t){var e=this;t&&this.filterService.filterItem(t)&&(t instanceof $O?this.coursesList.push(t):t instanceof zO&&this.eventsList.push(t),console.error(t.iAuthors),t.iAuthors.forEach((function(t){e.usersList.find((function(e){return e.id===t.id}))||e.usersList.push(t)})))}},{key:"filterSingleItemWithQuery",value:function(t,e){console.warn(t.searchContent," includes :",e.toLocaleLowerCase(),"res : ",t.searchContent.includes(e.toLocaleLowerCase()));var n,r=[],i=B(e.toLocaleLowerCase().split(/[ !@\xa7_#$%&:=\-+.,\xa3\u20ac<>^\xa8\xb0\\u2018\\u201c\`\'\"*\[\](){}\xa1\u221e\u2260\xe6\xae\u2020\xda\xba\xee\u0153\xdf\u25ca\xa9\u2248\u2039\xab\u03c0\xb5\xac\ufb01\xb6;~\u0192\u2202\u2264\u2265\u203a\uf8ff\xf7\u2026\u2022\xbf\xb1\\\xf8\xa2\u221a\u222b\u0131\/?]/));try{for(i.s();!(n=i.n()).done;){var o=n.value;r.push(t.searchContent.split(o).length-1)}}catch(s){i.e(s)}finally{i.f()}return!r.reduce((function(t,e){return t+e}),0)}},{key:"onSearchByCategory",value:function(t){t&&this.searchService.search(t,"","","")}},{key:"getCategoriesToDisplay",value:function(t){return t?t.subCategories.length?Array.from(t.subCategories):this.categoryService.categories:[]}},{key:"onAllocateItemList",value:function(){var t=this;this.coursesList=[],this.eventsList=[],this.usersList=[],this.filterService.itemList.forEach((function(e){t.allocateItem(e)}))}},{key:"selectSortOption",value:function(t){var e=this;if(t)switch(this.searchService.sortOptionSelectedName=t.name,t.id){case this.sortOptions[0].id:this.sortByRelevance(Array.from(this.itemsList)).then((function(t){t&&(e.itemsList=t)}))}}},{key:"sortByRelevance",value:function(t){return new Promise((function(e,n){t||n([])}))}},{key:"sortByPrice",value:function(t){}},{key:"sortByPriceDesc",value:function(t){}},{key:"sortByView",value:function(t){}},{key:"getPanelName",value:function(){return Lh}},{key:"ngOnDestroy",value:function(){this.searchSubscription&&this.searchSubscription.unsubscribe(),this.mySubscription&&this.mySubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||AN)(ka(eP),ka(Y_),ka(iN),ka(tP),ka(oN),ka(y_),ka(tb))},AN.\u0275cmp=hn({type:AN,selectors:[["app-search"]],decls:30,vars:31,consts:[[1,"container-search","w-75","mx-auto"],[1,"results-info","my-4"],[1,"row","results-cat","my-3"],[1,"results-q"],[4,"ngIf"],["class","categories-section mt-3",4,"ngIf"],[1,"filter-section","container-fluid"],[3,"activeTab","items"],[1,"nav","search-nav","nav-pills","nav-justified","my-4"],[1,"nav-item"],["id","pills-category-tab","data-toggle","pill","role","tab","aria-controls","pills-category","aria-selected","false",1,"nav-link",3,"ngClass","click"],[1,"tab-content"],["id","courses","role","tabpanel","aria-labelledby","pills-course-tab",1,"tab-pane","fade",3,"ngClass"],[3,"items",4,"ngIf"],["id","events","role","tabpanel","aria-labelledby","pills-course-tab",1,"tab-pane","fade",3,"ngClass"],["id","instructors","role","tabpanel","aria-labelledby","pills-course-tab",1,"tab-pane","fade",3,"ngClass"],[3,"users",4,"ngIf"],[1,"categories-section","mt-3"],["type","button","class","btn btn-outline-secondary btn-cat-to-d mr-2",3,"click",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-outline-secondary","btn-cat-to-d","mr-2",3,"click"],[3,"items"],[3,"users"]],template:function(t,e){1&t&&(Ia(0,"div",0),Ia(1,"div",1),Ia(2,"div",2),Ia(3,"h2"),Ia(4,"span",3),_u(5),_a(6,bN,2,1,"span",4),Ta(),Ta(),Ta(),_a(7,wN,3,1,"div",5),Ta(),Ia(8,"div",6),Ia(9,"app-filter",7),Ra("items",(function(){return e.onAllocateItemList()})),Ta(),Ta(),Ia(10,"ul",8),Ia(11,"li",9),Ia(12,"a",10),Ra("click",(function(){return e.displayPanel(e.getPanelName().COURSES)})),Ia(13,"span"),_u(14),Ta(),Ta(),Ta(),Ia(15,"li",9),Ia(16,"a",10),Ra("click",(function(){return e.displayPanel(e.getPanelName().EVENTS)})),Ia(17,"span"),_u(18),Ta(),Ta(),Ta(),Ia(19,"li",9),Ia(20,"a",10),Ra("click",(function(){return e.displayPanel(e.getPanelName().USERS)})),Ia(21,"span"),_u(22),Ta(),Ta(),Ta(),Ta(),Ia(23,"div",11),Ia(24,"div",12),_a(25,kN,1,1,"app-item-list",13),Ta(),Ia(26,"div",14),_a(27,CN,1,1,"app-item-list",13),Ta(),Ia(28,"div",15),_a(29,EN,1,1,"app-user-list",16),Ta(),Ta(),Ta()),2&t&&(lo(5),ku("",e.getNbResults()," r\xe9sultats pour "),lo(1),Ea("ngIf",e.query),lo(1),Ea("ngIf",e.categoriesToDisplay),lo(2),Ea("activeTab",e.activeTab),lo(3),Ea("ngClass",hl(16,DN,e.activeTab===e.getPanelName().COURSES)),lo(2),ku("Formations (",e.coursesList.length,")"),lo(2),Ea("ngClass",hl(18,DN,e.activeTab===e.getPanelName().EVENTS)),lo(2),ku("\xc9v\xe9nements (",e.eventsList.length,")"),lo(2),Ea("ngClass",hl(20,DN,e.activeTab===e.getPanelName().USERS)),lo(2),ku("Utilisateurs (",e.usersList.length,")"),lo(2),Ea("ngClass",fl(22,ON,e.activeTab===e.getPanelName().COURSES,e.activeTab===e.getPanelName().COURSES)),lo(1),Ea("ngIf",e.coursesList),lo(1),Ea("ngClass",fl(25,ON,e.activeTab===e.getPanelName().EVENTS,e.activeTab===e.getPanelName().EVENTS)),lo(1),Ea("ngIf",e.eventsList),lo(1),Ea("ngClass",fl(28,ON,e.activeTab===e.getPanelName().USERS,e.activeTab===e.getPanelName().USERS)),lo(1),Ea("ngIf",e.usersList))},directives:[fd,yN,ad,ld,aP,lx],styles:[".filter-section[_ngcontent-%COMP%]{margin-bottom:5vh;margin-left:auto;margin-right:auto}.search-nav[_ngcontent-%COMP%]{width:100%;height:8vh;background-color:#fff;font-size:1.05em;font-weight:500;margin-bottom:3vh}.search-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{width:33%;text-align:center;display:table}.search-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{text-decoration:none;color:#000}.search-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}.search-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:focus, .search-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{border-bottom:.1vh solid #2e7b9c}.nav-item[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{border-bottom:.6vh solid #2e7b9c;background-color:#fff}.nav-item[_ngcontent-%COMP%]{border-radius:.2rem .2rem .2rem .2rem;-moz-border-radius:.2rem .2rem .2rem .2rem;-webkit-border-radius:.2rem .2rem .2rem .2rem}.btn-cat-to-d[_ngcontent-%COMP%]{border-radius:500px;-moz-border-radius:500px;-webkit-border-radius:500px}.catName[_ngcontent-%COMP%]{color:#1f6d8f}.results-q[_ngcontent-%COMP%]{font-weight:350}.tab-content[_ngcontent-%COMP%]{min-height:50vh}"]}),AN),xN=((TN=function(){function t(e,n){tt(this,t),this.router=e,this.authService=n}return nt(t,[{key:"canActivate",value:function(){var t=this;return new Promise((function(e){return t.authService.authStateChanged().then((function(n){if(!n)return t.router.navigate([sm.LOGIN]),e(!1);e(!0)})).catch((function(n){console.error(n.message),t.router.navigate([sm.LOGIN]),e(!1)}))}))}}]),t}()).\u0275fac=function(t){return new(t||TN)(He(y_),He($P))},TN.\u0275prov=se({token:TN,factory:TN.\u0275fac,providedIn:"root"}),TN),NN=((IN=function(){function t(e,n){tt(this,t),this.router=e,this.auth=n}return nt(t,[{key:"ngOnInit",value:function(){}},{key:"getUser",value:function(){return this.auth.authUser}},{key:"goToMyCourses",value:function(){this.router.navigate([sm.USER,this.auth.authUser.id],{fragment:"courses"})}},{key:"goToMyEvents",value:function(){this.router.navigate([sm.USER,this.auth.authUser.id],{fragment:"events"})}},{key:"goToAdmin",value:function(){this.router.navigate([sm.ADMIN])}},{key:"goToAuthUserPage",value:function(){this.router.navigate([sm.USER,this.auth.authUser.id])}},{key:"newCourse",value:function(){this.router.navigate([sm.NEW_COURSE])}},{key:"newEvent",value:function(){this.router.navigate([sm.NEW_EVENT])}}]),t}()).\u0275fac=function(t){return new(t||IN)(ka(y_),ka($P))},IN.\u0275cmp=hn({type:IN,selectors:[["app-sidebar-user"]],decls:29,vars:3,consts:[["id","sidebar"],[1,"sidebar-header"],[3,"click"],["alt","","height","25vw","width","25vw",1,"mr-3","rounded-circle",3,"src"],[1,"list-unstyled"],[1,"components"],["data-inline","false","data-icon","whh:student",1,"iconify"],["data-inline","false","data-icon","bx:bx-calendar",1,"iconify"]],template:function(t,e){1&t&&(Ia(0,"nav",0),Ia(1,"div",1),Ia(2,"a",2),Ra("click",(function(){return e.goToAuthUserPage()})),Aa(3,"img",3),Ia(4,"span"),_u(5),Ta(),Ta(),Ta(),Ia(6,"ul",4),Ia(7,"li",5),Ia(8,"h4"),Aa(9,"span",6),_u(10," Formations "),Ta(),Ia(11,"ul",4),Ia(12,"li"),Ia(13,"a",2),Ra("click",(function(){return e.goToMyCourses()})),_u(14,"Mes Formations"),Ta(),Ta(),Ia(15,"li"),Ia(16,"a",2),Ra("click",(function(){return e.newCourse()})),_u(17,"Cr\xe9er une Formation"),Ta(),Ta(),Ta(),Ta(),Ia(18,"li",5),Ia(19,"h4"),Aa(20,"span",7),_u(21," \xc9v\xe9nements "),Ta(),Ia(22,"ul",4),Ia(23,"li"),Ia(24,"a",2),Ra("click",(function(){return e.goToMyEvents()})),_u(25,"Mes \xc9v\xe9nements"),Ta(),Ta(),Ia(26,"li"),Ia(27,"a",2),Ra("click",(function(){return e.newEvent()})),_u(28,"Cr\xe9er un \xc9v\xe9nement"),Ta(),Ta(),Ta(),Ta(),Ta(),Ta()),2&t&&(lo(3),Ea("src",e.getUser().ppLink,zi),lo(2),Cu("",e.getUser().firstname," ",e.getUser().lastname,""))},styles:["p[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:1.1em;font-weight:300;line-height:1.7em;color:#999}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:hover{color:inherit;text-decoration:none;transition:all .3s}#sidebar[_ngcontent-%COMP%]{background:#f7f8f9;color:#000;transition:all .3s;padding-left:2vw;height:100%;width:80%}#sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{background:#f7f8f9;padding-top:2vh}.sidebar-header[_ngcontent-%COMP%]{margin-bottom:7vh}.sidebar-header[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{cursor:pointer}.components[_ngcontent-%COMP%]{margin-top:4vh}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px;font-size:1.1em;display:block}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], #sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, a[aria-expanded=true][_ngcontent-%COMP%]{border-bottom:2px solid #2e7b9c}ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.9em!important;padding-left:30px!important;background:#f7f8f9}"]}),IN),RN=((SN=function(){function t(e,n,r){tt(this,t),this.router=e,this.auth=n,this.itemService=r}return nt(t,[{key:"ngOnInit",value:function(){}},{key:"newCourse",value:function(){this.router.navigate([sm.NEW_COURSE])}},{key:"newEvent",value:function(){this.router.navigate([sm.NEW_EVENT])}},{key:"goToAdmin",value:function(){this.router.navigate([sm.ADMIN])}},{key:"goToMyCourses",value:function(){this.router.navigate([sm.USER,this.auth.authUser.id],{fragment:"courses"})}},{key:"goToMyEvents",value:function(){this.router.navigate([sm.USER,this.auth.authUser.id],{fragment:"events"})}},{key:"displayCoursesFeed",value:function(){this.router.navigate([sm.FEED,this.auth.authUser.id],{fragment:"courses"})}},{key:"displayEventsFeed",value:function(){this.router.navigate([sm.FEED,this.auth.authUser.id],{fragment:"events"})}},{key:"displayPostsFeed",value:function(){this.router.navigate([sm.FEED,this.auth.authUser.id],{fragment:"posts"})}},{key:"getAllCourses",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||SN)(ka(y_),ka($P),ka(eP))},SN.\u0275cmp=hn({type:SN,selectors:[["app-feed"]],decls:17,vars:0,consts:[[1,"row","container-feed","no-gutters","justify-content-start","w-100"],[1,"col-3"],[1,"col-9"],[1,"row","w-100","justify-content-center","sticky"],["role","tablist",1,"nav","border","feed-nav"],["id","feed-home-link",1,"nav-item"],["id","home-tab","role","tab","aria-controls","home","aria-selected","checkHome()",1,"nav-link",3,"click"],["id","feed-courses-link",1,"nav-item"],["id","courses-tab","role","tab","aria-controls","courses","aria-selected","currentFragment === 'courses'",1,"nav-link",3,"click"],["id","feed-events-link",1,"nav-item"],["id","events-tab","role","tab","aria-controls","events","aria-selected","currentFragment === 'events'",1,"nav-link",3,"click"]],template:function(t,e){1&t&&(Ia(0,"div",0),Ia(1,"div",1),Aa(2,"app-sidebar-user"),Ta(),Ia(3,"div",2),Ia(4,"div",3),Ia(5,"ul",4),Ia(6,"li",5),Ia(7,"a",6),Ra("click",(function(){return e.displayPostsFeed()})),Ia(8,"span"),_u(9,"NETWORKING"),Ta(),Ta(),Ta(),Ia(10,"li",7),Ia(11,"a",8),Ra("click",(function(){return e.displayCoursesFeed()})),Ia(12,"span"),_u(13,"FORMATIONS"),Ta(),Ta(),Ta(),Ia(14,"li",9),Ia(15,"a",10),Ra("click",(function(){return e.displayEventsFeed()})),_u(16," \xc9V\xc9NEMENTS "),Ta(),Ta(),Ta(),Ta(),Ta(),Ta())},directives:[NN],styles:[".container-feed[_ngcontent-%COMP%]{height:1000px;width:100%;padding:0;margin:0}.sticky[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;top:15.2vh;z-index:10}.feed-nav[_ngcontent-%COMP%]{width:100%;height:8vh;background-color:#fff;font-size:1.05em;font-weight:500}.feed-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{width:33%;text-align:center;display:table}.feed-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{text-decoration:none;color:#000}.feed-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}.feed-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:active, .feed-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:focus, .feed-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{border-bottom:.6vh solid #2e7b9c}"]}),SN),FN=[{path:sm.HOME.substr(1),component:rN,canActivate:[Hx]},{path:sm.SEARCH.substr(1),component:PN},{path:sm.FEED.substr(1),component:RN,canActivate:[xN]},{path:"",redirectTo:sm.HOME.substr(1),pathMatch:"full"},{path:"**",component:zx}],MN=V_.forRoot(FN,{anchorScrolling:"enabled",onSameUrlNavigation:"reload",preloadingStrategy:O_});function LN(t,e){1&t&&(Ia(0,"div",16),Aa(1,"app-search-bar2",17),Ta()),2&t&&(lo(1),Ea("height","md"))}function UN(t,e){if(1&t){var n=Pa();Ia(0,"li",18),Ia(1,"a",19),Ra("click",(function(){return er(n),La().goHome()})),Aa(2,"span",20),Ta(),Ta()}}function VN(t,e){if(1&t){var n=Pa();Ia(0,"div",21),Ia(1,"div",22),Ia(2,"button",23),Ra("click",(function(){return er(n),La().onNewCourse()})),Aa(3,"span",24),Ia(4,"div",25),_u(5,"Formation"),Ta(),Ta(),Ta(),Ia(6,"div",22),Ia(7,"button",23),Ra("click",(function(){return er(n),La().onNewEvent()})),Aa(8,"span",26),Ia(9,"div",25),_u(10,"\xc9v\xe9nement"),Ta(),Ta(),Ta(),Ta()}}function jN(t,e){if(1&t){var n=Pa();Ia(0,"li",27),Ia(1,"div",28),Aa(2,"app-user-avatar",29),Ta(),Ia(3,"div",30),Aa(4,"a",31),Ta(),Ia(5,"div",32),Ia(6,"a",33),Ra("click",(function(){return er(n),La().goToAuthUserPage()})),_u(7,"Mon profil"),Ta(),Aa(8,"div",34),Ia(9,"a",33),Ra("click",(function(){return er(n),La().onSignOut()})),_u(10,"Se d\xe9connecter"),Ta(),Ta(),Ta()}if(2&t){var r=La();lo(2),Ea("photoUrl",r.getUserPpLink()?"":r.getUser().ppLink)("name",r.getUser().firstname+" "+r.getUser().lastname)("border","1px solid #2E7B9C")}}function BN(t,e){if(1&t){var n=Pa();Ia(0,"div",35),Ia(1,"button",36),Ra("click",(function(){return er(n),La().onSignIn()})),_u(2," Se connecter "),Ta(),Ta()}}var qN,WN,HN=((WN=function(){function t(e,n,r){tt(this,t),this.formBuilder=e,this.authService=n,this.router=r,this.collapsed=!0,this.navCategoriesCollapsed=!0,this.searchForm=this.formBuilder.group({search:""})}return nt(t,[{key:"ngOnInit",value:function(){}},{key:"getUser",value:function(){return this.authService&&this.authService.isAuth?this.authService.authUser:null}},{key:"getUserPpLink",value:function(){return this.authService&&this.authService.isAuth?this.authService.authUser.ppLink===rm.DEFAULT_PP_USER:null}},{key:"goToTrainingSearching",value:function(){this.router.navigate([sm.RESULTS],{queryParams:{category:Vh.ID,item:Lh.COURSES}})}},{key:"searchInstructors",value:function(){this.router.navigate([sm.RESULTS],{queryParams:{category:Vh.ID,item:Lh.USERS}})}},{key:"isHome",value:function(){return this.router.url.includes(sm.HOME.substr(1))}},{key:"goHome",value:function(){this.router.navigate(this.authService.isAuth?[sm.FEED]:[sm.HOME])}},{key:"goToAuthUserPage",value:function(){this.router.navigate([sm.USER,this.authService.authUser.id])}},{key:"goToShoppingCart",value:function(){this.router.navigate([sm.CART])}},{key:"onNewCourse",value:function(){this.router.navigate([sm.NEW_COURSE])}},{key:"onNewEvent",value:function(){this.router.navigate([sm.NEW_EVENT])}},{key:"goToAdmin",value:function(){this.router.navigate([sm.ADMIN])}},{key:"isAuth",value:function(){return this.authService.isAuth}},{key:"onSignIn",value:function(){this.isAuth()||this.router.navigate([sm.LOGIN])}},{key:"onSignOut",value:function(){var t=this;this.authService.signOutUser().then((function(e){e?(console.log(t.authService.isAuth,"user est d\xe9connect\xe9"),t.router.navigate([sm.LOGIN])):console.error("la d\xe9connexion a \xe9chou\xe9")})).catch((function(t){console.error(t),console.error("la d\xe9connexion a \xe9chou\xe9")}))}}]),t}()).\u0275fac=function(t){return new(t||WN)(ka(Bg),ka($P),ka(y_))},WN.\u0275cmp=hn({type:WN,selectors:[["app-header-user"]],decls:18,vars:9,consts:[[1,"navbar","navbar-expand-lg","sticky-top"],[1,"navbar-brand","my-auto",3,"click"],["src","assets/img/logo.png","width","90","height","46","alt","",1,"d-inline-block"],["class","search-bar my-auto",4,"ngIf"],["type","button","data-toggle","collapse","data-target","#navbarContent","aria-controls","navbarContent","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["id","navbarContent",1,"nav-items-collapse","navbar-collapse-nav","collapse","navbar-collapse","justify-content-end"],[1,"navbar-items","nav","navbar-nav","justify-content-end","my-auto"],["class","nav-item nav-li",4,"ngIf"],["popContent",""],["routerLinkActive","router-link-active","placement","bottom",1,"nav-item","nav-li",3,"ngbPopover","autoClose"],[1,"nav-link"],["data-inline","false","data-icon","ic:baseline-add-box",1,"iconify","nav-icon"],[1,"nav-li-text","ml-2"],["class","nav-item nav-li","ngbDropdown","","display","dynamic","placement","bottom-right",4,"ngIf"],["class","ml-5 my-auto",4,"ngIf"],[1,"search-bar","my-auto"],[3,"height"],[1,"nav-item","nav-li"],[1,"nav-link",3,"click"],["data-inline","false","data-icon","ant-design:home-filled",1,"iconify","nav-icon"],[1,"row"],[1,"col-6"],[1,"btn","pop-content-btn",3,"click"],["data-inline","false","data-icon","whh:student",1,"iconify","icon-pop-content"],[1,"pop-btn-name"],["data-inline","false","data-icon","bx:bx-calendar",1,"iconify","icon-pop-content"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"nav-item","nav-li"],[1,"nav-link","nav-icon-pp"],[3,"photoUrl","name","border"],[1,"nav-link","nav-icon-dd"],["tabindex","0","ngbDropdownToggle","","id","navbarDropdown3","role","button"],["ngbDropdownMenu","","aria-labelledby","navbarDropdown1",1,"dropdown-menu"],["ngbDropdownItem","",3,"click"],[1,"dropdown-divider"],[1,"ml-5","my-auto"],[1,"btn","btn-signin",3,"click"]],template:function(t,e){if(1&t&&(Ia(0,"nav",0),Ia(1,"a",1),Ra("click",(function(){return e.goHome()})),Aa(2,"img",2),Ta(),_a(3,LN,2,1,"div",3),Ia(4,"button",4),Ra("click",(function(){return e.collapsed=!e.collapsed})),Aa(5,"span",5),Ta(),Ia(6,"div",6),Ia(7,"ul",7),_a(8,UN,3,0,"li",8),_a(9,VN,11,0,"ng-template",null,9,jl),Ia(11,"li",10),Ia(12,"a",11),Aa(13,"span",12),Ia(14,"span",13),_u(15,"Publier"),Ta(),Ta(),Ta(),_a(16,jN,11,3,"li",14),Ta(),_a(17,BN,3,0,"div",15),Ta(),Ta()),2&t){var n=wa(10);lo(3),Ea("ngIf",!e.isHome()),lo(1),ya("aria-expanded",!e.collapsed),lo(2),iu("collapse",e.collapsed),lo(2),Ea("ngIf",e.isAuth()),lo(3),Ea("ngbPopover",n)("autoClose","outside"),lo(5),Ea("ngIf",e.isAuth()),lo(1),Ea("ngIf",!e.isAuth())}},directives:[uA,fd,gD,ew,dA,vw,fA,lA,cA],styles:[".navbar[_ngcontent-%COMP%]{width:100%;height:4rem;background-color:#fff;box-shadow:0 2px 4px 1px hsla(0,0%,60.8%,.32)}.search-bar[_ngcontent-%COMP%]{width:40%;margin-right:auto;margin-left:auto;padding-top:0;padding-bottom:0}.nav-items-collapse[_ngcontent-%COMP%]{width:40%}.navbar-items[_ngcontent-%COMP%]{min-width:100%}.nav-item[_ngcontent-%COMP%]{margin-left:12%;height:3.8rem;min-width:5vw;text-align:center}.nav-icon[_ngcontent-%COMP%]:focus, .nav-icon[_ngcontent-%COMP%]:hover{color:#396274}.nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus, .nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{text-decoration:none;background-color:transparent!important}.nav-li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:1vh;height:100%;width:100%}.nav-li-text[_ngcontent-%COMP%]{font-weight:450}.nav-icon[_ngcontent-%COMP%]{font-size:1.8rem;color:#2e7b9c;display:inline-block;height:100%;margin:0 auto}.nav-icon-pp[_ngcontent-%COMP%]{height:3.8rem;width:3.8rem;display:inline-block}.nav-icon-dd[_ngcontent-%COMP%]{margin:0;padding:0;display:inline-block}.dropdown-item[_ngcontent-%COMP%]{font-size:1rem;font-weight:400}.icon-pop-content[_ngcontent-%COMP%]{font-size:1.7rem;color:#2e7b9c}.pop-content-btn[_ngcontent-%COMP%]:focus, .pop-content-btn[_ngcontent-%COMP%]:hover{font-size:.8rem;color:#396274}.pop-content-btn[_ngcontent-%COMP%]{margin:.3rem}.pop-btn-name[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:500;color:#2e7b9c}.input-search[_ngcontent-%COMP%]{border-radius:3rem 0 0 3rem;-moz-border-radius:3rem 0 0 3rem;-webkit-border-radius:3rem 0 0 3rem}.icon-search[_ngcontent-%COMP%]{border-radius:0 3rem 3rem 0;-moz-border-radius:0 3rem 3rem 0;-webkit-border-radius:0 3rem 3rem 0}.btn-signin[_ngcontent-%COMP%]{height:2.7rem;background-color:#2e7b9c;color:#f8f7f6;border-radius:.3rem .3rem .3rem .3rem;-moz-border-radius:.3rem .3rem .3rem .3rem;-webkit-border-radius:.3rem .3rem .3rem .3rem;text-transform:uppercase;font-weight:500;margin-top:auto;margin-bottom:auto}.btn-signin[_ngcontent-%COMP%]:active, .btn-signin[_ngcontent-%COMP%]:focus, .btn-signin[_ngcontent-%COMP%]:hover{color:#2e7b9c;background-color:#f8f7f6;border:.1rem solid #2e7b9c}.nav-categories[_ngcontent-%COMP%]{background-color:#f4f5f6;padding-left:5%;padding-right:5%}.nav-categories[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{border-bottom:.1rem solid transparent}.nav-categories[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{border-bottom-color:#2e7b9c}"]}),WN),zN=((qN=function(){function t(){tt(this,t)}return nt(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||qN)},qN.\u0275cmp=hn({type:qN,selectors:[["app-footer"]],decls:1,vars:0,template:function(t,e){1&t&&Aa(0,"footer")},styles:["footer[_ngcontent-%COMP%]{border-top:1px solid #2e7b9c;background-color:#f5f5f5;height:3em}"]}),qN);function GN(t,e){1&t&&Aa(0,"app-header-user")}function KN(t,e){1&t&&Aa(0,"app-footer")}var QN,$N,YN,JN=((YN=function(){function t(e,n,r){tt(this,t),this.router=e,this.authService=n,this.routerService=r,this.authService.authStateChanged()}return nt(t,[{key:"firebaseConfiguration",value:function(){nm.initializeApp({apiKey:"AIzaSyDkDnIA6BAD2rW8NVBDXtSaA87OUDBUl7s",authDomain:"network-55b29.firebaseapp.com",databaseURL:"https://network-55b29.firebaseio.com",projectId:"network-55b29",storageBucket:"network-55b29.appspot.com",messagingSenderId:"156096192940",appId:"1:156096192940:web:aa59dea901f2da043c5a09"})}},{key:"isAuthRoute",value:function(){return this.router.url.includes(sm.LOGIN)||this.router.url.includes(sm.SIGNUP)||this.router.url.includes(sm.AUTH)||this.router.url.includes(sm.PASSWORD_FORGOTTEN)}},{key:"display",value:function(){return!this.isAuthRoute()&&!this.isNewItemRoute()}},{key:"isAuth",value:function(){return this.authService.isAuth}},{key:"isNewItemRoute",value:function(){return this.router.url.startsWith(sm.NEW_ITEM)}}]),t}()).\u0275fac=function(t){return new(t||YN)(ka(y_),ka($P),ka(oN))},YN.\u0275cmp=hn({type:YN,selectors:[["app-root"]],decls:4,vars:2,consts:[[1,"wrapper"],[4,"ngIf"]],template:function(t,e){1&t&&(Ia(0,"div",0),_a(1,GN,1,0,"app-header-user",1),Aa(2,"router-outlet"),_a(3,KN,1,0,"app-footer",1),Ta()),2&t&&(lo(1),Ea("ngIf",e.display()),lo(2),Ea("ngIf",e.display()))},directives:[fd,T_,HN,zN],styles:[".wrapper[_ngcontent-%COMP%]{width:100%;height:100%}"]}),YN),XN=(($N=function t(){tt(this,t)}).\u0275mod=vn({type:$N}),$N.\u0275inj=ae({factory:function(t){return new(t||$N)},providers:[$P,xN,Hx],imports:[[Tx]]}),$N),ZN=((QN=function(){function t(e,n){tt(this,t),this.router=e,this.authService=n}return nt(t,[{key:"canActivate",value:function(){return!!this.authService.preSignUpUser||(this.router.navigate([sm.LOGIN]),!1)}}]),t}()).\u0275fac=function(t){return new(t||QN)(He(y_),He($P))},QN.\u0275prov=se({token:QN,factory:QN.\u0275fac,providedIn:"root"}),QN);function tR(t,e){if(1&t&&(Ia(0,"div",15),_u(1),Ta()),2&t){var n=La(2);lo(1),ku(" ",n.errorPasswordMessageEmpty," ")}}function eR(t,e){if(1&t&&(Ia(0,"li"),_u(1),Ta()),2&t){var n=e.$implicit;lo(1),ku(" ",n,"")}}function nR(t,e){if(1&t&&(Ia(0,"div",15),Ia(1,"span"),_u(2,"Le mot de passe doit contenir au moins :"),Ta(),Ia(3,"ul"),_a(4,eR,2,1,"li",16),Ta(),Ta()),2&t){var n=La(2);lo(4),Ea("ngForOf",n.errorPasswordMessage)}}function rR(t,e){if(1&t&&(_a(0,tR,2,1,"div",14),_a(1,nR,5,1,"div",14)),2&t){var n=La();Ea("ngIf",n.errorPasswordMessageEmpty.length&&!n.errorPasswordMessage.length),lo(1),Ea("ngIf",!n.errorPasswordMessageEmpty.length&&n.errorPasswordMessage.length)}}function iR(t,e){if(1&t){var n=Pa();Ia(0,"div",17),Ra("click",(function(){er(n);var t=La();return t.hidePassword=!t.hidePassword})),Ia(1,"div",18),Aa(2,"span",19),Ta(),Ta()}}function oR(t,e){if(1&t){var n=Pa();Ia(0,"div",17),Ra("click",(function(){er(n);var t=La();return t.hidePassword=!t.hidePassword})),Ia(1,"div",18),Aa(2,"span",20),Ta(),Ta()}}function sR(t,e){if(1&t&&(Ia(0,"div",15),_u(1),Ta()),2&t){var n=La();lo(1),ku(" ",n.errorConfirmPasswordMessage," ")}}function aR(t,e){if(1&t){var n=Pa();Ia(0,"div",17),Ra("click",(function(){er(n);var t=La();return t.hideConfirmPassword=!t.hideConfirmPassword})),Ia(1,"div",18),Aa(2,"span",19),Ta(),Ta()}}function uR(t,e){if(1&t){var n=Pa();Ia(0,"div",17),Ra("click",(function(){er(n);var t=La();return t.hideConfirmPassword=!t.hideConfirmPassword})),Ia(1,"div",18),Aa(2,"span",20),Ta(),Ta()}}var cR,lR=function(t){return{"is-invalid":t}},hR=((cR=function(){function t(e){tt(this,t),this.formBuilder=e,this.password=new yl,this.hidePassword=!0,this.hideConfirmPassword=!0,this.errorPasswordMessageEmpty="",this.errorPasswordMessage=[],this.errorPassword=!1,this.errorConfirmPasswordMessage="",this.errorConfirmPassword=!1}return nt(t,[{key:"ngOnInit",value:function(){this.initForm()}},{key:"initForm",value:function(){this.passwordForm=this.formBuilder.group({password:["",[qp.required,qp.pattern(/[0-9a-zA-Z!@#$%&:=+\xa3\u20ac*\[\]()_\-?]{8,50}/)]],confirmPassword:["",[qp.required,qp.pattern(/[0-9a-zA-Z!@#$%&:=+\xa3\u20ac*\[\]()_\-?]{8,50}/)]]})}},{key:"checkPassword",value:function(){var t=this.passwordForm.get(["password"]).value;return this.errorPasswordMessage.splice(0,this.errorPasswordMessage.length),this.errorPasswordMessageEmpty="",this.errorPassword=!1,t.length?(this.errorPasswordMessageEmpty="",t.length>=8&&t.length<=50||(this.errorPassword=!0,this.errorPasswordMessage.push("8 caract\xe8res")),this.hasLowerCase(t)||(this.errorPassword=!0,this.errorPasswordMessage.push("Une minuscule")),this.hasUpperCase(t)||(this.errorPassword=!0,this.errorPasswordMessage.push("Une majuscule")),this.hasNumber(t)||(this.errorPassword=!0,this.errorPasswordMessage.push("Un chiffre")),this.hasSpecialCharacters(t)||(this.errorPassword=!0,this.errorPasswordMessage.push("Un caract\xe8re sp\xe9cial\n! @ # $ % & : = + \xa3 \u20ac * []()_-?"))):(this.errorPassword=!0,this.errorPasswordMessageEmpty="Le mot de passe doit contenir au moins 8 caract\xe8res majuscules et minuscules, un chiffre ainsi que des symboles (tels que @ & ! ? $ #)."),this.errorPassword}},{key:"checkConfirmPassword",value:function(){var t=this.passwordForm.get(["password"]).value,e=this.passwordForm.get(["confirmPassword"]).value;return this.errorConfirmPassword=!1,this.errorPassword?(this.errorConfirmPassword=!0,this.errorConfirmPasswordMessage="Veuillez saisir un mot de passe correct"):t.length&&!e.length?(this.errorConfirmPassword=!0,this.errorConfirmPasswordMessage="Veuillez confirmer votre mot de passe."):e.length||t.length?e.length&&t.length&&(e!==t?(this.errorConfirmPassword=!0,this.errorConfirmPasswordMessage="Les mots de passe ne sont pas identiques, veuillez r\xe9essayer."):(this.errorConfirmPassword=!1,this.errorPassword=!1,this.sendPassword())):(this.errorConfirmPassword=!0,this.errorConfirmPasswordMessage="Veuillez saisir votre mot de passe."),this.errorConfirmPassword}},{key:"sendPassword",value:function(){var t=(new Gx.Md5).appendStr(this.passwordForm.get("confirmPassword").value).end().toString();t?this.password.next(t):(this.errorConfirmPassword=!1,this.errorConfirmPasswordMessage="Veuillez confirmer le mot de passe.")}},{key:"forbidOtherCharacters",value:function(t){return/[0-9a-zA-Z!@#$%&:=+\xa3\u20ac*\[\]()_\-?]/.test(t)}},{key:"hasLowerCase",value:function(t){return t.search(/[a-z]/)>-1}},{key:"hasUpperCase",value:function(t){return t.search(/[A-Z]/)>-1}},{key:"hasSpecialCharacters",value:function(t){return t.search(/[!@#$%&:=+\xa3\u20ac*\[\]()_\-?]/)>-1}},{key:"hasNumber",value:function(t){return t.search(/[0-9]/)>-1}},{key:"shouldShowRequiredError",value:function(t){return!this.passwordForm.get(t).valid&&this.passwordForm.get(t).touched}},{key:"shouldShowSignUpError",value:function(t){switch(t){case"password":return this.errorPassword;case"confirmPassword":return this.errorConfirmPassword}}}]),t}()).\u0275fac=function(t){return new(t||cR)(ka(Bg))},cR.\u0275cmp=hn({type:cR,selectors:[["app-password-box"]],outputs:{password:"password"},decls:27,vars:17,consts:[[1,"password-form",3,"formGroup"],[1,"form-group","mb-3"],["popPasswordContent",""],["for","password",1,"sr-only"],[2,"color","rgb(247, 103, 103)"],[1,"input-group"],["formControlName","password","id","password","minlength","8","maxlength","30","aria-describedby","passwordHelp","placeholder","Mot de passe","type","input","placement","top","triggers","manual","container","body","autocomplete","new-password","ng-hide","true","required","",1,"form-control",3,"type","ngClass","ngbPopover","autoClose","keyup","change","keydown","click"],["popoverPassword","ngbPopover"],["class","input-group-append",3,"click",4,"ngIf"],["for","confirmPassword",1,"sr-only"],["popConfirmPasswordContent",""],["formControlName","confirmPassword","id","confirmPassword","minlength","8","maxlength","30","aria-describedby","passwordHelp","placeholder","Confirmer","type","input","placement","bottom","triggers","manual","container","body","ng-hide","true","required","",1,"form-control",3,"type","ngClass","ngbPopover","autoClose","change","keyup","keydown"],["popoverConfirmPassword","ngbPopover"],["id","passwordHelp",1,"form-text","text-muted","my-2"],["class","text-danger field-error-class",4,"ngIf"],[1,"text-danger","field-error-class"],[4,"ngFor","ngForOf"],[1,"input-group-append",3,"click"],[1,"input-group-text"],["data-icon","ic:outline-visibility-off","data-inline","false",1,"iconify"],["data-icon","ic:outline-visibility","data-inline","false",1,"iconify"]],template:function(t,e){if(1&t){var n=Pa();Ia(0,"form",0),Ia(1,"div",1),_a(2,rR,2,2,"ng-template",null,2,jl),Ia(4,"label",3),_u(5," Mot de passe "),Ia(6,"span",4),_u(7,"*"),Ta(),Ta(),Ia(8,"div",5),Ia(9,"input",6,7),Ra("keyup",(function(){return e.checkPassword()}))("change",(function(){return e.checkPassword()}))("keydown",(function(t){return e.forbidOtherCharacters(t.key)}))("click",(function(){er(n);var t=wa(10);return e.checkPassword()&&(e.shouldShowRequiredError("password")||e.shouldShowSignUpError("password"))&&t.open()})),Ta(),_a(11,iR,3,0,"div",8),_a(12,oR,3,0,"div",8),Ta(),Ta(),Ia(13,"div",1),Ia(14,"label",9),_u(15," Confirmation "),Ia(16,"span",4),_u(17,"*"),Ta(),Ta(),_a(18,sR,2,1,"ng-template",null,10,jl),Ia(20,"div",5),Ia(21,"input",11,12),Ra("change",(function(){return e.checkConfirmPassword()}))("keyup",(function(){er(n);var t=wa(22);return e.checkConfirmPassword()&&(e.shouldShowRequiredError("confirmPassword")||e.shouldShowSignUpError("confirmPassword"))&&t.open()}))("keydown",(function(t){return e.forbidOtherCharacters(t.key)})),Ta(),_a(23,aR,3,0,"div",8),_a(24,uR,3,0,"div",8),Ta(),Ia(25,"small",13),_u(26," Le mot de passe doit contenir au moins 8 caract\xe8res majuscules et minuscules, un chiffre ainsi que des symboles (tels que ! @ # $ % & : = + \xa3 \u20ac * []()_-?). "),Ta(),Ta(),Ta()}if(2&t){var r=wa(3),i=wa(19);Ea("formGroup",e.passwordForm),lo(9),Ea("type",e.hidePassword?"password":"text")("ngClass",hl(13,lR,e.shouldShowRequiredError("password")||e.shouldShowSignUpError("password")))("ngbPopover",r)("autoClose","outside"),lo(2),Ea("ngIf",e.hidePassword),lo(1),Ea("ngIf",!e.hidePassword),lo(9),Ea("type",e.hideConfirmPassword?"password":"text")("ngClass",hl(15,lR,e.shouldShowRequiredError("confirmPassword")||e.shouldShowSignUpError("confirmPassword")))("ngbPopover",i)("autoClose","outside"),lo(2),Ea("ngIf",e.hideConfirmPassword),lo(1),Ea("ngIf",!e.hideConfirmPassword)}},directives:[rg,Mp,ug,Dp,Fp,Ig,Fg,Lg,Dg,ad,gD,fd,ld],styles:[""]}),cR),fR=function(){return{leftTime:4}};function dR(t,e){if(1&t){var n=Pa();Ia(0,"div",31),Ia(1,"h3"),_u(2,"F\xe9licitations !"),Ta(),Ia(3,"p"),_u(4),Ta(),Ia(5,"countdown",32,33),Ra("event",(function(t){return er(n),La().onTimerFinished(t)})),Ta(),Ta()}if(2&t){var r=La();lo(4),ku(" ",r.successMessage," "),lo(1),Ea("config",ll(2,fR))}}function pR(t,e){if(1&t&&(Ia(0,"div",34),Ia(1,"p",35),_u(2),Ta(),Ta()),2&t){var n=La();lo(2),ku(" ",n.errorMessage," ")}}function vR(t,e){1&t&&Aa(0,"app-user-avatar",36),2&t&&Ea("photoUrl",La().ppLink)}function gR(t,e){if(1&t&&(Ia(0,"option",37),_u(1),Ta()),2&t){var n=e.index,r=La();Ea("value",r.roles[n]),lo(1),ku(" ",r.roles[n]," ")}}var mR,yR,bR=((yR=function(){function t(e,n,r){tt(this,t),this.formBuilder=e,this.authService=n,this.router=r,this.errorMessage="",this.successMessage="",this.hasSelected=!1,this.roles=[],this.roleInit="Activit\xe9",this.password="",this.mail="",this.lastname="",this.firstname="",this.ppLink="",this.roles=["Salari\xe9","Sans activit\xe9","\xc9tudiant","Formateur","Autre"]}return nt(t,[{key:"ngOnInit",value:function(){this.initForm()}},{key:"initForm",value:function(){this.signUpForm=this.formBuilder.group({firstname:["",[qp.required]],lastname:["",[qp.required]]}),this.roleSelect=this.roleInit,this.mail=this.authService.preSignUpUser.additionalUserInfo.profile.email,this.lastname=this.authService.preSignUpUser.additionalUserInfo.profile.family_name,this.firstname=this.authService.preSignUpUser.additionalUserInfo.profile.given_name,this.ppLink=this.authService.preSignUpUser.additionalUserInfo.profile.picture}},{key:"createUser",value:function(){var t=this,e=new YO(this.authService.preSignUpUser.user.uid,this.firstname,this.lastname,this.mail,this.password,this.ppLink,null,null,null,this.roleSelect===this.roleInit?this.roles[this.roles.length-1]:this.roleSelect,Rx.STANDARD,!1,[],[]);this.authService.createAccountWith(e).then((function(e){t.authService.signOutUser().then((function(){t.successMessage="Bienvenue, \n Votre compte a bien \xe9t\xe9 cr\xe9\xe9, vous pouvez vous connecter."})).catch((function(t){console.error(t.message)}))})).catch((function(e){console.error(e),t.displayError(e.code)}))}},{key:"shouldShowRequiredError",value:function(t){return!this.signUpForm.get(t).valid&&this.signUpForm.get(t).touched}},{key:"onUpdatePassword",value:function(){var t=this,e=this.password;e?this.authService.updatePasswordWith(e,this.authService.preSignUpUser.user).then((function(){t.createUser()})).catch((function(e){console.error(e),t.displayError(e.code)})):this.displayError("")}},{key:"displayError",value:function(t){switch(console.warn("displayError",t),t){case"auth/weak-password":this.errorMessage="Veuillez choisir un mot de passe plus s\xfbr. Essayer de m\xe9langer des chiffres des lettres et des symboles (tels que @ & ! ? $ #)";break;default:this.errorMessage="Le mot de passe doit contenir au moins 8 caract\xe8res majuscules et minuscules, un chiffre ainsi que des symboles (tels que @ & ! ? $ #)."}}},{key:"onTimerFinished",value:function(t){"done"==t.action&&this.router.navigate([sm.LOGIN])}},{key:"isRole",value:function(t){return console.log(t),t===this.roles[0]}},{key:"onChangeSelectRole",value:function(t){console.log(t),this.roleSelect=t}},{key:"goToSignIn",value:function(){this.router.navigate([sm.LOGIN])}}]),t}()).\u0275fac=function(t){return new(t||yR)(ka(Bg),ka($P),ka(y_))},yR.\u0275cmp=hn({type:yR,selectors:[["app-signup-with"]],decls:40,vars:10,consts:[[1,"auth-section","h-100","row","align-items-center","justify-content-center","text-center"],[1,"col-lg-5","col-md-4","col-sm-10"],[1,"auth-title"],["routerLink","/home","routerLinkActive","router-link-active"],["src","assets/img/logo.png","width","90","height","60","alt","",1,"d-inline-block"],["class","success-message alert alert-success",4,"ngIf"],["class","email-not-verified alert alert-danger",4,"ngIf"],[1,"auth-body","col-lg-5","col-md-6","col-sm-10"],[1,"auth-content","justify-content-center"],[1,"user-signedIn-info-block","text-center","px-4","py-3","mb-3","rounded","shadow"],[1,"user-signedIn-info","mb-3"],[1,"row","user-section","align-items-center"],[1,"photo","col-3"],[3,"photoUrl",4,"ngIf"],[1,"col-9"],[1,"nom-user"],[1,"mail-user"],[1,"form-group","mb-3"],["for","role",1,"sr-only"],[1,"input-group"],[1,"input-group-prepend"],["type","div","placement","bottom","triggers","mouseenter:mouseleave","ngbPopover","Cette information ne sera pas visible par les autres utilisateurs.","container","body",1,"input-group-text",3,"autoClose"],["popoverRoleInfo","ngbPopover"],["data-icon","clarity:help-info-solid","data-inline","false",1,"iconify"],["id","role",1,"form-control","form-control-sm",3,"change"],["value","roleInit","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"password"],["type","submit",1,"btn-login","btn","btn-primary","btn-block",3,"disabled","click"],[1,"my-4"],["type","submit",1,"btn","btn-success","btn-block",3,"click"],[1,"success-message","alert","alert-success"],[3,"config","event"],["countdown",""],[1,"email-not-verified","alert","alert-danger"],[1,"email-not-verified-text"],[3,"photoUrl"],[3,"value"]],template:function(t,e){1&t&&(Ia(0,"div",0),Ia(1,"div",1),Ia(2,"div",2),Ia(3,"a",3),Aa(4,"img",4),Ta(),Ta(),_a(5,dR,7,3,"div",5),_a(6,pR,3,1,"div",6),Ta(),Ia(7,"div",7),Ia(8,"div",8),Ia(9,"div",9),Ia(10,"div",10),Ia(11,"div",11),Ia(12,"div",12),_a(13,vR,1,1,"app-user-avatar",13),Ta(),Ia(14,"div",14),Ia(15,"h5",15),_u(16),Ta(),Ia(17,"p",16),_u(18),Ta(),Ta(),Ta(),Ta(),Ia(19,"div",17),Ia(20,"label",18),_u(21,"Activit\xe9"),Ta(),Ia(22,"div",19),Ia(23,"div",20),Ia(24,"div",21,22),Aa(26,"span",23),Ta(),Ta(),Ia(27,"select",24),Ra("change",(function(t){return e.onChangeSelectRole(t.target.value)})),Ia(28,"option",25),_u(29),Ta(),_a(30,gR,2,2,"option",26),Ta(),Ta(),Ta(),Ia(31,"app-password-box",27),Ra("password",(function(t){return e.password=t})),Ta(),Ia(32,"button",28),Ra("click",(function(){return e.onUpdatePassword()})),_u(33," Cr\xe9er un compte "),Ta(),Aa(34,"hr",29),Ia(35,"p"),Ia(36,"small"),_u(37,"Vous avez d\xe9j\xe0 un compte ?"),Ta(),Ta(),Ia(38,"button",30),Ra("click",(function(){return e.goToSignIn()})),_u(39," Se connecter "),Ta(),Ta(),Ta(),Ta(),Ta()),2&t&&(lo(5),Ea("ngIf",e.successMessage),lo(1),Ea("ngIf",e.errorMessage&&!e.successMessage),lo(7),Ea("ngIf",e.ppLink),lo(3),Cu("",e.firstname," ",e.lastname,""),lo(2),wu(e.mail),lo(6),Ea("autoClose","outside"),lo(5),ku(" ",e.roleInit," "),lo(1),Ea("ngForOf",e.roles),lo(2),Ea("disabled",!e.password.length))},directives:[__,I_,fd,gD,lv,gv,ld,hR,Sx,vw],styles:["button[_ngcontent-%COMP%]{font-size:medium}.signup-block-signin[_ngcontent-%COMP%]{padding-top:2vh;padding-bottom:2vh;margin-top:2vh;font-size:medium}"]}),yR),_R=((mR=function(){function t(e){tt(this,t),this.router=e}return nt(t,[{key:"ngOnInit",value:function(){}},{key:"goHome",value:function(){this.router.navigate([sm.HOME])}}]),t}()).\u0275fac=function(t){return new(t||mR)(ka(y_))},mR.\u0275cmp=hn({type:mR,selectors:[["app-signin"]],decls:6,vars:0,consts:[[1,"auth-section","h-100","row","align-items-center","justify-content-center","text-center"],[1,"auth-body","col-lg-4"],[1,"auth-content"],[1,"auth-title","mb-4"],["src","assets/img/logo.png","width","90","height","60","alt","",1,"d-inline-block",3,"click"]],template:function(t,e){1&t&&(Ia(0,"div",0),Ia(1,"div",1),Ia(2,"div",2),Ia(3,"div",3),Ia(4,"img",4),Ra("click",(function(){return e.goHome()})),Ta(),Ta(),Aa(5,"app-login-box"),Ta(),Ta(),Ta())},directives:[nN],styles:[""]}),mR);function wR(t,e){1&t&&(Ia(0,"div",31),Ia(1,"p"),_u(2," Pour finaliser, votre inscription, veuillez cliquer sur le lien de confirmation qui a \xe9t\xe9 envoy\xe9 par mail. "),Ta(),Ta())}function kR(t,e){if(1&t&&(Ia(0,"div",32),_u(1),Ta()),2&t){var n=La();lo(1),ku(" ",n.errorEmailMessage," ")}}function CR(t,e){if(1&t&&(Ia(0,"div",32),_u(1),Ta()),2&t){var n=La();lo(1),ku(" ",n.errorEmailMessage," ")}}var ER,SR,IR=function(t){return{"is-invalid":t}},TR=((SR=function(){function t(e,n,r){tt(this,t),this.formBuilder=e,this.authService=n,this.router=r,this.errorGeneral=!1,this.errorGeneralMessage="",this.errorEmailMessage="",this.errorEmail=!1,this.errorConfirmEmailMessage="",this.errorConfirmEmail=!1,this.isVerificationEmailSent=!1,this.hasSelected=!1,this.resetMailError()}return nt(t,[{key:"ngOnInit",value:function(){this.initForm()}},{key:"initForm",value:function(){this.signUpForm=this.formBuilder.group({email:["",[qp.required,qp.email]],confirmEmail:["",[qp.required,qp.email]]})}},{key:"checkConfirmEmail",value:function(){var t=this.signUpForm.get(["email"]).value,e=this.signUpForm.get(["confirmEmail"]).value;t&&e&&(t!==e?(this.errorConfirmEmail=!0,this.errorConfirmEmailMessage="Les mots de passe ne sont pas identiques, veuillez r\xe9essayer."):(this.errorConfirmEmail=!1,this.errorConfirmEmailMessage=""))}},{key:"shouldShowRequiredError",value:function(t){return!this.signUpForm.get(t).valid&&this.signUpForm.get(t).touched}},{key:"shouldShowSignUpError",value:function(t){switch(t){case"email":return this.errorEmail;case"confirmEmail":return this.errorConfirmEmail}}},{key:"generatePassword",value:function(){for(var t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",e="",n=0,r=t.length;n<8;++n)e+=t.charAt(Math.floor(Math.random()*r));return"&"+e+"@"}},{key:"onSignUp",value:function(){var t=this,e=this.signUpForm.get("confirmEmail").value,n=this.generatePassword();this.authService.createAccountWithEmailAndPassword(e,n).then((function(){t.signUpForm.reset(),t.authService.sendEmailVerification().then((function(){t.isVerificationEmailSent=!0}))}),(function(e){t.checkErrorAuth(e)}))}},{key:"onGoogleSignUpWithPopUp",value:function(){var t=this;this.authService.isAuth?this.authService.signOutUser().then((function(){t.googleSignUp()})):this.googleSignUp()}},{key:"onFacebookSignUpWithPopUp",value:function(){var t=this;this.authService.isAuth?this.authService.signOutUser().then((function(){t.facebookSignUp()})):this.facebookSignUp()}},{key:"facebookSignUp",value:function(){var t=this;this.authService.facebookSignIn((function(e){var n=e.additionalUserInfo.profile.verified_email;console.error(n),n?(t.authService.preSignUpUser=e,t.router.navigate([sm.SIGNUP_WITH])):t.authService.sendEmailVerification().then((function(e){t.isVerificationEmailSent=!0}),(function(e){t.checkErrorAuth(e)}))})).catch((function(e){console.error(e),t.checkErrorAuth(e.code)}))}},{key:"googleSignUp",value:function(){var t=this;this.authService.googleSignIn((function(e){e.additionalUserInfo.profile.verified_email?(t.authService.preSignUpUser=e,t.router.navigate([sm.SIGNUP_WITH])):t.authService.sendEmailVerification().then((function(e){t.isVerificationEmailSent=!0}),(function(e){t.checkErrorAuth(e)}))})).catch((function(e){console.error(e),t.checkErrorAuth(e.code)}))}},{key:"goToSignIn",value:function(){this.router.navigate([sm.LOGIN])}},{key:"resetMailError",value:function(){this.errorEmail=!1,this.errorEmailMessage="Vous en aurez besoin pour vous reconnecter ou pour r\xe9initialiser votre mot de passe."}},{key:"resetGeneralError",value:function(){this.errorGeneral=!1,this.errorGeneralMessage=""}},{key:"checkErrorAuth",value:function(t){switch(console.warn("checkErrorAuth",t),t){case"auth/email-already-in-use":console.warn("checkErrorAuth2",t),this.errorEmailMessage="L'adresse mail existe d\xe9j\xe0",this.errorEmail=!0,this.resetGeneralError();break;case"auth/invalid-email":console.warn("checkErrorAuth3",t),this.errorEmailMessage="L'adresse mail n'est pas valide",this.errorEmail=!0,this.resetGeneralError();break;case"auth/operation-not-allowed":console.warn("checkErrorAuth4",t),this.errorGeneralMessage="Votre compte n'est pas activ\xe9, veuillez confirmer votre inscription",this.errorGeneral=!0,this.resetMailError();break;default:this.resetGeneralError(),this.resetMailError()}}}]),t}()).\u0275fac=function(t){return new(t||SR)(ka(Bg),ka($P),ka(y_))},SR.\u0275cmp=hn({type:SR,selectors:[["app-signup"]],decls:50,vars:13,consts:[[1,"auth-section","h-100","row","align-items-center","justify-content-center","text-center"],[1,"col-lg-5","col-md-6","col-sm-10"],["class","alert alert-success","role","alert",4,"ngIf"],[1,"auth-title"],["routerLink","/home","routerLinkActive","router-link-active"],["src","assets/img/logo.png","width","90","height","60","alt","",1,"d-inline-block"],[1,"auth-body","col-lg-5","col-md-5","col-sm-10"],[1,"auth-content","justify-content-center","mt-4"],[1,"signup-block","align-self-center","justify-content-center","text-center","px-4","py-3","shadow","rounded"],[1,"row","btn-sigin-with","btn-google-signin","rounded","shadow-sm","w-80",3,"click"],[1,"col-2"],["data-icon","logos:google-icon","data-inline","false",1,"signin-logo","iconify"],[1,"col-10"],[1,"signin-with"],[1,"mx-auto","w-75","my-3"],[1,"signup-title","mb-3"],["autocomplete","off",1,"signup-form",3,"formGroup"],[1,"form-group","mb-2"],["popEmailContent",""],["for","email",1,"sr-only"],[2,"color","rgb(247, 103, 103)"],["type","email","formControlName","email","id","email","aria-describedby","emailHelp","placeholder","Email","type","input","placement","left","triggers","manual","container","body","required","",1,"form-control",3,"ngClass","ngbPopover","autoClose","click","change"],["popoverEmail","ngbPopover"],["id","emailHelp",1,"form-text","text-muted"],["popConfirmeEmailContent",""],["for","confirmEmail",1,"sr-only"],["type","email","formControlName","confirmEmail","id","confirmEmail","aria-describedby","emailHelp","placeholder","Confirmer l'email","type","input","placement","left","triggers","manual","container","body","required","",1,"form-control",3,"ngClass","ngbPopover","autoClose","change","click"],["popoverConfirmEmail","ngbPopover"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block","mt-3",3,"disabled","click"],[1,"my-3"],["type","submit",1,"btn","btn-success","btn-lg","btn-block",3,"click"],["role","alert",1,"alert","alert-success"],[1,"text-danger","field-error-class"]],template:function(t,e){if(1&t){var n=Pa();Ia(0,"div",0),Ia(1,"div",1),_a(2,wR,3,0,"div",2),Ia(3,"div",3),Ia(4,"a",4),Aa(5,"img",5),Ta(),Ta(),Ta(),Ia(6,"div",6),Ia(7,"div",7),Ia(8,"div",8),Ia(9,"div",9),Ra("click",(function(){return e.onGoogleSignUpWithPopUp()})),Ia(10,"div",10),Aa(11,"span",11),Ta(),Ia(12,"div",12),Ia(13,"span",13),_u(14,"Se connecter avec Google"),Ta(),Ta(),Ta(),Aa(15,"hr",14),Ia(16,"div",15),Ia(17,"h3"),_u(18,"Rejoignez la communaut\xe9"),Ta(),Ia(19,"small"),_u(20,"C'est facile, rapide et s\xe9curis\xe9"),Ta(),Ta(),Ia(21,"form",16),Ia(22,"div",17),_a(23,kR,2,1,"ng-template",null,18,jl),Ia(25,"label",19),_u(26," Adresse mail "),Ia(27,"span",20),_u(28,"*"),Ta(),Ta(),Ia(29,"input",21,22),Ra("click",(function(){er(n);var t=wa(30);return(e.shouldShowRequiredError("email")||e.shouldShowSignUpError("email"))&&t.open()}))("change",(function(){return e.resetMailError()})),Ta(),Ia(31,"small",23),_u(32," Nous ne partagerons jamais votre e-mail. "),Ta(),Ta(),Ia(33,"div",17),_a(34,CR,2,1,"ng-template",null,24,jl),Ia(36,"label",25),_u(37," Confirmer l'adresse mail "),Ia(38,"span",20),_u(39,"*"),Ta(),Ta(),Ia(40,"input",26,27),Ra("change",(function(){return e.checkConfirmEmail()}))("click",(function(){er(n);var t=wa(41);return(e.shouldShowRequiredError("confirmEmail")||e.shouldShowSignUpError("confirmEmail"))&&t.open()})),Ta(),Ta(),Ia(42,"button",28),Ra("click",(function(){return e.onSignUp()})),_u(43," Accepter & Rejoindre "),Ta(),Ta(),Aa(44,"hr",29),Ia(45,"p"),Ia(46,"small"),_u(47,"Vous avez d\xe9j\xe0 un compte ?"),Ta(),Ta(),Ia(48,"button",30),Ra("click",(function(){return e.goToSignIn()})),_u(49," Se connecter "),Ta(),Ta(),Ta(),Ta(),Ta()}if(2&t){var r=wa(24),i=wa(35);lo(2),Ea("ngIf",e.isVerificationEmailSent),lo(19),Ea("formGroup",e.signUpForm),lo(8),Ea("ngClass",hl(9,IR,e.shouldShowRequiredError("email")||e.shouldShowSignUpError("email")))("ngbPopover",r)("autoClose","outside"),lo(11),Ea("ngClass",hl(11,IR,e.shouldShowRequiredError("confirmEmail")||e.shouldShowSignUpError("confirmEmail")))("ngbPopover",i)("autoClose","outside"),lo(2),Ea("disabled",e.signUpForm.invalid||e.errorConfirmEmailMessage||e.errorEmail||e.errorGeneral)}},directives:[fd,__,I_,rg,Mp,ug,Dp,Fp,Ig,Dg,ad,gD],styles:[".signup-block[_ngcontent-%COMP%]{background-color:#fff}h3[_ngcontent-%COMP%]{font-weight:800}h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{text-align:center;text-transform:uppercase;font-size:large}h4[_ngcontent-%COMP%]{font-weight:400}input[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{font-size:small}button[_ngcontent-%COMP%]{font-size:medium}.signup-block-signin[_ngcontent-%COMP%]{padding-top:2vh;padding-bottom:2vh;margin-top:2vh;font-size:medium}.signin-with[_ngcontent-%COMP%]{color:#a6a6a6;font-size:medium;font-weight:700}.btn-sigin-with[_ngcontent-%COMP%]{padding-top:2vh;padding-bottom:2vh;margin-top:2vh;background-color:#fafbfc;margin-left:auto;margin-right:auto}.signin-logo[_ngcontent-%COMP%]{font-size:x-large}"]}),SR),AR=((ER=function(){function t(e){tt(this,t),this.formBuilder=e,this.email=new yl}return nt(t,[{key:"ngOnInit",value:function(){this.initForm()}},{key:"initForm",value:function(){this.emailForm=this.formBuilder.group({email:["",[qp.required,qp.email]]})}},{key:"onConfirmEmail",value:function(){var t=this.emailForm.get("email").value;console.log(t),t&&this.email.next(t)}}]),t}()).\u0275fac=function(t){return new(t||ER)(ka(Bg))},ER.\u0275cmp=hn({type:ER,selectors:[["app-email-box"]],outputs:{email:"email"},decls:9,vars:2,consts:[[1,"signin-block","text-center","px-4","py-3","rounded","shadow"],[1,"signin-title","mt-3","mb-3"],[1,"signin-form",3,"formGroup"],[1,"form-group","mb-4"],["type","email","formControlName","email","id","email","aria-describedby","emailHelp","placeholder","Email",1,"form-control","form-control-lg"],["type","submit",1,"btn-login","btn","btn-primary","btn-lg","btn-block",3,"disabled","click"]],template:function(t,e){1&t&&(Ia(0,"div",0),Ia(1,"div",1),Ia(2,"h5"),_u(3,"Saisissez votre adresse mail :"),Ta(),Ta(),Ia(4,"form",2),Ia(5,"div",3),Aa(6,"input",4),Ta(),Ia(7,"button",5),Ra("click",(function(){return e.onConfirmEmail()})),_u(8," Confirmer "),Ta(),Ta(),Ta()),2&t&&(lo(4),Ea("formGroup",e.emailForm),lo(3),Ea("disabled",e.emailForm.invalid))},directives:[rg,Mp,ug,Dp,Fp,Ig],styles:[""]}),ER);function DR(t,e){1&t&&(Ia(0,"div",27),_u(1,"Quel est votre pr\xe9nom ?"),Ta())}function OR(t,e){1&t&&(Ia(0,"div",27),_u(1,"Quel est votre nom ?"),Ta())}function PR(t,e){if(1&t&&(Ia(0,"option",28),_u(1),Ta()),2&t){var n=e.index,r=La();Ea("value",r.roles[n]),lo(1),ku(" ",r.roles[n]," ")}}var xR,NR,RR=function(t){return{"is-invalid":t}},FR=((NR=function(){function t(e,n){tt(this,t),this.formBuilder=e,this.authService=n,this.emailUser="",this.idUser="",this.errorMessage=new yl,this.successMessage=new yl,this.passwordUpdatingErrorMessage="",this.passwordMessage="",this.password="",this.hasSelected=!1,this.roles=[],this.roleInit="Activit\xe9",this.roles=["Salari\xe9","Sans activit\xe9","\xc9tudiant","Formateur","Autre"]}return nt(t,[{key:"ngOnInit",value:function(){this.initForm()}},{key:"initForm",value:function(){this.verificationForm=this.formBuilder.group({firstname:["",[qp.required]],lastname:["",[qp.required]]}),this.roleSelect=this.roleInit}},{key:"shouldShowRequiredError",value:function(t){return!this.verificationForm.get(t).valid&&this.verificationForm.get(t).touched}},{key:"finishVerification",value:function(){var t=this,e=this.verificationForm.get("firstname").value,n=this.verificationForm.get("lastname").value,r=new YO(this.idUser,e,n,this.emailUser,this.password,rm.DEFAULT_PP_USER,null,null,null,this.roleSelect===this.roleInit?this.roles[this.roles.length-1]:this.roleSelect,Rx.STANDARD,!1,[],[]);this.authService.createAccountWith(r).then((function(e){t.authService.signOutUser().then((function(){t.successMessage.next("Bienvenue, \n Votre compte a bien \xe9t\xe9 cr\xe9\xe9, vous pouvez vous connecter.")})).catch((function(t){console.error(t.message)}))})).catch((function(t){console.error(t)}))}},{key:"isRole",value:function(t){return console.log(t),t===this.roles[0]}},{key:"onChangeSelectRole",value:function(t){console.log(t),this.roleSelect=t}},{key:"onUpdatePassword",value:function(){var t=this;this.password&&this.authService.updatePasswordWith(this.password).then((function(){t.finishVerification()})).catch((function(e){t.checkPasswordError(e.code)}))}},{key:"checkPasswordError",value:function(t){switch(console.warn("checkErrorAuth",t),t){case"auth/weak-password":this.passwordUpdatingErrorMessage="Veuillez choisir un mot de passe plus s\xfbr. Essayer de m\xe9langer des chiffres des lettres et des symboles (tels que @ & ! ? $ #)";break;default:this.passwordUpdatingErrorMessage="Le mot de passe doit contenir au moins 8 caract\xe8res majuscules et minuscules, un chiffre ainsi que des symboles (tels que @ & ! ? $ #)."}this.errorMessage.next(this.passwordUpdatingErrorMessage)}}]),t}()).\u0275fac=function(t){return new(t||NR)(ka(Bg),ka($P))},NR.\u0275cmp=hn({type:NR,selectors:[["app-verification"]],inputs:{emailUser:"emailUser",idUser:"idUser"},outputs:{errorMessage:"errorMessage",successMessage:"successMessage"},decls:39,vars:16,consts:[[1,"verification-block","text-center","px-4","py-4","rounded","shadow"],[1,"user-signedIn-info","mb-3"],[1,"mail-user"],["autocomplete","off",1,"verification-form",3,"formGroup"],[1,"form-row","align-items-center"],[1,"form-group","col-6"],["for","firstname",1,"sr-only"],[2,"color","rgb(247, 103, 103)"],["popFirstNameContent",""],["type","text","formControlName","firstname","id","firstname","placeholder","Pr\xe9nom","type","input","placement","top","triggers","manual","container","body","required","",1,"form-control",3,"ngClass","ngbPopover","autoClose","click"],["popoverFirstName","ngbPopover"],["for","lastname",1,"sr-only"],["popLastNameContent",""],["type","text","formControlName","lastname","id","lastname","placeholder","Nom","type","input","placement","top","triggers","manual","container","body","required","",1,"form-control",3,"ngClass","ngbPopover","autoClose","click"],["popoverLastName","ngbPopover"],[1,"form-group","mb-3"],["for","role",1,"sr-only"],[1,"input-group"],[1,"input-group-prepend"],["type","div","placement","bottom","triggers","mouseenter:mouseleave","ngbPopover","Cette information ne sera pas visible par les autres utilisateurs.","container","body",1,"input-group-text",3,"autoClose"],["popoverRoleInfo","ngbPopover"],["data-icon","clarity:help-info-solid","data-inline","false",1,"iconify"],["id","role",1,"form-control","form-control-sm",3,"change"],["value","roleInit","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"password"],["type","submit",1,"btn-login","btn","btn-primary","btn-block",3,"disabled","click"],[1,"text-danger","field-error-class"],[3,"value"]],template:function(t,e){if(1&t){var n=Pa();Ia(0,"div",0),Ia(1,"div",1),Ia(2,"h4",2),_u(3),Ta(),Ta(),Ia(4,"form",3),Ia(5,"div",4),Ia(6,"div",5),Ia(7,"label",6),_u(8," Pr\xe9nom "),Ia(9,"span",7),_u(10,"*"),Ta(),Ta(),_a(11,DR,2,0,"ng-template",null,8,jl),Ia(13,"input",9,10),Ra("click",(function(){er(n);var t=wa(14);return e.shouldShowRequiredError("firstname")&&t.open()})),Ta(),Ta(),Ia(15,"div",5),Ia(16,"label",11),_u(17," Nom "),Ia(18,"span",7),_u(19,"*"),Ta(),Ta(),_a(20,OR,2,0,"ng-template",null,12,jl),Ia(22,"input",13,14),Ra("click",(function(){er(n);var t=wa(23);return e.shouldShowRequiredError("lastname")&&t.open()})),Ta(),Ta(),Ta(),Ta(),Ia(24,"div",15),Ia(25,"label",16),_u(26,"Activit\xe9"),Ta(),Ia(27,"div",17),Ia(28,"div",18),Ia(29,"div",19,20),Aa(31,"span",21),Ta(),Ta(),Ia(32,"select",22),Ra("change",(function(t){return e.onChangeSelectRole(t.target.value)})),Ia(33,"option",23),_u(34),Ta(),_a(35,PR,2,2,"option",24),Ta(),Ta(),Ta(),Ia(36,"app-password-box",25),Ra("password",(function(t){return e.password=t})),Ta(),Ia(37,"button",26),Ra("click",(function(){return e.onUpdatePassword()})),_u(38," Cr\xe9er un compte "),Ta(),Ta()}if(2&t){var r=wa(12),i=wa(21);lo(3),ku("Bienvenue, ",e.emailUser,""),lo(1),Ea("formGroup",e.verificationForm),lo(9),Ea("ngClass",hl(12,RR,e.shouldShowRequiredError("firstname")))("ngbPopover",r)("autoClose","outside"),lo(9),Ea("ngClass",hl(14,RR,e.shouldShowRequiredError("lastname")))("ngbPopover",i)("autoClose","outside"),lo(7),Ea("autoClose","outside"),lo(5),ku(" ",e.roleInit," "),lo(1),Ea("ngForOf",e.roles),lo(2),Ea("disabled",!e.password.length&&e.verificationForm.invalid)}},directives:[rg,Mp,ug,Dp,Fp,Ig,Dg,ad,gD,lv,gv,ld,hR],styles:[""]}),NR),MR=((xR=function(){function t(e,n){tt(this,t),this.authService=e,this.router=n,this.emailUser="",this.errorMessage=new yl,this.successMessage=new yl,this.passwordUpdatingErrorMessage="",this.passwordMessage="",this.password=""}return nt(t,[{key:"ngOnInit",value:function(){}},{key:"onTimerFinished",value:function(t){"done"==t.action&&this.router.navigate([sm.LOGIN])}},{key:"resetPassword",value:function(){var t=this;this.password&&this.authService.confirmPasswordReset(this.actionCode,this.password).then((function(){t.successMessage.next("Votre mot de passe a bien \xe9t\xe9 r\xe9initialis\xe9, vous pouvez vous connecter d\xe8s maintenant.")})).catch((function(e){t.checkError(e.code)}))}},{key:"checkError",value:function(t){switch(console.warn("checkErrorAuth",t),t){case"auth/weak-password":this.passwordUpdatingErrorMessage="Veuillez choisir un mot de passe plus s\xfbr. Essayer de m\xe9langer des chiffres des lettres et des symboles (tels que @ & ! ? $ #)";break;default:this.passwordUpdatingErrorMessage="Le mot de passe doit contenir au moins 8 caract\xe8res majuscules et minuscules, un chiffre ainsi que des symboles (tels que @ & ! ? $ #)."}this.errorMessage.next(this.passwordUpdatingErrorMessage)}}]),t}()).\u0275fac=function(t){return new(t||xR)(ka($P),ka(y_))},xR.\u0275cmp=hn({type:xR,selectors:[["app-password-reset"]],inputs:{actionCode:"actionCode",emailUser:"emailUser"},outputs:{errorMessage:"errorMessage",successMessage:"successMessage"},decls:9,vars:2,consts:[[1,"password-block","text-center","px-4","py-1","rounded","shadow"],[1,"password-title","mt-2","mb-3"],[3,"password"],["type","submit",1,"btn-login","btn","btn-primary","btn-block",3,"disabled","click"]],template:function(t,e){1&t&&(Ia(0,"div",0),Ia(1,"h4"),_u(2),Ta(),Ia(3,"div",1),Ia(4,"span"),_u(5,"Cr\xe9er un mot de passe"),Ta(),Ta(),Ia(6,"app-password-box",2),Ra("password",(function(t){return e.password=t})),Ta(),Ia(7,"button",3),Ra("click",(function(){return e.resetPassword()})),_u(8," Enregistrer "),Ta(),Ta()),2&t&&(lo(2),wu(e.emailUser),lo(5),Ea("disabled",!e.password))},directives:[hR],styles:[""]}),xR),LR=function(){return{leftTime:5}};function UR(t,e){if(1&t){var n=Pa();Ia(0,"div",11),Ia(1,"h3"),_u(2,"F\xe9licitations !"),Ta(),Ia(3,"p",12),_u(4),Ta(),Ia(5,"countdown",13,14),Ra("event",(function(t){return er(n),La().onTimerFinished(t)})),_u(7," $!m!:$!s! "),Ta(),Ta()}if(2&t){var r=La();lo(4),ku(" ",r.successMessage," "),lo(1),Ea("config",ll(2,LR))}}function VR(t,e){if(1&t&&(Ia(0,"div",15),Ia(1,"p",16),_u(2),Ta(),Ta()),2&t){var n=La();lo(2),ku(" ",n.errorMessage," ")}}function jR(t,e){if(1&t){var n=Pa();Ia(0,"app-email-box",17),Ra("email",(function(t){return er(n),La().emailVerification(t)})),Ta()}}function BR(t,e){if(1&t){var n=Pa();Ia(0,"app-verification",18),Ra("successMessage",(function(t){return er(n),La().successMessage=t}))("errorMessage",(function(t){return er(n),La().errorMessage=t})),Ta()}if(2&t){var r=La();Ea("emailUser",r.email)("idUser",r.idUser)}}function qR(t,e){if(1&t){var n=Pa();Ia(0,"app-password-reset",19),Ra("successMessage",(function(t){return er(n),La().successMessage=t}))("errorMessage",(function(t){return er(n),La().errorMessage=t})),Ta()}if(2&t){var r=La();Ea("actionCode",r.actionCode)("emailUser",r.email)}}var WR,HR=function(t){return t.RESET_PASSWORD="resetPassword",t.RECOVER_MAIL="recoverEmail",t.VERIFY_EMAIL="verifyEmail",t.SIGN_IN="signIn",t}({}),zR=((WR=function(){function t(e,n,r){tt(this,t),this.router=e,this.route=n,this.authService=r,this.auth=nm.auth(),this.successMessage="",this.errorMessage="",this.isEmailVerified=!1,this.email="",this.idUser=""}return nt(t,[{key:"ngOnInit",value:function(){this.getUrlParameters()}},{key:"getUrlParameters",value:function(){var t=this;this.route.queryParams.subscribe((function(e){e||console.error("no params"),t.mode=e.mode,t.actionCode=e.oobCode,t.continueUrl=e.continueUrl||"",t.lang=e.lang||"fr"}))}},{key:"ngAfterViewInit",value:function(){this.actionManager()}},{key:"actionManager",value:function(){if(this.mode&&this.actionCode||this.continueUrl||this.lang)switch(console.error("route.queryParams",this.mode,this.actionCode,this.continueUrl,this.lang),this.mode){case HR.RESET_PASSWORD:this.handleResetPassword(this.auth,this.actionCode,this.continueUrl,this.lang);break;case HR.RECOVER_MAIL:this.handleRecoverEmail(this.auth,this.actionCode,this.lang);break;case HR.VERIFY_EMAIL||HR.SIGN_IN:case HR.SIGN_IN:this.handleVerifyEmail();break;default:console.warn("actionManager",this.mode)}}},{key:"emailVerification",value:function(t){var e=this;if(t)switch(this.email=t,console.error("emailVerification",t),this.mode){case HR.VERIFY_EMAIL:case HR.SIGN_IN:this.authService.emailVerification(t).then((function(t){console.error("authService emailVerification",t),t&&(e.idUser=t.user.uid,e.isEmailVerified=!0,e.authService.preSignUpUser=t,console.warn(t))})).catch((function(t){console.error(t),e.displayErrorMessage(t.code)}))}}},{key:"displayErrorMessage",value:function(t){switch(t){case"auth/invalid-action-code":case"auth/invalid-action-code":this.errorMessage="Le lien de v\xe9rification n'est pas valide, il est soit expir\xe9 ou a d\xe9j\xe0 \xe9t\xe9 utilis\xe9.";break;default:this.errorMessage=""}}},{key:"onTimerFinished",value:function(t){"done"===t.action&&this.router.navigate([sm.LOGIN])}},{key:"handleVerifyEmail",value:function(){var t=this;this.authService.isEmailVerificationLink().then((function(e){if(e){var n=window.localStorage.getItem("netSkillsEmailForSignIn")?window.localStorage.getItem("netSkillsEmailForSignIn"):null;console.warn("handleVerifyEmail"),n&&t.emailVerification(n)}else console.error("email is not verified")})).catch((function(e){console.error(e.message),t.displayErrorMessage(e.code)}))}},{key:"handleResetPassword",value:function(t,e,n,r){var i=this;t.verifyPasswordResetCode(e).then((function(t){console.warn("handleResetPassword",t),i.email=t,i.isEmailVerified=!0})).catch((function(t){console.error(t.message),this.displayErrorMessage(t.code)}))}},{key:"handleRecoverEmail",value:function(t,e,n){t.checkActionCode(e).then((function(n){return this.email=n.data.email,t.applyActionCode(e)})).then((function(){t.sendPasswordResetEmail(this.email).then((function(){})).catch((function(t){}))})).catch((function(t){}))}},{key:"ngOnDestroy",value:function(){this.email&&!this.successMessage&&this.authService.signOutUser()}}]),t}()).\u0275fac=function(t){return new(t||WR)(ka(y_),ka(tb),ka($P))},WR.\u0275cmp=hn({type:WR,selectors:[["app-auth"]],decls:11,vars:5,consts:[[1,"wrapper","h-100","w-100"],[1,"row","h-100","align-items-center","justify-content-center","text-center"],[1,"col-lg-5","col-md-7","col-sm-10"],[1,"auth-title","mb-5","mx-auto"],["routerLink","/home","routerLinkActive","router-link-active"],["src","assets/img/logo.png","width","90","height","60","alt","",1,"d-inline-block"],["class","success-message alert alert-success rounded",4,"ngIf"],["class","email-not-verified alert alert-danger",4,"ngIf"],[3,"email",4,"ngIf"],[3,"emailUser","idUser","successMessage","errorMessage",4,"ngIf"],[3,"actionCode","emailUser","successMessage","errorMessage",4,"ngIf"],[1,"success-message","alert","alert-success","rounded"],[1,"success-message-text"],[3,"config","event"],["countdown",""],[1,"email-not-verified","alert","alert-danger"],[1,"email-not-verified-text"],[3,"email"],[3,"emailUser","idUser","successMessage","errorMessage"],[3,"actionCode","emailUser","successMessage","errorMessage"]],template:function(t,e){1&t&&(Ia(0,"div",0),Ia(1,"div",1),Ia(2,"div",2),Ia(3,"div",3),Ia(4,"a",4),Aa(5,"img",5),Ta(),Ta(),_a(6,UR,8,3,"div",6),_a(7,VR,3,1,"div",7),_a(8,jR,1,0,"app-email-box",8),_a(9,BR,1,2,"app-verification",9),_a(10,qR,1,2,"app-password-reset",10),Ta(),Ta(),Ta()),2&t&&(lo(6),Ea("ngIf",e.email&&e.successMessage),lo(1),Ea("ngIf",e.errorMessage&&!e.successMessage),lo(1),Ea("ngIf",!e.email),lo(1),Ea("ngIf",("verifyEmail"===e.mode||"signIn"===e.mode)&&e.isEmailVerified),lo(1),Ea("ngIf","resetPassword"===e.mode&&e.email))},directives:[__,I_,fd,Sx,AR,FR,MR],styles:[""]}),WR);function GR(t,e){if(1&t&&(Ia(0,"div",9),Ia(1,"p",10),_u(2),Ta(),Ta()),2&t){var n=La();lo(2),ku(" Un mail de r\xe9initialisation a \xe9t\xe9 envoy\xe9 \xe0 ",n.email,", veuillez cliquer sur le lien pour r\xe9initialiser votre mot de passe. Si vous n'avez pas re\xe7u de mail, n'h\xe9siter pas \xe0 v\xe9rifier vos spams. ")}}function KR(t,e){if(1&t){var n=Pa();Ia(0,"app-email-box",11),Ra("email",(function(t){return er(n),La().sendPasswordResetEmail(t)})),Ta()}}var QR,$R,YR,JR,XR,ZR=((QR=function(){function t(e,n){tt(this,t),this.authService=e,this.router=n,this.isEmailExist=!1,this.email="",this.errorMessage=""}return nt(t,[{key:"ngOnInit",value:function(){}},{key:"checkUserExistByEmail",value:function(t){return XO.getUserByMail(t,(function(t){return console.log(t),!!t})).catch((function(t){return console.error(t),!1}))}},{key:"sendPasswordResetEmail",value:function(t){var e=this;t&&(console.log("reset password email to send ",t),this.checkUserExistByEmail(t).then((function(n){console.log("email exist check sent"),n&&e.authService.sendMailPasswordReinitialisation(t).then((function(){console.log("reset password email sent"),e.email=t})).catch((function(t){switch(console.error(t),t.code){case"auth/too-many-requests":e.errorMessage="Nous avons bloqu\xe9 toutes les demandes de cet appareil en raison d'une activit\xe9 inhabituelle. R\xe9essayez plus tard.";default:e.errorMessage=""}}))})))}}]),t}()).\u0275fac=function(t){return new(t||QR)(ka($P),ka(y_))},QR.\u0275cmp=hn({type:QR,selectors:[["app-password-forgotten"]],decls:10,vars:3,consts:[[1,"wrapper","h-100","w-100"],[1,"row","h-100","align-items-center","justify-content-center","text-center"],[1,"col-lg-4","col-md-6","col-sm-10"],[1,"auth-title","mb-5"],["routerLink","/home","routerLinkActive","router-link-active",1,"img-link"],["src","assets/img/logo.png","width","90","height","60","alt","",1,"d-inline-block","img-b"],["class","alert alert-success success-message text-center border border-success py-3 rounded",4,"ngIf"],[1,"text-danger","my-2"],[3,"email",4,"ngIf"],[1,"alert","alert-success","success-message","text-center","border","border-success","py-3","rounded"],[1,"email-exist-text","text-success","text-justify","mx-4","my-4"],[3,"email"]],template:function(t,e){1&t&&(Ia(0,"div",0),Ia(1,"div",1),Ia(2,"div",2),Ia(3,"div",3),Ia(4,"a",4),Aa(5,"img",5),Ta(),Ta(),_a(6,GR,3,1,"div",6),Ia(7,"p",7),_u(8),Ta(),_a(9,KR,1,0,"app-email-box",8),Ta(),Ta(),Ta()),2&t&&(lo(6),Ea("ngIf",e.email),lo(2),ku(" ",e.errorMessage," "),lo(1),Ea("ngIf",!e.email))},directives:[__,I_,fd,AR],styles:[".img-link[_ngcontent-%COMP%], img[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;display:block}"]}),QR),tF=[{path:sm.SIGNUP.substr(1),component:TR},{path:sm.SIGNUP_WITH.substr(1),component:bR,canActivate:[ZN]},{path:sm.LOGIN.substr(1),component:_R},{path:sm.AUTH.substr(1),component:zR},{path:sm.PASSWORD_FORGOTTEN.substr(1),component:ZR}],eF=V_.forRoot(tF),nF=(($R=function t(){tt(this,t)}).\u0275mod=vn({type:$R}),$R.\u0275inj=ae({factory:function(t){return new(t||$R)},imports:[[XN,Tx,eF,Ix]]}),$R),rF=[{path:sm.RESULTS.substr(1,sm.RESULTS.length),component:PN}],iF=V_.forChild(rF),oF=((JR=function t(){tt(this,t)}).\u0275mod=vn({type:JR}),JR.\u0275inj=ae({factory:function(t){return new(t||JR)},imports:[[Tx,iF]]}),JR),sF=((YR=function t(){tt(this,t)}).\u0275mod=vn({type:YR}),YR.\u0275inj=ae({factory:function(t){return new(t||YR)},imports:[[Tx,oF]]}),YR),aF=function(t){return t.TITLE="title",t.CATEGORIES="categories",t.TAGS="tags",t.PRICE="price",t.MEDIA="media",t.DATES="dates",t.LOCATION="location",t.COMPLETE="complete",t.COMPLETED="completed",t.BACK="back",t.STARTING="starting",t}({}),uF=((XR=function(){function t(e){tt(this,t),this.router=e,this._stepFormSubject=new wt,this._mapStepForms=new Map}return nt(t,[{key:"setFormWithStepState",value:function(t,e){this.addStepForm(t,{step:t,status:!1,value:e})}},{key:"addStepForm",value:function(t,e){this.mapStepForms.set(t,e).has(t)&&(e.status=!0,this._stepFormSubject.next(t))}},{key:"getStepFormWithStep",value:function(t){return this.mapStepForms.get(t)}},{key:"onBackWithoutSave",value:function(){this._stepFormSubject.next(aF.BACK)}},{key:"onStartToTheBeginning",value:function(){this._stepFormSubject.next(aF.STARTING)}},{key:"getValueStepForm",value:function(){return this._stepFormSubject.asObservable()}},{key:"isMediaFormSkip",value:function(t){return t}},{key:"isCourseFormRoute",value:function(t){return t.startsWith(sm.NEW_COURSE)}},{key:"isCourse",value:function(){return this.router.url.startsWith(sm.NEW_COURSE)}},{key:"isEventFormRoute",value:function(t){return t.startsWith(sm.NEW_EVENT)}},{key:"isEvent",value:function(){return this.router.url.startsWith(sm.NEW_EVENT)}},{key:"isTitleFormRoute",value:function(t){return t===sm.NEW_COURSE+sm.NEW_TITLE||t===sm.NEW_EVENT+sm.NEW_TITLE}},{key:"isCategoryFormRoute",value:function(t){return t===sm.NEW_COURSE+sm.NEW_CATEGORY||t===sm.NEW_EVENT+sm.NEW_CATEGORY}},{key:"isPriceFormRoute",value:function(t){return t===sm.NEW_COURSE+sm.NEW_PRICE||t===sm.NEW_EVENT+sm.NEW_PRICE}},{key:"isMediaFormRoute",value:function(t){return t===sm.NEW_COURSE+sm.NEW_MEDIA||t===sm.NEW_EVENT+sm.NEW_MEDIA}},{key:"isDatesFormRoute",value:function(t){return t===sm.NEW_COURSE+sm.NEW_DATES||t===sm.NEW_EVENT+sm.NEW_DATES}},{key:"isLocationFormRoute",value:function(t){return t===sm.NEW_COURSE+sm.NEW_LOCATION||t===sm.NEW_EVENT+sm.NEW_LOCATION}},{key:"isCompleteFormRoute",value:function(t){return t===sm.NEW_COURSE+sm.NEW_COMPLETED||t===sm.NEW_EVENT+sm.NEW_COMPLETED}},{key:"checkKeyInput",value:function(t){return"Comma"!==t.key&&","!==t.key&&";"!==t.key&&"="!==t.key&&">"!==t.key&&"<"!==t.key&&"."!==t.key&&":"!==t.key&&"`"!==t.key&&"_"!==t.key&&"\xa7"!==t.key&&"'"!==t.key}},{key:"clearForm",value:function(){this.mapStepForms.clear(),this.stepFormSubject.complete()}},{key:"mapStepForms",get:function(){return this._mapStepForms},set:function(t){this._mapStepForms=t}},{key:"stepFormSubject",get:function(){return this._stepFormSubject}}]),t}()).\u0275fac=function(t){return new(t||XR)(He(y_))},XR.\u0275prov=se({token:XR,factory:XR.\u0275fac,providedIn:"root"}),XR);function cF(t,e){1&t&&(Ia(0,"span"),_u(1,"La date de fin est inf\xe9rieur \xe0 la date de d\xe9but"),Ta())}function lF(t,e){if(1&t&&(Ia(0,"div",5),Ia(1,"label",13),_u(2,"Au :"),Ta(),Ia(3,"div",7),Aa(4,"input",14),Ta(),_a(5,cF,2,0,"span",15),Ta()),2&t){var n=La();lo(4),Ea("min",n.getStartDate())("value",n.getStartDate()),lo(1),Ea("ngIf",!n.checkDates())}}function hF(t,e){if(1&t){var n=Pa();Ia(0,"button",16),Ra("click",(function(){return er(n),La().onSetDates()})),_u(1," Continuer "),Ta()}}var fF,dF=((fF=function(){function t(e,n){tt(this,t),this.formBuilder=e,this._itemFormService=n}return nt(t,[{key:"ngOnInit",value:function(){this.endDateInf=!1,this.datesForm=this.formBuilder.group({startDate:["",[qp.required]],endDate:["",[qp.required]]}),this.itemFormService.mapStepForms.has(aF.DATES)?this.itemFormService.getStepFormWithStep(aF.DATES).status&&this.onRestoreDatesForm(this.itemFormService.getStepFormWithStep(aF.DATES).value):0===this.itemFormService.mapStepForms.size&&this.itemFormService.onStartToTheBeginning()}},{key:"getTodayDate",value:function(){return(new Date).toISOString().split("T")[0]+"T00:00"}},{key:"getStartDate",value:function(){return this.datesForm.get("startDate").value}},{key:"checkDates",value:function(){return!!this.datesForm.get("endDate").value&&this.datesForm.get("endDate").value>this.datesForm.get("startDate").value}},{key:"onSetDates",value:function(){this.endDateInf=!1;var t={startDate:this.datesForm.get("startDate").value,endDate:this.datesForm.get("endDate").value};console.log(t),this.itemFormService.setFormWithStepState(aF.DATES,t)}},{key:"onRestoreDatesForm",value:function(t){this.datesForm.patchValue({startDate:t.startDate}),this.datesForm.patchValue({endDate:t.endDate})}},{key:"onBack",value:function(){this.itemFormService.onBackWithoutSave()}},{key:"itemFormService",get:function(){return this._itemFormService}}]),t}()).\u0275fac=function(t){return new(t||fF)(ka(Bg),ka(uF))},fF.\u0275cmp=hn({type:fF,selectors:[["app-event-date-form"]],decls:18,vars:5,consts:[["role","tabpanel","id","step3",1,"tab-pane"],[1,"row","justify-content-center"],[1,"col-8"],[1,"head-item-form"],["role","form",1,"form-item",3,"formGroup"],[1,"form-group","row"],["for","startDate",1,"col-2","col-form-label"],[1,"col-10"],["type","datetime-local","formControlName","startDate","id","startDate",1,"form-control",3,"min","value"],["class","form-group row",4,"ngIf"],[1,"nav","nav-item","btns-item-form","justify-content-between","mx-auto"],["type","button",1,"btn","btn-default","btn-prev",3,"click"],["type","button","id","continue","class","btn btn-default btn-next",3,"click",4,"ngIf"],["for","endDate",1,"col-2","col-form-label"],["type","datetime-local","formControlName","endDate","id","endDate",1,"form-control",3,"min","value"],[4,"ngIf"],["type","button","id","continue",1,"btn","btn-default","btn-next",3,"click"]],template:function(t,e){1&t&&(Ia(0,"div",0),Ia(1,"div",1),Ia(2,"div",2),Ia(3,"h3",3),_u(4,"Quelle est la date de votre \xe9v\xe8nement ?"),Ta(),Ia(5,"form",4),Ia(6,"div",5),Ia(7,"label",6),_u(8,"Du :"),Ta(),Ia(9,"div",7),Aa(10,"input",8),Ta(),Ta(),_a(11,lF,6,3,"div",9),Ta(),Ia(12,"ul",10),Ia(13,"li"),Ia(14,"button",11),Ra("click",(function(){return e.onBack()})),_u(15," Pr\xe9c\xe9dent "),Ta(),Ta(),Ia(16,"li"),_a(17,hF,2,0,"button",12),Ta(),Ta(),Ta(),Ta(),Ta()),2&t&&(lo(5),Ea("formGroup",e.datesForm),lo(5),Ea("min",e.getTodayDate())("value",e.getTodayDate()),lo(1),Ea("ngIf",e.getStartDate()),lo(6),Ea("ngIf",!e.datesForm.invalid&&e.checkDates()))},directives:[rg,Mp,ug,Dp,Fp,Ig,fd],styles:[".head-item-form[_ngcontent-%COMP%]{font-size:1.4em;font-weight:450}.form-item[_ngcontent-%COMP%]{margin-top:8vh}.btns-item-form[_ngcontent-%COMP%]{margin-top:5vh}.btn-next[_ngcontent-%COMP%]{height:6vh;width:15vw;background-color:#2e7b9c;color:#fff}.btn-prev[_ngcontent-%COMP%]{width:10vw;background-color:#f5f3f3}.btn-prev[_ngcontent-%COMP%], .btn-skip[_ngcontent-%COMP%]{height:6vh;color:#000;border:1px solid #9a9a9a}.btn-skip[_ngcontent-%COMP%]{width:8vw;background-color:#e9e6e6}"]}),fF);function pF(t,e){if(1&t){var n=Pa();Ia(0,"button",8),Ra("click",(function(){return er(n),La().onSetTitle()})),_u(1," Continuer "),Ta()}}var vF,gF=((vF=function(){function t(e,n){tt(this,t),this.formBuilder=e,this.itemFormService=n}return nt(t,[{key:"ngOnInit",value:function(){this.titleForm=this.formBuilder.group({title:["",[qp.required]]}),this.itemFormService.mapStepForms.has(aF.TITLE)?this.itemFormService.getStepFormWithStep(aF.TITLE).status&&this.onRestoreTitleForm(this.itemFormService.getStepFormWithStep(aF.TITLE).value):0===this.itemFormService.mapStepForms.size?this.itemFormService.onStartToTheBeginning():this.itemFormService.onBackWithoutSave()}},{key:"onSetTitle",value:function(){var t=this.titleForm.get("title").value;this.itemFormService.setFormWithStepState(aF.TITLE,t)}},{key:"onRestoreTitleForm",value:function(t){this.titleForm.patchValue({title:t})}},{key:"onCheckKeyInput",value:function(t){return this.itemFormService.checkKeyInput(t)}}]),t}()).\u0275fac=function(t){return new(t||vF)(ka(Bg),ka(uF))},vF.\u0275cmp=hn({type:vF,selectors:[["app-item-title-form"]],decls:10,vars:2,consts:[["role","tabpanel","id","step1",1,"tab-pane"],[1,"row","justify-content-center"],[1,"col-8"],[1,"head-item-form"],["role","form",1,"form-item",3,"formGroup"],["type","text","formControlName","title","id","title","onkeydown","return (event.key !== '\\''\n                                              && event.key !== ','\n                                              && event.key !== ';'\n                                              && event.key !== '='\n                                              && event.key !== '>'\n                                              && event.key !== '<'\n                                              && event.key !== '.'\n                                              && event.key !== ':'\n                                              && event.key !== '`'\n                                              && event.key !== '_'\n                                              && event.key !== '\xa7')","placeholder","Saisissez le titre de votre formation...",1,"form-control","form-control-lg"],[1,"nav","nav-item","btns-item-form","justify-content-end","mx-auto"],["type","button","id","continue","class","btn btn-default btn-next",3,"click",4,"ngIf"],["type","button","id","continue",1,"btn","btn-default","btn-next",3,"click"]],template:function(t,e){1&t&&(Ia(0,"div",0),Ia(1,"div",1),Ia(2,"div",2),Ia(3,"h3",3),_u(4,"Quel est le titre de votre formation ?"),Ta(),Ia(5,"form",4),Aa(6,"input",5),Ta(),Ia(7,"ul",6),Ia(8,"li"),_a(9,pF,2,0,"button",7),Ta(),Ta(),Ta(),Ta(),Ta()),2&t&&(lo(5),Ea("formGroup",e.titleForm),lo(4),Ea("ngIf",!e.titleForm.invalid))},directives:[rg,Mp,ug,Dp,Fp,Ig,fd],styles:[".head-item-form[_ngcontent-%COMP%]{font-size:1.4em;font-weight:450}.form-item[_ngcontent-%COMP%]{margin-top:8vh}.btns-item-form[_ngcontent-%COMP%]{margin-top:5vh}.btn-next[_ngcontent-%COMP%]{height:6vh;width:15vw;background-color:#2e7b9c;color:#fff}.btn-prev[_ngcontent-%COMP%]{width:10vw;background-color:#f5f3f3}.btn-prev[_ngcontent-%COMP%], .btn-skip[_ngcontent-%COMP%]{height:6vh;color:#000;border:1px solid #9a9a9a}.btn-skip[_ngcontent-%COMP%]{width:8vw;background-color:#e9e6e6}"]}),vF);function mF(t,e){if(1&t){var n=Pa();Ia(0,"button",9),Ra("click",(function(){return er(n),La().onSetCategories()})),_u(1," Continuer "),Ta()}}var yF,bF=((yF=function(){function t(e,n,r){tt(this,t),this.formBuilder=e,this._itemFormService=n,this._categoryService=r,this.tags=[],this.categoriesValues=[],this.idCategorySelected="",this.idSubCategorySelected="",console.log("constructor ItemCategoryFormComponent")}return nt(t,[{key:"ngOnInit",value:function(){this.categoryForm=this.formBuilder.group({category:["",[qp.required]],subCategory:["",[qp.required]]}),this.itemFormService.mapStepForms.has(aF.CATEGORIES)?this.itemFormService.getStepFormWithStep(aF.CATEGORIES).status&&this.onRestoreCategoriesTag(this.itemFormService.getStepFormWithStep(aF.CATEGORIES).value):0===this.itemFormService.mapStepForms.size&&this.itemFormService.onStartToTheBeginning()}},{key:"onSetCategories",value:function(){var t=this.tags;console.log("onSetCategory",t),this.itemFormService.setFormWithStepState(aF.CATEGORIES,t)}},{key:"onBack",value:function(){this.itemFormService.onBackWithoutSave()}},{key:"onRestoreCategoryForm",value:function(t){this.categoryService.getCategoriesFromDB(),this.categorySelected=t,this.subCategorySelected=t.subCategories[0]}},{key:"onRestoreCategoriesTag",value:function(t){t&&(this.tags=t)}},{key:"onSelectCategory",value:function(t){console.warn("onSelectCategory",this.categorySelected.name)}},{key:"onSelectSubCategory",value:function(t){console.warn("onSelectCategory",this.subCategorySelected.name)}},{key:"ngOnDestroy",value:function(){null!=this.categorySubscription&&this.categorySubscription.unsubscribe()}},{key:"itemFormService",get:function(){return this._itemFormService}},{key:"categoryService",get:function(){return this._categoryService}}]),t}()).\u0275fac=function(t){return new(t||yF)(ka(Bg),ka(uF),ka(tP))},yF.\u0275cmp=hn({type:yF,selectors:[["app-item-category-form"]],decls:13,vars:3,consts:[["role","tabpanel","id","step2",1,"tab-pane"],[1,"row","justify-content-center"],[1,"col-8"],[1,"head-item-form"],[1,"input-tags","mt-5"],[3,"tags","size","tagsEvent"],[1,"nav","nav-item","btns-item-form","justify-content-between","mx-auto","mt-5"],["type","button",1,"btn","btn-default","btn-prev",3,"click"],["type","button","id","continue","class","btn btn-default btn-next",3,"click",4,"ngIf"],["type","button","id","continue",1,"btn","btn-default","btn-next",3,"click"]],template:function(t,e){1&t&&(Ia(0,"div",0),Ia(1,"div",1),Ia(2,"div",2),Ia(3,"h3",3),_u(4,"Choisissez / cr\xe9ez vos tags ! "),Ta(),Ia(5,"div",4),Ia(6,"app-tags-input",5),Ra("tagsEvent",(function(t){return e.tags=t})),Ta(),Ta(),Ia(7,"ul",6),Ia(8,"li"),Ia(9,"button",7),Ra("click",(function(){return e.onBack()})),_u(10," Pr\xe9c\xe9dent "),Ta(),Ta(),Ia(11,"li"),_a(12,mF,2,0,"button",8),Ta(),Ta(),Ta(),Ta(),Ta()),2&t&&(lo(6),Ea("tags",e.tags)("size","lg"),lo(6),Ea("ngIf",e.tags.length))},directives:[uw,fd],styles:[".head-item-form[_ngcontent-%COMP%]{font-size:1.4em;font-weight:450}.form-item[_ngcontent-%COMP%]{margin-top:8vh}.btns-item-form[_ngcontent-%COMP%]{margin-top:5vh}.btn-next[_ngcontent-%COMP%]{height:6vh;width:15vw;background-color:#2e7b9c;color:#fff}.btn-prev[_ngcontent-%COMP%]{width:10vw;background-color:#f5f3f3}.btn-prev[_ngcontent-%COMP%], .btn-skip[_ngcontent-%COMP%]{height:6vh;color:#000;border:1px solid #9a9a9a}.btn-skip[_ngcontent-%COMP%]{width:8vw;background-color:#e9e6e6}"]}),yF);function _F(t,e){if(1&t){var n=Pa();Ia(0,"button",12),Ra("click",(function(){return er(n),La().onSetPrice()})),_u(1," Continuer "),Ta()}}var wF,kF=((wF=function(){function t(e,n){tt(this,t),this.formBuilder=e,this._itemFormService=n}return nt(t,[{key:"ngOnInit",value:function(){this.priceForm=this.formBuilder.group({price:["",qp.required]}),this.itemFormService.mapStepForms.has(aF.PRICE)?this.itemFormService.getStepFormWithStep(aF.PRICE).status&&this.onRestoreTitleForm(this.itemFormService.getStepFormWithStep(aF.PRICE).value):0===this.itemFormService.mapStepForms.size&&this.itemFormService.onStartToTheBeginning()}},{key:"onSetPrice",value:function(){var t=+this.priceForm.get("price").value;t<0&&(t=0),this.itemFormService.setFormWithStepState(aF.PRICE,t)}},{key:"onBack",value:function(){this.itemFormService.onBackWithoutSave()}},{key:"onRestoreTitleForm",value:function(t){this.priceForm.patchValue({price:t})}},{key:"itemFormService",get:function(){return this._itemFormService}}]),t}()).\u0275fac=function(t){return new(t||wF)(ka(Bg),ka(uF))},wF.\u0275cmp=hn({type:wF,selectors:[["app-item-price-form"]],decls:17,vars:2,consts:[["role","tabpanel","id","step3",1,"tab-pane"],[1,"row","justify-content-center"],[1,"col-8"],[1,"head-item-form"],["role","form",1,"form-item",3,"formGroup"],[1,"input-group"],["type","number","formControlName","price","min","0","id","price","pattern","\\d+(?:[.,]\\d{1,2})?","onkeydown","return (event.keyCode !== 69 \n                                                                       && event.keyCode !== 187\n                                                                       && event.keyCode !== 189)","aria-label","Amount (to the nearest dollar)","placeholder","Saisissez le prix de votre formation...",1,"form-control","form-control-lg"],[1,"input-group-append"],[1,"input-group-text"],[1,"nav","nav-item","btns-item-form","justify-content-between","mx-auto"],["type","button",1,"btn","btn-default","btn-prev",3,"click"],["type","button","id","continue","class","btn btn-default btn-next",3,"click",4,"ngIf"],["type","button","id","continue",1,"btn","btn-default","btn-next",3,"click"]],template:function(t,e){1&t&&(Ia(0,"div",0),Ia(1,"div",1),Ia(2,"div",2),Ia(3,"h3",3),_u(4,"Quel est le prix de votre formation ?"),Ta(),Ia(5,"form",4),Ia(6,"div",5),Aa(7,"input",6),Ia(8,"div",7),Ia(9,"span",8),_u(10,"\u20ac"),Ta(),Ta(),Ta(),Ta(),Ia(11,"ul",9),Ia(12,"li"),Ia(13,"button",10),Ra("click",(function(){return e.onBack()})),_u(14," Pr\xe9c\xe9dent "),Ta(),Ta(),Ia(15,"li"),_a(16,_F,2,0,"button",11),Ta(),Ta(),Ta(),Ta(),Ta()),2&t&&(lo(5),Ea("formGroup",e.priceForm),lo(11),Ea("ngIf",!e.priceForm.invalid))},directives:[rg,Mp,ug,Zp,Dp,Fp,Ig,Vg,fd],styles:[".head-item-form[_ngcontent-%COMP%]{font-size:1.4em;font-weight:450}.form-item[_ngcontent-%COMP%]{margin-top:8vh}.btns-item-form[_ngcontent-%COMP%]{margin-top:5vh}.btn-next[_ngcontent-%COMP%]{height:6vh;width:15vw;background-color:#2e7b9c;color:#fff}.btn-prev[_ngcontent-%COMP%]{width:10vw;background-color:#f5f3f3}.btn-prev[_ngcontent-%COMP%], .btn-skip[_ngcontent-%COMP%]{height:6vh;color:#000;border:1px solid #9a9a9a}.btn-skip[_ngcontent-%COMP%]{width:8vw;background-color:#e9e6e6}"]}),wF);function CF(t,e){1&t&&(Ia(0,"button",22),_u(1," Pr\xe9visualiser l'image "),Ta())}function EF(t,e){if(1&t){var n=Pa();Ia(0,"button",23),Ra("click",(function(){return er(n),La().onSetMedia()})),_u(1," Passer "),Ta()}}function SF(t,e){if(1&t){var n=Pa();Ia(0,"button",24),Ra("click",(function(){return er(n),La().onSetMedia()})),_u(1," Continuer "),Ta()}}var IF,TF=((IF=function(){function t(e,n,r){tt(this,t),this.formBuilder=e,this._itemFormService=n,this.imageService=r}return nt(t,[{key:"ngOnInit",value:function(){this.mediaForm=this.formBuilder.group({image:["",[qp.required]]}),this.itemFormService.mapStepForms.has(aF.MEDIA)&&this.itemFormService.getStepFormWithStep(aF.MEDIA),0===this.itemFormService.mapStepForms.size&&this.itemFormService.onStartToTheBeginning(),this.itemFormService.isCourse()?this.urlImagePreview=rm.DEFAULT_IMG_COURSE:this.itemFormService.isEvent()&&(this.urlImagePreview=rm.DEFAULT_IMG_EVENT),this.getImagePreviewFromService()}},{key:"getImagePreviewFromService",value:function(){var t=this;console.log("getImagePreviewFromService ItemMediaFormComponent"),this.imagePreviewSubscription=this.imageService.imageSubject.subscribe((function(e){console.log("imagePreviewSubscription :",e),t.urlImagePreview=e}),(function(t){return console.error("Observer got an error: "+t)}),(function(){console.log("Observer got a complete notification")}))}},{key:"hasUploadedImage",value:function(){return this.urlImagePreview&&this.urlImagePreview!==rm.DEFAULT_IMG_COURSE&&this.urlImagePreview!==rm.DEFAULT_IMG_EVENT}},{key:"onSetMedia",value:function(){this.itemFormService.setFormWithStepState(aF.MEDIA,this.urlImagePreview)}},{key:"onBack",value:function(){this.itemFormService.onBackWithoutSave()}},{key:"onRestoreMediaForm",value:function(t){this.mediaForm.patchValue({image:t})}},{key:"onPreviewImage",value:function(t){t.target.files&&t.target.files[0]?this.imageService.getImagePreview(t.target.files[0]):this.urlImagePreview=null}},{key:"ngOnDestroy",value:function(){null!=this.imagePreviewSubscription&&this.imagePreviewSubscription.unsubscribe()}},{key:"itemFormService",get:function(){return this._itemFormService}}]),t}()).\u0275fac=function(t){return new(t||IF)(ka(Bg),ka(uF),ka(BO))},IF.\u0275cmp=hn({type:IF,selectors:[["app-item-media-form"]],decls:30,vars:5,consts:[["role","tabpanel","id","step4",1,"tab-pane"],[1,"row","justify-content-center"],[1,"col-8"],[1,"head-item-form"],["role","form",1,"form-item",3,"formGroup"],["type","file","formControlName","image","id","image","accept","image/*",1,"form-control-file",3,"change"],["type","button","class","btn btn-primary mt-3","data-toggle","modal","data-target","#imageModalPreview",4,"ngIf"],["id","imageModalPreview","tabindex","-1","role","dialog","aria-labelledby","exampleModalCenterTitle","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLongTitle",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body","text-center"],[1,"border",2,"max-width","400px",3,"src"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],[1,"nav","nav-item","justify-content-between","mx-auto","mt-5"],["type","button",1,"btn","btn-default","btn-prev",3,"click"],["type","button","class","btn btn-default btn-skip",3,"click",4,"ngIf"],["type","button","id","continue","class","btn btn-default btn-next",3,"click",4,"ngIf"],["type","button","data-toggle","modal","data-target","#imageModalPreview",1,"btn","btn-primary","mt-3"],["type","button",1,"btn","btn-default","btn-skip",3,"click"],["type","button","id","continue",1,"btn","btn-default","btn-next",3,"click"]],template:function(t,e){1&t&&(Ia(0,"div",0),Ia(1,"div",1),Ia(2,"div",2),Ia(3,"h3",3),_u(4," Voulez-vous ajouter une image de pr\xe9sentation ? (Optionnel) "),Ta(),Ia(5,"form",4),Ia(6,"input",5),Ra("change",(function(t){return e.onPreviewImage(t)})),Ta(),Ta(),_a(7,CF,2,0,"button",6),Ia(8,"div",7),Ia(9,"div",8),Ia(10,"div",9),Ia(11,"div",10),Ia(12,"h5",11),_u(13,"Modal title"),Ta(),Ia(14,"button",12),Ia(15,"span",13),_u(16,"\xd7"),Ta(),Ta(),Ta(),Ia(17,"div",14),Aa(18,"img",15),Ta(),Ia(19,"div",16),Ia(20,"button",17),_u(21,"Close"),Ta(),Ta(),Ta(),Ta(),Ta(),Ia(22,"ul",18),Ia(23,"li"),Ia(24,"button",19),Ra("click",(function(){return e.onBack()})),_u(25," Pr\xe9c\xe9dent "),Ta(),Ta(),Ia(26,"li"),_a(27,EF,2,0,"button",20),Ta(),Ia(28,"li"),_a(29,SF,2,0,"button",21),Ta(),Ta(),Ta(),Ta(),Ta()),2&t&&(lo(5),Ea("formGroup",e.mediaForm),lo(2),Ea("ngIf",e.urlImagePreview),lo(11),Ea("src",e.urlImagePreview,zi),lo(9),Ea("ngIf",!e.hasUploadedImage()),lo(2),Ea("ngIf",!e.mediaForm.invalid&&e.urlImagePreview))},directives:[rg,Mp,ug,Dp,Fp,Ig,fd],styles:[".head-item-form[_ngcontent-%COMP%]{font-size:1.4em;font-weight:450}.form-item[_ngcontent-%COMP%]{margin-top:8vh}.btns-item-form[_ngcontent-%COMP%]{margin-top:5vh}.btn-next[_ngcontent-%COMP%]{height:6vh;width:15vw;background-color:#2e7b9c;color:#fff}.btn-prev[_ngcontent-%COMP%]{width:10vw;background-color:#f5f3f3}.btn-prev[_ngcontent-%COMP%], .btn-skip[_ngcontent-%COMP%]{height:6vh;color:#000;border:1px solid #9a9a9a}.btn-skip[_ngcontent-%COMP%]{width:8vw;background-color:#e9e6e6}"]}),IF);function AF(t,e){1&t&&(Ia(0,"span",7),_u(1," Votre formation \xe0 bien \xe9t\xe9 cr\xe9\xe9, vous pourrez la consulter dans : "),Ta())}function DF(t,e){1&t&&(Ia(0,"span",7),_u(1," Votre \xe9v\xe9nement \xe0 bien \xe9t\xe9 cr\xe9\xe9, vous pourrez le consulter dans : "),Ta())}var OF=function(){return{leftTime:6}};function PF(t,e){if(1&t){var n=Pa();Ia(0,"div",3),Ia(1,"h3"),_u(2,"F\xe9licitations !"),Ta(),_a(3,AF,2,0,"span",4),_a(4,DF,2,0,"span",4),Ia(5,"countdown",5,6),Ra("event",(function(t){return er(n),La().onTimerFinished(t)})),_u(7,"$!m!:$!s!"),Ta(),Ta()}if(2&t){var r=La();lo(3),Ea("ngIf",r.isCourse()),lo(1),Ea("ngIf",r.isEvent()),lo(1),Ea("config",ll(3,OF))}}function xF(t,e){if(1&t&&(Ia(0,"div",16),Ia(1,"span",17),_u(2),Ta(),Ta()),2&t){var n=e.$implicit;lo(2),ku(" ",n.name," ")}}function NF(t,e){1&t&&(Ia(0,"span"),_u(1,"Cr\xe9er ma formation"),Ta())}function RF(t,e){1&t&&(Ia(0,"span"),_u(1,"Cr\xe9er mon \xe9v\xe9nement"),Ta())}function FF(t,e){if(1&t){var n=Pa();Ia(0,"ul",18),Ia(1,"li"),Ia(2,"button",19),Ra("click",(function(){return er(n),La(2).onBack()})),_u(3," Pr\xe9c\xe9dent "),Ta(),Ta(),Ia(4,"li"),Ia(5,"button",20),Ra("click",(function(){return er(n),La(2).onCreateItem()})),_a(6,NF,2,0,"span",2),_a(7,RF,2,0,"span",2),Ta(),Ta(),Ta()}if(2&t){var r=La(2);lo(6),Ea("ngIf",r.isCourse()),lo(1),Ea("ngIf",r.isEvent())}}function MF(t,e){if(1&t&&(Ia(0,"div"),Ia(1,"div",8),Ia(2,"div",9),Ia(3,"h3"),_u(4,"R\xe9sum\xe9"),Ta(),Ia(5,"p"),_u(6,"Vous avez termin\xe9 toutes les \xe9tapes avec succ\xe8s."),Ta(),Ia(7,"div",10),Ia(8,"div",11),Aa(9,"img",12),Ta(),Ia(10,"div",13),Ia(11,"span"),_u(12),Ta(),Aa(13,"br"),Aa(14,"hr"),Ia(15,"span"),_u(16),Ta(),Aa(17,"br"),Aa(18,"hr"),Ta(),Ta(),Ia(19,"span"),_u(20,"Tags :"),Ta(),Aa(21,"hr"),_a(22,xF,3,1,"div",14),_a(23,FF,8,2,"ul",15),Ta(),Ta(),Ta()),2&t){var n=La();lo(9),Ea("src",n.getImageFormValue(),zi),lo(3),wu(n.getTitleFormValue()),lo(4),wu(n.getPriceFormValue()),lo(6),Ea("ngForOf",n.getTagsFormValue()),lo(1),Ea("ngIf",!n.isItemCreated())}}var LF,UF,VF=((UF=function(){function t(e,n){tt(this,t),this._itemFormService=e,this.route=n}return nt(t,[{key:"ngOnInit",value:function(){0===this.itemFormService.mapStepForms.size&&this.itemFormService.onStartToTheBeginning()}},{key:"getTitleFormValue",value:function(){return this.itemFormService.getStepFormWithStep(aF.TITLE).value}},{key:"getCategoryFormValue",value:function(){return this.itemFormService.getStepFormWithStep(aF.CATEGORIES).value.name}},{key:"getTagsFormValue",value:function(){return this.itemFormService.getStepFormWithStep(aF.CATEGORIES).value}},{key:"getPriceFormValue",value:function(){return this.itemFormService.getStepFormWithStep(aF.PRICE).value}},{key:"getImageFormValue",value:function(){return this.itemFormService.getStepFormWithStep(aF.MEDIA).value}},{key:"onCreateItem",value:function(){this.itemFormService.setFormWithStepState(aF.COMPLETE,null)}},{key:"isEvent",value:function(){return this.itemFormService.isEventFormRoute(this.route.url)}},{key:"isCourse",value:function(){return this.itemFormService.isCourseFormRoute(this.route.url)}},{key:"goToItemPage",value:function(){this.itemFormService.setFormWithStepState(aF.COMPLETED,null)}},{key:"onTimerFinished",value:function(t){"done"==t.action&&this.itemFormService.setFormWithStepState(aF.COMPLETED,null)}},{key:"onBack",value:function(){this.itemFormService.onBackWithoutSave()}},{key:"isItemCreated",value:function(){return null!==this.itemFormService.getStepFormWithStep(aF.COMPLETE)&&void 0!==this.itemFormService.getStepFormWithStep(aF.COMPLETE)&&this.itemFormService.getStepFormWithStep(aF.COMPLETE).status}},{key:"itemFormService",get:function(){return this._itemFormService}}]),t}()).\u0275fac=function(t){return new(t||UF)(ka(uF),ka(y_))},UF.\u0275cmp=hn({type:UF,selectors:[["app-item-complete-form"]],decls:3,vars:2,consts:[["role","tabpanel","id","complete",1,"tab-pane"],["class","alert alert-success text-center item-created",4,"ngIf"],[4,"ngIf"],[1,"alert","alert-success","text-center","item-created"],["class","item-created-text",4,"ngIf"],[3,"config","event"],["countdown",""],[1,"item-created-text"],[1,"row","justify-content-center"],[1,"col-10"],[1,"row","mb-3"],[1,"col-4"],[1,"border",2,"max-width","100%",3,"src"],[1,"col-7"],["class","col-auto mb-3",4,"ngFor","ngForOf"],["class","nav nav-item justify-content-between mx-auto mt-5",4,"ngIf"],[1,"col-auto","mb-3"],[1,"tag","py-2","px-3"],[1,"nav","nav-item","justify-content-between","mx-auto","mt-5"],["type","button",1,"btn","btn-default","btn-prev",3,"click"],["type","button",1,"btn","btn-default","btn-next",3,"click"]],template:function(t,e){1&t&&(Ia(0,"div",0),_a(1,PF,8,4,"div",1),_a(2,MF,24,5,"div",2),Ta()),2&t&&(lo(1),Ea("ngIf",e.isItemCreated()),lo(1),Ea("ngIf",!e.isItemCreated()))},directives:[fd,Sx,ld],styles:[".head-item-form[_ngcontent-%COMP%]{font-size:1.4em;font-weight:450}.form-item[_ngcontent-%COMP%]{margin-top:8vh}.btns-item-form[_ngcontent-%COMP%]{margin-top:5vh}.btn-next[_ngcontent-%COMP%]{height:6vh;width:15vw;background-color:#2e7b9c;color:#fff}.btn-prev[_ngcontent-%COMP%]{width:10vw;background-color:#f5f3f3}.btn-prev[_ngcontent-%COMP%], .btn-skip[_ngcontent-%COMP%]{height:6vh;color:#000;border:1px solid #9a9a9a}.btn-skip[_ngcontent-%COMP%]{width:8vw;background-color:#e9e6e6}.tag[_ngcontent-%COMP%]{border-radius:500px;-moz-border-radius:500px;-webkit-border-radius:500px;background-color:#dcdcdc;align-content:center}"]}),UF),jF=((LF=function(){function t(e,n,r,i,o,s){tt(this,t),this.itemService=e,this.imageService=n,this.itemFormService=r,this.authService=i,this.router=o,this.datepipe=s}return nt(t,[{key:"ngOnInit",value:function(){console.log("ngOnInit ItemFormComponent"),this.getValueStepForm()}},{key:"getValueStepForm",value:function(){var t=this;this.stepFormSubscription=this.itemFormService.getValueStepForm().subscribe((function(e){t.sortStepForm(e),console.log("next",e)}),(function(t){console.log(t)}),(function(){console.log("complete suscribe")}))}},{key:"createNewEvent",value:function(){var t=this,e=this.itemFormService.getStepFormWithStep(aF.TITLE).value,n=this.itemFormService.getStepFormWithStep(aF.CATEGORIES).value,r=this.itemFormService.getStepFormWithStep(aF.PRICE).value,i=[this.authService.authUser.getIUser()],o=this.datepipe.transform(Date.now().toString(),"dd/MM/yyyy"),s=this.itemFormService.getStepFormWithStep(aF.LOCATION).value,a=this.itemFormService.getStepFormWithStep(aF.MEDIA).value,u=this.itemFormService.getStepFormWithStep(aF.DATES).value,c=new zO(null,"event",e,n,[],null,null,r,s,u,i,o,!1,null,a,null);if(console.error("Image Link :",a,c.imageLink),a&&a!==rm.DEFAULT_IMG_EVENT){var l=nm.storage().ref("images").child("items");this.imageService.uploadFile(this.imageService.imageToUpload,l).then((function(e){e&&""!==e&&(console.log("Image Link :",e),c.imageLink=e,t.sendEventToDB(c))}),(function(t){console.log(t)}))}else c.videoLink=null,this.sendEventToDB(c)}},{key:"sendEventToDB",value:function(t){var e=this;return this.itemService.addNewItemToDB(t).then((function(t){return t&&t instanceof zO&&XO.addItemInAuthorsDB(t,e.authService.authUser.id),e.itemFormService.getStepFormWithStep(aF.COMPLETE).value=e.itemService.lastItemCreated,e.itemFormService.getStepFormWithStep(aF.COMPLETE).status=!0,!0})).catch((function(t){return console.log(t),!1}))}},{key:"sortStepForm",value:function(t){switch(t){case aF.TITLE:this.goToCategoryForm();break;case aF.CATEGORIES:this.goToPriceForm();break;case aF.PRICE:this.goToMediaForm();break;case aF.MEDIA:this.goToDatesForm();break;case aF.DATES:this.goToLocationForm();break;case aF.LOCATION:this.goToCompleteForm();break;case aF.COMPLETE:this.createNewEvent();break;case aF.COMPLETED:this.router.navigate([sm.EVENT,this.itemService.lastItemCreated.id]);break;case aF.BACK:this.goBack();break;case aF.STARTING:this.goToTitleForm()}}},{key:"goToTitleForm",value:function(){this.router.navigate([sm.NEW_EVENT+sm.NEW_TITLE])}},{key:"goToCategoryForm",value:function(){this.itemFormService.getStepFormWithStep(aF.TITLE).status&&this.router.navigate([sm.NEW_EVENT+sm.NEW_CATEGORY])}},{key:"goToPriceForm",value:function(){this.itemFormService.getStepFormWithStep(aF.TITLE).status&&this.itemFormService.getStepFormWithStep(aF.CATEGORIES).status&&this.router.navigate([sm.NEW_EVENT+sm.NEW_PRICE])}},{key:"goToMediaForm",value:function(){this.itemFormService.getStepFormWithStep(aF.TITLE).status&&this.itemFormService.getStepFormWithStep(aF.CATEGORIES).status&&this.itemFormService.getStepFormWithStep(aF.PRICE).status&&this.router.navigate([sm.NEW_EVENT+sm.NEW_MEDIA])}},{key:"goToDatesForm",value:function(){this.itemFormService.getStepFormWithStep(aF.TITLE).status&&this.itemFormService.getStepFormWithStep(aF.CATEGORIES).status&&this.itemFormService.getStepFormWithStep(aF.PRICE).status&&this.itemFormService.getStepFormWithStep(aF.MEDIA).status&&this.router.navigate([sm.NEW_EVENT+sm.NEW_DATES])}},{key:"goToLocationForm",value:function(){this.itemFormService.getStepFormWithStep(aF.TITLE).status&&this.itemFormService.getStepFormWithStep(aF.CATEGORIES).status&&this.itemFormService.getStepFormWithStep(aF.PRICE).status&&this.itemFormService.getStepFormWithStep(aF.MEDIA).status&&this.itemFormService.getStepFormWithStep(aF.DATES).status&&this.router.navigate([sm.NEW_EVENT+sm.NEW_LOCATION])}},{key:"goToCompleteForm",value:function(){this.itemFormService.getStepFormWithStep(aF.TITLE).status&&this.itemFormService.getStepFormWithStep(aF.CATEGORIES).status&&this.itemFormService.getStepFormWithStep(aF.PRICE).status&&this.itemFormService.getStepFormWithStep(aF.MEDIA).status&&this.itemFormService.getStepFormWithStep(aF.DATES).status&&this.itemFormService.getStepFormWithStep(aF.LOCATION).status&&this.router.navigate([sm.NEW_EVENT+sm.NEW_COMPLETED])}},{key:"goBack",value:function(){switch(this.router.url){case sm.NEW_EVENT+sm.NEW_CATEGORY:this.goToTitleForm();break;case sm.NEW_EVENT+sm.NEW_PRICE:this.goToCategoryForm();break;case sm.NEW_EVENT+sm.NEW_MEDIA:this.goToPriceForm();break;case sm.NEW_EVENT+sm.NEW_DATES:this.goToMediaForm();break;case sm.NEW_EVENT+sm.NEW_LOCATION:this.goToDatesForm();break;case sm.NEW_EVENT+sm.NEW_COMPLETED:this.goToLocationForm()}}},{key:"ngOnDestroy",value:function(){this.stepFormSubscription&&this.stepFormSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||LF)(ka(eP),ka(BO),ka(uF),ka($P),ka(y_),ka(Qd))},LF.\u0275cmp=hn({type:LF,selectors:[["app-event-form"]],decls:1,vars:0,template:function(t,e){1&t&&Aa(0,"router-outlet")},directives:[T_],styles:[".item-form-body[_ngcontent-%COMP%]{height:75vh}"]}),LF);function BF(t,e){if(1&t){var n=Pa();Ia(0,"button",15),Ra("click",(function(){return er(n),La().onSetLocation()})),_u(1," Continuer "),Ta()}}var qF,WF=((qF=function(){function t(e,n){tt(this,t),this.formBuilder=e,this._itemFormService=n}return nt(t,[{key:"ngOnInit",value:function(){this.locationForm=this.formBuilder.group({location:["",[qp.required]],address:["",[qp.required]],zip:["",[qp.required]],city:["",[qp.required]],country:["",[qp.required]]}),this.itemFormService.mapStepForms.has(aF.DATES)?this.itemFormService.getStepFormWithStep(aF.DATES).status&&this.onRestoreDatesForm(this.itemFormService.getStepFormWithStep(aF.DATES).value):0===this.itemFormService.mapStepForms.size&&this.itemFormService.onStartToTheBeginning()}},{key:"onSetLocation",value:function(){var t={location:this.locationForm.get("location").value,address:this.locationForm.get("address").value,zip:this.locationForm.get("zip").value,city:this.locationForm.get("city").value,country:this.locationForm.get("country").value};this.itemFormService.setFormWithStepState(aF.LOCATION,t)}},{key:"onRestoreDatesForm",value:function(t){this.locationForm.patchValue({location:t.location}),this.locationForm.patchValue({address:t.address}),this.locationForm.patchValue({zip:t.zip}),this.locationForm.patchValue({city:t.city}),this.locationForm.patchValue({country:t.country})}},{key:"onBack",value:function(){this.itemFormService.onBackWithoutSave()}},{key:"itemFormService",get:function(){return this._itemFormService}}]),t}()).\u0275fac=function(t){return new(t||qF)(ka(Bg),ka(uF))},qF.\u0275cmp=hn({type:qF,selectors:[["app-event-location-form"]],decls:21,vars:2,consts:[["role","tabpanel","id","step3",1,"tab-pane"],[1,"row","justify-content-center"],[1,"col-8"],[1,"head-item-form"],["role","form",1,"form-item",3,"formGroup"],["type","text","id","inputLocation","placeholder","Lieu","formControlName","location",1,"form-control"],["type","text","id","inputAddress","placeholder","Adresse","formControlName","address",1,"form-control","mt-3"],[1,"form-row","mt-3"],[1,"form-group","col-md-4"],["type","number","id","inputZip","placeholder","Code postal","onkeydown","return (event.keyCode !== 69 \n                                   && event.keyCode !== 187\n                                   && event.keyCode !== 189)","formControlName","zip",1,"form-control"],["type","text","id","inputCity","placeholder","Ville","formControlName","city",1,"form-control"],["type","text","id","inputCountry","placeholder","Pays","formControlName","country",1,"form-control"],[1,"nav","nav-item","btns-item-form","justify-content-between","mx-auto","mt-5"],["type","button",1,"btn","btn-default","btn-prev",3,"click"],["type","button","id","continue","class","btn btn-default btn-next",3,"click",4,"ngIf"],["type","button","id","continue",1,"btn","btn-default","btn-next",3,"click"]],template:function(t,e){1&t&&(Ia(0,"div",0),Ia(1,"div",1),Ia(2,"div",2),Ia(3,"h3",3),_u(4,"Quelle est la date de votre \xe9v\xe8nement ?"),Ta(),Ia(5,"form",4),Aa(6,"input",5),Aa(7,"input",6),Ia(8,"div",7),Ia(9,"div",8),Aa(10,"input",9),Ta(),Ia(11,"div",8),Aa(12,"input",10),Ta(),Ia(13,"div",8),Aa(14,"input",11),Ta(),Ta(),Ta(),Ia(15,"ul",12),Ia(16,"li"),Ia(17,"button",13),Ra("click",(function(){return e.onBack()})),_u(18," Pr\xe9c\xe9dent "),Ta(),Ta(),Ia(19,"li"),_a(20,BF,2,0,"button",14),Ta(),Ta(),Ta(),Ta(),Ta()),2&t&&(lo(5),Ea("formGroup",e.locationForm),lo(15),Ea("ngIf",!e.locationForm.invalid))},directives:[rg,Mp,ug,Dp,Fp,Ig,Zp,fd],styles:[".head-item-form[_ngcontent-%COMP%]{font-size:1.4em;font-weight:450}.form-item[_ngcontent-%COMP%]{margin-top:8vh}.btns-item-form[_ngcontent-%COMP%]{margin-top:5vh}.btn-next[_ngcontent-%COMP%]{height:6vh;width:15vw;background-color:#2e7b9c;color:#fff}.btn-prev[_ngcontent-%COMP%]{width:10vw;background-color:#f5f3f3}.btn-prev[_ngcontent-%COMP%], .btn-skip[_ngcontent-%COMP%]{height:6vh;color:#000;border:1px solid #9a9a9a}.btn-skip[_ngcontent-%COMP%]{width:8vw;background-color:#e9e6e6}"]}),qF);function HF(t,e){if(1&t){var n=Pa();Ia(0,"li",1),Ia(1,"a",13),Ra("click",(function(){return er(n),La().goToDatesForm()})),Aa(2,"span",14),Ta(),Ta()}if(2&t){var r=La();lo(1),Ea("ngClass",r.isDatesOk()?"active":"disabled")}}function zF(t,e){if(1&t){var n=Pa();Ia(0,"li",1),Ia(1,"a",15),Ra("click",(function(){return er(n),La().goToLocationForm()})),Aa(2,"span",16),Ta(),Ta()}if(2&t){var r=La();lo(1),Ea("ngClass",r.isLocationOk()?"active":"disabled")}}var GF,KF,QF,$F,YF=((KF=function(){function t(e,n){tt(this,t),this.router=e,this.itemFormService=n}return nt(t,[{key:"ngOnInit",value:function(){}},{key:"isEventForm",value:function(){return this.router.url.substr(0,sm.NEW_EVENT.length)===sm.NEW_EVENT}},{key:"isCourseForm",value:function(){return this.router.url.substr(0,sm.NEW_COURSE.length)===sm.NEW_COURSE}},{key:"isTitleOk",value:function(){return!!this.isTitleCreated()||!!this.itemFormService.isTitleFormRoute(this.router.url)}},{key:"isCategoryOk",value:function(){return!!this.isCategoryCreated()||!!this.itemFormService.isCategoryFormRoute(this.router.url)}},{key:"isPriceOk",value:function(){return!!this.isPriceCreated()||!!this.itemFormService.isPriceFormRoute(this.router.url)}},{key:"isMediaOk",value:function(){return!!this.isMediaCreated()||!!this.itemFormService.isMediaFormRoute(this.router.url)}},{key:"isCompleteOk",value:function(){return!!this.isCompleteCreated()||!!this.itemFormService.isCompleteFormRoute(this.router.url)}},{key:"isLocationOk",value:function(){return!!this.isLocationCreated()||!!this.itemFormService.isLocationFormRoute(this.router.url)}},{key:"isDatesOk",value:function(){return!!this.isDatesCreated()||!!this.itemFormService.isDatesFormRoute(this.router.url)}},{key:"isTitleCreated",value:function(){return!!this.itemFormService.getStepFormWithStep(aF.TITLE)}},{key:"isCategoryCreated",value:function(){return!!this.itemFormService.getStepFormWithStep(aF.CATEGORIES)}},{key:"isPriceCreated",value:function(){return!!this.itemFormService.getStepFormWithStep(aF.PRICE)}},{key:"isMediaCreated",value:function(){return!!this.itemFormService.getStepFormWithStep(aF.MEDIA)}},{key:"isDatesCreated",value:function(){return!!this.itemFormService.getStepFormWithStep(aF.DATES)}},{key:"isLocationCreated",value:function(){return!!this.itemFormService.getStepFormWithStep(aF.LOCATION)}},{key:"isCompleteCreated",value:function(){return!!this.itemFormService.getStepFormWithStep(aF.COMPLETE)}},{key:"goToTitleForm",value:function(){this.isEventForm()?this.router.navigate([sm.NEW_EVENT+sm.NEW_TITLE]):this.isCourseForm()&&this.router.navigate([sm.NEW_COURSE+sm.NEW_TITLE])}},{key:"goToCategoryForm",value:function(){this.isTitleCreated()&&(this.isEventForm()?this.router.navigate([sm.NEW_EVENT+sm.NEW_CATEGORY]):this.isCourseForm()&&this.router.navigate([sm.NEW_COURSE+sm.NEW_CATEGORY]))}},{key:"goToPriceForm",value:function(){this.isTitleCreated()&&this.isCategoryCreated()&&(this.isEventForm()?this.router.navigate([sm.NEW_EVENT+sm.NEW_PRICE]):this.isCourseForm()&&this.router.navigate([sm.NEW_COURSE+sm.NEW_PRICE]))}},{key:"goToMediaForm",value:function(){this.isTitleCreated()&&this.isCategoryCreated()&&this.isPriceCreated()&&(this.isEventForm()?this.router.navigate([sm.NEW_EVENT+sm.NEW_MEDIA]):this.isCourseForm()&&this.router.navigate([sm.NEW_COURSE+sm.NEW_MEDIA]))}},{key:"goToDatesForm",value:function(){this.isTitleCreated()&&this.isCategoryCreated()&&this.isPriceCreated()&&this.isMediaCreated()&&(this.isEventForm()?this.router.navigate([sm.NEW_EVENT+sm.NEW_DATES]):this.isCourseForm()&&this.router.navigate([sm.NEW_COURSE+sm.NEW_DATES]))}},{key:"goToLocationForm",value:function(){this.isTitleCreated()&&this.isCategoryCreated()&&this.isPriceCreated()&&this.isMediaCreated()&&this.isDatesCreated()&&(this.isEventForm()?this.router.navigate([sm.NEW_EVENT+sm.NEW_LOCATION]):this.isCourseForm()&&this.router.navigate([sm.NEW_COURSE+sm.NEW_LOCATION]))}},{key:"goToCompleteForm",value:function(){this.isEventForm()?this.isTitleCreated()&&this.isCategoryCreated()&&this.isPriceCreated()&&this.isMediaCreated()&&this.isDatesCreated()&&this.isLocationCreated()&&this.router.navigate([sm.NEW_EVENT+sm.NEW_COMPLETED]):this.isCourseForm()&&this.isTitleCreated()&&this.isCategoryCreated()&&this.isPriceCreated()&&this.isMediaCreated()&&this.router.navigate([sm.NEW_COURSE+sm.NEW_COMPLETED])}}]),t}()).\u0275fac=function(t){return new(t||KF)(ka(y_),ka(uF))},KF.\u0275cmp=hn({type:KF,selectors:[["app-nav-item-form"]],decls:18,vars:7,consts:[[1,"nav","nav-item","justify-content-center","mx-auto"],["role","presentation"],["title","Titre",1,"nav-link",3,"ngClass","click"],["data-icon","bx:bxs-pencil","data-inline","false",1,"iconify"],["title","Tags",1,"nav-link",3,"ngClass","click"],["data-icon","foundation:list-thumbnails","data-inline","false",1,"iconify"],["title","Prix",1,"nav-link",3,"ngClass","click"],["data-icon","zmdi:label","data-inline","false",1,"iconify"],["title","Image et Vid\xe9o",1,"nav-link",3,"ngClass","click"],["data-icon","fe:picture","data-inline","false",1,"iconify"],["role","presentation",4,"ngIf"],["title","R\xe9sum\xe9",1,"nav-link",3,"ngClass","click"],["data-icon","el:ok","data-inline","false",1,"iconify"],["title","Dates",1,"nav-link",3,"ngClass","click"],["data-icon","bx:bx-calendar","data-inline","false",1,"iconify"],["title","Lieu",1,"nav-link",3,"ngClass","click"],["data-icon","heroicons-solid:location-marker","data-inline","false",1,"iconify"]],template:function(t,e){1&t&&(Ia(0,"ul",0),Ia(1,"li",1),Ia(2,"a",2),Ra("click",(function(){return e.goToTitleForm()})),Aa(3,"span",3),Ta(),Ta(),Ia(4,"li",1),Ia(5,"a",4),Ra("click",(function(){return e.goToCategoryForm()})),Aa(6,"span",5),Ta(),Ta(),Ia(7,"li",1),Ia(8,"a",6),Ra("click",(function(){return e.goToPriceForm()})),Aa(9,"span",7),Ta(),Ta(),Ia(10,"li",1),Ia(11,"a",8),Ra("click",(function(){return e.goToMediaForm()})),Aa(12,"span",9),Ta(),Ta(),_a(13,HF,3,1,"li",10),_a(14,zF,3,1,"li",10),Ia(15,"li",1),Ia(16,"a",11),Ra("click",(function(){return e.goToCompleteForm()})),Aa(17,"span",12),Ta(),Ta(),Ta()),2&t&&(lo(2),Ea("ngClass",e.isTitleOk()?"active":"disabled"),lo(3),Ea("ngClass",e.isCategoryOk()?"active":"disabled"),lo(3),Ea("ngClass",e.isPriceOk()?"active":"disabled"),lo(3),Ea("ngClass",e.isMediaOk()?"active":"disabled"),lo(2),Ea("ngIf",e.isEventForm()),lo(1),Ea("ngIf",e.isEventForm()),lo(2),Ea("ngClass",e.isCompleteOk()?"active":"disabled"))},directives:[ad,fd],styles:[".iconify[_ngcontent-%COMP%]{width:4vw;height:4vw;color:#9a9a9a;display:inline-block;border-radius:50%;border:.3vw solid #9a9a9a;padding:.4em}.nav-item[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:10%}.nav-item[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .active[_ngcontent-%COMP%] > .iconify[_ngcontent-%COMP%]{color:#2e7b9c;border-color:#2e7b9c}.nav-item[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .active[_ngcontent-%COMP%] > .iconify[_ngcontent-%COMP%]:focus, .nav-item[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .active[_ngcontent-%COMP%] > .iconify[_ngcontent-%COMP%]:hover{color:#73bddd;border-color:#73bddd}@media only screen and (max-width:600px){.iconify[_ngcontent-%COMP%]{width:9vw;height:9vw;color:#9a9a9a;display:inline-block;border-radius:50%;border:.6vw solid #9a9a9a;padding:.3em}.nav-item[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:13%}}"]}),KF),JF=((GF=function(){function t(e){tt(this,t),this.itemFormService=e}return nt(t,[{key:"ngOnInit",value:function(){}},{key:"closeForm",value:function(){this.itemFormService.clearForm()}}]),t}()).\u0275fac=function(t){return new(t||GF)(ka(uF))},GF.\u0275cmp=hn({type:GF,selectors:[["app-item-form"]],decls:10,vars:0,consts:[[1,"navbar","navbar-item-form"],[1,"navbar-brand","mb-0","h1"],[1,"navbar-nav"],[1,"nav-item","active"],["href","#",1,"nav-link"],["data-inline","false","data-icon","eva:close-fill",1,"iconify","icon-exit",3,"click"],[1,"item-form-body"]],template:function(t,e){1&t&&(Ia(0,"nav",0),Ia(1,"span",1),_u(2,"LOGO"),Ta(),Ia(3,"ul",2),Ia(4,"li",3),Ia(5,"a",4),Ia(6,"span",5),Ra("click",(function(){return e.closeForm()})),Ta(),Ta(),Ta(),Ta(),Ta(),Aa(7,"app-nav-item-form"),Ia(8,"div",6),Aa(9,"router-outlet"),Ta())},directives:[uA,YF,T_],styles:[".icon-exit[_ngcontent-%COMP%]{width:5vw;height:5vw;color:#9a9a9a}.item-form-body[_ngcontent-%COMP%]{margin-top:5vh;font-size:1.3em}@media only screen and (max-width:600px){.item-form-body[_ngcontent-%COMP%]{font-size:.2em}.icon-exit[_ngcontent-%COMP%]{width:7vw;height:7vw}}"]}),GF),XF=[{path:sm.NEW_ITEM.substr(1),component:JF,canActivate:[xN],children:[{path:sm.EVENT.substr(1),component:jF,children:[{path:sm.NEW_TITLE.substr(1),component:gF,canActivate:[xN]},{path:sm.NEW_CATEGORY.substr(1),component:bF,canActivate:[xN]},{path:sm.NEW_PRICE.substr(1),component:kF,canActivate:[xN]},{path:sm.NEW_MEDIA.substr(1),component:TF,canActivate:[xN]},{path:sm.NEW_DATES.substr(1),component:dF,canActivate:[xN]},{path:sm.NEW_LOCATION.substr(1),component:WF,canActivate:[xN]},{path:sm.NEW_COMPLETED.substr(1),component:VF,canActivate:[xN]},{path:"",redirectTo:sm.NEW_EVENT+sm.NEW_TITLE,pathMatch:"full"}]}]}],ZF=V_.forChild(XF),tM=((QF=function(){function t(e,n,r,i,o,s){tt(this,t),this.itemService=e,this.imageService=n,this.itemFormService=r,this.authService=i,this.router=o,this.datepipe=s}return nt(t,[{key:"ngOnInit",value:function(){console.log("ngOnInit ItemFormComponent"),this.getValueStepForm()}},{key:"getValueStepForm",value:function(){var t=this;this.stepFormSubscription=this.itemFormService.getValueStepForm().subscribe((function(e){t.sortStepForm(e),console.log("next",e)}),(function(t){console.log(t)}),(function(){console.log("complete suscribe")}))}},{key:"createNewCourse",value:function(){var t=this,e=this.itemFormService.getStepFormWithStep(aF.TITLE).value,n=this.itemFormService.getStepFormWithStep(aF.PRICE).value,r=[this.authService.authUser.getIUser()],i=this.datepipe.transform(Date.now().toString(),"dd/MM/yyyy"),o=(this.itemFormService.getStepFormWithStep(aF.MEDIA),this.itemFormService.getStepFormWithStep(aF.CATEGORIES).value);console.log("tags",o);var s=new $O(null,rm.COURSE.substr(1),e,null,o,null,null,n,r,i,!1,[],null,null,null,null,null,null,null);if(this.imageService.imageToUpload){var a=nm.storage().ref("images").child("items");this.imageService.uploadFile(this.imageService.imageToUpload,a).then((function(e){e&&""!==e&&(console.log("Image Link :",e),s.imageLink=e,s.videoLink=null,t.sendCourseToDB(s))}),(function(t){console.log(t)}))}else s.videoLink=null,s.imageLink=rm.DEFAULT_IMG_COURSE,this.sendCourseToDB(s)}},{key:"sendCourseToDB",value:function(t){var e=this;return this.itemService.addNewItemToDB(t).then((function(t){return t&&t instanceof $O&&XO.addItemInAuthorsDB(t,e.authService.authUser.id),e.itemFormService.getStepFormWithStep(aF.COMPLETE).value=e.itemService.lastItemCreated,e.itemFormService.getStepFormWithStep(aF.COMPLETE).status=!0,!0})).catch((function(t){return console.log(t),!1}))}},{key:"sortStepForm",value:function(t){switch(t){case aF.TITLE:this.goToCategoriesForm();break;case aF.CATEGORIES:this.goToPriceForm();break;case aF.PRICE:this.goToMediaForm();break;case aF.MEDIA:this.goToCompleteForm();break;case aF.COMPLETE:this.createNewCourse();break;case aF.COMPLETED:this.router.navigate([sm.COURSE,this.itemService.lastItemCreated.id]);break;case aF.BACK:this.goBack()}}},{key:"goToTitleForm",value:function(){this.router.navigate([sm.NEW_COURSE+sm.NEW_TITLE])}},{key:"goToCategoriesForm",value:function(){this.itemFormService.getStepFormWithStep(aF.TITLE).status&&this.router.navigate([sm.NEW_COURSE+sm.NEW_CATEGORY])}},{key:"goToPriceForm",value:function(){this.itemFormService.getStepFormWithStep(aF.TITLE).status&&this.itemFormService.getStepFormWithStep(aF.CATEGORIES).status&&this.router.navigate([sm.NEW_COURSE+sm.NEW_PRICE])}},{key:"goToMediaForm",value:function(){this.itemFormService.getStepFormWithStep(aF.TITLE).status&&this.itemFormService.getStepFormWithStep(aF.CATEGORIES).status&&this.itemFormService.getStepFormWithStep(aF.PRICE).status&&this.router.navigate([sm.NEW_COURSE+sm.NEW_MEDIA])}},{key:"goToCompleteForm",value:function(){this.itemFormService.getStepFormWithStep(aF.TITLE).status&&this.itemFormService.getStepFormWithStep(aF.CATEGORIES).status&&this.itemFormService.getStepFormWithStep(aF.PRICE).status&&this.itemFormService.getStepFormWithStep(aF.MEDIA).status&&this.router.navigate([sm.NEW_COURSE+sm.NEW_COMPLETED])}},{key:"goBack",value:function(){switch(this.router.url){case sm.NEW_COURSE+sm.NEW_CATEGORY:this.goToTitleForm();break;case sm.NEW_COURSE+sm.NEW_PRICE:this.goToCategoriesForm();break;case sm.NEW_COURSE+sm.NEW_MEDIA:this.goToPriceForm();break;case sm.NEW_COURSE+sm.NEW_COMPLETED:this.goToMediaForm()}}},{key:"ngOnDestroy",value:function(){this.stepFormSubscription&&(this.stepFormSubscription.unsubscribe(),console.log("this.stepFormSubscription.unsubscribe();"))}}]),t}()).\u0275fac=function(t){return new(t||QF)(ka(eP),ka(BO),ka(uF),ka($P),ka(y_),ka(Qd))},QF.\u0275cmp=hn({type:QF,selectors:[["app-course-form"]],decls:1,vars:0,template:function(t,e){1&t&&Aa(0,"router-outlet")},directives:[T_],styles:[".item-form-body[_ngcontent-%COMP%]{height:75vh}"]}),QF),eM=[{path:sm.NEW_ITEM.substr(1),component:JF,canActivate:[xN],children:[{path:sm.COURSE.substr(1),component:tM,children:[{path:sm.NEW_TITLE.substr(1),component:gF,canActivate:[xN]},{path:sm.NEW_CATEGORY.substr(1),component:bF,canActivate:[xN]},{path:sm.NEW_PRICE.substr(1),component:kF,canActivate:[xN]},{path:sm.NEW_MEDIA.substr(1),component:TF,canActivate:[xN]},{path:sm.NEW_COMPLETED.substr(1),component:VF,canActivate:[xN]},{path:"",redirectTo:sm.NEW_COURSE+sm.NEW_TITLE,pathMatch:"full"}]}]}],nM=V_.forChild(eM),rM=(($F=function t(){tt(this,t)}).\u0275mod=vn({type:$F}),$F.\u0275inj=ae({factory:function(t){return new(t||$F)},providers:[eP,Qd],imports:[[Tx,nM,ZF]]}),$F);function iM(t,e){if(1&t){var n=Pa();Ia(0,"button",22),Ra("click",(function(){return er(n),La(2).addModule()})),_u(1,"Ajouter un module"),Ta()}2&t&&Ea("disabled",La().$implicit.invalid)}function oM(t,e){if(1&t){var n=Pa();Ia(0,"button",23),Ra("click",(function(){er(n);var t=La().index;return La().updateModule(t)})),_u(1,"Modifier"),Ta()}}function sM(t,e){if(1&t){var n=Pa();Ia(0,"button",23),Ra("click",(function(){er(n);var t=La().index;return La().saveModule(t)})),_u(1,"Enregistrer"),Ta()}}function aM(t,e){if(1&t){var n=Pa();Ia(0,"button",23),Ra("click",(function(){er(n);var t=La().index;return La().removeModule(t)})),_u(1,"Supprimer"),Ta()}}function uM(t,e){if(1&t){var n=Pa();Ia(0,"button",22),Ra("click",(function(){er(n);var t=La(3).index;return La().addChapter(t)})),_u(1,"Ajouter un Chapitre"),Ta()}2&t&&Ea("disabled",La().$implicit.invalid)}function cM(t,e){if(1&t){var n=Pa();Ia(0,"button",23),Ra("click",(function(){er(n);var t=La().index,e=La(2).index;return La().updateChapter(e,t)})),_u(1,"Modifier"),Ta()}}function lM(t,e){if(1&t){var n=Pa();Ia(0,"button",23),Ra("click",(function(){er(n);var t=La().index,e=La(2).index;return La().saveChapter(e,t)})),_u(1,"Enregistrer"),Ta()}}function hM(t,e){if(1&t){var n=Pa();Ia(0,"button",23),Ra("click",(function(){er(n);var t=La().index,e=La(2).index;return La().removeChapter(e,t)})),_u(1,"Supprimer"),Ta()}}var fM=function(t){return{"is-invalid":t}};function dM(t,e){if(1&t){var n=Pa();Ia(0,"div"),Ia(1,"div",5),Ia(2,"div",26),Ia(3,"label",27),_u(4," Nom du chapitre "),Ta(),Ia(5,"input",28),Ra("click",(function(){er(n);var t=e.index,r=La(2).index;return La().shouldShowChapterRequiredError(r,t,"titleChapter")})),Ta(),Ta(),Ia(6,"div",29),_a(7,uM,2,1,"button",14),_a(8,cM,2,0,"button",15),_a(9,lM,2,0,"button",15),_a(10,hM,2,0,"button",15),Ta(),Ta(),Aa(11,"hr",30),Ta()}if(2&t){var r=e.index,i=La(2).index,o=La();lo(1),Ea("formGroupName",r),lo(4),Ea("ngClass",hl(7,fM,o.shouldShowChapterRequiredError(i,r,"titleChapter"))),ya("id","titleChapter"+i+r),lo(2),Ea("ngIf",o.courseModules[i]&&!o.courseModules[i].chapters[r]),lo(1),Ea("ngIf",o.courseModules[i]&&o.courseModules[i].chapters[r]&&o.chapterFormIsDisabled(i,r)),lo(1),Ea("ngIf",o.courseModules[i]&&o.courseModules[i].chapters[r]&&!o.chapterFormIsDisabled(i,r)),lo(1),Ea("ngIf",o.courseModules[i]&&o.courseModules[i].chapters[r])}}function pM(t,e){if(1&t&&(Ia(0,"div",24),_a(1,dM,12,9,"div",25),Ta()),2&t){var n=La().index,r=La();lo(1),Ea("ngForOf",r.getChapterControlsWithModuleIndex(n).controls)}}function vM(t,e){if(1&t){var n=Pa();Ia(0,"div",4),Ia(1,"div",5),Ia(2,"div",6),Ia(3,"div",7),Ia(4,"div",8),Ia(5,"div",9),Ia(6,"label",10),_u(7," Titre "),Ta(),Ia(8,"input",11),Ra("click",(function(){er(n);var t=e.index;return La().shouldShowModuleRequiredError(t,"titleModule")})),Ta(),Ta(),Ia(9,"div",9),Ia(10,"label",10),_u(11," Description "),Ta(),Ia(12,"textarea",12),Ra("click",(function(){er(n);var t=e.index;return La().shouldShowModuleRequiredError(t,"descriptionModule")})),_u(13,"                  "),Ta(),Ta(),Ia(14,"div",13),_a(15,iM,2,1,"button",14),_a(16,oM,2,0,"button",15),_a(17,sM,2,0,"button",15),_a(18,aM,2,0,"button",15),Ta(),Ta(),Ia(19,"div",16),Aa(20,"span",17),Ta(),Ta(),Ta(),Ia(21,"div",18),Ia(22,"div",19),Ia(23,"div",20),_a(24,pM,2,1,"div",21),Ta(),Ta(),Ta(),Ta(),Ta()}if(2&t){var r=e.index,i=La();lo(1),Ea("formGroupName",r),lo(1),ya("id","heading"+r)("data-target","#collapse"+r)("aria-controls","collapse"+r),lo(4),ya("for","titleModule"+r),lo(2),Ea("ngClass",hl(19,fM,i.shouldShowModuleRequiredError(r,"titleModule"))),ya("id","titleModule"+r)("name","titleModule"+r),lo(2),ya("for","descriptionModule"+r),lo(2),Ea("ngClass",hl(21,fM,i.shouldShowModuleRequiredError(r,"descriptionModule"))),ya("id","descriptionModule"+r)("name","descriptionModule"+r),lo(3),Ea("ngIf",!i.courseModules[r]),lo(1),Ea("ngIf",i.courseModules[r]&&i.moduleFormIsDisabled(r)),lo(1),Ea("ngIf",i.courseModules[r]&&!i.moduleFormIsDisabled(r)),lo(1),Ea("ngIf",i.courseModules[r]),lo(4),ya("id","collapse"+r)("aria-labelledby","heading"+r),lo(2),Ea("ngIf",i.getChapterControlsWithModuleIndex(r))}}var gM,mM,yM,bM,_M,wM=((_M=function(){function t(e){tt(this,t),this.formBuilder=e,this.courseModules=[],this.oldCourseModules=[],this.courseId="",this.newCourseContentEvent=new yl,this.contentCourseForm=this.formBuilder.group({modules:this.formBuilder.array([])})}return nt(t,[{key:"ngOnInit",value:function(){this.oldCourseModules=Array.from(this.courseModules),this.modulesControls.push(this.newModuleForm()),this.fillContentCourseForm()}},{key:"fillContentCourseForm",value:function(){if(this.courseModules){console.warn("fillContentCourseForm",this.courseModules);for(var t=0;t<this.courseModules.length;t++){this.fillModuleForm(t),this.modulesControls.push(this.newModuleForm()),this.courseModules[t].chapters||(this.courseModules[t].chapters=[]);for(var e=0;e<this.courseModules[t].chapters.length;e++)this.getChapterControlsWithModuleIndex(t).push(this.newChapterForm()),this.fillChapterForm(t,e);this.getChapterControlsWithModuleIndex(t).push(this.newChapterForm())}}}},{key:"newModuleForm",value:function(){return this.formBuilder.group({titleModule:["",[qp.required]],descriptionModule:["",[qp.required]],chapters:this.formBuilder.array([])})}},{key:"addModule",value:function(){var t=this.modulesControls.length-1,e=this.modulesControls.controls[t],n=e.get("titleModule").value,r=e.get("descriptionModule").value;this.courseModules.push(new KO(null,n,r,[])),this.modulesControls.push(this.newModuleForm()),console.log("addModule",this.courseModules),this.getChapterControlsWithModuleIndex(t).push(this.newChapterForm()),console.log("addChapterForm",this.getChapterControlsWithModuleIndex(this.modulesControls.controls.length-1))}},{key:"fillModuleForm",value:function(t){console.warn("fillModuleForm",this.courseModules[t],this.modulesControls.controls.length);var e=this.modulesControls.controls[t];e&&(e.patchValue({titleModule:this.courseModules[t].title,descriptionModule:this.courseModules[t].description}),e.get("titleModule").disable(),e.get("descriptionModule").disable())}},{key:"saveModule",value:function(t){console.log("updateModule",t);var e=this.modulesControls.controls[t],n=e.get("titleModule").value,r=e.get("descriptionModule").value;this.courseModules[t].title=n,this.courseModules[t].description=r,e.get("titleModule").disable(),e.get("descriptionModule").disable()}},{key:"moduleFormIsDisabled",value:function(t){var e=this.modulesControls.controls[t];return!!e&&e.get("titleModule").disabled&&e.get("descriptionModule").disabled}},{key:"updateModule",value:function(t){console.log("updateModule",t);var e=this.modulesControls.controls[t];e.get("titleModule").enable(),e.get("descriptionModule").enable()}},{key:"removeModule",value:function(t){if(this.courseModules[t]){var e=this.courseModules[t].chapters;e.length&&(this.getChapterControlsWithModuleIndex(t).clear(),e.splice(0,e.length)),this.modulesControls.removeAt(t),this.courseModules.splice(t,1)}}},{key:"shouldShowModuleRequiredError",value:function(t,e){var n=this.modulesControls.controls[t];return!n.get(e).valid&&n.get(e).touched}},{key:"getChapterControlsWithModuleIndex",value:function(t){return(this.modulesControls.controls[t]?this.modulesControls.controls[t].get("chapters"):null)||null}},{key:"newChapterForm",value:function(){return this.formBuilder.group({titleChapter:["",[qp.required]]})}},{key:"addChapter",value:function(t){var e=this.getChapterControlsWithModuleIndex(t);if(e){var n=e.length-1;console.log("this.chapters.length",n,e);var r=e.controls[n].get("titleChapter").value;this.courseModules[t].chapters.push(new GO(null,r)),e.controls[n].get("titleChapter").disable(),e.push(this.newChapterForm()),console.log("addChapter",e)}}},{key:"fillChapterForm",value:function(t,e){if(console.warn("fillChapterForm",this.courseModules[t].chapters[e],this.getChapterControlsWithModuleIndex(t).controls.length),this.modulesControls.controls[t]){var n=this.getChapterControlsWithModuleIndex(t);n&&(n.controls[e].patchValue({titleChapter:this.courseModules[t].chapters[e].title}),n.controls[e].get("titleChapter").disable())}}},{key:"saveChapter",value:function(t,e){var n=this.getChapterControlsWithModuleIndex(t),r=n.controls[e].get("titleChapter").value;console.log("updateChapter",e,n,r),this.courseModules[t].chapters[e].title=r,n.controls[e].get("titleChapter").disable()}},{key:"updateChapter",value:function(t,e){this.getChapterControlsWithModuleIndex(t).controls[e].get("titleChapter").enable()}},{key:"chapterFormIsDisabled",value:function(t,e){var n=this.getChapterControlsWithModuleIndex(t);return!!n&&n.controls[e].get("titleChapter").disabled}},{key:"removeChapter",value:function(t,e){this.getChapterControlsWithModuleIndex(t).removeAt(e),this.courseModules[t].chapters.splice(e,1)}},{key:"shouldShowChapterRequiredError",value:function(t,e,n){var r=this.getChapterControlsWithModuleIndex(t);return r.controls[e].get(n).invalid&&r.controls[e].get(n).touched}},{key:"onSubmit",value:function(){console.log(this.contentCourseForm.value)}},{key:"modulesControls",get:function(){return this.contentCourseForm.get("modules")}}]),t}()).\u0275fac=function(t){return new(t||_M)(ka(Bg))},_M.\u0275cmp=hn({type:_M,selectors:[["app-edit-course-content"]],inputs:{courseModules:"courseModules",courseId:"courseId"},outputs:{newCourseContentEvent:"newCourseContentEvent"},decls:4,vars:2,consts:[[3,"formGroup"],["id","accordionCourseModules",1,"accordion"],["formArrayName","modules"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[3,"formGroupName"],["data-toggle","collapse","attr.aria-expanded","true",1,"card-header"],[1,"row","mb-0"],[1,"col-11"],[1,"form-group","col-12"],[1,"sr-only"],["type","text","formControlName","titleModule","placeholder","Quelle est le nom de votre module ?","autocomplete","off","required","",1,"form-control","mb-3",3,"ngClass","click"],["type","text","rows","5","formControlName","descriptionModule","placeholder","R\xe9sumez le contenu de votre module","autocomplete","off","required","",1,"form-control",3,"ngClass","click"],[1,"mt-3"],["type","button","class","btn btn-primary",3,"disabled","click",4,"ngIf"],[3,"click",4,"ngIf"],[1,"col-1"],["data-icon","ic:round-expand-more","data-inline","false",1,"iconify","module-expand"],[1,"card-body","py-0"],["data-parent","#accordionCourseModules",1,"collapse","show","py-0","my-0"],[1,"my-2","py-0"],["formArrayName","chapters",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[3,"click"],["formArrayName","chapters"],[4,"ngFor","ngForOf"],[1,"form-group"],["for","titleChapter",1,"sr-only"],["type","text","formControlName","titleChapter","placeholder","Quel est le titre de votre nouveau chapitre","autocomplete","off","required","",1,"form-control",3,"ngClass","click"],[1,"mb-3"],[1,"my-2"]],template:function(t,e){1&t&&(Ia(0,"form",0),Ia(1,"div",1),Ia(2,"div",2),_a(3,vM,25,23,"div",3),Ta(),Ta(),Ta()),2&t&&(Ea("formGroup",e.contentCourseForm),lo(3),Ea("ngForOf",e.modulesControls.controls))},directives:[rg,Mp,ug,fg,ld,lg,Dp,Fp,Ig,Dg,ad,fd],styles:[".module-expand[_ngcontent-%COMP%]{font-size:1.9em;color:#2e7b9c}"]}),_M),kM=((bM=function(){function t(e,n){tt(this,t),this._NgbActiveModal=e,this.itemService=n,this.courseContent=[],this.oldCourseContent=[],this.courseId=""}return nt(t,[{key:"ngOnInit",value:function(){this.courseContent||(this.courseContent=[]),this.oldCourseContent=Array.from(this.courseContent)}},{key:"passBack",value:function(){this.activeModal.close(this.courseContent)}},{key:"saveCourseContent",value:function(){this.oldCourseContent.length&&this.courseContent.length?this.updateCourseContent():!this.oldCourseContent.length&&this.courseContent.length&&this.createCourseContent()}},{key:"createCourseContent",value:function(){var t=this;this.itemService.addCourseContent(this.courseContent,this.courseId,(function(e){t.courseContent.splice(0,t.courseContent.length),t.courseContent=e,console.log("createCourseContent",e),t.passBack()}))}},{key:"updateCourseContent",value:function(){var t=this;this.itemService.updateCourseContent(this.courseContent,this.courseId,(function(e){t.courseContent.splice(0,t.courseContent.length),t.courseContent=e,console.log("updateCourseContent",e),t.passBack()}))}},{key:"activeModal",get:function(){return this._NgbActiveModal}}]),t}()).\u0275fac=function(t){return new(t||bM)(ka(wA),ka(eP))},bM.\u0275cmp=hn({type:bM,selectors:[["app-edit-course-content-modal"]],inputs:{courseContent:"courseContent",courseId:"courseId"},decls:8,vars:2,consts:[[1,"modal-body"],[3,"courseId","courseModules"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","button",3,"click"]],template:function(t,e){1&t&&(Ia(0,"div",0),Ia(1,"div"),Aa(2,"app-edit-course-content",1),Ta(),Ta(),Ia(3,"div",2),Ia(4,"button",3),Ra("click",(function(){return e.activeModal.close(e.oldCourseContent)})),_u(5,"Annuler"),Ta(),Ia(6,"button",4),Ra("click",(function(){return e.saveCourseContent()})),_u(7,"Enregistrer"),Ta(),Ta()),2&t&&(lo(2),Ea("courseId",e.courseId)("courseModules",e.courseContent))},directives:[wM],styles:[""]}),bM),CM=((yM=function(){function t(e,n,r){tt(this,t),this.formBuilder=e,this.itemService=n,this._NgbActiveModal=r,this.description=""}return nt(t,[{key:"ngOnInit",value:function(){console.log("ngOnInit head course"),this.descriptionItemForm=this.formBuilder.group({description:["",[qp.required]]}),this.description=this.item.description,this.preFillEditForm()}},{key:"preFillEditForm",value:function(){console.log("preFillEditForm",this.description),this.descriptionItemForm.patchValue({description:this.description})}},{key:"passBack",value:function(){var t=this;if(this.description&&this.description.length)if(this.description!==this.item.description){var e=new HO(this.item.id,null,this.item.title||null,null,this.item.tags||[],this.item.catchPhrase||null,this.description||null,this.item.price||null,this.item.iAuthors||null,null,null,null,null,this.item.consultationLink||null,this.item.imageLink||null);this.itemService.updateItemDescriptionInDB(e,(function(){t.activeModal.close(t.description)}),(function(t){}))}else this.activeModal.close(null)}},{key:"activeModal",get:function(){return this._NgbActiveModal}}]),t}()).\u0275fac=function(t){return new(t||yM)(ka(Bg),ka(eP),ka(wA))},yM.\u0275cmp=hn({type:yM,selectors:[["app-edit-description-item"]],inputs:{item:"item"},decls:14,vars:3,consts:[["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"separation-line"],["role","form",1,"form-item",3,"formGroup"],["formControlName","description","id","description","rows","12",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","button",1,"btn",3,"disabled","click"]],template:function(t,e){1&t&&(Ia(0,"div",0),Ia(1,"div",1),Ia(2,"div",2),Ia(3,"h4"),_u(4,"Description"),Ta(),Aa(5,"hr",3),Ia(6,"form",4),Ia(7,"textarea",5),Ra("ngModelChange",(function(t){return e.description=t})),_u(8,"        "),Ta(),Ta(),Ta(),Ia(9,"div",6),Ia(10,"button",7),Ra("click",(function(){return e.activeModal.close(null)})),_u(11,"Annuler"),Ta(),Ia(12,"button",8),Ra("click",(function(){return e.passBack()})),_u(13,"Enregistrer"),Ta(),Ta(),Ta(),Ta()),2&t&&(lo(6),Ea("formGroup",e.descriptionItemForm),lo(1),Ea("ngModel",e.description),lo(5),Ea("disabled",e.descriptionItemForm.invalid))},directives:[rg,Mp,ug,Dp,Fp,Ig],styles:[""]}),yM),EM=((mM=function(){function t(e,n,r,i){tt(this,t),this.formBuilder=e,this.imageService=n,this.itemService=r,this._NgbActiveModal=i}return nt(t,[{key:"ngOnInit",value:function(){console.log("ngOnInit head course"),this.headItemForm=this.formBuilder.group({image:[""],title:["",[qp.required]],catchPhrase:["",[qp.required]],price:["",[qp.required]],consultationLink:["",[qp.required]]}),this.itemToUpdate=new HO(this.item.id,null,this.item.title||null,null,this.item.tags||[],this.item.catchPhrase||null,this.item.description||null,this.item.price||null,this.item.iAuthors||null,null,null,null,null,this.item.consultationLink||null,this.item.imageLink||null),this.getImagePreviewFromService(),this.preFillEditForm()}},{key:"getImagePreviewFromService",value:function(){var t=this;console.log("getImagePreviewFromService ItemMediaFormComponent"),this.imagePreviewSubscription=this.imageService.imageSubject.subscribe((function(e){console.log("imagePreviewSubscription :",e),t.urlImagePreview=e}),(function(t){return console.error("Observer got an error: "+t)}),(function(){console.log("Observer got a complete notification")}))}},{key:"preFillEditForm",value:function(){console.log("preFillEditForm",this.item),this.headItemForm.patchValue({title:this.itemToUpdate.title,catchPhrase:this.itemToUpdate.catchPhrase,price:this.itemToUpdate.price,consultationLink:this.itemToUpdate.consultationLink}),this.urlImagePreview=this.itemToUpdate.imageLink}},{key:"onPreviewImage",value:function(t){t.target.files&&t.target.files[0]?this.imageService.getImagePreview(t.target.files[0]):this.urlImagePreview=this.itemToUpdate.imageLink}},{key:"passBack",value:function(){var t=this;if(this.itemToUpdate.imageLink!==this.urlImagePreview){var e=nm.storage().ref("images").child(rm.ITEMS);this.imageService.uploadFile(this.imageService.imageToUpload,e).then((function(e){e&&""!==e&&(console.log("Image Link :",e),t.urlImagePreview=e)})).then((function(){t.setParams(),t.itemService.updateItemPrimaryInfoInDB(t.itemToUpdate,(function(){t.activeModal.close(t.itemToUpdate)}),(function(e){t.activeModal.close(null)}))})).catch((function(t){console.error(t)}))}else this.setParams(),this.itemService.updateItemPrimaryInfoInDB(this.itemToUpdate,(function(){t.activeModal.close(t.itemToUpdate)}),(function(e){t.activeModal.close(null)}))}},{key:"setParams",value:function(){this.itemToUpdate.title=this.headItemForm.get("title").value,this.itemToUpdate.price=+this.headItemForm.get("price").value,this.itemToUpdate.catchPhrase=this.headItemForm.get("catchPhrase").value,this.itemToUpdate.imageLink=this.urlImagePreview}},{key:"ngOnDestroy",value:function(){null!=this.imagePreviewSubscription&&this.imagePreviewSubscription.unsubscribe()}},{key:"activeModal",get:function(){return this._NgbActiveModal}}]),t}()).\u0275fac=function(t){return new(t||mM)(ka(Bg),ka(BO),ka(eP),ka(wA))},mM.\u0275cmp=hn({type:mM,selectors:[["app-edit-head-item"]],inputs:{item:"item"},decls:45,vars:4,consts:[["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],["role","form",1,"form-item",3,"formGroup"],[1,"body-section"],[1,"separation-line"],[1,"img-modal-course","border"],["width","250","height","250","alt","",3,"src"],["type","file","formControlName","image","id","image","accept","image/*",1,"form-control-file","mt-2",3,"change"],["type","text","formControlName","title","id","title","onkeydown","return (event.key !== '\\''\n                                                  && event.key !== ','\n                                                  && event.key !== ';'\n                                                  && event.key !== '='\n                                                  && event.key !== '>'\n                                                  && event.key !== '<'\n                                                  && event.key !== '.'\n                                                  && event.key !== ':'\n                                                  && event.key !== '`'\n                                                  && event.key !== '_'\n                                                  && event.key !== '\xa7')","placeholder","Saisissez le titre de votre formation...",1,"form-control"],["type","text","formControlName","catchPhrase","id","catchPhrase","placeholder","Saisissez votre phrase d'accroche",1,"form-control"],[3,"tags"],[1,"input-group"],["type","number","formControlName","price","min","0","id","price","onkeydown","return (event.keyCode !== 69 \n                                                    && event.keyCode !== 187\n                                                    && event.keyCode !== 189)","aria-label","Amount (to the nearest dollar)","placeholder","Saisissez le price de votre formation...",1,"form-control"],[1,"input-group-append"],[1,"input-group-text"],["type","text","formControlName","consultationLink","id","consultationLink","placeholder","Saisissez votre lien de consultation...",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","button",1,"btn","btn-light",3,"disabled","click"]],template:function(t,e){1&t&&(Ia(0,"div",0),Ia(1,"div",1),Ia(2,"div",2),Ia(3,"form",3),Ia(4,"div",4),Ia(5,"h4"),_u(6,"Image"),Ta(),Aa(7,"hr",5),Ia(8,"div",6),Aa(9,"img",7),Ta(),Ia(10,"input",8),Ra("change",(function(t){return e.onPreviewImage(t)})),Ta(),Ta(),Ia(11,"div",4),Ia(12,"h4"),_u(13,"Titre"),Ta(),Aa(14,"hr",5),Aa(15,"input",9),Ta(),Ia(16,"div",4),Ia(17,"h4"),_u(18,"Phrase d'accroche"),Ta(),Aa(19,"hr",5),Aa(20,"input",10),Ta(),Ia(21,"div",4),Ia(22,"h4"),_u(23,"Tags"),Ta(),Aa(24,"hr",5),Aa(25,"app-tags-input",11),Ta(),Ia(26,"div",4),Ia(27,"h4"),_u(28,"Prix"),Ta(),Aa(29,"hr",5),Ia(30,"div",12),Aa(31,"input",13),Ia(32,"div",14),Ia(33,"span",15),_u(34,"\u20ac"),Ta(),Ta(),Ta(),Ta(),Ia(35,"div",4),Ia(36,"h4"),_u(37,"Lien"),Ta(),Aa(38,"hr",5),Aa(39,"input",16),Ta(),Ta(),Ta(),Ia(40,"div",17),Ia(41,"button",18),Ra("click",(function(){return e.activeModal.close()})),_u(42,"Annuler"),Ta(),Ia(43,"button",19),Ra("click",(function(){return e.passBack()})),_u(44,"Enregistrer"),Ta(),Ta(),Ta(),Ta()),2&t&&(lo(3),Ea("formGroup",e.headItemForm),lo(6),Ea("src",e.urlImagePreview,zi),lo(16),Ea("tags",e.itemToUpdate.tags),lo(18),Ea("disabled",e.headItemForm.invalid&&e.itemToUpdate.tags))},directives:[rg,Mp,ug,Dp,Fp,Ig,uw,Zp],styles:[".modal-dialog[_ngcontent-%COMP%]{max-height:85%;margin:10px}.modal-body[_ngcontent-%COMP%]{height:auto;overflow-y:auto}.img-modal-course[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{display:block;margin:auto}.body-section[_ngcontent-%COMP%]{margin-bottom:5vh}"]}),mM),SM=((gM=function(){function t(e,n,r,i,o,s,a){tt(this,t),this.itemService=e,this.authService=n,this.router=r,this.searchService=i,this.routerService=o,this.modalService=s,this.datePipe=a,this.item=null,this.hasItem=!0,this.moreSkillsShowed=!1,this.backLink="",this.isSearchBackLink=!1,this.isAuthor=!1,this.hasBeenUpdated=!1}return nt(t,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){this.routerService.getLastPreviousUrl()&&(this.backLink=this.routerService.getLastPreviousUrl(),this.routerService.getLastPreviousUrl().includes(sm.SEARCH)&&(this.isSearchBackLink=!0))}},{key:"saveView",value:function(){var t={date:this.datePipe.transform(Date.now().toString(),"dd/MM/yyyy"),heure:this.datePipe.transform(Date.now().toString(),"h:mm:ss"),user:this.authService.isAuth?this.authService.authUser:new YO("unknown",null,null,null,null,null,null,null,null,null,null,null,null,null)};console.error("saveView",t),this.itemService.addItemView(this.item.id,t,(function(t){}))}},{key:"isItemAuthor",value:function(){if(this.authService&&this.authService.isAuth){var t=this.authService.authUser.id;return!!(this.authService.isAuth&&this.item&&this.item.iAuthors&&this.authService.authUser)&&(this.isAuthor=this.item.iAuthors.some((function(e,n,r){return e.id===t})),this.isAuthor)}}},{key:"openEditHeadItemModal",value:function(){var t=this;if(this.authService.isAuth&&this.isAuthor){var e=this.modalService.open(EM,{scrollable:!0});e.componentInstance.item=this.item,e.result.then((function(e){e&&(t.item.title=e.title,t.item.price=e.price,t.item.catchPhrase=e.catchPhrase,t.item.imageLink=e.imageLink,t.item.tags=e.tags,t.displayItemUpdatedAlert())})).catch((function(t){console.log(t)}))}}},{key:"openDescriptionItemModal",value:function(){var t=this;if(this.authService.isAuth&&this.isAuthor){var e=this.modalService.open(CM);e.componentInstance.item=this.item,e.result.then((function(e){e&&(t.item.description=e,t.displayItemUpdatedAlert())})).catch((function(t){console.log(t)}))}}},{key:"displayItemUpdatedAlert",value:function(){var t=this;this.hasBeenUpdated=!0,setTimeout((function(){t.hasBeenUpdated=!1}),3e3)}},{key:"goToUserPage",value:function(){this.router.navigate([sm.USER,this.item.getMainiAuthor().id])}},{key:"onSearchTag",value:function(t){t&&this.searchService.search("0",t.name)}},{key:"onBack",value:function(){this.router.navigate(["/items"])}}]),t}()).\u0275fac=function(t){return new(t||gM)(ka(eP),ka($P),ka(y_),ka(Y_),ka(oN),ka(IA),ka(Qd))},gM.\u0275cmp=hn({type:gM,selectors:[["app-single-item"]],decls:0,vars:0,template:function(t,e){},styles:[""]}),gM);function IM(t,e){if(1&t){var n=Pa();Ia(0,"div",16),Ia(1,"div",17),Ia(2,"span"),_u(3),Ta(),Ta(),Ia(4,"div",18),Ia(5,"button",19),Ra("click",(function(){er(n);var t=e.$implicit;return La(2).onDeleteSkill(t)})),Aa(6,"span",20),Ta(),Ta(),Ta()}if(2&t){var r=e.$implicit;lo(3),wu(r)}}function TM(t,e){if(1&t&&(Ia(0,"div",14),_a(1,IM,7,1,"div",15),Ta()),2&t){var n=La();lo(1),Ea("ngForOf",n.skills.reverse())}}var AM,DM=((AM=function(){function t(e,n,r){tt(this,t),this.formBuilder=e,this.itemService=n,this._NgbActiveModal=r,this.skills=[]}return nt(t,[{key:"ngOnInit",value:function(){this.skillItemForm=this.formBuilder.group({skill:[""]}),this.skills=Array.from(this.course.skillsToAcquire||[])}},{key:"onAddSkill",value:function(){var t=this.skillItemForm.get("skill").value;t&&t.length&&(this.skills.push(t),this.skillItemForm.reset())}},{key:"onDeleteSkill",value:function(t){t&&t.length&&this.skills.splice(this.skills.findIndex((function(t){})),1)}},{key:"passBack",value:function(){var t=this;this.skills&&this.skills.length&&this.itemService.updateSkillsToAcquireInDB(this.course.id,this.skills,(function(){t.activeModal.close(t.skills)}),(function(t){}))}},{key:"activeModal",get:function(){return this._NgbActiveModal}}]),t}()).\u0275fac=function(t){return new(t||AM)(ka(Bg),ka(eP),ka(wA))},AM.\u0275cmp=hn({type:AM,selectors:[["app-edit-skills-item"]],inputs:{course:"course"},decls:19,vars:3,consts:[["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"separation-line"],["role","form",1,"form-item","row","justify-content-center","align-items-end",3,"formGroup"],[1,"col-8"],["type","text","formControlName","skill","id","skill","onkeydown","return (event.key !== ','\n                                                    && event.key !== ';'\n                                                    && event.key !== '='\n                                                    && event.key !== '>'\n                                                    && event.key !== '<'\n                                                    && event.key !== '.'\n                                                    && event.key !== ':'\n                                                    && event.key !== '`'\n                                                    && event.key !== '_'\n                                                    && event.key !== '\xa7')","placeholder","Saisissez une comp\xe9tence",1,"form-control"],[1,"col-3"],["type","button",1,"btn","btn-primary","border",3,"click"],["data-inline","false","data-icon","ic:round-add",1,"iconify"],["class","my-3",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","button",3,"disabled","click"],[1,"my-3"],["class","row justify-content-center mb-2",4,"ngFor","ngForOf"],[1,"row","justify-content-center","mb-2"],[1,"col-9","border","rounded","my-auto","skill-disp"],[1,"col-2"],[1,"btn","border","rounded",3,"click"],["data-inline","false","data-icon","eva:close-fill",1,"iconify"]],template:function(t,e){1&t&&(Ia(0,"div",0),Ia(1,"div",1),Ia(2,"div",2),Ia(3,"h4"),_u(4,"Comp\xe9tences \xe0 acqu\xe9rir"),Ta(),Aa(5,"hr",3),Ia(6,"form",4),Ia(7,"div",5),Aa(8,"input",6),Ta(),Ia(9,"div",7),Ia(10,"button",8),Ra("click",(function(){return e.onAddSkill()})),_u(11," Ajouter "),Aa(12,"span",9),Ta(),Ta(),Ta(),_a(13,TM,2,1,"div",10),Ta(),Ia(14,"div",11),Ia(15,"button",12),Ra("click",(function(){return e.activeModal.close(null)})),_u(16,"Annuler"),Ta(),Ia(17,"button",13),Ra("click",(function(){return e.passBack()})),_u(18,"Enregistrer"),Ta(),Ta(),Ta(),Ta()),2&t&&(lo(6),Ea("formGroup",e.skillItemForm),lo(7),Ea("ngIf",e.skills),lo(4),Ea("disabled",!e.skills))},directives:[rg,Mp,ug,Dp,Fp,Ig,fd,ld],styles:[".skill-disp[_ngcontent-%COMP%]{padding-top:1vh;padding-bottom:1vh}"]}),AM);function OM(t,e){if(1&t&&(Ia(0,"p"),Ia(1,"span"),_u(2),Ta(),Ia(3,"span",3),_u(4,"..."),Ta(),Ia(5,"span",4),_u(6),Ta(),Ta()),2&t){var n=La();lo(2),wu(n.getDescriptionBeginning()),lo(4),wu(n.getDescriptionEnding())}}function PM(t,e){if(1&t){var n=Pa();Ia(0,"div",5),Ra("click",(function(){return er(n),La().seeMore()})),_u(1," + Voir plus "),Ta()}}var xM,NM=((xM=function(){function t(){tt(this,t)}return nt(t,[{key:"ngOnInit",value:function(){}},{key:"checkLengthDescription",value:function(){return!!(this.description&&this.description.length>200)}},{key:"getDescriptionBeginning",value:function(){if(this.description)return this.description.substring(0,160)}},{key:"getDescriptionEnding",value:function(){if(this.description)return this.description.substring(160)}},{key:"seeMore",value:function(){var t=document.getElementById("dots"),e=document.getElementById("more"),n=document.getElementById("btnSeeMore");"none"===t.style.display?(t.style.display="inline",n.innerHTML="+ Voir plus",e.style.display="none"):(t.style.display="none",n.innerHTML="- Voir moins",e.style.display="inline")}}]),t}()).\u0275fac=function(t){return new(t||xM)},xM.\u0275cmp=hn({type:xM,selectors:[["app-description-section"]],inputs:{description:"description"},decls:3,vars:2,consts:[[1,"block-description"],[4,"ngIf"],["id","btnSeeMore",3,"click",4,"ngIf"],["id","dots"],["id","more"],["id","btnSeeMore",3,"click"]],template:function(t,e){1&t&&(Ia(0,"div",0),_a(1,OM,7,2,"p",1),_a(2,PM,2,0,"div",2),Ta()),2&t&&(lo(1),Ea("ngIf",e.description),lo(1),Ea("ngIf",e.checkLengthDescription()))},directives:[fd],styles:["#more[_ngcontent-%COMP%]{display:none}#btnSeeMore[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:10vw;color:#2e7b9c}"]}),xM);function RM(t,e){1&t&&Aa(0,"span",15)}function FM(t,e){1&t&&Aa(0,"span",16)}function MM(t,e){if(1&t&&(Ia(0,"li",17),Aa(1,"span",18),Ia(2,"span",19),_u(3),Ta(),Ta()),2&t){var n=e.$implicit;lo(3),wu(n.title)}}function LM(t,e){if(1&t){var n=Pa();Ia(0,"div",2),Ia(1,"div",3),Ra("click",(function(){er(n);var t=e.index,r=La();return r.setIsModuleExpanded(t,r.isModuleExpanded(t))})),Ia(2,"h5",4),_u(3),Ia(4,"span",5),_a(5,RM,1,0,"span",6),_a(6,FM,1,0,"span",7),Ta(),Ta(),Ta(),Ia(7,"div",8),Ia(8,"div",9),Ia(9,"div",10),Ia(10,"div",11),Ia(11,"p",12),_u(12),Ta(),Ta(),Ia(13,"ul",13),_a(14,MM,4,1,"li",14),Ta(),Ta(),Ta(),Ta(),Ta()}if(2&t){var r=e.$implicit,i=e.index,o=La();lo(1),ya("id","heading"+i)("data-target","#collapse"+i)("aria-expanded",o.isModuleExpanded(i))("aria-controls","collapse"+i),lo(2),ku(" ",r.title," "),lo(2),Ea("ngIf",!o.isModuleExpanded(i)),lo(1),Ea("ngIf",o.isModuleExpanded(i)),lo(2),ya("id","collapse"+i)("aria-labelledby","heading"+i),lo(4),ku(" ",r.description," "),lo(2),Ea("ngForOf",r.chapters)}}var UM,VM=((UM=function(){function t(e){tt(this,t),this.changeDetectorRef=e,this.courseContent=[],this.isModuleExpandedArray=[],this.courseModules=new um(this.courseContent)}return nt(t,[{key:"ngOnInit",value:function(){console.log("ngOnInit")}},{key:"initIsModuleExpandedArray",value:function(){for(var t=0;t<this.courseContent.length;t++)this.isModuleExpandedArray.push(!1)}},{key:"isModuleExpanded",value:function(t){return this.isModuleExpandedArray[t]}},{key:"setIsModuleExpanded",value:function(t,e){this.isModuleExpandedArray[t]=e}},{key:"ngOnChanges",value:function(){if(console.log("ngOnChanges",typeof this.courseContent),this.courseContent&&"object"==typeof this.courseContent){var t=this.courseContent,e=Object.keys(t).map((function(e){var n=t[e];return console.log(t[0],n),n}));this.isModuleExpandedArray?this.isModuleExpandedArray.length||this.isModuleExpandedArray.splice(0,this.isModuleExpandedArray.length):this.isModuleExpandedArray=[],this.initIsModuleExpandedArray(),console.log(e),this.courseModules.next(e)}else this.courseModules.next(this.courseContent);this.changeDetectorRef.detectChanges()}}]),t}()).\u0275fac=function(t){return new(t||UM)(ka(Ms))},UM.\u0275cmp=hn({type:UM,selectors:[["app-course-content"]],inputs:{courseContent:"courseContent"},features:[On],decls:3,vars:3,consts:[["id","accordionCourseModules",1,"accordion"],["class","card",4,"ngFor","ngForOf"],[1,"card"],["data-toggle","collapse",1,"card-header",3,"click"],[1,"mb-0"],[1,"pull-right"],["class","iconify module-expand","data-icon","ic:round-expand-more","data-inline","false",4,"ngIf"],["class","iconify module-expand","data-icon","ic:round-expand-less","data-inline","false",4,"ngIf"],[1,"card-body","py-0"],["data-parent","#accordionCourseModules",1,"collapse","show","py-0","my-0"],[1,"my-2","py-0"],[1,"module-description","border","rounded"],[1,"module-description-text","align-middle","text-justify","mx-2"],[1,"list-group","list-group-flush"],["class","list-group-item",4,"ngFor","ngForOf"],["data-icon","ic:round-expand-more","data-inline","false",1,"iconify","module-expand"],["data-icon","ic:round-expand-less","data-inline","false",1,"iconify","module-expand"],[1,"list-group-item"],["data-icon","bx:bxs-check-circle","data-inline","false",1,"iconify","chapter-li","mr-3"],[1,"chapter-text"]],template:function(t,e){1&t&&(Ia(0,"div",0),_a(1,LM,15,11,"div",1),gl(2,"async"),Ta()),2&t&&(lo(1),Ea("ngForOf",ml(2,1,e.courseModules)))},directives:[ld,fd],pipes:[Wd],styles:[".module-description[_ngcontent-%COMP%]{min-height:10vh;width:100%;display:inline-block}.module-expand[_ngcontent-%COMP%]{font-size:1.9em;color:#2e7b9c}.chapter-li[_ngcontent-%COMP%]{color:green}"]}),UM);function jM(t,e){if(1&t&&(Ia(0,"span",16),_u(1),Ta()),2&t){var n=La(2);lo(1),ku(" (",n.ratings.length,") ")}}function BM(t,e){if(1&t&&(Ia(0,"h1",14),_u(1),_a(2,jM,2,1,"span",15),Ta()),2&t){var n=La();lo(1),ku(" ",n.globalNote," "),lo(1),Ea("ngIf",n.ratings&&n.ratings.length)}}function qM(t,e){1&t&&(Ia(0,"h1",14),_u(1,"-"),Ta())}var WM,HM=function(t){return{width:t}},zM=((WM=function(){function t(){tt(this,t),this.globalNote=0,this.oneStars=0,this.twoStars=0,this.threeStars=0,this.fourStars=0,this.fiveStars=0}return nt(t,[{key:"ngOnInit",value:function(){console.log("ratings",this.ratings),console.log("getGlobalNote",this.globalNote)}},{key:"ngOnChanges",value:function(t){this.clearGlobalRating(),this.sortRatings(),this.statStarOne=this.getGlobalNoteForStar(1),this.statStarTwo=this.getGlobalNoteForStar(2),this.statStarThree=this.getGlobalNoteForStar(3),this.statStarFour=this.getGlobalNoteForStar(4),this.statStarFive=this.getGlobalNoteForStar(5)}},{key:"clearGlobalRating",value:function(){this.statStarOne=0,this.statStarTwo=0,this.statStarThree=0,this.statStarFour=0,this.statStarFive=0,this.oneStars=0,this.twoStars=0,this.threeStars=0,this.fourStars=0,this.fiveStars=0}},{key:"sortRatings",value:function(){if(this.ratings){var t,e=B(this.ratings);try{for(e.s();!(t=e.n()).done;)switch(t.value.note){case 1:this.oneStars++;break;case 2:this.twoStars++;break;case 3:this.threeStars++;break;case 4:this.fourStars++;break;case 5:this.fiveStars++}}catch(n){e.e(n)}finally{e.f()}}}},{key:"getGlobalNoteForStar",value:function(t){var e,n=this.oneStars+this.twoStars+this.threeStars+this.fourStars+this.fiveStars;switch(t){case 1:e=0===this.oneStars?0:this.oneStars/n;break;case 2:e=0===this.twoStars?0:this.twoStars/n;break;case 3:e=0===this.threeStars?0:this.threeStars/n;break;case 4:e=0===this.fourStars?0:this.fourStars/n;break;case 5:e=0===this.fiveStars?0:this.fiveStars/n}return Math.round(100*e)}}]),t}()).\u0275fac=function(t){return new(t||WM)},WM.\u0275cmp=hn({type:WM,selectors:[["app-global-rating"]],inputs:{ratings:"ratings",globalNote:"globalNote"},features:[On],decls:58,vars:22,consts:[[1,"container"],[1,"row"],[1,"global-rating","col-3","align-self-center","text-center"],["id","global-note",4,"ngIf"],[1,"etoiles"],[1,"fa","fa-star","icon-star",2,"font-size","0.9em"],[1,"global-rating","col-9"],[1,"barre-note"],[1,"barre","row"],[1,"col-10"],["id","progress",1,"progress"],["role","progressbar","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar",3,"ngStyle"],[1,"col-2"],[1,"mr-1"],["id","global-note"],["class","nb-ratings",4,"ngIf"],[1,"nb-ratings"]],template:function(t,e){1&t&&(Ia(0,"div",0),Ia(1,"div",1),Ia(2,"div",2),_a(3,BM,3,2,"h1",3),_a(4,qM,2,0,"h1",3),Ia(5,"span",4),Aa(6,"i",5),Aa(7,"i",5),Aa(8,"i",5),Aa(9,"i",5),Aa(10,"i",5),Ta(),Ta(),Ia(11,"div",6),Ia(12,"div",7),Ia(13,"div",8),Ia(14,"div",9),Ia(15,"div",10),Ia(16,"div",11),_u(17),Ta(),Ta(),Ta(),Ia(18,"div",12),Ia(19,"b",13),_u(20,"5"),Ta(),Aa(21,"i",5),Ta(),Ta(),Ia(22,"div",8),Ia(23,"div",9),Ia(24,"div",10),Ia(25,"div",11),_u(26),Ta(),Ta(),Ta(),Ia(27,"div",12),Ia(28,"b",13),_u(29,"4"),Ta(),Aa(30,"i",5),Ta(),Ta(),Ia(31,"div",8),Ia(32,"div",9),Ia(33,"div",10),Ia(34,"div",11),_u(35),Ta(),Ta(),Ta(),Ia(36,"div",12),Ia(37,"b",13),_u(38,"3"),Ta(),Aa(39,"i",5),Ta(),Ta(),Ia(40,"div",8),Ia(41,"div",9),Ia(42,"div",10),Ia(43,"div",11),_u(44),Ta(),Ta(),Ta(),Ia(45,"div",12),Ia(46,"b",13),_u(47,"2"),Ta(),Aa(48,"i",5),Ta(),Ta(),Ia(49,"div",8),Ia(50,"div",9),Ia(51,"div",10),Ia(52,"div",11),_u(53),Ta(),Ta(),Ta(),Ia(54,"div",12),Ia(55,"b",13),_u(56,"1"),Ta(),Aa(57,"i",5),Ta(),Ta(),Ta(),Ta(),Ta(),Ta()),2&t&&(lo(3),Ea("ngIf",e.globalNote),lo(1),Ea("ngIf",!e.globalNote),lo(12),Ea("ngStyle",hl(12,HM,e.statStarFive+3+"%")),lo(1),ku(" ",e.statStarFive,"% "),lo(8),Ea("ngStyle",hl(14,HM,e.statStarFour+3+"%")),lo(1),ku(" ",e.statStarFour,"% "),lo(8),Ea("ngStyle",hl(16,HM,e.statStarThree+3+"%")),lo(1),ku(" ",e.statStarThree,"% "),lo(8),Ea("ngStyle",hl(18,HM,e.statStarTwo+3+"%")),lo(1),ku(" ",e.statStarTwo,"% "),lo(8),Ea("ngStyle",hl(20,HM,e.statStarOne+3+"%")),lo(1),ku(" ",e.statStarOne,"% "))},directives:[fd,Ad],styles:[".progress[_ngcontent-%COMP%]{margin-bottom:2vh;height:2em}.progress-bar[_ngcontent-%COMP%]{background-color:#2e7b9c}.icon-star[_ngcontent-%COMP%]{color:#fcc632}.nb-ratings[_ngcontent-%COMP%]{color:grey;font-size:large}"]}),WM);function GM(t,e){1&t&&Aa(0,"img",10),2&t&&Ea("src",La().item.imageLink,zi)}function KM(t,e){1&t&&Aa(0,"img",27),2&t&&Ea("src",La(2).item.imageLink,zi)}function QM(t,e){if(1&t&&(Ia(0,"div",11),Ia(1,"div",12),Ia(2,"div",13),Ia(3,"div",14),_a(4,KM,1,1,"img",15),Ta(),Aa(5,"hr",3),Ia(6,"div",16),Ia(7,"div",17),Ia(8,"div",18),Ia(9,"h5",4),_u(10),Ta(),Ta(),Ta(),Ia(11,"div",19),Aa(12,"span",20),_u(13," Satisfait ou rembours\xe9 "),Ta(),Ia(14,"button",21),_u(15," Ajouter au panier "),Aa(16,"span",22),Ta(),Ta(),Aa(17,"hr",3),Ia(18,"div",23),Ia(19,"div",17),Ia(20,"div",24),Ia(21,"div",25),_u(22," Enregistrer "),Aa(23,"span",26),Ta(),Ta(),Ia(24,"div",24),Ia(25,"div",7),_u(26," Partager "),Aa(27,"span",8),Ta(),Ta(),Ta(),Ta(),Ta(),Ta(),Ta()),2&t){var n=La();lo(4),Ea("ngIf",n.item.imageLink),lo(6),ku(" ",n.item.price," \u20ac ")}}var $M,YM,JM=function(t){return{disabled:t}},XM=((YM=function(){function t(e){tt(this,t),this.router=e}return nt(t,[{key:"ngOnInit",value:function(){}},{key:"getDefaultImage",value:function(){return rm.DEFAULT_IMG_COURSE}},{key:"goToRatingsSection",value:function(){this.router.navigate([sm.COURSE,this.item.id],{fragment:"ratings"})}}]),t}()).\u0275fac=function(t){return new(t||YM)(ka(y_))},YM.\u0275cmp=hn({type:YM,selectors:[["app-card-image-price-item"]],inputs:{item:"item"},decls:15,vars:6,consts:[[1,"card","text-center"],["class","item-img",3,"src",4,"ngIf"],[1,"card-body"],[1,"separation-line"],[1,"card-item-price"],["role","button","target","_blank","aria-pressed","true",1,"btn","btn-block","btn-consult",3,"href","ngClass"],[1,"card-footer"],[1,"share-item"],["data-inline","false","data-icon","cil:share",1,"iconify","iconify-share-item"],["elseBlock",""],[1,"item-img",3,"src"],[1,"card","shadow"],[1,"row","justify-content-center"],[1,"col-11","text-center"],[1,"card-item-img"],["class","item-img","height","180vw",3,"src",4,"ngIf"],[1,"card-item-body"],[1,"row"],[1,"col-12"],["id","card-text",1,"conditions-section"],["data-inline","false","data-icon","ant-design:safety-outlined",1,"iconify","iconify-safety"],[1,"btn","btn-add-cart"],["data-inline","false","data-icon","ic:round-add-shopping-cart",1,"iconify","iconify-add-cart"],[1,"card-item-footer"],[1,"col-6"],[1,"save-item"],["data-inline","false","data-icon","ic:round-playlist-add",1,"iconify","iconify-save-item"],["height","180vw",1,"item-img",3,"src"]],template:function(t,e){1&t&&(Ia(0,"div",0),_a(1,GM,1,1,"img",1),Ia(2,"div",2),Aa(3,"hr",3),Ia(4,"h5",4),_u(5),Ta(),Aa(6,"hr",3),Ia(7,"a",5),_u(8,"Consulter"),Ta(),Ta(),Ia(9,"div",6),Ia(10,"div",7),_u(11," Partager "),Aa(12,"span",8),Ta(),Ta(),Ta(),_a(13,QM,28,2,"ng-template",null,9,jl)),2&t&&(lo(1),Ea("ngIf",e.item.imageLink),lo(4),ku(" ",e.item.price," \u20ac "),lo(2),Ea("href",e.item.consultationLink||"#",zi)("ngClass",hl(4,JM,!e.item.consultationLink)))},directives:[fd,ad],styles:[".card[_ngcontent-%COMP%]{max-height:65vh;width:100%;border-color:none;border-radius:15px;-moz-border-radius:15px;-webkit-border-radius:15px;box-shadow:0 -2px 4px 1px hsla(0,0%,60.8%,.32)}.card-footer[_ngcontent-%COMP%]{border-radius:0 0 15px 15px;-moz-border-radius:0 0 15px 15px;-webkit-border-radius:0 0 15px 15px}.item-img[_ngcontent-%COMP%]{width:100%;height:25vh;border-radius:15px 15px 0 0;-moz-border-radius:15px 15px 0 0;-webkit-border-radius:15px 15px 0 0}.card-item-price[_ngcontent-%COMP%]{font-weight:500;font-size:x-large}.conditions-section[_ngcontent-%COMP%]{margin-top:1vw;margin-bottom:1vw}.iconify[_ngcontent-%COMP%]{font-size:20px}.iconify-safety[_ngcontent-%COMP%]{color:#3fc710}.iconify-add-cart[_ngcontent-%COMP%]{color:#fff}.btn-add-cart[_ngcontent-%COMP%], .btn-consult[_ngcontent-%COMP%]{color:#fff;background-color:#2e7b9c;font-weight:500}.separation-line[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:90%}.card-item-footer[_ngcontent-%COMP%]{bottom:0;width:100%}.save-item[_ngcontent-%COMP%], .share-item[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}.vertical-line[_ngcontent-%COMP%]{border-left:1px solid #9a9a9a;height:2vh;position:absolute;left:50%}.card-item-footer[_ngcontent-%COMP%]{font-size:.8em}.save-item[_ngcontent-%COMP%], .share-item[_ngcontent-%COMP%]{width:100%}.iconify-save-item[_ngcontent-%COMP%], .iconify-share-item[_ngcontent-%COMP%]{font-size:1em}"]}),YM),ZM=(($M=function(){function t(){tt(this,t)}return nt(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||$M)},$M.\u0275cmp=hn({type:$M,selectors:[["app-button-edit"]],decls:1,vars:0,consts:[["data-inline","false","data-icon","mdi:pencil-circle",1,"iconify","shadow-sm","rounded-circle"]],template:function(t,e){1&t&&Aa(0,"span",0)},styles:[".iconify[_ngcontent-%COMP%]{color:#2e7b9c;background-color:#fff;padding:0;margin:0;height:30px;width:30px}"]}),$M);function tL(t,e){1&t&&Aa(0,"img",11)}function eL(t,e){1&t&&Aa(0,"img",12),2&t&&Ea("src",La(2).author.ppLink,zi)}function nL(t,e){if(1&t){var n=Pa();Ia(0,"div",1),Ia(1,"div",2),Ia(2,"a",3),Ra("click",(function(){return er(n),La().goToUserPage()})),_a(3,tL,1,0,"img",4),_a(4,eL,1,1,"img",5),Ta(),Ta(),Ia(5,"div",6),Ia(6,"a",3),Ra("click",(function(){return er(n),La().goToUserPage()})),Ia(7,"h4",7),_u(8),Ta(),Ta(),Ia(9,"h5",8),_u(10),Ta(),Ta(),Ia(11,"div",9),Ia(12,"button",10),Ra("click",(function(){return er(n),La().onFollowUser()})),Ia(13,"b"),_u(14,"Suivre"),Ta(),Ta(),Ta(),Ta()}if(2&t){var r=La();lo(3),Ea("ngIf",!r.author.ppLink),lo(1),Ea("ngIf",r.author.ppLink),lo(4),Cu("",r.author.firstname," ",r.author.lastname," "),lo(2),wu(r.author.title)}}var rL,iL=((rL=function(){function t(e,n){tt(this,t),this.router=e,this.authService=n}return nt(t,[{key:"ngOnInit",value:function(){console.log("CardAuthorComponent",this.author)}},{key:"goToUserPage",value:function(){console.log("CardAuthorComponent",this.author.id),this.author.data||this.router.navigate([sm.USER,this.author.id])}},{key:"onFollowUser",value:function(){this.authService.isAuth||this.router.navigate([sm.LOGIN])}}]),t}()).\u0275fac=function(t){return new(t||rL)(ka(y_),ka($P))},rL.\u0275cmp=hn({type:rL,selectors:[["app-card-author"]],inputs:{author:"author"},decls:1,vars:1,consts:[["class","row author-section align-items-center",4,"ngIf"],[1,"row","author-section","align-items-center"],[1,"photo","col-2"],[3,"click"],["class","photo-author rounded-circle","src","https://firebasestorage.googleapis.com/v0/b/network-55b29.appspot.com/o/images%2Fusers%2Fuser-default.png?alt=media&token=bacaac7c-2e1b-4d24-8205-0964e65df549","alt","photo author","height","90px","width","90px",4,"ngIf"],["class","photo-author rounded-circle","alt","photo author","height","90px","width","90px",3,"src",4,"ngIf"],[1,"col-7"],[1,"nom-expert"],[1,"titre-expert"],[1,"col-3"],["id","se-connecter","type","button",1,"btn","btn-connect-me",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/network-55b29.appspot.com/o/images%2Fusers%2Fuser-default.png?alt=media&token=bacaac7c-2e1b-4d24-8205-0964e65df549","alt","photo author","height","90px","width","90px",1,"photo-author","rounded-circle"],["alt","photo author","height","90px","width","90px",1,"photo-author","rounded-circle",3,"src"]],template:function(t,e){1&t&&_a(0,nL,15,5,"div",0),2&t&&Ea("ngIf",e.author)},directives:[fd],styles:[".btn-connect-me[_ngcontent-%COMP%]{color:#fff;background-color:#2e7b9c;font-weight:500}.author-section[_ngcontent-%COMP%]{cursor:pointer}"]}),rL);function oL(t,e){1&t&&(Ia(0,"div",3),Ia(1,"span"),_u(2,"Vos modifications ont bien \xe9t\xe9 enregistr\xe9 !"),Ta(),Ta())}function sL(t,e){1&t&&(Ia(0,"div"),_u(1," La formation n'existe pas\n"),Ta())}function aL(t,e){1&t&&(Ia(0,"a",40),_u(1," < Retour aux r\xe9sultats "),Ta()),2&t&&Ea("href",La(2).backLink,zi)}function uL(t,e){1&t&&(Ia(0,"a",40),_u(1," < Retour "),Ta()),2&t&&Ea("href",La(2).backLink,zi)}function cL(t,e){if(1&t){var n=Pa();Ia(0,"app-button-edit",41),Ra("click",(function(){return er(n),La(2).openEditHeadItemModal()})),Ta()}}function lL(t,e){if(1&t){var n=Pa();Ia(0,"span",44),Ra("click",(function(){er(n);var t=e.$implicit;return La(3).onSearchTag(t)})),Aa(1,"span",45),Ia(2,"span",46),_u(3),Ta(),Ta()}if(2&t){var r=e.$implicit;lo(3),wu(r.name)}}function hL(t,e){if(1&t&&(Ia(0,"div",42),_a(1,lL,4,1,"span",43),Ta()),2&t){var n=La(2);lo(1),Ea("ngForOf",n.course.tags)}}function fL(t,e){if(1&t&&(Ia(0,"div",47),Aa(1,"app-card-author",48),Ta()),2&t){var n=La(2);lo(1),Ea("author",n.item.getMainiAuthor())}}function dL(t,e){if(1&t){var n=Pa();Ia(0,"app-button-edit",41),Ra("click",(function(){return er(n),La(2).openDescriptionItemModal()})),Ta()}}function pL(t,e){if(1&t){var n=Pa();Ia(0,"span",49),Ra("click",(function(){return er(n),La(2).openDescriptionItemModal()})),_u(1," Ajouter une description "),Ta()}}function vL(t,e){if(1&t){var n=Pa();Ia(0,"app-button-edit",41),Ra("click",(function(){return er(n),La(2).openSkillsItemModal()})),Ta()}}function gL(t,e){if(1&t&&(Ia(0,"li"),Aa(1,"i",55),Ia(2,"span",56),_u(3),Ta(),Ta()),2&t){var n=e.$implicit;lo(3),ku(" ",n," ")}}function mL(t,e){1&t&&(Ia(0,"li",57),_u(1,"..."),Ta())}function yL(t,e){if(1&t&&(Ia(0,"li"),Aa(1,"i",55),Ia(2,"span",56),_u(3),Ta(),Ta()),2&t){var n=e.$implicit;lo(3),ku(" ",n," ")}}function bL(t,e){if(1&t&&(Ia(0,"ul",50),_a(1,yL,4,1,"li",51),Ta()),2&t){var n=La(3);lo(1),Ea("ngForOf",n.getSkillsEnding())}}function _L(t,e){if(1&t){var n=Pa();Ia(0,"div",58),Ra("click",(function(){return er(n),La(3).seeMoreSkills()})),_u(1," + Voir plus "),Ta()}}function wL(t,e){if(1&t&&(Ia(0,"div"),Ia(1,"ul",50),_a(2,gL,4,1,"li",51),_a(3,mL,2,0,"li",52),Ta(),_a(4,bL,2,1,"ul",53),_a(5,_L,2,0,"div",54),Ta()),2&t){var n=La(2);lo(2),Ea("ngForOf",n.getSkillsBeginning()),lo(1),Ea("ngIf",!n.moreSkillsShowed&&n.checkSkillsLength()),lo(1),Ea("ngIf",n.moreSkillsShowed),lo(1),Ea("ngIf",n.checkSkillsLength())}}function kL(t,e){if(1&t){var n=Pa();Ia(0,"span",49),Ra("click",(function(){return er(n),La(2).openSkillsItemModal()})),_u(1," Ajouter des comp\xe9tences \xe0 acqu\xe9rir "),Ta()}}function CL(t,e){if(1&t){var n=Pa();Ia(0,"app-button-edit",41),Ra("click",(function(){return er(n),La(2).openCourseContentModal()})),Ta()}}function EL(t,e){if(1&t){var n=Pa();Ia(0,"span",49),Ra("click",(function(){return er(n),La(2).openCourseContentModal()})),_u(1," Ajouter le programme de votre formation "),Ta()}}function SL(t,e){if(1&t){var n=Pa();Ia(0,"div",30),Ia(1,"h5",27),_u(2," Plus de "),Ia(3,"a",49),Ra("click",(function(){return er(n),La(2).goToUserPage()})),_u(4),Ta(),Ta(),Aa(5,"hr"),Aa(6,"app-items-carousel",59),Ta()}if(2&t){var r=La(2);lo(4),ku(" ",r.item.getMainiAuthorName()," "),lo(2),Ea("iItems",r.course.getMainiAuthor().iCourses)("iAuthor",r.course.getMainiAuthor())}}function IL(t,e){if(1&t){var n=Pa();Ia(0,"button",60),Ra("click",(function(){return er(n),La(2).openRatingCourseModal()})),_u(1," \xc9valuer la formation "),Ta()}}function TL(t,e){if(1&t){var n=Pa();Ia(0,"div",4),Ia(1,"div",5),_a(2,aL,2,1,"a",6),_a(3,uL,2,1,"ng-template",null,7,jl),Ta(),Ia(5,"div",8),Ia(6,"div",9),Ia(7,"div",10),Ia(8,"div",11),Ia(9,"h2",12),_u(10),_a(11,cL,1,0,"app-button-edit",13),Ta(),Ia(12,"h3",14),_u(13),Ta(),Ta(),Ia(14,"div",15),Ia(15,"div",16),Ia(16,"div",17),Ia(17,"span",18),Aa(18,"i",19),_u(19," Fran\xe7ais "),Ta(),Ta(),Ia(20,"div",17),Ia(21,"span",18),Aa(22,"i",20),Ia(23,"b"),_u(24,"Exp\xe9rience requise :"),Ta(),_u(25," Aucune "),Ta(),Ta(),Ta(),Aa(26,"hr"),Ia(27,"div",16),Ia(28,"div",17),Ia(29,"a",21),Aa(30,"app-rating",22),Ta(),Ta(),Ia(31,"div",17),Ia(32,"span",18),Aa(33,"i",23),Ia(34,"b"),_u(35,"Date de cr\xe9ation : "),Ta(),_u(36),Ta(),Ta(),Ta(),Ta(),_a(37,hL,2,1,"div",24),Ta(),_a(38,fL,2,1,"div",25),Ia(39,"div",26),Ia(40,"h5",27),_u(41," Description "),_a(42,dL,1,0,"app-button-edit",13),Ta(),Aa(43,"hr"),Aa(44,"app-description-section",28),_a(45,pL,2,0,"span",29),Ta(),Ia(46,"div",30),Ia(47,"h5",27),_u(48," Comp\xe9tences \xe0 acqu\xe9rir "),_a(49,vL,1,0,"app-button-edit",13),Ta(),Aa(50,"hr"),_a(51,wL,6,4,"div",1),_a(52,kL,2,0,"span",29),Ta(),Ia(53,"div",26),Ia(54,"h5",27),_u(55," Contenu de la formation "),_a(56,CL,1,0,"app-button-edit",13),Ta(),Aa(57,"hr"),_a(58,EL,2,0,"span",29),Aa(59,"app-course-content",31),Ta(),_a(60,SL,7,3,"div",32),Ia(61,"div",33),Ia(62,"h5",27),_u(63," Avis "),_a(64,IL,2,0,"button",34),Ta(),Aa(65,"hr"),Aa(66,"app-global-rating",35),Aa(67,"hr"),Ia(68,"app-rating-list",36),Ra("newRatings",(function(t){return er(n),La().refreshRatings(t)})),Ta(),Ta(),Ta(),Ia(69,"div",37),Ia(70,"div",38),Aa(71,"app-card-image-price-item",39),Ta(),Ta(),Ta(),Ta()}if(2&t){var r=wa(4),i=La();lo(2),Ea("ngIf",i.backLink&&i.isSearchBackLink)("ngIfElse",r),lo(8),ku(" ",i.course.title," "),lo(1),Ea("ngIf",i.isAuthor),lo(2),ku(" ",i.course.catchPhrase," "),lo(16),Ea("routerLink","."),lo(1),ou(1),Ea("nbRatings",i.course.nbRatings)("globalNote",i.course.globalNote)("size",1.4),lo(6),ku(" ",i.course.creationDate," "),lo(1),Ea("ngIf",i.course.tags),lo(1),Ea("ngIf",!i.isAuthor),lo(4),Ea("ngIf",i.isAuthor),lo(2),Ea("description",i.course.description),lo(1),Ea("ngIf",i.isAuthor&&!i.course.description),lo(4),Ea("ngIf",i.isAuthor),lo(2),Ea("ngIf",i.course.skillsToAcquire),lo(1),Ea("ngIf",i.isAuthor&&!i.course.skillsToAcquire),lo(4),Ea("ngIf",i.isAuthor),lo(2),Ea("ngIf",i.isAuthor&&!i.course.modules),lo(1),Ea("courseContent",i.course.modules),lo(1),Ea("ngIf",i.course.getMainiAuthor()&&i.course.getMainiAuthor().iCourses&&i.course.getMainiAuthor().iCourses.length),lo(4),Ea("ngIf",!i.isAuthor&&!i.hasUserRateAlready()),lo(2),Ea("ratings",i.course.ratings)("globalNote",i.course.globalNote),lo(2),Ea("ratings",i.course.ratings),lo(3),Ea("item",i.item)}}var AL,DL=((AL=function(t){K(r,t);var n=$(r);function r(t,i,o,s,a,u,c,l){var h,f;return tt(this,r),(f=n.call(this,i,o,s,u,a,c,l)).route=t,f.course=new $O(null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null),e((h=J(f),Z(r.prototype)),"item",f.course,h,!0),f}return nt(r,[{key:"ngOnInit",value:function(){var t=this;this.route.params.subscribe((function(e){t.course&&t.course.id&&e.id!==t.course.id&&window.location.reload()}));var n=this.route.snapshot.params.id;this.itemService.getSingleItemFromDBById(n,(function(i){i?(i.iAuthors[0].iCourses.splice(i.iAuthors[0].iCourses.indexOf(n),1),e(Z(r.prototype),"item",t.course=i,t,!0),t.hasItem=!0,t.isItemAuthor(),z(Z(r.prototype),"saveView",t).call(t)):t.hasItem=!1})).catch((function(e){console.error(e),t.hasItem=!1}))}},{key:"openCourseContentModal",value:function(){var t=this;if(this.authService.isAuth&&this.isAuthor){var e=this.modalService.open(kM,{size:"xl",centered:!0});e.componentInstance.courseId=this.course.id,e.componentInstance.courseContent=this.course.modules,e.result.then((function(e){e&&(t.course.modules&&t.course.modules.length&&t.course.modules.splice(0,t.course.modules.length),t.course.modules=e)})).catch((function(t){console.log(t)}))}}},{key:"openRatingCourseModal",value:function(){var t=this;if(!this.hasUserRateAlready()&&!this.isAuthor)if(this.authService.isAuth){var e=this.modalService.open(QP);e.componentInstance.course=this.course.getICourse(),e.componentInstance.user=this.authService.authUser.getIUser(),e.result.then((function(e){if(e){if(t.course.ratings&&t.course.ratings.length){var n=t.course.ratings.findIndex((function(t){return t.id===e.id}));n>-1?t.course.ratings.push(e):t.course.ratings[n]=e}else t.course.ratings=[],t.course.ratings.push(e);t.refreshRatings(!0)}})).catch((function(t){console.log(t)}))}else this.router.navigate([sm.LOGIN])}},{key:"refreshRatings",value:function(t){t&&this.course.calculateGlobalRating()}},{key:"openSkillsItemModal",value:function(){var t=this;if(this.authService.isAuth&&this.isAuthor){var e=this.modalService.open(DM);e.componentInstance.course=this.course,e.result.then((function(e){e&&(t.course.skillsToAcquire=e,t.displayItemUpdatedAlert())})).catch((function(t){console.log(t)}))}}},{key:"getSkillsBeginning",value:function(){if(this.course.skillsToAcquire)return this.course.skillsToAcquire.slice(0,this.getSlice())}},{key:"getSlice",value:function(){return this.course.skillsToAcquire.length<=4?this.course.skillsToAcquire.length:4}},{key:"getSkillsEnding",value:function(){if(this.course.skillsToAcquire)return this.course.skillsToAcquire.slice(this.getSlice())}},{key:"seeMoreSkills",value:function(){var t=document.getElementById("btnSeeMoreSkills");!0===this.moreSkillsShowed?(this.moreSkillsShowed=!1,t.innerHTML="+ Voir plus"):(this.moreSkillsShowed=!0,t.innerHTML="- Voir moins")}},{key:"checkSkillsLength",value:function(){return!!(this.course.skillsToAcquire&&this.course.skillsToAcquire.length>4)}},{key:"hasUserRateAlready",value:function(){return!!(this.authService.isAuth&&this.course&&this.course.ratings)&&this.course.ratings.some((function(t,e,n,r){if(e.user)return e.user.id===t}).bind(null,this.authService.authUser.id))}}]),r}(SM)).\u0275fac=function(t){return new(t||AL)(ka(tb),ka(eP),ka($P),ka(y_),ka(oN),ka(Y_),ka(IA),ka(Qd))},AL.\u0275cmp=hn({type:AL,selectors:[["app-single-course"]],features:[ra],decls:3,vars:3,consts:[["class","alert alert-success text-center sticky-top",4,"ngIf"],[4,"ngIf"],["class","container w-100",4,"ngIf"],[1,"alert","alert-success","text-center","sticky-top"],[1,"container","w-100"],[1,"row","item-path"],[3,"href",4,"ngIf","ngIfElse"],["elseLink",""],[1,"row","item-content","w-100"],[1,"col-lg-9","col-md-8"],[1,"heading","px-2"],[1,"title-section","mt-3"],[1,"item-title","mb-2"],["class","ml-5",3,"click",4,"ngIf"],[1,"item-subtitle"],[1,"item-features"],[1,"row"],[1,"col-6"],[1,"feature-text"],["id","glob","aria-hidden","true",1,"fa","fa-globe"],["aria-hidden","true",1,"fa","fa-graduation-cap"],["fragment","ratings",1,"rating-link",3,"routerLink"],[3,"nbRatings","globalNote","size"],["id","info","aria-hidden","true",1,"fa","fa-info-circle"],["class","course-tags mt-3 mx-3",4,"ngIf"],["class","item-block author-block",4,"ngIf"],[1,"item-block","description-block"],[1,"title-cat"],[3,"description"],[3,"click",4,"ngIf"],[1,"item-block","skills-block"],[3,"courseContent"],["class","item-block skills-block",4,"ngIf"],["id","ratings",1,"item-block","ratings-block"],["class","btn btn-rating ml-5",3,"click",4,"ngIf"],[3,"ratings","globalNote"],[3,"ratings","newRatings"],[1,"col-lg-3","col-md-4"],[1,"sticky"],[3,"item"],[3,"href"],[1,"ml-5",3,"click"],[1,"course-tags","mt-3","mx-3"],["class","course-tag py-2 px-3 mr-2",3,"click",4,"ngFor","ngForOf"],[1,"course-tag","py-2","px-3","mr-2",3,"click"],["data-icon","heroicons-solid:hashtag","data-inline","false",1,"iconify",2,"color","#2E7B9C","font-size","1.1em"],[1,"item-p","item-click"],[1,"item-block","author-block"],[3,"author"],[3,"click"],[1,"skills-list"],[4,"ngFor","ngForOf"],["id","skills-dots",4,"ngIf"],["class","skills-list",4,"ngIf"],["id","btnSeeMoreSkills",3,"click",4,"ngIf"],["id","check","aria-hidden","true",1,"fa","fa-check"],[1,"skill-text"],["id","skills-dots"],["id","btnSeeMoreSkills",3,"click"],[3,"iItems","iAuthor"],[1,"btn","btn-rating","ml-5",3,"click"]],template:function(t,e){1&t&&(_a(0,oL,3,0,"div",0),_a(1,sL,2,0,"div",1),_a(2,TL,72,29,"div",2)),2&t&&(Ea("ngIf",e.hasItem&&e.isAuthor&&e.hasBeenUpdated),lo(1),Ea("ngIf",!e.hasItem),lo(1),Ea("ngIf",e.hasItem))},directives:[fd,__,pP,NM,VM,zM,ix,XM,ZM,ld,iL,jP],styles:[".item-path[_ngcontent-%COMP%]{margin-top:3vh;margin-bottom:3vh}.sticky[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:18vh}.iconify[_ngcontent-%COMP%]{font-size:35px}.heading[_ngcontent-%COMP%]{align-items:center;text-align:center;border-radius:40px 40px 0 0;-moz-border-radius:40px 40px 0 0;-webkit-border-radius:40px 40px 0 0;box-shadow:0 -2px 4px 1px hsla(0,0%,60.8%,.32);margin-bottom:5vh;padding-bottom:3vh;padding-top:2vh}.title-section[_ngcontent-%COMP%]{margin-bottom:3vh}.item-title[_ngcontent-%COMP%]{font-weight:500;font-size:2em;color:#3d3c3c}.item-subtitle[_ngcontent-%COMP%]{font-weight:400;font-size:1.22em;color:grey}.feature-text[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin-right:1vw}.rating-link[_ngcontent-%COMP%]{text-decoration:none}.course-tags[_ngcontent-%COMP%]{align-items:center;text-align:left}.course-tag[_ngcontent-%COMP%]{border:1px solid #2e7b9c;border-radius:500px;-moz-border-radius:500px;-webkit-border-radius:500px;cursor:pointer}.course-tag[_ngcontent-%COMP%]:focus, .course-tag[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.item-block[_ngcontent-%COMP%]{margin-top:10vh}.skills-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{list-style-type:none;margin-bottom:2.5vh}.skills-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{color:#2e7b9c}#more-skills[_ngcontent-%COMP%]{display:none}#btnSeeMoreSkills[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:10vw;color:#2e7b9c}.btn-rating[_ngcontent-%COMP%]{color:#fff;background-color:#fcc632;font-weight:500}"]}),AL);function OL(t,e){1&t&&(Ia(0,"div"),_u(1," La formation n'existe pas\n"),Ta())}function PL(t,e){if(1&t){var n=Pa();Ia(0,"app-button-edit",29),Ra("click",(function(){return er(n),La(2).openEditHeadItemModal()})),Ta()}}function xL(t,e){if(1&t){var n=Pa();Ia(0,"app-button-edit",29),Ra("click",(function(){return er(n),La(2).openDescriptionItemModal()})),Ta()}}function NL(t,e){if(1&t){var n=Pa();Ia(0,"span",30),Ra("click",(function(){return er(n),La(2).openDescriptionItemModal()})),_u(1," Ajouter une description "),Ta()}}function RL(t,e){1&t&&Aa(0,"app-items-carousel",33),2&t&&Ea("iItems",La(3).event.getMainiAuthor().iCourses)}function FL(t,e){if(1&t){var n=Pa();Ia(0,"div",31),Ia(1,"h5",24),_u(2," Plus de "),Ia(3,"a",30),Ra("click",(function(){return er(n),La(2).goToUserPage()})),_u(4),Ta(),Ta(),Aa(5,"hr"),_a(6,RL,1,1,"app-items-carousel",32),Ta()}if(2&t){var r=La(2);lo(4),ku(" ",r.item.getMainiAuthorName()," "),lo(2),Ea("ngIf",r.event.getMainiAuthor().iCourses&&r.event.getMainiAuthor().iCourses.length)}}function ML(t,e){if(1&t&&(Ia(0,"div",2),Ia(1,"div",3),Ia(2,"span"),_u(3," chemin "),Ta(),Ta(),Ia(4,"div",4),Ia(5,"div",5),Ia(6,"div",6),Aa(7,"app-card-image-price-item",7),Ta(),Ta(),Ia(8,"div",8),Ia(9,"div",9),Ia(10,"div",10),Ia(11,"h2",11),_u(12),_a(13,PL,1,0,"app-button-edit",12),Ta(),Ia(14,"h3",13),_u(15),Ta(),Ta(),Ia(16,"div",14),Ia(17,"div",15),Ia(18,"div",16),Ia(19,"span",17),Aa(20,"i",18),Ia(21,"b"),_u(22,"Exp\xe9rience requise :"),Ta(),_u(23," Aucune "),Ta(),Ta(),Ia(24,"div",16),Ia(25,"span",17),Aa(26,"i",19),_u(27," Fran\xe7ais "),Ta(),Ta(),Ta(),Aa(28,"hr"),Ia(29,"div",15),Ia(30,"div",16),Ia(31,"span",17),Aa(32,"i",20),Ia(33,"b"),_u(34,"Date de cr\xe9ation : "),Ta(),_u(35),Ta(),Ta(),Aa(36,"div",16),Ta(),Ta(),Ta(),Ia(37,"div",21),Aa(38,"app-card-author",22),Ta(),Ia(39,"div",23),Ia(40,"h5",24),_u(41," Description "),_a(42,xL,1,0,"app-button-edit",12),Ta(),Aa(43,"hr"),Aa(44,"app-description-section",25),_a(45,NL,2,0,"span",26),Ta(),_a(46,FL,7,2,"div",27),Ia(47,"div",28),Ia(48,"h5",24),_u(49,"Publications"),Ta(),Aa(50,"hr"),Ta(),Ta(),Ta(),Ta()),2&t){var n=La();lo(7),Ea("item",n.event),lo(5),ku(" ",n.event.title," "),lo(1),Ea("ngIf",n.isAuthor),lo(2),ku(" ",n.event.catchPhrase," "),lo(20),ku(" ",n.event.creationDate," "),lo(3),Ea("author",n.item.getMainiAuthor()),lo(4),Ea("ngIf",n.isAuthor),lo(2),Ea("description",n.event.description),lo(1),Ea("ngIf",!n.event.description),lo(1),Ea("ngIf",n.item.getMainiAuthor())}}var LL,UL,VL=((LL=function(t){K(r,t);var n=$(r);function r(t,i,o,s,a,u,c,l){var h,f;return tt(this,r),(f=n.call(this,i,o,u,s,a,c,l)).route=t,e((h=J(f),Z(r.prototype)),"item",f.event,h,!0),f}return nt(r,[{key:"ngOnInit",value:function(){var t=this;this.itemService.getSingleItemFromDBById(this.route.snapshot.params.id,(function(n){n?(t.hasItem=!0,e(Z(r.prototype),"item",t.event=n,t,!0),t.isItemAuthor(),z(Z(r.prototype),"saveView",t).call(t)):t.hasItem=!1})).catch((function(e){console.error(e),t.hasItem=!1}))}}]),r}(SM)).\u0275fac=function(t){return new(t||LL)(ka(tb),ka(eP),ka($P),ka(Y_),ka(oN),ka(y_),ka(IA),ka(Qd))},LL.\u0275cmp=hn({type:LL,selectors:[["app-single-event"]],features:[ra],decls:2,vars:2,consts:[[4,"ngIf"],["class","container",4,"ngIf"],[1,"container"],[1,"row","item-path"],[1,"row","item-content"],[1,"col-md-3","offset-1"],[1,"sticky"],[3,"item"],[1,"col-lg-8"],[1,"heading","shadow-sm"],[1,"title-section"],[1,"item-title"],["class","ml-5",3,"click",4,"ngIf"],[1,"item-subtitre"],[1,"item-features"],[1,"row"],[1,"col-6"],[1,"feature-text"],["aria-hidden","true",1,"fa","fa-graduation-cap"],["id","glob","aria-hidden","true",1,"fa","fa-globe"],["id","info","aria-hidden","true",1,"fa","fa-info-circle"],[1,"item-block","author-block"],[3,"author"],[1,"item-block","description-block"],[1,"title-cat"],[3,"description"],[3,"click",4,"ngIf"],["class","item-block skills-block",4,"ngIf"],["id","posts",1,"item-block","posts-block"],[1,"ml-5",3,"click"],[3,"click"],[1,"item-block","skills-block"],[3,"iItems",4,"ngIf"],[3,"iItems"]],template:function(t,e){1&t&&(_a(0,OL,2,0,"div",0),_a(1,ML,51,10,"div",1)),2&t&&(Ea("ngIf",!e.hasItem),lo(1),Ea("ngIf",e.hasItem))},directives:[fd,XM,iL,NM,ZM,jP],styles:[".item-path[_ngcontent-%COMP%]{margin-top:3vh;margin-bottom:3vh}.sticky[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:18vh}.iconify[_ngcontent-%COMP%]{font-size:35px}.heading[_ngcontent-%COMP%]{align-items:center;text-align:center;border-radius:15px 15px 15px 15px;-moz-border-radius:15px 15px 15px 15px;-webkit-border-radius:15px 15px 15px 15px;padding-bottom:2vh}.heading[_ngcontent-%COMP%], .title-section[_ngcontent-%COMP%]{margin-bottom:5vh}.item-title[_ngcontent-%COMP%]{font-weight:650;font-size:2em}.item-subtitle[_ngcontent-%COMP%]{font-weight:400;font-size:1.02em}.feature-text[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin-right:1vw}.rating-link[_ngcontent-%COMP%]{text-decoration:none}.item-block[_ngcontent-%COMP%]{margin-top:10vh}.skills-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{list-style-type:none;margin-bottom:2.5vh}.skills-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{color:#2e7b9c}#more-skills[_ngcontent-%COMP%]{display:none}#btnSeeMoreSkills[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:10vw;color:#2e7b9c}"]}),LL),jL=function(t){return{"form-control-danger":t}},BL=((UL=function(){function t(e,n,r){tt(this,t),this.formBuilder=e,this.imageService=n,this._NgbActiveModal=r}return nt(t,[{key:"ngOnInit",value:function(){console.log("ngOnInit head course"),this.headUserForm=this.formBuilder.group({image:[""],firstname:["",[qp.required]],lastname:["",[qp.required]],title:["",[qp.required]],bio:["",[qp.required]],tel:["",[qp.required]],mail:["",[qp.required]]}),this.getImagePreviewFromService(),this.preFillEditForm()}},{key:"getImagePreviewFromService",value:function(){var t=this;console.log("getImagePreviewFromService ItemMediaFormComponent"),this.imagePreviewSubscription=this.imageService.imageSubject.subscribe((function(e){console.log("imagePreviewSubscription :",e),t.urlImagePreview=e}),(function(t){return console.error("Observer got an error: "+t)}),(function(){console.log("Observer got a complete notification")}))}},{key:"preFillEditForm",value:function(){console.log("preFillEditForm",this.user),this.headUserForm.patchValue({firstname:this.user.firstname}),this.headUserForm.patchValue({lastname:this.user.lastname}),this.headUserForm.patchValue({title:this.user.title}),this.headUserForm.patchValue({bio:this.user.bio}),this.headUserForm.patchValue({tel:this.user.tel}),this.headUserForm.patchValue({mail:this.user.mail}),this.urlImagePreview=this.user.ppLink}},{key:"onPreviewImage",value:function(t){t.target.files&&t.target.files[0]?this.imageService.getImagePreview(t.target.files[0]):this.urlImagePreview=this.user.ppLink}},{key:"getHeadParams",value:function(){return{firstname:this.user.firstname,lastname:this.user.lastname,title:this.user.title,ppLink:this.user.ppLink,tel:this.user.tel,bio:this.user.bio,mail:this.user.mail}}},{key:"passBack",value:function(){var t=this,e=this.headUserForm.get("tel").value;if(!e||this.checkPhoneForm(e))if(this.user.ppLink!==this.urlImagePreview){var n=nm.storage().ref("images").child("items");this.imageService.uploadFile(this.imageService.imageToUpload,n).then((function(e){e&&""!==e&&(console.log("Image Link :",e),t.urlImagePreview=e)})).then((function(){var n={firstname:t.headUserForm.get("firstname").value,lastname:t.headUserForm.get("lastname").value,title:t.headUserForm.get("title").value,tel:e,bio:t.headUserForm.get("bio").value,mail:t.headUserForm.get("mail").value,ppLink:t.urlImagePreview};t.activeModal.close(n)}))}else{var r={firstname:this.headUserForm.get("firstname").value,lastname:this.headUserForm.get("lastname").value,title:this.headUserForm.get("title").value,tel:e,bio:this.headUserForm.get("bio").value,mail:this.headUserForm.get("mail").value,ppLink:this.user.ppLink};this.activeModal.close(r)}}},{key:"checkPhoneForm",value:function(t){return 10===t.length&&t&&Number.isInteger(+t)?(this.isTelOk=!0,!0):(this.isTelOk=!1,!1)}},{key:"ngOnDestroy",value:function(){null!=this.imagePreviewSubscription&&this.imagePreviewSubscription.unsubscribe()}},{key:"activeModal",get:function(){return this._NgbActiveModal}}]),t}()).\u0275fac=function(t){return new(t||UL)(ka(Bg),ka(BO),ka(wA))},UL.\u0275cmp=hn({type:UL,selectors:[["app-edit-head-user"]],inputs:{user:"user"},decls:34,vars:5,consts:[["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],["role","form",1,"form-item",3,"formGroup"],[1,"body-section"],[1,"separation-line"],[1,"img-modal-course","border"],["width","110","height","110","alt","",1,"rounded-circle",3,"src"],["type","file","formControlName","image","id","image","accept","image/*",1,"form-control-file","mt-2",3,"change"],[1,"form-row","align-items-center","mb-3"],[1,"form-group","col-6"],["type","text","formControlName","firstname","id","firstname","onkeydown","return (event.key !== '\\''\n                                                    && event.key !== ','\n                                                    && event.key !== ';'\n                                                    && event.key !== '='\n                                                    && event.key !== '>'\n                                                    && event.key !== '<'\n                                                    && event.key !== '.'\n                                                    && event.key !== ':'\n                                                    && event.key !== '`'\n                                                    && event.key !== '_'\n                                                    && event.key !== '\xa7')","placeholder","Pr\xe9nom","required","",1,"form-control"],["type","text","formControlName","lastname","id","lastname","onkeydown","return (event.key !== '\\''\n                                                    && event.key !== ','\n                                                    && event.key !== ';'\n                                                    && event.key !== '='\n                                                    && event.key !== '>'\n                                                    && event.key !== '<'\n                                                    && event.key !== '.'\n                                                    && event.key !== ':'\n                                                    && event.key !== '`'\n                                                    && event.key !== '_'\n                                                    && event.key !== '\xa7')","placeholder","Nom","required","",1,"form-control"],[1,"form-group","mb-3"],["type","text","formControlName","title","id","title","onkeydown","return (event.key !== '\\''\n                                                      && event.key !== ','\n                                                      && event.key !== ';'\n                                                      && event.key !== '='\n                                                      && event.key !== '>'\n                                                      && event.key !== '<'\n                                                      && event.key !== '.'\n                                                      && event.key !== ':'\n                                                      && event.key !== '`'\n                                                      && event.key !== '_'\n                                                      && event.key !== '\xa7')","placeholder","Titre",1,"form-control"],["formControlName","bio","id","bio","rows","4","placeholder","Ma bio",1,"form-control"],["type","email","formControlName","mail","id","mail","aria-describedby","emailHelp","placeholder","Email","required","",1,"form-control"],["type","tel","formControlName","tel","id","tel","aria-describedby","phoneHelp","pattern","[0-9]{2}[0-9]{2}[0-9]{2}[0-9]{2}[0-9]{2}","placeholder","Telephone","required","",1,"form-control",3,"ngClass"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","button",3,"click"]],template:function(t,e){1&t&&(Ia(0,"div",0),Ia(1,"div",1),Ia(2,"div",2),Ia(3,"form",3),Ia(4,"div",4),Ia(5,"h4"),_u(6,"Photo de profil"),Ta(),Aa(7,"hr",5),Ia(8,"div",6),Aa(9,"img",7),Ta(),Ia(10,"input",8),Ra("change",(function(t){return e.onPreviewImage(t)})),Ta(),Ta(),Ia(11,"div",4),Ia(12,"h4"),_u(13,"Informations"),Ta(),Aa(14,"hr",5),Ia(15,"div",9),Ia(16,"div",10),Aa(17,"input",11),Ta(),Ia(18,"div",10),Aa(19,"input",12),Ta(),Ta(),Ia(20,"div",13),Aa(21,"input",14),Ta(),Ia(22,"div",13),Ia(23,"textarea",15),_u(24,"            "),Ta(),Ta(),Ia(25,"div",13),Aa(26,"input",16),Ta(),Ia(27,"div",13),Aa(28,"input",17),Ta(),Ta(),Ta(),Ta(),Ia(29,"div",18),Ia(30,"button",19),Ra("click",(function(){return e.activeModal.close(e.getHeadParams())})),_u(31,"Annuler"),Ta(),Ia(32,"button",20),Ra("click",(function(){return e.passBack()})),_u(33,"Enregistrer"),Ta(),Ta(),Ta(),Ta()),2&t&&(lo(3),Ea("formGroup",e.headUserForm),lo(6),Ea("src",e.urlImagePreview,zi),lo(19),Ea("ngClass",hl(3,jL,e.isTelOk)))},directives:[rg,Mp,ug,Dp,Fp,Ig,Dg,Vg,ad],styles:[".modal-dialog[_ngcontent-%COMP%]{max-height:85%;margin:10px}.modal-body[_ngcontent-%COMP%]{height:auto;overflow-y:auto}.img-modal-course[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{display:block;margin:auto}.body-section[_ngcontent-%COMP%]{margin-bottom:5vh}"]}),UL);function qL(t,e){if(1&t&&Aa(0,"app-items-carousel",9),2&t){var n=La(2);Ea("item_type","course")("iItems",n.user.courses)}}function WL(t,e){1&t&&(Ia(0,"span"),_u(1,"Aucune formations"),Ta())}function HL(t,e){if(1&t){var n=Pa();Ia(0,"div",3),Ia(1,"div",4),Ia(2,"h5",5),_u(3),Ia(4,"a",6),Ra("click",(function(){return er(n),La().displayUserCourses()})),_u(5,"Tout consulter"),Ta(),Ta(),Aa(6,"hr"),_a(7,qL,1,2,"app-items-carousel",7),_a(8,WL,2,0,"span",8),Ta(),Ta()}if(2&t){var r=La();lo(3),ku(" Formations (",r.getICoursesLength(),") > "),lo(4),Ea("ngIf",r.user.courses),lo(1),Ea("ngIf",!r.user.itemsId)}}function zL(t,e){if(1&t&&Aa(0,"app-items-carousel",9),2&t){var n=La(2);Ea("item_type","event")("iItems",n.user.events)}}function GL(t,e){1&t&&(Ia(0,"span"),_u(1,"Aucun \xe9v\xe9nements"),Ta())}function KL(t,e){if(1&t){var n=Pa();Ia(0,"div",10),Ia(1,"div",4),Ia(2,"h5",5),_u(3),Ia(4,"a",6),Ra("click",(function(){return er(n),La().displayUserEvents()})),_u(5,"Tout consulter"),Ta(),Ta(),Aa(6,"hr"),_a(7,zL,1,2,"app-items-carousel",7),_a(8,GL,2,0,"span",8),Ta(),Ta()}if(2&t){var r=La();lo(3),ku(" \xc9v\xe9nements(",r.getIEventsLength(),") > "),lo(4),Ea("ngIf",r.user.itemsId),lo(1),Ea("ngIf",!r.user.itemsId)}}var QL,$L=((QL=function(){function t(e){tt(this,t),this.router=e}return nt(t,[{key:"ngOnInit",value:function(){}},{key:"getICoursesLength",value:function(){return this.user.courses?this.user.courses.length:0}},{key:"getIEventsLength",value:function(){return this.user.events?this.user.events.length:0}},{key:"displayUserCourses",value:function(){this.router.navigate([sm.USER,this.user.id],{fragment:"courses"})}},{key:"displayUserEvents",value:function(){this.router.navigate([sm.USER,this.user.id],{fragment:"events"})}}]),t}()).\u0275fac=function(t){return new(t||QL)(ka(y_))},QL.\u0275cmp=hn({type:QL,selectors:[["app-user-home"]],inputs:{user:"user"},decls:3,vars:2,consts:[[1,"row","w-100","justify-content-center","user-items-block"],["class","row user-items-section user-courses-section",4,"ngIf"],["class","row user-items-section user-events-section",4,"ngIf"],[1,"row","user-items-section","user-courses-section"],[1,"col-12"],[1,"title-cat"],[3,"click"],[3,"item_type","iItems",4,"ngIf"],[4,"ngIf"],[3,"item_type","iItems"],[1,"row","user-items-section","user-events-section"]],template:function(t,e){1&t&&(Ia(0,"div",0),_a(1,HL,9,3,"div",1),_a(2,KL,9,3,"div",2),Ta()),2&t&&(lo(1),Ea("ngIf",e.user.courses&&e.user.courses.length),lo(1),Ea("ngIf",e.user.events&&e.user.events.length))},directives:[fd,jP],styles:[".btn-gen[_ngcontent-%COMP%]{height:2.7rem;background-color:#2e7b9c;color:#f8f7f6;border-radius:.3rem .3rem .3rem .3rem;-moz-border-radius:.3rem .3rem .3rem .3rem;-webkit-border-radius:.3rem .3rem .3rem .3rem;text-transform:uppercase;font-weight:500;margin-top:auto;margin-bottom:auto}.btn-gen[_ngcontent-%COMP%]:active, .btn-gen[_ngcontent-%COMP%]:focus, .btn-gen[_ngcontent-%COMP%]:hover{color:#2e7b9c;background-color:#f8f7f6;border:.1rem solid #2e7b9c}.user-items-section[_ngcontent-%COMP%]{width:100%}.user-events-section[_ngcontent-%COMP%], .user-posts-section[_ngcontent-%COMP%]{margin-top:8vh}"]}),QL);function YL(t,e){if(1&t){var n=Pa();Ia(0,"app-button-edit",33),Ra("click",(function(){return er(n),La(2).openHeadUserModal()})),Ta()}}function JL(t,e){1&t&&(Ia(0,"button",34),Ia(1,"b"),_u(2,"+ Se connecter"),Ta(),Ta())}function XL(t,e){1&t&&(Ia(0,"button",35),Ia(1,"b"),_u(2," Message"),Ta(),Ta())}function ZL(t,e){1&t&&(Ia(0,"h5"),_u(1,"Formations mises en ligne"),Ta())}function tU(t,e){1&t&&Aa(0,"app-item-list",36),2&t&&Ea("items",La(2).user.courses)}function eU(t,e){if(1&t){var n=Pa();Ia(0,"div",37),Ia(1,"h5"),_u(2,"Cr\xe9er votre premi\xe8re formation"),Ta(),Ia(3,"button",38),Ra("click",(function(){return er(n),La(2).onNewCourse()})),_u(4," Cr\xe9er une formation "),Ta(),Ta()}}function nU(t,e){1&t&&(Ia(0,"h5"),_u(1,"\xc9v\xe8nements mis en ligne"),Ta())}function rU(t,e){1&t&&Aa(0,"app-item-list",36),2&t&&Ea("items",La(2).user.events)}function iU(t,e){if(1&t){var n=Pa();Ia(0,"div",39),Ia(1,"h5",40),_u(2,"Cr\xe9er votre premier \xe9v\xe8nement"),Ta(),Ia(3,"button",38),Ra("click",(function(){return er(n),La(2).onNewEvent()})),_u(4," Cr\xe9er un \xe9v\xe9nement "),Ta(),Ta()}}var oU=function(t){return{active:t}},sU=function(t,e){return{active:t,show:e}};function aU(t,e){if(1&t){var n=Pa();Ia(0,"div",1),Ia(1,"div",2),Ia(2,"div",3),Ia(3,"div",4),Ia(4,"div",5),Aa(5,"app-user-avatar",6),Ta(),Ta(),Ia(6,"div",7),Ia(7,"div",8),Ia(8,"h5",9),_u(9),_a(10,YL,1,0,"app-button-edit",10),Ta(),Ia(11,"h6"),_u(12),Ta(),Aa(13,"app-description-section",11),Ta(),Ta(),Ia(14,"div",12),Ia(15,"div",13),Ia(16,"span",14),Ia(17,"b"),_u(18,"12 Networkers"),Ta(),Ta(),Ia(19,"span",15),Ia(20,"b"),_u(21,"20 Posts"),Ta(),Ta(),Ta(),Ia(22,"div",16),Ia(23,"div",17),_a(24,JL,3,0,"button",18),_a(25,XL,3,0,"button",19),Ta(),Ta(),Ta(),Ia(26,"ul",20),Ia(27,"li",21),Ia(28,"a",22),Ra("click",(function(){er(n);var t=La();return t.displayPanel(t.getPanelName().HOME)})),Ia(29,"span"),_u(30,"ACCUEIL"),Ta(),Ta(),Ta(),Ia(31,"li",21),Ia(32,"a",22),Ra("click",(function(){er(n);var t=La();return t.displayPanel(t.getPanelName().COURSES)})),Ia(33,"span"),_u(34,"FORMATIONS"),Ta(),Ta(),Ta(),Ia(35,"li",21),Ia(36,"a",22),Ra("click",(function(){er(n);var t=La();return t.displayPanel(t.getPanelName().EVENTS)})),Ia(37,"span"),_u(38,"\xc9V\xc9NEMENTS"),Ta(),Ta(),Ta(),Ia(39,"li",21),Ia(40,"a",22),Ra("click",(function(){er(n);var t=La();return t.displayPanel(t.getPanelName().NETWORK)})),Ia(41,"span"),_u(42,"NETWORK"),Ta(),Ta(),Ta(),Ta(),Ta(),Ia(43,"div",23),Ia(44,"div",24),Ia(45,"div",25),Aa(46,"app-user-home",26),Ta(),Ia(47,"div",27),_a(48,ZL,2,0,"h5",28),_a(49,tU,1,1,"app-item-list",29),_a(50,eU,5,0,"div",30),Ta(),Ia(51,"div",31),_a(52,nU,2,0,"h5",28),_a(53,rU,1,1,"app-item-list",29),_a(54,iU,5,0,"div",32),Ta(),Ia(55,"div",31),Ia(56,"span"),_u(57,"A venir"),Ta(),Ta(),Ta(),Ta(),Ta(),Ta()}if(2&t){var r=La();lo(5),Ea("photoUrl",r.user.ppLink)("name",r.user.getName()),lo(4),Cu(" ",r.user.firstname," ",r.user.lastname," "),lo(1),Ea("ngIf",r.isUser),lo(2),wu(r.user.title),lo(1),Ea("description",r.user.bio),lo(11),Ea("ngIf",!r.isUser),lo(1),Ea("ngIf",!r.isUser),lo(3),Ea("ngClass",hl(24,oU,r.activeTab===r.getPanelName().HOME)),lo(4),Ea("ngClass",hl(26,oU,r.activeTab===r.getPanelName().COURSES)),lo(4),Ea("ngClass",hl(28,oU,r.activeTab===r.getPanelName().EVENTS)),lo(4),Ea("ngClass",hl(30,oU,r.activeTab===r.getPanelName().NETWORK)),lo(5),Ea("ngClass",fl(32,sU,r.activeTab===r.getPanelName().HOME,r.activeTab===r.getPanelName().HOME)),lo(1),Ea("user",r.user),lo(1),Ea("ngClass",fl(35,sU,r.activeTab===r.getPanelName().COURSES,r.activeTab===r.getPanelName().COURSES)),lo(1),Ea("ngIf",r.user.courses&&r.user.courses.length),lo(1),Ea("ngIf",r.user.courses&&r.user.courses.length),lo(1),Ea("ngIf",!r.user.courses||!r.user.courses.length&&r.isUser),lo(1),Ea("ngClass",fl(38,sU,r.activeTab===r.getPanelName().EVENTS,r.activeTab===r.getPanelName().EVENTS)),lo(1),Ea("ngIf",r.user.events&&r.user.events.length),lo(1),Ea("ngIf",r.user.events||r.user.events.length),lo(1),Ea("ngIf",!r.user.events||!r.user.events.length&&r.isUser),lo(1),Ea("ngClass",fl(41,sU,r.activeTab===r.getPanelName().NETWORK,r.activeTab===r.getPanelName().NETWORK))}}var uU,cU,lU=function(t){return t.HOME="home",t.COURSES="crs",t.EVENTS="evts",t.NETWORK="netwrk",t}({}),hU=V_.forChild([{path:"course/:id",component:DL},{path:"event/:id",component:VL},{path:"user/:id",component:(uU=function(){function t(e,n,r,i,o,s){tt(this,t),this.activatedRoute=e,this.authService=n,this.userService=r,this.itemService=i,this.router=o,this.modalService=s,this.user=null,this.hasUser=!1,this.isUser=!1,this.activeTab=lU.HOME}return nt(t,[{key:"ngOnInit",value:function(){var t=this;this.user=new YO(null,null,null,null,null,null,null,null,null,null,null,null,null,null);var e=this.activatedRoute.snapshot.params.id;this.getCurrentFragment(),this.userService.getSingleUserFromDBWithId(e).then((function(n){null!=n?(t.user=n,t.user.id=e,t.itemService.getiItemsByIUser(n.getIUser()).then((function(e){e&&(t.user.courses=e.iCourses,t.user.events=e.iEvents,t.hasUser=!0),t.userIsAuth()}))):t.hasUser=!1})).catch((function(){t.hasUser=!1}))}},{key:"getCurrentFragment",value:function(){var t=this;this.activatedRoute.fragment.subscribe((function(e){t.currentFragment=e}))}},{key:"displayPanel",value:function(t){this.activeTab=t}},{key:"getPanelName",value:function(){return lU}},{key:"checkHome",value:function(){return"home"===this.currentFragment||this.router.url===sm.USER+"/"+this.user.id}},{key:"onNewCourse",value:function(){this.router.navigate([sm.NEW_COURSE])}},{key:"onNewEvent",value:function(){this.router.navigate([sm.NEW_EVENT])}},{key:"openHeadUserModal",value:function(){var t=this,e=this.modalService.open(BL,{scrollable:!0});e.componentInstance.user=this.user,e.result.then((function(e){e&&(t.user.ppLink=e.ppLink,t.user.firstname=e.firstname,t.user.lastname=e.lastname,t.user.bio=e.bio,t.user.mail=e.mail,t.user.tel=e.tel,t.user.title=e.title,t.user.ppLink||(t.user.ppLink=null),t.user.firstname||(t.user.firstname=null),t.user.lastname||(t.user.lastname=null),t.user.title||(t.user.title=null),t.user.bio||(t.user.bio=null),t.user.mail||(t.user.mail=null),t.user.tel||(t.user.tel=null),t.userService.updateInfoUser(t.user))})).catch((function(t){console.error(t)}))}},{key:"userIsAuth",value:function(){this.isUser=!!this.authService.isAuth&&this.user.id===this.authService.authUser.id}},{key:"ngOnDestroy",value:function(){this.mySubscription&&this.mySubscription.unsubscribe()}}]),t}(),uU.\u0275fac=function(t){return new(t||uU)(ka(tb),ka($P),ka(XO),ka(eP),ka(y_),ka(IA))},uU.\u0275cmp=hn({type:uU,selectors:[["app-single-user"]],decls:1,vars:1,consts:[["class","container row justify-content-center mx-auto",4,"ngIf"],[1,"container","row","justify-content-center","mx-auto"],[1,"col-11"],[1,"row","user-head","w-100"],[1,"col-3","my-auto"],[1,"pp-user"],["alt","photo de profil utilisateur",3,"photoUrl","name"],[1,"col-9"],[1,"user-info"],[1,"user-name"],["class","ml-5",3,"click",4,"ngIf"],[3,"description"],[1,"row","w-100","user-contact","my-3"],[1,"col-6","text-center","net-post"],[1,"networkers","mr-5"],[1,"user-posts"],[1,"col-6","center-block","connect-msg"],[1,"btn-group"],["id","se-connecter","type","button","class","mr-3 btn btn-light",4,"ngIf"],["id","message","type","button","class","btn btn-light",4,"ngIf"],["id","user-home-link",1,"nav","user-nav","nav-pills","nav-justified","mt-4"],[1,"nav-item"],["id","pills-category-tab","data-toggle","pill","role","tab","aria-controls","pills-category","aria-selected","false",1,"nav-link",3,"ngClass","click"],["id","myTabContent",1,"tab-content"],[1,"tab-content"],["id","home","role","tabpanel","aria-labelledby","pills-course-tab",1,"tab-pane","fade",3,"ngClass"],[3,"user"],["id","courses","role","tabpanel","aria-labelledby","pills-course-tab",1,"tab-pane","fade",3,"ngClass"],[4,"ngIf"],[3,"items",4,"ngIf"],["class","create-item create-course text-center",4,"ngIf"],["id","events","role","tabpanel","aria-labelledby","pills-course-tab",1,"tab-pane","fade",3,"ngClass"],["class","create-item create-event text-center",4,"ngIf"],[1,"ml-5",3,"click"],["id","se-connecter","type","button",1,"mr-3","btn","btn-light"],["id","message","type","button",1,"btn","btn-light"],[3,"items"],[1,"create-item","create-course","text-center"],[1,"btn","btn-gen",3,"click"],[1,"create-item","create-event","text-center"],[1,"mb-4"]],template:function(t,e){1&t&&_a(0,aU,58,44,"div",0),2&t&&Ea("ngIf",e.hasUser)},directives:[fd,vw,NM,ad,$L,ZM,aP],styles:[".btn-gen[_ngcontent-%COMP%]{height:2.7rem;background-color:#2e7b9c;color:#f8f7f6;border-radius:.3rem .3rem .3rem .3rem;-moz-border-radius:.3rem .3rem .3rem .3rem;-webkit-border-radius:.3rem .3rem .3rem .3rem;text-transform:uppercase;font-weight:500;margin-top:auto;margin-bottom:auto}.btn-gen[_ngcontent-%COMP%]:active, .btn-gen[_ngcontent-%COMP%]:focus, .btn-gen[_ngcontent-%COMP%]:hover{color:#2e7b9c;background-color:#f8f7f6;border:.1rem solid #2e7b9c}.user-info[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{margin-bottom:10vh}.user-head[_ngcontent-%COMP%]{margin-top:5vh;padding-top:4vh;padding-bottom:0!important;border-radius:40px 40px 0 0;-moz-border-radius:40px 40px 0 0;-webkit-border-radius:40px 40px 0 0;box-shadow:0 -2px 4px 1px hsla(0,0%,60.8%,.32)}.pp-user[_ngcontent-%COMP%]{width:8em;height:8em;margin-left:auto;margin-top:auto;margin-bottom:auto}.user-contact[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.sticky[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;top:12vh;z-index:10}.user-nav[_ngcontent-%COMP%]{width:100%;height:8vh;background-color:#fff;font-size:1.05em;font-weight:500;margin-bottom:0}.user-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{width:33%;text-align:center;display:table}.user-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{text-decoration:none;color:#000}.user-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}.user-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:focus, .user-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{border-bottom:.1vh solid #2e7b9c}.nav-item[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{border-bottom:.6vh solid #2e7b9c;background-color:#fff}.nav-item[_ngcontent-%COMP%]{border-radius:.2rem .2rem .2rem .2rem;-moz-border-radius:.2rem .2rem .2rem .2rem;-webkit-border-radius:.2rem .2rem .2rem .2rem}.tab-content[_ngcontent-%COMP%]{margin-top:5vh;min-height:30vh}.create-item[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}"]}),uU)}]),fU=((cU=function t(){tt(this,t)}).\u0275mod=vn({type:cU}),cU.\u0275inj=ae({factory:function(t){return new(t||cU)},imports:[[Tx,V_,hU]]}),cU);nm.initializeApp({apiKey:"AIzaSyDkDnIA6BAD2rW8NVBDXtSaA87OUDBUl7s",authDomain:"network-55b29.firebaseapp.com",databaseURL:"https://network-55b29.firebaseio.com",projectId:"network-55b29",storageBucket:"network-55b29.appspot.com",messagingSenderId:"156096192940",appId:"1:156096192940:web:aa59dea901f2da043c5a09"});var dU,pU=((dU=function t(){tt(this,t)}).\u0275mod=vn({type:dU,bootstrap:[JN]}),dU.\u0275inj=ae({factory:function(t){return new(t||dU)},providers:[],imports:[[Tx,XN,MN,nF,Wx,oF,rM,fU,sF]]}),dU);(function(){if(mi)throw new Error("Cannot enable prod mode after platform setup.");gi=!1})(),Bk().bootstrapModule(pU).catch((function(t){return console.error(t)}))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}var p=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,v.prototype.create),i}return r.__extends(e,t),e}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?g(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new p(i,a),c=0,l=Object.keys(r);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},t}();function g(t,e){return t.replace(m,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var m=/\{\$([^}]+)}/g;function y(t){return JSON.parse(t)}var b=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=y(c(o[0])||""),n=y(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},_=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),o=1518500249):(i=a^u^c,o=1859775393):r<60?(i=a&u|c&(a|u),o=2400959708):(i=a^u^c,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),w=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=k),void 0===r.error&&(r.error=k),void 0===r.complete&&(r.complete=k);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function k(){}function C(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=v,e.FirebaseError=p,e.MAX_VALUE_MILLIS=144e5,e.RANDOM_FACTOR=.5,e.Sha1=_,e.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},e.assert=o,e.assertionError=s,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=u,e.base64Decode=c,e.base64Encode=function(t){var e=a(t);return u.encodeByteArray(e,!0)},e.calculateBackoffMillis=function(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new w(t,e);return n.subscribe.bind(n)},e.decode=b,e.deepCopy=function(t){return l(void 0,t)},e.deepExtend=l,e.errorPrefix=C,e.getUA=f,e.isAdmin=function(t){var e=b(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return f().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!=indexedDB},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNode=d,e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isSafari=function(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},e.isUWP=function(){return f().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=b(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=b(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=b(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=y,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(C(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(C(t,e,r)+"must be a valid context object.")},e.validateIndexedDBOpenable=function(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(C(t,e,r)+"must be a valid firebase namespace.")}},zfKp:function(t,e,n){"use strict";e.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]])}();