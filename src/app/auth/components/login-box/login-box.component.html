<div class="signin-block text-center px-4 py-3 rounded shadow">
  <div class="signin-title mt-3 mb-3">
      <h4>Se connecter</h4>
  </div>
  <form [formGroup]="signInForm" class="signin-form">
    <div class="form-group mb-3">
        <ng-template #popEmailContent>
            <div class="text-danger field-error-class">
                {{ errorEmailMessage }}
            </div>
        </ng-template>
        <label for="email" class="sr-only">
            Adresse mail
            <span style="color: rgb(247, 103, 103);">*</span>
        </label>
        <input type="email" class="form-control form-control-lg" 
                            [ngClass]="{ 'is-invalid': shouldShowRequiredError('email') || shouldShowSignInError('email') }"
                            formControlName="email"
                            id="email" 
                            aria-describedby="emailHelp" 
                            placeholder="Email"
                            type="input"
                            placement="left"
                            triggers="manual" 
                            [ngbPopover]=popEmailContent
                            container="body"
                            #popoverEmail="ngbPopover"
                            (click)="(shouldShowRequiredError('email') || shouldShowSignInError('email')) && popoverEmail.open()"
                            [autoClose]="'outside'"
                            required>
        <small id="emailHelp" class="form-text text-muted">
            Nous ne partagerons jamais votre e-mail.
        </small>
    </div>

      <div class="form-group mb-4">
        <ng-template #popPasswordContent>
            <div class="text-danger field-error-class">
                {{ errorPasswordMessage }}
            </div>
        </ng-template>
        <label for="password" class="sr-only">
            Mot de passe
            <span style="color: rgb(247, 103, 103);">*</span>
        </label>
        <div class="input-group">
            <input [type]="hidePassword ? 'password' : 'text'" 
                    class="form-control form-control-lg" 
                    [ngClass]="{ 'is-invalid': shouldShowRequiredError('password') || shouldShowSignInError('password') }"
                    formControlName="password"
                    id="password" 
                    (change)="checkPassword()"
                    minlength="8"
                    maxlength="30"
                    (change)="checkPassword()"
                    aria-describedby="passwordHelp" 
                    placeholder="Mot de passe"
                    type="input"
                    placement="left"
                    triggers="manual" 
                    [ngbPopover]=popPasswordContent
                    container="body"
                    #popoverPassword="ngbPopover"
                    (click)="(shouldShowRequiredError('password') || shouldShowSignInError('password')) && popoverPassword.open()"
                    [autoClose]="'outside'"
                    required>
  
            <div class="input-group-append" *ngIf="hidePassword" (click)="hidePassword = !hidePassword">
                <div class="input-group-text">
                    <span class="iconify" 
                            data-icon="ic:outline-visibility-off" 
                            data-inline="false">
                    </span>  
                </div>
            </div>
  
            <div class="input-group-append" *ngIf="!hidePassword" (click)="hidePassword = !hidePassword">
                <div class="input-group-text">
                    <span class="iconify" 
                            data-icon="ic:outline-visibility" 
                            data-inline="false">
                    </span>
                </div>
            </div>
        </div>                  
      </div>
      
      <!-- <div class="custom-control custom-checkbox">
          <label for="RememberMe">Se souvenir de moi ?</label>
          <input type="checkbox" class="form-control form-control-lg custom-control-input" 
                                  formControlName = "rememberMe"
                                  id="RememberMe">
      </div> -->

      <button type="submit" class="btn-login btn btn-primary btn-lg btn-block"
                          [disabled] = "signInForm.invalid || errorEmail || errorPassword"
                          (click)="onSignIn()">
          Se connecter
      </button>
  </form>
  <p class="text-danger my-2">{{ errorMessage }}</p>
  
  <a class="" href="">Mot de passe oublié ?</a>
</div>

<div class="signin-block-signup justify-content-center text-center px-4 rounded shadow ">
  <button type="submit" class="btn btn-success btn-lg btn-block"
                        (click)="goToSignUp()">
      Créer un compte
  </button>
  <small>C'est rapide et facile</small>
</div>