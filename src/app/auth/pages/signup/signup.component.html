<div class="auth-section h-100 row align-items-center justify-content-center text-center">
    <div class="col-6">

        <div *ngIf="isVerificationEmailSent" 
             class="alert alert-success" 
             role="alert">
            <p>
                Pour finaliser, votre inscription, veuillez cliquer sur le lien de confirmation qui a été envoyé par mail.
            </p>
        </div>

        <div class="auth-title">
            <!-- À modifier (Image logo Nom de la plateforme)-->
            <a routerLink='/home' routerLinkActive="router-link-active">
                <img src="assets/img/logo.png" width="90" height="60" class="d-inline-block" alt="">
            </a>
        </div>
    </div>

    <div class="auth-body col-lg-4">

        <div class="auth-content justify-content-center mt-4">
            <div class="signup-block align-self-center justify-content-center text-center px-4 py-3 shadow rounded">

                <div class="row btn-sigin-with btn-google-signin rounded shadow-sm w-80" 
                    (click)="onGoogleSignUpWithPopUp()">
                    <div class="col-2">
                        <span class="signin-logo iconify" data-icon="logos:google-icon" data-inline="false"></span>
                    </div>
                    <div class="col-10">
                        <span class="signin-with">Se connecter avec Google</span>
                    </div>
                </div>

                <hr class="mx-auto w-75 my-3">

                <div class="signup-title mb-3">
                    <h3>Rejoignez la communauté</h3>
                    <small>C'est facile, rapide et sécurisé</small>
                </div>

                <form [formGroup]="signUpForm" 
                      class="signup-form" 
                      autocomplete="off">
                      
                    <div class="form-group mb-2">
                        <ng-template #popEmailContent>
                            <div class="text-danger field-error-class">
                                {{ errorEmailMessage }}
                            </div>
                        </ng-template>
                        <label for="email" class="sr-only">
                            Adresse mail
                            <span style="color: rgb(247, 103, 103);">*</span>
                        </label>
                        <input type="email" class="form-control" 
                                            [ngClass]="{ 'is-invalid': shouldShowRequiredError('email') || shouldShowSignUpError('email') }"
                                            formControlName="email"
                                            id="email" 
                                            aria-describedby="emailHelp" 
                                            placeholder="Email"
                                            type="input"
                                            placement="left"
                                            triggers="manual" 
                                            [ngbPopover]=popEmailContent
                                            container="body"
                                            #popoverEmail="ngbPopover"
                                            (click)="(shouldShowRequiredError('email') || shouldShowSignUpError('email')) && popoverEmail.open()"
                                            (change)="resetMailError()"
                                            [autoClose]="'outside'"
                                            required>
                        <small id="emailHelp" class="form-text text-muted">
                            Nous ne partagerons jamais votre e-mail.
                        </small>
                    </div>

                    <div class="form-group mb-2">
                        <ng-template #popConfirmeEmailContent>
                            <div class="text-danger field-error-class">
                                {{ errorEmailMessage }}
                            </div>
                        </ng-template>
                        <label for="confirmEmail" class="sr-only">
                            Confirmer l'adresse mail
                            <span style="color: rgb(247, 103, 103);">*</span>
                        </label>
                        <input type="email" class="form-control" 
                                            [ngClass]="{ 'is-invalid': shouldShowRequiredError('confirmEmail') || shouldShowSignUpError('confirmEmail') }"
                                            formControlName="confirmEmail"
                                            id="confirmEmail" 
                                            (change)="checkConfirmEmail()"
                                            aria-describedby="emailHelp" 
                                            placeholder="Confirmer l'email"
                                            type="input"
                                            placement="left"
                                            triggers="manual" 
                                            [ngbPopover]=popConfirmeEmailContent
                                            container="body"
                                            #popoverConfirmEmail="ngbPopover"
                                            (click)="(shouldShowRequiredError('confirmEmail') || shouldShowSignUpError('confirmEmail')) && popoverConfirmEmail.open()"
                                            [autoClose]="'outside'"
                                            required>
                    </div>
            
                    
                    <button type="submit" class="btn btn-primary btn-lg btn-block mt-3"
                                            [disabled] = "signUpForm.invalid || errorConfirmEmailMessage 
                                                                             || errorEmail
                                                                             || errorGeneral"
                                            (click)="onSignUp()">
                        Accepter & Rejoindre 
                    </button>
                </form>

                <hr class="my-3">

                <p><small>Vous avez déjà un compte ?</small></p>
                <button type="submit" class="btn btn-success btn-lg btn-block"
                                      (click)="goToSignIn()">
                    Se connecter
                </button>
            </div>
        </div>
    </div>
</div>