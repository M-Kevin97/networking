<div class="auth-section h-100 row align-items-center justify-content-center">
  
    <div class="auth-body col-lg-4 col-md-5 col-sm-10 py-4 px-3 text-center">

        <div *ngIf="isVerificationEmailSent" 
             class="alert alert-success mt-4" 
             role="alert">
            <p>
                Pour finaliser, votre inscription, veuillez cliquer sur le lien de confirmation qui vous a été envoyé par mail.
            </p>
        </div>

        <div class="auth-content justify-content-center">

            <div class="auth-title mb-4">
    
                <img src="assets/img/wyskill_logo_sm.png"
                     width="150"  
                     class="d-inline-block mb-4" 
                     (click)="goHome()" 
                     alt="logo Wyskill">
    
                <h4 class="main-color mb-5">Boostez votre évolution</h4>
                
            </div>

            <div class="signup-block block-sign justify-content-center text-center px-4 py-4 shadow">

                <div class="row btn-sigin-with btn-google-signin rounded shadow-sm w-80" 
                    (click)="onGoogleSignUpWithPopUp()">
                    <div class="col-2">
                        <span class="signin-logo iconify" data-icon="logos:google-icon" data-inline="false"></span>
                    </div>
                    <div class="col-10">
                        <span class="signin-with">Se connecter avec Google</span>
                    </div>
                </div>

                <!-- <div class="row btn-sigin-with btn-facebook-signin rounded shadow-sm w-80" 
                    (click)="onFacebookSignUpWithPopUp()">
                    <div class="col-2">
                        <span class="signin-logo iconify" data-icon="cib:facebook" data-inline="false" style="color: #1772eb;"></span>
                    </div>
                    <div class="col-10">
                        <span class="signin-with">Se connecter avec Facebook</span>
                    </div>
                </div> -->

                <hr class="mx-auto w-75 my-3">

                <form [formGroup]="signUpForm" 
                      class="signup-form" 
                      autocomplete="off">
                      
                    <div class="form-group mb-2">
                        <ng-template #popEmailContent>
                            <div class="text-danger field-error-class">
                                {{ errorEmailMessage }}
                            </div>
                        </ng-template>
                        <label for="email" class="sr-only">
                            Adresse mail
                            <span style="color: rgb(247, 103, 103);">*</span>
                        </label>
                        <input type="email" class="form-control input-sign" 
                                            [ngClass]="{ 'is-invalid': shouldShowRequiredError('email') || shouldShowSignUpError('email') }"
                                            formControlName="email"
                                            id="email" 
                                            aria-describedby="emailHelp" 
                                            placeholder="Email"
                                            type="input"
                                            placement="left"
                                            triggers="manual" 
                                            [ngbPopover]=popEmailContent
                                            container="body"
                                            #popoverEmail="ngbPopover"
                                            (click)="(shouldShowRequiredError('email') || shouldShowSignUpError('email')) && popoverEmail.open()"
                                            (change)="resetMailError()"
                                            [autoClose]="'outside'"
                                            required>
                        <small id="emailHelp" class="form-text text-muted">
                            Nous ne partagerons jamais votre e-mail.
                        </small>
                    </div>

                    <div class="form-group mb-2">
                        <ng-template #popConfirmeEmailContent>
                            <div class="text-danger field-error-class">
                                {{ errorEmailMessage }}
                            </div>
                        </ng-template>
                        <label for="confirmEmail" class="sr-only">
                            Confirmer l'adresse mail
                            <span style="color: rgb(247, 103, 103);">*</span>
                        </label>
                        <input type="email" class="form-control input-sign" 
                                            [ngClass]="{ 'is-invalid': shouldShowRequiredError('confirmEmail') || shouldShowSignUpError('confirmEmail') }"
                                            formControlName="confirmEmail"
                                            id="confirmEmail" 
                                            (change)="checkConfirmEmail()"
                                            aria-describedby="emailHelp" 
                                            placeholder="Confirmer l'email"
                                            type="input"
                                            placement="left"
                                            triggers="manual" 
                                            [ngbPopover]=popConfirmeEmailContent
                                            container="body"
                                            #popoverConfirmEmail="ngbPopover"
                                            (click)="(shouldShowRequiredError('confirmEmail') || shouldShowSignUpError('confirmEmail')) && popoverConfirmEmail.open()"
                                            [autoClose]="'outside'"
                                            required>
                    </div>
            
                    
                    <button type="submit" class="btn-subscribe btn btn-primary btn-lg btn-block mt-3"
                                            [disabled] = "signUpForm.invalid || errorConfirmEmailMessage 
                                                                             || errorEmail
                                                                             || errorGeneral"
                                            (click)="onSignUp()">
                        Accepter & Rejoindre 
                    </button>
                </form>

                <hr class="my-3">

                <p><small>Vous avez déjà un compte ?</small></p>
                <button type="submit" class="btn-login btn btn-lg btn-block"
                                      (click)="goToSignIn()">
                    Se connecter
                </button>
            </div>
        </div>
    </div>
</div>